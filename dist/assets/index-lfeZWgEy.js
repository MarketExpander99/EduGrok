var Dx=Object.defineProperty;var Nx=(r,n,o)=>n in r?Dx(r,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[n]=o;var fg=(r,n,o)=>Nx(r,typeof n!="symbol"?n+"":n,o);function Ux(r,n){for(var o=0;o<n.length;o++){const t=n[o];if(typeof t!="string"&&!Array.isArray(t)){for(const i in t)if(i!=="default"&&!(i in r)){const a=Object.getOwnPropertyDescriptor(t,i);a&&Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:()=>t[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function o(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(i){if(i.ep)return;i.ep=!0;const a=o(i);fetch(i.href,a)}})();var Dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rc(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Fx(r){if(r.__esModule)return r;var n=r.default;if(typeof n=="function"){var o=function t(){return this instanceof t?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};o.prototype=n.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(r).forEach(function(t){var i=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(o,t,i.get?i:{enumerable:!0,get:function(){return r[t]}})}),o}var p0={exports:{}},nc={},m0={exports:{}},wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qa=Symbol.for("react.element"),Bx=Symbol.for("react.portal"),Gx=Symbol.for("react.fragment"),zx=Symbol.for("react.strict_mode"),Vx=Symbol.for("react.profiler"),Wx=Symbol.for("react.provider"),Hx=Symbol.for("react.context"),$x=Symbol.for("react.forward_ref"),qx=Symbol.for("react.suspense"),Xx=Symbol.for("react.memo"),Yx=Symbol.for("react.lazy"),hg=Symbol.iterator;function Kx(r){return r===null||typeof r!="object"?null:(r=hg&&r[hg]||r["@@iterator"],typeof r=="function"?r:null)}var g0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y0=Object.assign,v0={};function bi(r,n,o){this.props=r,this.context=n,this.refs=v0,this.updater=o||g0}bi.prototype.isReactComponent={};bi.prototype.setState=function(r,n){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,n,"setState")};bi.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function b0(){}b0.prototype=bi.prototype;function $h(r,n,o){this.props=r,this.context=n,this.refs=v0,this.updater=o||g0}var qh=$h.prototype=new b0;qh.constructor=$h;y0(qh,bi.prototype);qh.isPureReactComponent=!0;var pg=Array.isArray,w0=Object.prototype.hasOwnProperty,Xh={current:null},_0={key:!0,ref:!0,__self:!0,__source:!0};function x0(r,n,o){var t,i={},a=null,s=null;if(n!=null)for(t in n.ref!==void 0&&(s=n.ref),n.key!==void 0&&(a=""+n.key),n)w0.call(n,t)&&!_0.hasOwnProperty(t)&&(i[t]=n[t]);var u=arguments.length-2;if(u===1)i.children=o;else if(1<u){for(var l=Array(u),f=0;f<u;f++)l[f]=arguments[f+2];i.children=l}if(r&&r.defaultProps)for(t in u=r.defaultProps,u)i[t]===void 0&&(i[t]=u[t]);return{$$typeof:qa,type:r,key:a,ref:s,props:i,_owner:Xh.current}}function Jx(r,n){return{$$typeof:qa,type:r.type,key:n,ref:r.ref,props:r.props,_owner:r._owner}}function Yh(r){return typeof r=="object"&&r!==null&&r.$$typeof===qa}function Zx(r){var n={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(o){return n[o]})}var mg=/\/+/g;function ld(r,n){return typeof r=="object"&&r!==null&&r.key!=null?Zx(""+r.key):n.toString(36)}function nu(r,n,o,t,i){var a=typeof r;(a==="undefined"||a==="boolean")&&(r=null);var s=!1;if(r===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(r.$$typeof){case qa:case Bx:s=!0}}if(s)return s=r,i=i(s),r=t===""?"."+ld(s,0):t,pg(i)?(o="",r!=null&&(o=r.replace(mg,"$&/")+"/"),nu(i,n,o,"",function(f){return f})):i!=null&&(Yh(i)&&(i=Jx(i,o+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(mg,"$&/")+"/")+r)),n.push(i)),1;if(s=0,t=t===""?".":t+":",pg(r))for(var u=0;u<r.length;u++){a=r[u];var l=t+ld(a,u);s+=nu(a,n,o,l,i)}else if(l=Kx(r),typeof l=="function")for(r=l.call(r),u=0;!(a=r.next()).done;)a=a.value,l=t+ld(a,u++),s+=nu(a,n,o,l,i);else if(a==="object")throw n=String(r),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return s}function jl(r,n,o){if(r==null)return r;var t=[],i=0;return nu(r,t,"","",function(a){return n.call(o,a,i++)}),t}function Qx(r){if(r._status===-1){var n=r._result;n=n(),n.then(function(o){(r._status===0||r._status===-1)&&(r._status=1,r._result=o)},function(o){(r._status===0||r._status===-1)&&(r._status=2,r._result=o)}),r._status===-1&&(r._status=0,r._result=n)}if(r._status===1)return r._result.default;throw r._result}var Wr={current:null},ou={transition:null},ej={ReactCurrentDispatcher:Wr,ReactCurrentBatchConfig:ou,ReactCurrentOwner:Xh};function j0(){throw Error("act(...) is not supported in production builds of React.")}wt.Children={map:jl,forEach:function(r,n,o){jl(r,function(){n.apply(this,arguments)},o)},count:function(r){var n=0;return jl(r,function(){n++}),n},toArray:function(r){return jl(r,function(n){return n})||[]},only:function(r){if(!Yh(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};wt.Component=bi;wt.Fragment=Gx;wt.Profiler=Vx;wt.PureComponent=$h;wt.StrictMode=zx;wt.Suspense=qx;wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ej;wt.act=j0;wt.cloneElement=function(r,n,o){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var t=y0({},r.props),i=r.key,a=r.ref,s=r._owner;if(n!=null){if(n.ref!==void 0&&(a=n.ref,s=Xh.current),n.key!==void 0&&(i=""+n.key),r.type&&r.type.defaultProps)var u=r.type.defaultProps;for(l in n)w0.call(n,l)&&!_0.hasOwnProperty(l)&&(t[l]=n[l]===void 0&&u!==void 0?u[l]:n[l])}var l=arguments.length-2;if(l===1)t.children=o;else if(1<l){u=Array(l);for(var f=0;f<l;f++)u[f]=arguments[f+2];t.children=u}return{$$typeof:qa,type:r.type,key:i,ref:a,props:t,_owner:s}};wt.createContext=function(r){return r={$$typeof:Hx,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:Wx,_context:r},r.Consumer=r};wt.createElement=x0;wt.createFactory=function(r){var n=x0.bind(null,r);return n.type=r,n};wt.createRef=function(){return{current:null}};wt.forwardRef=function(r){return{$$typeof:$x,render:r}};wt.isValidElement=Yh;wt.lazy=function(r){return{$$typeof:Yx,_payload:{_status:-1,_result:r},_init:Qx}};wt.memo=function(r,n){return{$$typeof:Xx,type:r,compare:n===void 0?null:n}};wt.startTransition=function(r){var n=ou.transition;ou.transition={};try{r()}finally{ou.transition=n}};wt.unstable_act=j0;wt.useCallback=function(r,n){return Wr.current.useCallback(r,n)};wt.useContext=function(r){return Wr.current.useContext(r)};wt.useDebugValue=function(){};wt.useDeferredValue=function(r){return Wr.current.useDeferredValue(r)};wt.useEffect=function(r,n){return Wr.current.useEffect(r,n)};wt.useId=function(){return Wr.current.useId()};wt.useImperativeHandle=function(r,n,o){return Wr.current.useImperativeHandle(r,n,o)};wt.useInsertionEffect=function(r,n){return Wr.current.useInsertionEffect(r,n)};wt.useLayoutEffect=function(r,n){return Wr.current.useLayoutEffect(r,n)};wt.useMemo=function(r,n){return Wr.current.useMemo(r,n)};wt.useReducer=function(r,n,o){return Wr.current.useReducer(r,n,o)};wt.useRef=function(r){return Wr.current.useRef(r)};wt.useState=function(r){return Wr.current.useState(r)};wt.useSyncExternalStore=function(r,n,o){return Wr.current.useSyncExternalStore(r,n,o)};wt.useTransition=function(){return Wr.current.useTransition()};wt.version="18.3.1";m0.exports=wt;var je=m0.exports;const Me=rc(je),tj=Ux({__proto__:null,default:Me},[je]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rj=je,nj=Symbol.for("react.element"),oj=Symbol.for("react.fragment"),sj=Object.prototype.hasOwnProperty,ij=rj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aj={key:!0,ref:!0,__self:!0,__source:!0};function S0(r,n,o){var t,i={},a=null,s=null;o!==void 0&&(a=""+o),n.key!==void 0&&(a=""+n.key),n.ref!==void 0&&(s=n.ref);for(t in n)sj.call(n,t)&&!aj.hasOwnProperty(t)&&(i[t]=n[t]);if(r&&r.defaultProps)for(t in n=r.defaultProps,n)i[t]===void 0&&(i[t]=n[t]);return{$$typeof:nj,type:r,key:a,ref:s,props:i,_owner:ij.current}}nc.Fragment=oj;nc.jsx=S0;nc.jsxs=S0;p0.exports=nc;var Ve=p0.exports,yf={},E0={exports:{}},cn={},k0={exports:{}},C0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function n(z,V){var X=z.length;z.push(V);e:for(;0<X;){var K=X-1>>>1,re=z[K];if(0<i(re,V))z[K]=V,z[X]=re,X=K;else break e}}function o(z){return z.length===0?null:z[0]}function t(z){if(z.length===0)return null;var V=z[0],X=z.pop();if(X!==V){z[0]=X;e:for(var K=0,re=z.length,T=re>>>1;K<T;){var L=2*(K+1)-1,G=z[L],H=L+1,J=z[H];if(0>i(G,X))H<re&&0>i(J,G)?(z[K]=J,z[H]=X,K=H):(z[K]=G,z[L]=X,K=L);else if(H<re&&0>i(J,X))z[K]=J,z[H]=X,K=H;else break e}}return V}function i(z,V){var X=z.sortIndex-V.sortIndex;return X!==0?X:z.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();r.unstable_now=function(){return s.now()-u}}var l=[],f=[],v=1,m=null,c=3,d=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var V=o(f);V!==null;){if(V.callback===null)t(f);else if(V.startTime<=z)t(f),V.sortIndex=V.expirationTime,n(l,V);else break;V=o(f)}}function _(z){if(y=!1,w(z),!g)if(o(l)!==null)g=!0,B(j);else{var V=o(f);V!==null&&W(_,V.startTime-z)}}function j(z,V){g=!1,y&&(y=!1,p(C),C=-1),d=!0;var X=c;try{for(w(V),m=o(l);m!==null&&(!(m.expirationTime>V)||z&&!P());){var K=m.callback;if(typeof K=="function"){m.callback=null,c=m.priorityLevel;var re=K(m.expirationTime<=V);V=r.unstable_now(),typeof re=="function"?m.callback=re:m===o(l)&&t(l),w(V)}else t(l);m=o(l)}if(m!==null)var T=!0;else{var L=o(f);L!==null&&W(_,L.startTime-V),T=!1}return T}finally{m=null,c=X,d=!1}}var E=!1,S=null,C=-1,M=5,A=-1;function P(){return!(r.unstable_now()-A<M)}function D(){if(S!==null){var z=r.unstable_now();A=z;var V=!0;try{V=S(!0,z)}finally{V?I():(E=!1,S=null)}}else E=!1}var I;if(typeof h=="function")I=function(){h(D)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,N=U.port2;U.port1.onmessage=D,I=function(){N.postMessage(null)}}else I=function(){b(D,0)};function B(z){S=z,E||(E=!0,I())}function W(z,V){C=b(function(){z(r.unstable_now())},V)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(z){z.callback=null},r.unstable_continueExecution=function(){g||d||(g=!0,B(j))},r.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<z?Math.floor(1e3/z):5},r.unstable_getCurrentPriorityLevel=function(){return c},r.unstable_getFirstCallbackNode=function(){return o(l)},r.unstable_next=function(z){switch(c){case 1:case 2:case 3:var V=3;break;default:V=c}var X=c;c=V;try{return z()}finally{c=X}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(z,V){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var X=c;c=z;try{return V()}finally{c=X}},r.unstable_scheduleCallback=function(z,V,X){var K=r.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?K+X:K):X=K,z){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=X+re,z={id:v++,callback:V,priorityLevel:z,startTime:X,expirationTime:re,sortIndex:-1},X>K?(z.sortIndex=X,n(f,z),o(l)===null&&z===o(f)&&(y?(p(C),C=-1):y=!0,W(_,X-K))):(z.sortIndex=re,n(l,z),g||d||(g=!0,B(j))),z},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(z){var V=c;return function(){var X=c;c=V;try{return z.apply(this,arguments)}finally{c=X}}}})(C0);k0.exports=C0;var lj=k0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uj=je,un=lj;function We(r){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+r,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+r+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var T0=new Set,wa={};function _s(r,n){ii(r,n),ii(r+"Capture",n)}function ii(r,n){for(wa[r]=n,r=0;r<n.length;r++)T0.add(n[r])}var lo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vf=Object.prototype.hasOwnProperty,cj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gg={},yg={};function dj(r){return vf.call(yg,r)?!0:vf.call(gg,r)?!1:cj.test(r)?yg[r]=!0:(gg[r]=!0,!1)}function fj(r,n,o,t){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return t?!1:o!==null?!o.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function hj(r,n,o,t){if(n===null||typeof n>"u"||fj(r,n,o,t))return!0;if(t)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Hr(r,n,o,t,i,a,s){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=t,this.attributeNamespace=i,this.mustUseProperty=o,this.propertyName=r,this.type=n,this.sanitizeURL=a,this.removeEmptyString=s}var Tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){Tr[r]=new Hr(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var n=r[0];Tr[n]=new Hr(n,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){Tr[r]=new Hr(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){Tr[r]=new Hr(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){Tr[r]=new Hr(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){Tr[r]=new Hr(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){Tr[r]=new Hr(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){Tr[r]=new Hr(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){Tr[r]=new Hr(r,5,!1,r.toLowerCase(),null,!1,!1)});var Kh=/[\-:]([a-z])/g;function Jh(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var n=r.replace(Kh,Jh);Tr[n]=new Hr(n,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var n=r.replace(Kh,Jh);Tr[n]=new Hr(n,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var n=r.replace(Kh,Jh);Tr[n]=new Hr(n,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){Tr[r]=new Hr(r,1,!1,r.toLowerCase(),null,!1,!1)});Tr.xlinkHref=new Hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){Tr[r]=new Hr(r,1,!1,r.toLowerCase(),null,!0,!0)});function Zh(r,n,o,t){var i=Tr.hasOwnProperty(n)?Tr[n]:null;(i!==null?i.type!==0:t||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(hj(n,o,i,t)&&(o=null),t||i===null?dj(n)&&(o===null?r.removeAttribute(n):r.setAttribute(n,""+o)):i.mustUseProperty?r[i.propertyName]=o===null?i.type===3?!1:"":o:(n=i.attributeName,t=i.attributeNamespace,o===null?r.removeAttribute(n):(i=i.type,o=i===3||i===4&&o===!0?"":""+o,t?r.setAttributeNS(t,n,o):r.setAttribute(n,o))))}var po=uj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sl=Symbol.for("react.element"),zs=Symbol.for("react.portal"),Vs=Symbol.for("react.fragment"),Qh=Symbol.for("react.strict_mode"),bf=Symbol.for("react.profiler"),P0=Symbol.for("react.provider"),O0=Symbol.for("react.context"),ep=Symbol.for("react.forward_ref"),wf=Symbol.for("react.suspense"),_f=Symbol.for("react.suspense_list"),tp=Symbol.for("react.memo"),xo=Symbol.for("react.lazy"),M0=Symbol.for("react.offscreen"),vg=Symbol.iterator;function Fi(r){return r===null||typeof r!="object"?null:(r=vg&&r[vg]||r["@@iterator"],typeof r=="function"?r:null)}var Yt=Object.assign,ud;function Ji(r){if(ud===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);ud=n&&n[1]||""}return`
`+ud+r}var cd=!1;function dd(r,n){if(!r||cd)return"";cd=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(f){var t=f}Reflect.construct(r,[],n)}else{try{n.call()}catch(f){t=f}r.call(n.prototype)}else{try{throw Error()}catch(f){t=f}r()}}catch(f){if(f&&t&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),a=t.stack.split(`
`),s=i.length-1,u=a.length-1;1<=s&&0<=u&&i[s]!==a[u];)u--;for(;1<=s&&0<=u;s--,u--)if(i[s]!==a[u]){if(s!==1||u!==1)do if(s--,u--,0>u||i[s]!==a[u]){var l=`
`+i[s].replace(" at new "," at ");return r.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",r.displayName)),l}while(1<=s&&0<=u);break}}}finally{cd=!1,Error.prepareStackTrace=o}return(r=r?r.displayName||r.name:"")?Ji(r):""}function pj(r){switch(r.tag){case 5:return Ji(r.type);case 16:return Ji("Lazy");case 13:return Ji("Suspense");case 19:return Ji("SuspenseList");case 0:case 2:case 15:return r=dd(r.type,!1),r;case 11:return r=dd(r.type.render,!1),r;case 1:return r=dd(r.type,!0),r;default:return""}}function xf(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Vs:return"Fragment";case zs:return"Portal";case bf:return"Profiler";case Qh:return"StrictMode";case wf:return"Suspense";case _f:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case O0:return(r.displayName||"Context")+".Consumer";case P0:return(r._context.displayName||"Context")+".Provider";case ep:var n=r.render;return r=r.displayName,r||(r=n.displayName||n.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case tp:return n=r.displayName||null,n!==null?n:xf(r.type)||"Memo";case xo:n=r._payload,r=r._init;try{return xf(r(n))}catch{}}return null}function mj(r){var n=r.type;switch(r.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=n.render,r=r.displayName||r.name||"",n.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xf(n);case 8:return n===Qh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Ho(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function I0(r){var n=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function gj(r){var n=I0(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,n),t=""+r[n];if(!r.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var i=o.get,a=o.set;return Object.defineProperty(r,n,{configurable:!0,get:function(){return i.call(this)},set:function(s){t=""+s,a.call(this,s)}}),Object.defineProperty(r,n,{enumerable:o.enumerable}),{getValue:function(){return t},setValue:function(s){t=""+s},stopTracking:function(){r._valueTracker=null,delete r[n]}}}}function El(r){r._valueTracker||(r._valueTracker=gj(r))}function A0(r){if(!r)return!1;var n=r._valueTracker;if(!n)return!0;var o=n.getValue(),t="";return r&&(t=I0(r)?r.checked?"true":"false":r.value),r=t,r!==o?(n.setValue(r),!0):!1}function vu(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function jf(r,n){var o=n.checked;return Yt({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??r._wrapperState.initialChecked})}function bg(r,n){var o=n.defaultValue==null?"":n.defaultValue,t=n.checked!=null?n.checked:n.defaultChecked;o=Ho(n.value!=null?n.value:o),r._wrapperState={initialChecked:t,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function R0(r,n){n=n.checked,n!=null&&Zh(r,"checked",n,!1)}function Sf(r,n){R0(r,n);var o=Ho(n.value),t=n.type;if(o!=null)t==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+o):r.value!==""+o&&(r.value=""+o);else if(t==="submit"||t==="reset"){r.removeAttribute("value");return}n.hasOwnProperty("value")?Ef(r,n.type,o):n.hasOwnProperty("defaultValue")&&Ef(r,n.type,Ho(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(r.defaultChecked=!!n.defaultChecked)}function wg(r,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var t=n.type;if(!(t!=="submit"&&t!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+r._wrapperState.initialValue,o||n===r.value||(r.value=n),r.defaultValue=n}o=r.name,o!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,o!==""&&(r.name=o)}function Ef(r,n,o){(n!=="number"||vu(r.ownerDocument)!==r)&&(o==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+o&&(r.defaultValue=""+o))}var Zi=Array.isArray;function ei(r,n,o,t){if(r=r.options,n){n={};for(var i=0;i<o.length;i++)n["$"+o[i]]=!0;for(o=0;o<r.length;o++)i=n.hasOwnProperty("$"+r[o].value),r[o].selected!==i&&(r[o].selected=i),i&&t&&(r[o].defaultSelected=!0)}else{for(o=""+Ho(o),n=null,i=0;i<r.length;i++){if(r[i].value===o){r[i].selected=!0,t&&(r[i].defaultSelected=!0);return}n!==null||r[i].disabled||(n=r[i])}n!==null&&(n.selected=!0)}}function kf(r,n){if(n.dangerouslySetInnerHTML!=null)throw Error(We(91));return Yt({},n,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function _g(r,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(We(92));if(Zi(o)){if(1<o.length)throw Error(We(93));o=o[0]}n=o}n==null&&(n=""),o=n}r._wrapperState={initialValue:Ho(o)}}function L0(r,n){var o=Ho(n.value),t=Ho(n.defaultValue);o!=null&&(o=""+o,o!==r.value&&(r.value=o),n.defaultValue==null&&r.defaultValue!==o&&(r.defaultValue=o)),t!=null&&(r.defaultValue=""+t)}function xg(r){var n=r.textContent;n===r._wrapperState.initialValue&&n!==""&&n!==null&&(r.value=n)}function D0(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cf(r,n){return r==null||r==="http://www.w3.org/1999/xhtml"?D0(n):r==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var kl,N0=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,t,i){MSApp.execUnsafeLocalFunction(function(){return r(n,o,t,i)})}:r}(function(r,n){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=n;else{for(kl=kl||document.createElement("div"),kl.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=kl.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;n.firstChild;)r.appendChild(n.firstChild)}});function _a(r,n){if(n){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=n;return}}r.textContent=n}var na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yj=["Webkit","ms","Moz","O"];Object.keys(na).forEach(function(r){yj.forEach(function(n){n=n+r.charAt(0).toUpperCase()+r.substring(1),na[n]=na[r]})});function U0(r,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||na.hasOwnProperty(r)&&na[r]?(""+n).trim():n+"px"}function F0(r,n){r=r.style;for(var o in n)if(n.hasOwnProperty(o)){var t=o.indexOf("--")===0,i=U0(o,n[o],t);o==="float"&&(o="cssFloat"),t?r.setProperty(o,i):r[o]=i}}var vj=Yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tf(r,n){if(n){if(vj[r]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(We(137,r));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(We(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(We(61))}if(n.style!=null&&typeof n.style!="object")throw Error(We(62))}}function Pf(r,n){if(r.indexOf("-")===-1)return typeof n.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Of=null;function rp(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Mf=null,ti=null,ri=null;function jg(r){if(r=Ka(r)){if(typeof Mf!="function")throw Error(We(280));var n=r.stateNode;n&&(n=lc(n),Mf(r.stateNode,r.type,n))}}function B0(r){ti?ri?ri.push(r):ri=[r]:ti=r}function G0(){if(ti){var r=ti,n=ri;if(ri=ti=null,jg(r),n)for(r=0;r<n.length;r++)jg(n[r])}}function z0(r,n){return r(n)}function V0(){}var fd=!1;function W0(r,n,o){if(fd)return r(n,o);fd=!0;try{return z0(r,n,o)}finally{fd=!1,(ti!==null||ri!==null)&&(V0(),G0())}}function xa(r,n){var o=r.stateNode;if(o===null)return null;var t=lc(o);if(t===null)return null;o=t[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(t=!t.disabled)||(r=r.type,t=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!t;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(We(231,n,typeof o));return o}var If=!1;if(lo)try{var Bi={};Object.defineProperty(Bi,"passive",{get:function(){If=!0}}),window.addEventListener("test",Bi,Bi),window.removeEventListener("test",Bi,Bi)}catch{If=!1}function bj(r,n,o,t,i,a,s,u,l){var f=Array.prototype.slice.call(arguments,3);try{n.apply(o,f)}catch(v){this.onError(v)}}var oa=!1,bu=null,wu=!1,Af=null,wj={onError:function(r){oa=!0,bu=r}};function _j(r,n,o,t,i,a,s,u,l){oa=!1,bu=null,bj.apply(wj,arguments)}function xj(r,n,o,t,i,a,s,u,l){if(_j.apply(this,arguments),oa){if(oa){var f=bu;oa=!1,bu=null}else throw Error(We(198));wu||(wu=!0,Af=f)}}function xs(r){var n=r,o=r;if(r.alternate)for(;n.return;)n=n.return;else{r=n;do n=r,n.flags&4098&&(o=n.return),r=n.return;while(r)}return n.tag===3?o:null}function H0(r){if(r.tag===13){var n=r.memoizedState;if(n===null&&(r=r.alternate,r!==null&&(n=r.memoizedState)),n!==null)return n.dehydrated}return null}function Sg(r){if(xs(r)!==r)throw Error(We(188))}function jj(r){var n=r.alternate;if(!n){if(n=xs(r),n===null)throw Error(We(188));return n!==r?null:r}for(var o=r,t=n;;){var i=o.return;if(i===null)break;var a=i.alternate;if(a===null){if(t=i.return,t!==null){o=t;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===o)return Sg(i),r;if(a===t)return Sg(i),n;a=a.sibling}throw Error(We(188))}if(o.return!==t.return)o=i,t=a;else{for(var s=!1,u=i.child;u;){if(u===o){s=!0,o=i,t=a;break}if(u===t){s=!0,t=i,o=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===o){s=!0,o=a,t=i;break}if(u===t){s=!0,t=a,o=i;break}u=u.sibling}if(!s)throw Error(We(189))}}if(o.alternate!==t)throw Error(We(190))}if(o.tag!==3)throw Error(We(188));return o.stateNode.current===o?r:n}function $0(r){return r=jj(r),r!==null?q0(r):null}function q0(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var n=q0(r);if(n!==null)return n;r=r.sibling}return null}var X0=un.unstable_scheduleCallback,Eg=un.unstable_cancelCallback,Sj=un.unstable_shouldYield,Ej=un.unstable_requestPaint,er=un.unstable_now,kj=un.unstable_getCurrentPriorityLevel,np=un.unstable_ImmediatePriority,Y0=un.unstable_UserBlockingPriority,_u=un.unstable_NormalPriority,Cj=un.unstable_LowPriority,K0=un.unstable_IdlePriority,oc=null,qn=null;function Tj(r){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(oc,r,void 0,(r.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:Mj,Pj=Math.log,Oj=Math.LN2;function Mj(r){return r>>>=0,r===0?32:31-(Pj(r)/Oj|0)|0}var Cl=64,Tl=4194304;function Qi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function xu(r,n){var o=r.pendingLanes;if(o===0)return 0;var t=0,i=r.suspendedLanes,a=r.pingedLanes,s=o&268435455;if(s!==0){var u=s&~i;u!==0?t=Qi(u):(a&=s,a!==0&&(t=Qi(a)))}else s=o&~i,s!==0?t=Qi(s):a!==0&&(t=Qi(a));if(t===0)return 0;if(n!==0&&n!==t&&!(n&i)&&(i=t&-t,a=n&-n,i>=a||i===16&&(a&4194240)!==0))return n;if(t&4&&(t|=o&16),n=r.entangledLanes,n!==0)for(r=r.entanglements,n&=t;0<n;)o=31-Ln(n),i=1<<o,t|=r[o],n&=~i;return t}function Ij(r,n){switch(r){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Aj(r,n){for(var o=r.suspendedLanes,t=r.pingedLanes,i=r.expirationTimes,a=r.pendingLanes;0<a;){var s=31-Ln(a),u=1<<s,l=i[s];l===-1?(!(u&o)||u&t)&&(i[s]=Ij(u,n)):l<=n&&(r.expiredLanes|=u),a&=~u}}function Rf(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function J0(){var r=Cl;return Cl<<=1,!(Cl&4194240)&&(Cl=64),r}function hd(r){for(var n=[],o=0;31>o;o++)n.push(r);return n}function Xa(r,n,o){r.pendingLanes|=n,n!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,n=31-Ln(n),r[n]=o}function Rj(r,n){var o=r.pendingLanes&~n;r.pendingLanes=n,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=n,r.mutableReadLanes&=n,r.entangledLanes&=n,n=r.entanglements;var t=r.eventTimes;for(r=r.expirationTimes;0<o;){var i=31-Ln(o),a=1<<i;n[i]=0,t[i]=-1,r[i]=-1,o&=~a}}function op(r,n){var o=r.entangledLanes|=n;for(r=r.entanglements;o;){var t=31-Ln(o),i=1<<t;i&n|r[t]&n&&(r[t]|=n),o&=~i}}var Tt=0;function Z0(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Q0,sp,eb,tb,rb,Lf=!1,Pl=[],Ao=null,Ro=null,Lo=null,ja=new Map,Sa=new Map,ko=[],Lj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kg(r,n){switch(r){case"focusin":case"focusout":Ao=null;break;case"dragenter":case"dragleave":Ro=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":ja.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sa.delete(n.pointerId)}}function Gi(r,n,o,t,i,a){return r===null||r.nativeEvent!==a?(r={blockedOn:n,domEventName:o,eventSystemFlags:t,nativeEvent:a,targetContainers:[i]},n!==null&&(n=Ka(n),n!==null&&sp(n)),r):(r.eventSystemFlags|=t,n=r.targetContainers,i!==null&&n.indexOf(i)===-1&&n.push(i),r)}function Dj(r,n,o,t,i){switch(n){case"focusin":return Ao=Gi(Ao,r,n,o,t,i),!0;case"dragenter":return Ro=Gi(Ro,r,n,o,t,i),!0;case"mouseover":return Lo=Gi(Lo,r,n,o,t,i),!0;case"pointerover":var a=i.pointerId;return ja.set(a,Gi(ja.get(a)||null,r,n,o,t,i)),!0;case"gotpointercapture":return a=i.pointerId,Sa.set(a,Gi(Sa.get(a)||null,r,n,o,t,i)),!0}return!1}function nb(r){var n=cs(r.target);if(n!==null){var o=xs(n);if(o!==null){if(n=o.tag,n===13){if(n=H0(o),n!==null){r.blockedOn=n,rb(r.priority,function(){eb(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function su(r){if(r.blockedOn!==null)return!1;for(var n=r.targetContainers;0<n.length;){var o=Df(r.domEventName,r.eventSystemFlags,n[0],r.nativeEvent);if(o===null){o=r.nativeEvent;var t=new o.constructor(o.type,o);Of=t,o.target.dispatchEvent(t),Of=null}else return n=Ka(o),n!==null&&sp(n),r.blockedOn=o,!1;n.shift()}return!0}function Cg(r,n,o){su(r)&&o.delete(n)}function Nj(){Lf=!1,Ao!==null&&su(Ao)&&(Ao=null),Ro!==null&&su(Ro)&&(Ro=null),Lo!==null&&su(Lo)&&(Lo=null),ja.forEach(Cg),Sa.forEach(Cg)}function zi(r,n){r.blockedOn===n&&(r.blockedOn=null,Lf||(Lf=!0,un.unstable_scheduleCallback(un.unstable_NormalPriority,Nj)))}function Ea(r){function n(i){return zi(i,r)}if(0<Pl.length){zi(Pl[0],r);for(var o=1;o<Pl.length;o++){var t=Pl[o];t.blockedOn===r&&(t.blockedOn=null)}}for(Ao!==null&&zi(Ao,r),Ro!==null&&zi(Ro,r),Lo!==null&&zi(Lo,r),ja.forEach(n),Sa.forEach(n),o=0;o<ko.length;o++)t=ko[o],t.blockedOn===r&&(t.blockedOn=null);for(;0<ko.length&&(o=ko[0],o.blockedOn===null);)nb(o),o.blockedOn===null&&ko.shift()}var ni=po.ReactCurrentBatchConfig,ju=!0;function Uj(r,n,o,t){var i=Tt,a=ni.transition;ni.transition=null;try{Tt=1,ip(r,n,o,t)}finally{Tt=i,ni.transition=a}}function Fj(r,n,o,t){var i=Tt,a=ni.transition;ni.transition=null;try{Tt=4,ip(r,n,o,t)}finally{Tt=i,ni.transition=a}}function ip(r,n,o,t){if(ju){var i=Df(r,n,o,t);if(i===null)jd(r,n,t,Su,o),kg(r,t);else if(Dj(i,r,n,o,t))t.stopPropagation();else if(kg(r,t),n&4&&-1<Lj.indexOf(r)){for(;i!==null;){var a=Ka(i);if(a!==null&&Q0(a),a=Df(r,n,o,t),a===null&&jd(r,n,t,Su,o),a===i)break;i=a}i!==null&&t.stopPropagation()}else jd(r,n,t,null,o)}}var Su=null;function Df(r,n,o,t){if(Su=null,r=rp(t),r=cs(r),r!==null)if(n=xs(r),n===null)r=null;else if(o=n.tag,o===13){if(r=H0(n),r!==null)return r;r=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;r=null}else n!==r&&(r=null);return Su=r,null}function ob(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kj()){case np:return 1;case Y0:return 4;case _u:case Cj:return 16;case K0:return 536870912;default:return 16}default:return 16}}var Po=null,ap=null,iu=null;function sb(){if(iu)return iu;var r,n=ap,o=n.length,t,i="value"in Po?Po.value:Po.textContent,a=i.length;for(r=0;r<o&&n[r]===i[r];r++);var s=o-r;for(t=1;t<=s&&n[o-t]===i[a-t];t++);return iu=i.slice(r,1<t?1-t:void 0)}function au(r){var n=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&n===13&&(r=13)):r=n,r===10&&(r=13),32<=r||r===13?r:0}function Ol(){return!0}function Tg(){return!1}function dn(r){function n(o,t,i,a,s){this._reactName=o,this._targetInst=i,this.type=t,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var u in r)r.hasOwnProperty(u)&&(o=r[u],this[u]=o?o(a):a[u]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ol:Tg,this.isPropagationStopped=Tg,this}return Yt(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ol)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ol)},persist:function(){},isPersistent:Ol}),n}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lp=dn(wi),Ya=Yt({},wi,{view:0,detail:0}),Bj=dn(Ya),pd,md,Vi,sc=Yt({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:up,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Vi&&(Vi&&r.type==="mousemove"?(pd=r.screenX-Vi.screenX,md=r.screenY-Vi.screenY):md=pd=0,Vi=r),pd)},movementY:function(r){return"movementY"in r?r.movementY:md}}),Pg=dn(sc),Gj=Yt({},sc,{dataTransfer:0}),zj=dn(Gj),Vj=Yt({},Ya,{relatedTarget:0}),gd=dn(Vj),Wj=Yt({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Hj=dn(Wj),$j=Yt({},wi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),qj=dn($j),Xj=Yt({},wi,{data:0}),Og=dn(Xj),Yj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zj(r){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(r):(r=Jj[r])?!!n[r]:!1}function up(){return Zj}var Qj=Yt({},Ya,{key:function(r){if(r.key){var n=Yj[r.key]||r.key;if(n!=="Unidentified")return n}return r.type==="keypress"?(r=au(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Kj[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:up,charCode:function(r){return r.type==="keypress"?au(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?au(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),eS=dn(Qj),tS=Yt({},sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mg=dn(tS),rS=Yt({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:up}),nS=dn(rS),oS=Yt({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),sS=dn(oS),iS=Yt({},sc,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),aS=dn(iS),lS=[9,13,27,32],cp=lo&&"CompositionEvent"in window,sa=null;lo&&"documentMode"in document&&(sa=document.documentMode);var uS=lo&&"TextEvent"in window&&!sa,ib=lo&&(!cp||sa&&8<sa&&11>=sa),Ig=" ",Ag=!1;function ab(r,n){switch(r){case"keyup":return lS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lb(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ws=!1;function cS(r,n){switch(r){case"compositionend":return lb(n);case"keypress":return n.which!==32?null:(Ag=!0,Ig);case"textInput":return r=n.data,r===Ig&&Ag?null:r;default:return null}}function dS(r,n){if(Ws)return r==="compositionend"||!cp&&ab(r,n)?(r=sb(),iu=ap=Po=null,Ws=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ib&&n.locale!=="ko"?null:n.data;default:return null}}var fS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rg(r){var n=r&&r.nodeName&&r.nodeName.toLowerCase();return n==="input"?!!fS[r.type]:n==="textarea"}function ub(r,n,o,t){B0(t),n=Eu(n,"onChange"),0<n.length&&(o=new lp("onChange","change",null,o,t),r.push({event:o,listeners:n}))}var ia=null,ka=null;function hS(r){wb(r,0)}function ic(r){var n=qs(r);if(A0(n))return r}function pS(r,n){if(r==="change")return n}var cb=!1;if(lo){var yd;if(lo){var vd="oninput"in document;if(!vd){var Lg=document.createElement("div");Lg.setAttribute("oninput","return;"),vd=typeof Lg.oninput=="function"}yd=vd}else yd=!1;cb=yd&&(!document.documentMode||9<document.documentMode)}function Dg(){ia&&(ia.detachEvent("onpropertychange",db),ka=ia=null)}function db(r){if(r.propertyName==="value"&&ic(ka)){var n=[];ub(n,ka,r,rp(r)),W0(hS,n)}}function mS(r,n,o){r==="focusin"?(Dg(),ia=n,ka=o,ia.attachEvent("onpropertychange",db)):r==="focusout"&&Dg()}function gS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ic(ka)}function yS(r,n){if(r==="click")return ic(n)}function vS(r,n){if(r==="input"||r==="change")return ic(n)}function bS(r,n){return r===n&&(r!==0||1/r===1/n)||r!==r&&n!==n}var Nn=typeof Object.is=="function"?Object.is:bS;function Ca(r,n){if(Nn(r,n))return!0;if(typeof r!="object"||r===null||typeof n!="object"||n===null)return!1;var o=Object.keys(r),t=Object.keys(n);if(o.length!==t.length)return!1;for(t=0;t<o.length;t++){var i=o[t];if(!vf.call(n,i)||!Nn(r[i],n[i]))return!1}return!0}function Ng(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ug(r,n){var o=Ng(r);r=0;for(var t;o;){if(o.nodeType===3){if(t=r+o.textContent.length,r<=n&&t>=n)return{node:o,offset:n-r};r=t}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ng(o)}}function fb(r,n){return r&&n?r===n?!0:r&&r.nodeType===3?!1:n&&n.nodeType===3?fb(r,n.parentNode):"contains"in r?r.contains(n):r.compareDocumentPosition?!!(r.compareDocumentPosition(n)&16):!1:!1}function hb(){for(var r=window,n=vu();n instanceof r.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)r=n.contentWindow;else break;n=vu(r.document)}return n}function dp(r){var n=r&&r.nodeName&&r.nodeName.toLowerCase();return n&&(n==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||n==="textarea"||r.contentEditable==="true")}function wS(r){var n=hb(),o=r.focusedElem,t=r.selectionRange;if(n!==o&&o&&o.ownerDocument&&fb(o.ownerDocument.documentElement,o)){if(t!==null&&dp(o)){if(n=t.start,r=t.end,r===void 0&&(r=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(r,o.value.length);else if(r=(n=o.ownerDocument||document)&&n.defaultView||window,r.getSelection){r=r.getSelection();var i=o.textContent.length,a=Math.min(t.start,i);t=t.end===void 0?a:Math.min(t.end,i),!r.extend&&a>t&&(i=t,t=a,a=i),i=Ug(o,a);var s=Ug(o,t);i&&s&&(r.rangeCount!==1||r.anchorNode!==i.node||r.anchorOffset!==i.offset||r.focusNode!==s.node||r.focusOffset!==s.offset)&&(n=n.createRange(),n.setStart(i.node,i.offset),r.removeAllRanges(),a>t?(r.addRange(n),r.extend(s.node,s.offset)):(n.setEnd(s.node,s.offset),r.addRange(n)))}}for(n=[],r=o;r=r.parentNode;)r.nodeType===1&&n.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)r=n[o],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var _S=lo&&"documentMode"in document&&11>=document.documentMode,Hs=null,Nf=null,aa=null,Uf=!1;function Fg(r,n,o){var t=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Uf||Hs==null||Hs!==vu(t)||(t=Hs,"selectionStart"in t&&dp(t)?t={start:t.selectionStart,end:t.selectionEnd}:(t=(t.ownerDocument&&t.ownerDocument.defaultView||window).getSelection(),t={anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}),aa&&Ca(aa,t)||(aa=t,t=Eu(Nf,"onSelect"),0<t.length&&(n=new lp("onSelect","select",null,n,o),r.push({event:n,listeners:t}),n.target=Hs)))}function Ml(r,n){var o={};return o[r.toLowerCase()]=n.toLowerCase(),o["Webkit"+r]="webkit"+n,o["Moz"+r]="moz"+n,o}var $s={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionend:Ml("Transition","TransitionEnd")},bd={},pb={};lo&&(pb=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function ac(r){if(bd[r])return bd[r];if(!$s[r])return r;var n=$s[r],o;for(o in n)if(n.hasOwnProperty(o)&&o in pb)return bd[r]=n[o];return r}var mb=ac("animationend"),gb=ac("animationiteration"),yb=ac("animationstart"),vb=ac("transitionend"),bb=new Map,Bg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xo(r,n){bb.set(r,n),_s(n,[r])}for(var wd=0;wd<Bg.length;wd++){var _d=Bg[wd],xS=_d.toLowerCase(),jS=_d[0].toUpperCase()+_d.slice(1);Xo(xS,"on"+jS)}Xo(mb,"onAnimationEnd");Xo(gb,"onAnimationIteration");Xo(yb,"onAnimationStart");Xo("dblclick","onDoubleClick");Xo("focusin","onFocus");Xo("focusout","onBlur");Xo(vb,"onTransitionEnd");ii("onMouseEnter",["mouseout","mouseover"]);ii("onMouseLeave",["mouseout","mouseover"]);ii("onPointerEnter",["pointerout","pointerover"]);ii("onPointerLeave",["pointerout","pointerover"]);_s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_s("onBeforeInput",["compositionend","keypress","textInput","paste"]);_s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ea));function Gg(r,n,o){var t=r.type||"unknown-event";r.currentTarget=o,xj(t,n,void 0,r),r.currentTarget=null}function wb(r,n){n=(n&4)!==0;for(var o=0;o<r.length;o++){var t=r[o],i=t.event;t=t.listeners;e:{var a=void 0;if(n)for(var s=t.length-1;0<=s;s--){var u=t[s],l=u.instance,f=u.currentTarget;if(u=u.listener,l!==a&&i.isPropagationStopped())break e;Gg(i,u,f),a=l}else for(s=0;s<t.length;s++){if(u=t[s],l=u.instance,f=u.currentTarget,u=u.listener,l!==a&&i.isPropagationStopped())break e;Gg(i,u,f),a=l}}}if(wu)throw r=Af,wu=!1,Af=null,r}function Gt(r,n){var o=n[Vf];o===void 0&&(o=n[Vf]=new Set);var t=r+"__bubble";o.has(t)||(_b(n,r,2,!1),o.add(t))}function xd(r,n,o){var t=0;n&&(t|=4),_b(o,r,t,n)}var Il="_reactListening"+Math.random().toString(36).slice(2);function Ta(r){if(!r[Il]){r[Il]=!0,T0.forEach(function(o){o!=="selectionchange"&&(SS.has(o)||xd(o,!1,r),xd(o,!0,r))});var n=r.nodeType===9?r:r.ownerDocument;n===null||n[Il]||(n[Il]=!0,xd("selectionchange",!1,n))}}function _b(r,n,o,t){switch(ob(n)){case 1:var i=Uj;break;case 4:i=Fj;break;default:i=ip}o=i.bind(null,n,o,r),i=void 0,!If||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(i=!0),t?i!==void 0?r.addEventListener(n,o,{capture:!0,passive:i}):r.addEventListener(n,o,!0):i!==void 0?r.addEventListener(n,o,{passive:i}):r.addEventListener(n,o,!1)}function jd(r,n,o,t,i){var a=t;if(!(n&1)&&!(n&2)&&t!==null)e:for(;;){if(t===null)return;var s=t.tag;if(s===3||s===4){var u=t.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(s===4)for(s=t.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;u!==null;){if(s=cs(u),s===null)return;if(l=s.tag,l===5||l===6){t=a=s;continue e}u=u.parentNode}}t=t.return}W0(function(){var f=a,v=rp(o),m=[];e:{var c=bb.get(r);if(c!==void 0){var d=lp,g=r;switch(r){case"keypress":if(au(o)===0)break e;case"keydown":case"keyup":d=eS;break;case"focusin":g="focus",d=gd;break;case"focusout":g="blur",d=gd;break;case"beforeblur":case"afterblur":d=gd;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Pg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=zj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=nS;break;case mb:case gb:case yb:d=Hj;break;case vb:d=sS;break;case"scroll":d=Bj;break;case"wheel":d=aS;break;case"copy":case"cut":case"paste":d=qj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Mg}var y=(n&4)!==0,b=!y&&r==="scroll",p=y?c!==null?c+"Capture":null:c;y=[];for(var h=f,w;h!==null;){w=h;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,p!==null&&(_=xa(h,p),_!=null&&y.push(Pa(h,_,w)))),b)break;h=h.return}0<y.length&&(c=new d(c,g,null,o,v),m.push({event:c,listeners:y}))}}if(!(n&7)){e:{if(c=r==="mouseover"||r==="pointerover",d=r==="mouseout"||r==="pointerout",c&&o!==Of&&(g=o.relatedTarget||o.fromElement)&&(cs(g)||g[uo]))break e;if((d||c)&&(c=v.window===v?v:(c=v.ownerDocument)?c.defaultView||c.parentWindow:window,d?(g=o.relatedTarget||o.toElement,d=f,g=g?cs(g):null,g!==null&&(b=xs(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(d=null,g=f),d!==g)){if(y=Pg,_="onMouseLeave",p="onMouseEnter",h="mouse",(r==="pointerout"||r==="pointerover")&&(y=Mg,_="onPointerLeave",p="onPointerEnter",h="pointer"),b=d==null?c:qs(d),w=g==null?c:qs(g),c=new y(_,h+"leave",d,o,v),c.target=b,c.relatedTarget=w,_=null,cs(v)===f&&(y=new y(p,h+"enter",g,o,v),y.target=w,y.relatedTarget=b,_=y),b=_,d&&g)t:{for(y=d,p=g,h=0,w=y;w;w=Ts(w))h++;for(w=0,_=p;_;_=Ts(_))w++;for(;0<h-w;)y=Ts(y),h--;for(;0<w-h;)p=Ts(p),w--;for(;h--;){if(y===p||p!==null&&y===p.alternate)break t;y=Ts(y),p=Ts(p)}y=null}else y=null;d!==null&&zg(m,c,d,y,!1),g!==null&&b!==null&&zg(m,b,g,y,!0)}}e:{if(c=f?qs(f):window,d=c.nodeName&&c.nodeName.toLowerCase(),d==="select"||d==="input"&&c.type==="file")var j=pS;else if(Rg(c))if(cb)j=vS;else{j=gS;var E=mS}else(d=c.nodeName)&&d.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(j=yS);if(j&&(j=j(r,f))){ub(m,j,o,v);break e}E&&E(r,c,f),r==="focusout"&&(E=c._wrapperState)&&E.controlled&&c.type==="number"&&Ef(c,"number",c.value)}switch(E=f?qs(f):window,r){case"focusin":(Rg(E)||E.contentEditable==="true")&&(Hs=E,Nf=f,aa=null);break;case"focusout":aa=Nf=Hs=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,Fg(m,o,v);break;case"selectionchange":if(_S)break;case"keydown":case"keyup":Fg(m,o,v)}var S;if(cp)e:{switch(r){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ws?ab(r,o)&&(C="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(C="onCompositionStart");C&&(ib&&o.locale!=="ko"&&(Ws||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ws&&(S=sb()):(Po=v,ap="value"in Po?Po.value:Po.textContent,Ws=!0)),E=Eu(f,C),0<E.length&&(C=new Og(C,r,null,o,v),m.push({event:C,listeners:E}),S?C.data=S:(S=lb(o),S!==null&&(C.data=S)))),(S=uS?cS(r,o):dS(r,o))&&(f=Eu(f,"onBeforeInput"),0<f.length&&(v=new Og("onBeforeInput","beforeinput",null,o,v),m.push({event:v,listeners:f}),v.data=S))}wb(m,n)})}function Pa(r,n,o){return{instance:r,listener:n,currentTarget:o}}function Eu(r,n){for(var o=n+"Capture",t=[];r!==null;){var i=r,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=xa(r,o),a!=null&&t.unshift(Pa(r,a,i)),a=xa(r,n),a!=null&&t.push(Pa(r,a,i))),r=r.return}return t}function Ts(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function zg(r,n,o,t,i){for(var a=n._reactName,s=[];o!==null&&o!==t;){var u=o,l=u.alternate,f=u.stateNode;if(l!==null&&l===t)break;u.tag===5&&f!==null&&(u=f,i?(l=xa(o,a),l!=null&&s.unshift(Pa(o,l,u))):i||(l=xa(o,a),l!=null&&s.push(Pa(o,l,u)))),o=o.return}s.length!==0&&r.push({event:n,listeners:s})}var ES=/\r\n?/g,kS=/\u0000|\uFFFD/g;function Vg(r){return(typeof r=="string"?r:""+r).replace(ES,`
`).replace(kS,"")}function Al(r,n,o){if(n=Vg(n),Vg(r)!==n&&o)throw Error(We(425))}function ku(){}var Ff=null,Bf=null;function Gf(r,n){return r==="textarea"||r==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var zf=typeof setTimeout=="function"?setTimeout:void 0,CS=typeof clearTimeout=="function"?clearTimeout:void 0,Wg=typeof Promise=="function"?Promise:void 0,TS=typeof queueMicrotask=="function"?queueMicrotask:typeof Wg<"u"?function(r){return Wg.resolve(null).then(r).catch(PS)}:zf;function PS(r){setTimeout(function(){throw r})}function Sd(r,n){var o=n,t=0;do{var i=o.nextSibling;if(r.removeChild(o),i&&i.nodeType===8)if(o=i.data,o==="/$"){if(t===0){r.removeChild(i),Ea(n);return}t--}else o!=="$"&&o!=="$?"&&o!=="$!"||t++;o=i}while(o);Ea(n)}function Do(r){for(;r!=null;r=r.nextSibling){var n=r.nodeType;if(n===1||n===3)break;if(n===8){if(n=r.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return r}function Hg(r){r=r.previousSibling;for(var n=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return r;n--}else o==="/$"&&n++}r=r.previousSibling}return null}var _i=Math.random().toString(36).slice(2),$n="__reactFiber$"+_i,Oa="__reactProps$"+_i,uo="__reactContainer$"+_i,Vf="__reactEvents$"+_i,OS="__reactListeners$"+_i,MS="__reactHandles$"+_i;function cs(r){var n=r[$n];if(n)return n;for(var o=r.parentNode;o;){if(n=o[uo]||o[$n]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(r=Hg(r);r!==null;){if(o=r[$n])return o;r=Hg(r)}return n}r=o,o=r.parentNode}return null}function Ka(r){return r=r[$n]||r[uo],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function qs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(We(33))}function lc(r){return r[Oa]||null}var Wf=[],Xs=-1;function Yo(r){return{current:r}}function zt(r){0>Xs||(r.current=Wf[Xs],Wf[Xs]=null,Xs--)}function Nt(r,n){Xs++,Wf[Xs]=r.current,r.current=n}var $o={},Nr=Yo($o),Jr=Yo(!1),ms=$o;function ai(r,n){var o=r.type.contextTypes;if(!o)return $o;var t=r.stateNode;if(t&&t.__reactInternalMemoizedUnmaskedChildContext===n)return t.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in o)i[a]=n[a];return t&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=n,r.__reactInternalMemoizedMaskedChildContext=i),i}function Zr(r){return r=r.childContextTypes,r!=null}function Cu(){zt(Jr),zt(Nr)}function $g(r,n,o){if(Nr.current!==$o)throw Error(We(168));Nt(Nr,n),Nt(Jr,o)}function xb(r,n,o){var t=r.stateNode;if(n=n.childContextTypes,typeof t.getChildContext!="function")return o;t=t.getChildContext();for(var i in t)if(!(i in n))throw Error(We(108,mj(r)||"Unknown",i));return Yt({},o,t)}function Tu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||$o,ms=Nr.current,Nt(Nr,r),Nt(Jr,Jr.current),!0}function qg(r,n,o){var t=r.stateNode;if(!t)throw Error(We(169));o?(r=xb(r,n,ms),t.__reactInternalMemoizedMergedChildContext=r,zt(Jr),zt(Nr),Nt(Nr,r)):zt(Jr),Nt(Jr,o)}var oo=null,uc=!1,Ed=!1;function jb(r){oo===null?oo=[r]:oo.push(r)}function IS(r){uc=!0,jb(r)}function Ko(){if(!Ed&&oo!==null){Ed=!0;var r=0,n=Tt;try{var o=oo;for(Tt=1;r<o.length;r++){var t=o[r];do t=t(!0);while(t!==null)}oo=null,uc=!1}catch(i){throw oo!==null&&(oo=oo.slice(r+1)),X0(np,Ko),i}finally{Tt=n,Ed=!1}}return null}var Ys=[],Ks=0,Pu=null,Ou=0,mn=[],gn=0,gs=null,so=1,io="";function os(r,n){Ys[Ks++]=Ou,Ys[Ks++]=Pu,Pu=r,Ou=n}function Sb(r,n,o){mn[gn++]=so,mn[gn++]=io,mn[gn++]=gs,gs=r;var t=so;r=io;var i=32-Ln(t)-1;t&=~(1<<i),o+=1;var a=32-Ln(n)+i;if(30<a){var s=i-i%5;a=(t&(1<<s)-1).toString(32),t>>=s,i-=s,so=1<<32-Ln(n)+i|o<<i|t,io=a+r}else so=1<<a|o<<i|t,io=r}function fp(r){r.return!==null&&(os(r,1),Sb(r,1,0))}function hp(r){for(;r===Pu;)Pu=Ys[--Ks],Ys[Ks]=null,Ou=Ys[--Ks],Ys[Ks]=null;for(;r===gs;)gs=mn[--gn],mn[gn]=null,io=mn[--gn],mn[gn]=null,so=mn[--gn],mn[gn]=null}var sn=null,nn=null,Vt=!1,In=null;function Eb(r,n){var o=vn(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=r,n=r.deletions,n===null?(r.deletions=[o],r.flags|=16):n.push(o)}function Xg(r,n){switch(r.tag){case 5:var o=r.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(r.stateNode=n,sn=r,nn=Do(n.firstChild),!0):!1;case 6:return n=r.pendingProps===""||n.nodeType!==3?null:n,n!==null?(r.stateNode=n,sn=r,nn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=gs!==null?{id:so,overflow:io}:null,r.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=vn(18,null,null,0),o.stateNode=n,o.return=r,r.child=o,sn=r,nn=null,!0):!1;default:return!1}}function Hf(r){return(r.mode&1)!==0&&(r.flags&128)===0}function $f(r){if(Vt){var n=nn;if(n){var o=n;if(!Xg(r,n)){if(Hf(r))throw Error(We(418));n=Do(o.nextSibling);var t=sn;n&&Xg(r,n)?Eb(t,o):(r.flags=r.flags&-4097|2,Vt=!1,sn=r)}}else{if(Hf(r))throw Error(We(418));r.flags=r.flags&-4097|2,Vt=!1,sn=r}}}function Yg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;sn=r}function Rl(r){if(r!==sn)return!1;if(!Vt)return Yg(r),Vt=!0,!1;var n;if((n=r.tag!==3)&&!(n=r.tag!==5)&&(n=r.type,n=n!=="head"&&n!=="body"&&!Gf(r.type,r.memoizedProps)),n&&(n=nn)){if(Hf(r))throw kb(),Error(We(418));for(;n;)Eb(r,n),n=Do(n.nextSibling)}if(Yg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(We(317));e:{for(r=r.nextSibling,n=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"){if(n===0){nn=Do(r.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}r=r.nextSibling}nn=null}}else nn=sn?Do(r.stateNode.nextSibling):null;return!0}function kb(){for(var r=nn;r;)r=Do(r.nextSibling)}function li(){nn=sn=null,Vt=!1}function pp(r){In===null?In=[r]:In.push(r)}var AS=po.ReactCurrentBatchConfig;function Wi(r,n,o){if(r=o.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(We(309));var t=o.stateNode}if(!t)throw Error(We(147,r));var i=t,a=""+r;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===a?n.ref:(n=function(s){var u=i.refs;s===null?delete u[a]:u[a]=s},n._stringRef=a,n)}if(typeof r!="string")throw Error(We(284));if(!o._owner)throw Error(We(290,r))}return r}function Ll(r,n){throw r=Object.prototype.toString.call(n),Error(We(31,r==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":r))}function Kg(r){var n=r._init;return n(r._payload)}function Cb(r){function n(p,h){if(r){var w=p.deletions;w===null?(p.deletions=[h],p.flags|=16):w.push(h)}}function o(p,h){if(!r)return null;for(;h!==null;)n(p,h),h=h.sibling;return null}function t(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function i(p,h){return p=Bo(p,h),p.index=0,p.sibling=null,p}function a(p,h,w){return p.index=w,r?(w=p.alternate,w!==null?(w=w.index,w<h?(p.flags|=2,h):w):(p.flags|=2,h)):(p.flags|=1048576,h)}function s(p){return r&&p.alternate===null&&(p.flags|=2),p}function u(p,h,w,_){return h===null||h.tag!==6?(h=Id(w,p.mode,_),h.return=p,h):(h=i(h,w),h.return=p,h)}function l(p,h,w,_){var j=w.type;return j===Vs?v(p,h,w.props.children,_,w.key):h!==null&&(h.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===xo&&Kg(j)===h.type)?(_=i(h,w.props),_.ref=Wi(p,h,w),_.return=p,_):(_=pu(w.type,w.key,w.props,null,p.mode,_),_.ref=Wi(p,h,w),_.return=p,_)}function f(p,h,w,_){return h===null||h.tag!==4||h.stateNode.containerInfo!==w.containerInfo||h.stateNode.implementation!==w.implementation?(h=Ad(w,p.mode,_),h.return=p,h):(h=i(h,w.children||[]),h.return=p,h)}function v(p,h,w,_,j){return h===null||h.tag!==7?(h=ps(w,p.mode,_,j),h.return=p,h):(h=i(h,w),h.return=p,h)}function m(p,h,w){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Id(""+h,p.mode,w),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Sl:return w=pu(h.type,h.key,h.props,null,p.mode,w),w.ref=Wi(p,null,h),w.return=p,w;case zs:return h=Ad(h,p.mode,w),h.return=p,h;case xo:var _=h._init;return m(p,_(h._payload),w)}if(Zi(h)||Fi(h))return h=ps(h,p.mode,w,null),h.return=p,h;Ll(p,h)}return null}function c(p,h,w,_){var j=h!==null?h.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:u(p,h,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Sl:return w.key===j?l(p,h,w,_):null;case zs:return w.key===j?f(p,h,w,_):null;case xo:return j=w._init,c(p,h,j(w._payload),_)}if(Zi(w)||Fi(w))return j!==null?null:v(p,h,w,_,null);Ll(p,w)}return null}function d(p,h,w,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(w)||null,u(h,p,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Sl:return p=p.get(_.key===null?w:_.key)||null,l(h,p,_,j);case zs:return p=p.get(_.key===null?w:_.key)||null,f(h,p,_,j);case xo:var E=_._init;return d(p,h,w,E(_._payload),j)}if(Zi(_)||Fi(_))return p=p.get(w)||null,v(h,p,_,j,null);Ll(h,_)}return null}function g(p,h,w,_){for(var j=null,E=null,S=h,C=h=0,M=null;S!==null&&C<w.length;C++){S.index>C?(M=S,S=null):M=S.sibling;var A=c(p,S,w[C],_);if(A===null){S===null&&(S=M);break}r&&S&&A.alternate===null&&n(p,S),h=a(A,h,C),E===null?j=A:E.sibling=A,E=A,S=M}if(C===w.length)return o(p,S),Vt&&os(p,C),j;if(S===null){for(;C<w.length;C++)S=m(p,w[C],_),S!==null&&(h=a(S,h,C),E===null?j=S:E.sibling=S,E=S);return Vt&&os(p,C),j}for(S=t(p,S);C<w.length;C++)M=d(S,p,C,w[C],_),M!==null&&(r&&M.alternate!==null&&S.delete(M.key===null?C:M.key),h=a(M,h,C),E===null?j=M:E.sibling=M,E=M);return r&&S.forEach(function(P){return n(p,P)}),Vt&&os(p,C),j}function y(p,h,w,_){var j=Fi(w);if(typeof j!="function")throw Error(We(150));if(w=j.call(w),w==null)throw Error(We(151));for(var E=j=null,S=h,C=h=0,M=null,A=w.next();S!==null&&!A.done;C++,A=w.next()){S.index>C?(M=S,S=null):M=S.sibling;var P=c(p,S,A.value,_);if(P===null){S===null&&(S=M);break}r&&S&&P.alternate===null&&n(p,S),h=a(P,h,C),E===null?j=P:E.sibling=P,E=P,S=M}if(A.done)return o(p,S),Vt&&os(p,C),j;if(S===null){for(;!A.done;C++,A=w.next())A=m(p,A.value,_),A!==null&&(h=a(A,h,C),E===null?j=A:E.sibling=A,E=A);return Vt&&os(p,C),j}for(S=t(p,S);!A.done;C++,A=w.next())A=d(S,p,C,A.value,_),A!==null&&(r&&A.alternate!==null&&S.delete(A.key===null?C:A.key),h=a(A,h,C),E===null?j=A:E.sibling=A,E=A);return r&&S.forEach(function(D){return n(p,D)}),Vt&&os(p,C),j}function b(p,h,w,_){if(typeof w=="object"&&w!==null&&w.type===Vs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Sl:e:{for(var j=w.key,E=h;E!==null;){if(E.key===j){if(j=w.type,j===Vs){if(E.tag===7){o(p,E.sibling),h=i(E,w.props.children),h.return=p,p=h;break e}}else if(E.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===xo&&Kg(j)===E.type){o(p,E.sibling),h=i(E,w.props),h.ref=Wi(p,E,w),h.return=p,p=h;break e}o(p,E);break}else n(p,E);E=E.sibling}w.type===Vs?(h=ps(w.props.children,p.mode,_,w.key),h.return=p,p=h):(_=pu(w.type,w.key,w.props,null,p.mode,_),_.ref=Wi(p,h,w),_.return=p,p=_)}return s(p);case zs:e:{for(E=w.key;h!==null;){if(h.key===E)if(h.tag===4&&h.stateNode.containerInfo===w.containerInfo&&h.stateNode.implementation===w.implementation){o(p,h.sibling),h=i(h,w.children||[]),h.return=p,p=h;break e}else{o(p,h);break}else n(p,h);h=h.sibling}h=Ad(w,p.mode,_),h.return=p,p=h}return s(p);case xo:return E=w._init,b(p,h,E(w._payload),_)}if(Zi(w))return g(p,h,w,_);if(Fi(w))return y(p,h,w,_);Ll(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,h!==null&&h.tag===6?(o(p,h.sibling),h=i(h,w),h.return=p,p=h):(o(p,h),h=Id(w,p.mode,_),h.return=p,p=h),s(p)):o(p,h)}return b}var ui=Cb(!0),Tb=Cb(!1),Mu=Yo(null),Iu=null,Js=null,mp=null;function gp(){mp=Js=Iu=null}function yp(r){var n=Mu.current;zt(Mu),r._currentValue=n}function qf(r,n,o){for(;r!==null;){var t=r.alternate;if((r.childLanes&n)!==n?(r.childLanes|=n,t!==null&&(t.childLanes|=n)):t!==null&&(t.childLanes&n)!==n&&(t.childLanes|=n),r===o)break;r=r.return}}function oi(r,n){Iu=r,mp=Js=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&n&&(Kr=!0),r.firstContext=null)}function xn(r){var n=r._currentValue;if(mp!==r)if(r={context:r,memoizedValue:n,next:null},Js===null){if(Iu===null)throw Error(We(308));Js=r,Iu.dependencies={lanes:0,firstContext:r}}else Js=Js.next=r;return n}var ds=null;function vp(r){ds===null?ds=[r]:ds.push(r)}function Pb(r,n,o,t){var i=n.interleaved;return i===null?(o.next=o,vp(n)):(o.next=i.next,i.next=o),n.interleaved=o,co(r,t)}function co(r,n){r.lanes|=n;var o=r.alternate;for(o!==null&&(o.lanes|=n),o=r,r=r.return;r!==null;)r.childLanes|=n,o=r.alternate,o!==null&&(o.childLanes|=n),o=r,r=r.return;return o.tag===3?o.stateNode:null}var jo=!1;function bp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ob(r,n){r=r.updateQueue,n.updateQueue===r&&(n.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ao(r,n){return{eventTime:r,lane:n,tag:0,payload:null,callback:null,next:null}}function No(r,n,o){var t=r.updateQueue;if(t===null)return null;if(t=t.shared,Et&2){var i=t.pending;return i===null?n.next=n:(n.next=i.next,i.next=n),t.pending=n,co(r,o)}return i=t.interleaved,i===null?(n.next=n,vp(t)):(n.next=i.next,i.next=n),t.interleaved=n,co(r,o)}function lu(r,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var t=n.lanes;t&=r.pendingLanes,o|=t,n.lanes=o,op(r,o)}}function Jg(r,n){var o=r.updateQueue,t=r.alternate;if(t!==null&&(t=t.updateQueue,o===t)){var i=null,a=null;if(o=o.firstBaseUpdate,o!==null){do{var s={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};a===null?i=a=s:a=a.next=s,o=o.next}while(o!==null);a===null?i=a=n:a=a.next=n}else i=a=n;o={baseState:t.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:t.shared,effects:t.effects},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=n:r.next=n,o.lastBaseUpdate=n}function Au(r,n,o,t){var i=r.updateQueue;jo=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var l=u,f=l.next;l.next=null,s===null?a=f:s.next=f,s=l;var v=r.alternate;v!==null&&(v=v.updateQueue,u=v.lastBaseUpdate,u!==s&&(u===null?v.firstBaseUpdate=f:u.next=f,v.lastBaseUpdate=l))}if(a!==null){var m=i.baseState;s=0,v=f=l=null,u=a;do{var c=u.lane,d=u.eventTime;if((t&c)===c){v!==null&&(v=v.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var g=r,y=u;switch(c=n,d=o,y.tag){case 1:if(g=y.payload,typeof g=="function"){m=g.call(d,m,c);break e}m=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,c=typeof g=="function"?g.call(d,m,c):g,c==null)break e;m=Yt({},m,c);break e;case 2:jo=!0}}u.callback!==null&&u.lane!==0&&(r.flags|=64,c=i.effects,c===null?i.effects=[u]:c.push(u))}else d={eventTime:d,lane:c,tag:u.tag,payload:u.payload,callback:u.callback,next:null},v===null?(f=v=d,l=m):v=v.next=d,s|=c;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;c=u,u=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(!0);if(v===null&&(l=m),i.baseState=l,i.firstBaseUpdate=f,i.lastBaseUpdate=v,n=i.shared.interleaved,n!==null){i=n;do s|=i.lane,i=i.next;while(i!==n)}else a===null&&(i.shared.lanes=0);vs|=s,r.lanes=s,r.memoizedState=m}}function Zg(r,n,o){if(r=n.effects,n.effects=null,r!==null)for(n=0;n<r.length;n++){var t=r[n],i=t.callback;if(i!==null){if(t.callback=null,t=o,typeof i!="function")throw Error(We(191,i));i.call(t)}}}var Ja={},Xn=Yo(Ja),Ma=Yo(Ja),Ia=Yo(Ja);function fs(r){if(r===Ja)throw Error(We(174));return r}function wp(r,n){switch(Nt(Ia,n),Nt(Ma,r),Nt(Xn,Ja),r=n.nodeType,r){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Cf(null,"");break;default:r=r===8?n.parentNode:n,n=r.namespaceURI||null,r=r.tagName,n=Cf(n,r)}zt(Xn),Nt(Xn,n)}function ci(){zt(Xn),zt(Ma),zt(Ia)}function Mb(r){fs(Ia.current);var n=fs(Xn.current),o=Cf(n,r.type);n!==o&&(Nt(Ma,r),Nt(Xn,o))}function _p(r){Ma.current===r&&(zt(Xn),zt(Ma))}var qt=Yo(0);function Ru(r){for(var n=r;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var kd=[];function xp(){for(var r=0;r<kd.length;r++)kd[r]._workInProgressVersionPrimary=null;kd.length=0}var uu=po.ReactCurrentDispatcher,Cd=po.ReactCurrentBatchConfig,ys=0,Xt=null,ur=null,gr=null,Lu=!1,la=!1,Aa=0,RS=0;function Ar(){throw Error(We(321))}function jp(r,n){if(n===null)return!1;for(var o=0;o<n.length&&o<r.length;o++)if(!Nn(r[o],n[o]))return!1;return!0}function Sp(r,n,o,t,i,a){if(ys=a,Xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,uu.current=r===null||r.memoizedState===null?US:FS,r=o(t,i),la){a=0;do{if(la=!1,Aa=0,25<=a)throw Error(We(301));a+=1,gr=ur=null,n.updateQueue=null,uu.current=BS,r=o(t,i)}while(la)}if(uu.current=Du,n=ur!==null&&ur.next!==null,ys=0,gr=ur=Xt=null,Lu=!1,n)throw Error(We(300));return r}function Ep(){var r=Aa!==0;return Aa=0,r}function Wn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gr===null?Xt.memoizedState=gr=r:gr=gr.next=r,gr}function jn(){if(ur===null){var r=Xt.alternate;r=r!==null?r.memoizedState:null}else r=ur.next;var n=gr===null?Xt.memoizedState:gr.next;if(n!==null)gr=n,ur=r;else{if(r===null)throw Error(We(310));ur=r,r={memoizedState:ur.memoizedState,baseState:ur.baseState,baseQueue:ur.baseQueue,queue:ur.queue,next:null},gr===null?Xt.memoizedState=gr=r:gr=gr.next=r}return gr}function Ra(r,n){return typeof n=="function"?n(r):n}function Td(r){var n=jn(),o=n.queue;if(o===null)throw Error(We(311));o.lastRenderedReducer=r;var t=ur,i=t.baseQueue,a=o.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,o.pending=null}if(i!==null){a=i.next,t=t.baseState;var u=s=null,l=null,f=a;do{var v=f.lane;if((ys&v)===v)l!==null&&(l=l.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),t=f.hasEagerState?f.eagerState:r(t,f.action);else{var m={lane:v,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};l===null?(u=l=m,s=t):l=l.next=m,Xt.lanes|=v,vs|=v}f=f.next}while(f!==null&&f!==a);l===null?s=t:l.next=u,Nn(t,n.memoizedState)||(Kr=!0),n.memoizedState=t,n.baseState=s,n.baseQueue=l,o.lastRenderedState=t}if(r=o.interleaved,r!==null){i=r;do a=i.lane,Xt.lanes|=a,vs|=a,i=i.next;while(i!==r)}else i===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function Pd(r){var n=jn(),o=n.queue;if(o===null)throw Error(We(311));o.lastRenderedReducer=r;var t=o.dispatch,i=o.pending,a=n.memoizedState;if(i!==null){o.pending=null;var s=i=i.next;do a=r(a,s.action),s=s.next;while(s!==i);Nn(a,n.memoizedState)||(Kr=!0),n.memoizedState=a,n.baseQueue===null&&(n.baseState=a),o.lastRenderedState=a}return[a,t]}function Ib(){}function Ab(r,n){var o=Xt,t=jn(),i=n(),a=!Nn(t.memoizedState,i);if(a&&(t.memoizedState=i,Kr=!0),t=t.queue,kp(Db.bind(null,o,t,r),[r]),t.getSnapshot!==n||a||gr!==null&&gr.memoizedState.tag&1){if(o.flags|=2048,La(9,Lb.bind(null,o,t,i,n),void 0,null),yr===null)throw Error(We(349));ys&30||Rb(o,n,i)}return i}function Rb(r,n,o){r.flags|=16384,r={getSnapshot:n,value:o},n=Xt.updateQueue,n===null?(n={lastEffect:null,stores:null},Xt.updateQueue=n,n.stores=[r]):(o=n.stores,o===null?n.stores=[r]:o.push(r))}function Lb(r,n,o,t){n.value=o,n.getSnapshot=t,Nb(n)&&Ub(r)}function Db(r,n,o){return o(function(){Nb(n)&&Ub(r)})}function Nb(r){var n=r.getSnapshot;r=r.value;try{var o=n();return!Nn(r,o)}catch{return!0}}function Ub(r){var n=co(r,1);n!==null&&Dn(n,r,1,-1)}function Qg(r){var n=Wn();return typeof r=="function"&&(r=r()),n.memoizedState=n.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:r},n.queue=r,r=r.dispatch=NS.bind(null,Xt,r),[n.memoizedState,r]}function La(r,n,o,t){return r={tag:r,create:n,destroy:o,deps:t,next:null},n=Xt.updateQueue,n===null?(n={lastEffect:null,stores:null},Xt.updateQueue=n,n.lastEffect=r.next=r):(o=n.lastEffect,o===null?n.lastEffect=r.next=r:(t=o.next,o.next=r,r.next=t,n.lastEffect=r)),r}function Fb(){return jn().memoizedState}function cu(r,n,o,t){var i=Wn();Xt.flags|=r,i.memoizedState=La(1|n,o,void 0,t===void 0?null:t)}function cc(r,n,o,t){var i=jn();t=t===void 0?null:t;var a=void 0;if(ur!==null){var s=ur.memoizedState;if(a=s.destroy,t!==null&&jp(t,s.deps)){i.memoizedState=La(n,o,a,t);return}}Xt.flags|=r,i.memoizedState=La(1|n,o,a,t)}function ey(r,n){return cu(8390656,8,r,n)}function kp(r,n){return cc(2048,8,r,n)}function Bb(r,n){return cc(4,2,r,n)}function Gb(r,n){return cc(4,4,r,n)}function zb(r,n){if(typeof n=="function")return r=r(),n(r),function(){n(null)};if(n!=null)return r=r(),n.current=r,function(){n.current=null}}function Vb(r,n,o){return o=o!=null?o.concat([r]):null,cc(4,4,zb.bind(null,n,r),o)}function Cp(){}function Wb(r,n){var o=jn();n=n===void 0?null:n;var t=o.memoizedState;return t!==null&&n!==null&&jp(n,t[1])?t[0]:(o.memoizedState=[r,n],r)}function Hb(r,n){var o=jn();n=n===void 0?null:n;var t=o.memoizedState;return t!==null&&n!==null&&jp(n,t[1])?t[0]:(r=r(),o.memoizedState=[r,n],r)}function $b(r,n,o){return ys&21?(Nn(o,n)||(o=J0(),Xt.lanes|=o,vs|=o,r.baseState=!0),n):(r.baseState&&(r.baseState=!1,Kr=!0),r.memoizedState=o)}function LS(r,n){var o=Tt;Tt=o!==0&&4>o?o:4,r(!0);var t=Cd.transition;Cd.transition={};try{r(!1),n()}finally{Tt=o,Cd.transition=t}}function qb(){return jn().memoizedState}function DS(r,n,o){var t=Fo(r);if(o={lane:t,action:o,hasEagerState:!1,eagerState:null,next:null},Xb(r))Yb(n,o);else if(o=Pb(r,n,o,t),o!==null){var i=Vr();Dn(o,r,t,i),Kb(o,n,t)}}function NS(r,n,o){var t=Fo(r),i={lane:t,action:o,hasEagerState:!1,eagerState:null,next:null};if(Xb(r))Yb(n,i);else{var a=r.alternate;if(r.lanes===0&&(a===null||a.lanes===0)&&(a=n.lastRenderedReducer,a!==null))try{var s=n.lastRenderedState,u=a(s,o);if(i.hasEagerState=!0,i.eagerState=u,Nn(u,s)){var l=n.interleaved;l===null?(i.next=i,vp(n)):(i.next=l.next,l.next=i),n.interleaved=i;return}}catch{}finally{}o=Pb(r,n,i,t),o!==null&&(i=Vr(),Dn(o,r,t,i),Kb(o,n,t))}}function Xb(r){var n=r.alternate;return r===Xt||n!==null&&n===Xt}function Yb(r,n){la=Lu=!0;var o=r.pending;o===null?n.next=n:(n.next=o.next,o.next=n),r.pending=n}function Kb(r,n,o){if(o&4194240){var t=n.lanes;t&=r.pendingLanes,o|=t,n.lanes=o,op(r,o)}}var Du={readContext:xn,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},US={readContext:xn,useCallback:function(r,n){return Wn().memoizedState=[r,n===void 0?null:n],r},useContext:xn,useEffect:ey,useImperativeHandle:function(r,n,o){return o=o!=null?o.concat([r]):null,cu(4194308,4,zb.bind(null,n,r),o)},useLayoutEffect:function(r,n){return cu(4194308,4,r,n)},useInsertionEffect:function(r,n){return cu(4,2,r,n)},useMemo:function(r,n){var o=Wn();return n=n===void 0?null:n,r=r(),o.memoizedState=[r,n],r},useReducer:function(r,n,o){var t=Wn();return n=o!==void 0?o(n):n,t.memoizedState=t.baseState=n,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:n},t.queue=r,r=r.dispatch=DS.bind(null,Xt,r),[t.memoizedState,r]},useRef:function(r){var n=Wn();return r={current:r},n.memoizedState=r},useState:Qg,useDebugValue:Cp,useDeferredValue:function(r){return Wn().memoizedState=r},useTransition:function(){var r=Qg(!1),n=r[0];return r=LS.bind(null,r[1]),Wn().memoizedState=r,[n,r]},useMutableSource:function(){},useSyncExternalStore:function(r,n,o){var t=Xt,i=Wn();if(Vt){if(o===void 0)throw Error(We(407));o=o()}else{if(o=n(),yr===null)throw Error(We(349));ys&30||Rb(t,n,o)}i.memoizedState=o;var a={value:o,getSnapshot:n};return i.queue=a,ey(Db.bind(null,t,a,r),[r]),t.flags|=2048,La(9,Lb.bind(null,t,a,o,n),void 0,null),o},useId:function(){var r=Wn(),n=yr.identifierPrefix;if(Vt){var o=io,t=so;o=(t&~(1<<32-Ln(t)-1)).toString(32)+o,n=":"+n+"R"+o,o=Aa++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=RS++,n=":"+n+"r"+o.toString(32)+":";return r.memoizedState=n},unstable_isNewReconciler:!1},FS={readContext:xn,useCallback:Wb,useContext:xn,useEffect:kp,useImperativeHandle:Vb,useInsertionEffect:Bb,useLayoutEffect:Gb,useMemo:Hb,useReducer:Td,useRef:Fb,useState:function(){return Td(Ra)},useDebugValue:Cp,useDeferredValue:function(r){var n=jn();return $b(n,ur.memoizedState,r)},useTransition:function(){var r=Td(Ra)[0],n=jn().memoizedState;return[r,n]},useMutableSource:Ib,useSyncExternalStore:Ab,useId:qb,unstable_isNewReconciler:!1},BS={readContext:xn,useCallback:Wb,useContext:xn,useEffect:kp,useImperativeHandle:Vb,useInsertionEffect:Bb,useLayoutEffect:Gb,useMemo:Hb,useReducer:Pd,useRef:Fb,useState:function(){return Pd(Ra)},useDebugValue:Cp,useDeferredValue:function(r){var n=jn();return ur===null?n.memoizedState=r:$b(n,ur.memoizedState,r)},useTransition:function(){var r=Pd(Ra)[0],n=jn().memoizedState;return[r,n]},useMutableSource:Ib,useSyncExternalStore:Ab,useId:qb,unstable_isNewReconciler:!1};function Pn(r,n){if(r&&r.defaultProps){n=Yt({},n),r=r.defaultProps;for(var o in r)n[o]===void 0&&(n[o]=r[o]);return n}return n}function Xf(r,n,o,t){n=r.memoizedState,o=o(t,n),o=o==null?n:Yt({},n,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var dc={isMounted:function(r){return(r=r._reactInternals)?xs(r)===r:!1},enqueueSetState:function(r,n,o){r=r._reactInternals;var t=Vr(),i=Fo(r),a=ao(t,i);a.payload=n,o!=null&&(a.callback=o),n=No(r,a,i),n!==null&&(Dn(n,r,i,t),lu(n,r,i))},enqueueReplaceState:function(r,n,o){r=r._reactInternals;var t=Vr(),i=Fo(r),a=ao(t,i);a.tag=1,a.payload=n,o!=null&&(a.callback=o),n=No(r,a,i),n!==null&&(Dn(n,r,i,t),lu(n,r,i))},enqueueForceUpdate:function(r,n){r=r._reactInternals;var o=Vr(),t=Fo(r),i=ao(o,t);i.tag=2,n!=null&&(i.callback=n),n=No(r,i,t),n!==null&&(Dn(n,r,t,o),lu(n,r,t))}};function ty(r,n,o,t,i,a,s){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(t,a,s):n.prototype&&n.prototype.isPureReactComponent?!Ca(o,t)||!Ca(i,a):!0}function Jb(r,n,o){var t=!1,i=$o,a=n.contextType;return typeof a=="object"&&a!==null?a=xn(a):(i=Zr(n)?ms:Nr.current,t=n.contextTypes,a=(t=t!=null)?ai(r,i):$o),n=new n(o,a),r.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=dc,r.stateNode=n,n._reactInternals=r,t&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=a),n}function ry(r,n,o,t){r=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,t),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,t),n.state!==r&&dc.enqueueReplaceState(n,n.state,null)}function Yf(r,n,o,t){var i=r.stateNode;i.props=o,i.state=r.memoizedState,i.refs={},bp(r);var a=n.contextType;typeof a=="object"&&a!==null?i.context=xn(a):(a=Zr(n)?ms:Nr.current,i.context=ai(r,a)),i.state=r.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Xf(r,n,a,o),i.state=r.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(n=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),n!==i.state&&dc.enqueueReplaceState(i,i.state,null),Au(r,o,i,t),i.state=r.memoizedState),typeof i.componentDidMount=="function"&&(r.flags|=4194308)}function di(r,n){try{var o="",t=n;do o+=pj(t),t=t.return;while(t);var i=o}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:r,source:n,stack:i,digest:null}}function Od(r,n,o){return{value:r,source:null,stack:o??null,digest:n??null}}function Kf(r,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var GS=typeof WeakMap=="function"?WeakMap:Map;function Zb(r,n,o){o=ao(-1,o),o.tag=3,o.payload={element:null};var t=n.value;return o.callback=function(){Uu||(Uu=!0,ih=t),Kf(r,n)},o}function Qb(r,n,o){o=ao(-1,o),o.tag=3;var t=r.type.getDerivedStateFromError;if(typeof t=="function"){var i=n.value;o.payload=function(){return t(i)},o.callback=function(){Kf(r,n)}}var a=r.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(o.callback=function(){Kf(r,n),typeof t!="function"&&(Uo===null?Uo=new Set([this]):Uo.add(this));var s=n.stack;this.componentDidCatch(n.value,{componentStack:s!==null?s:""})}),o}function ny(r,n,o){var t=r.pingCache;if(t===null){t=r.pingCache=new GS;var i=new Set;t.set(n,i)}else i=t.get(n),i===void 0&&(i=new Set,t.set(n,i));i.has(o)||(i.add(o),r=t2.bind(null,r,n,o),n.then(r,r))}function oy(r){do{var n;if((n=r.tag===13)&&(n=r.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return r;r=r.return}while(r!==null);return null}function sy(r,n,o,t,i){return r.mode&1?(r.flags|=65536,r.lanes=i,r):(r===n?r.flags|=65536:(r.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=ao(-1,1),n.tag=2,No(o,n,1))),o.lanes|=1),r)}var zS=po.ReactCurrentOwner,Kr=!1;function Br(r,n,o,t){n.child=r===null?Tb(n,null,o,t):ui(n,r.child,o,t)}function iy(r,n,o,t,i){o=o.render;var a=n.ref;return oi(n,i),t=Sp(r,n,o,t,a,i),o=Ep(),r!==null&&!Kr?(n.updateQueue=r.updateQueue,n.flags&=-2053,r.lanes&=~i,fo(r,n,i)):(Vt&&o&&fp(n),n.flags|=1,Br(r,n,t,i),n.child)}function ay(r,n,o,t,i){if(r===null){var a=o.type;return typeof a=="function"&&!Lp(a)&&a.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=a,e1(r,n,a,t,i)):(r=pu(o.type,null,t,n,n.mode,i),r.ref=n.ref,r.return=n,n.child=r)}if(a=r.child,!(r.lanes&i)){var s=a.memoizedProps;if(o=o.compare,o=o!==null?o:Ca,o(s,t)&&r.ref===n.ref)return fo(r,n,i)}return n.flags|=1,r=Bo(a,t),r.ref=n.ref,r.return=n,n.child=r}function e1(r,n,o,t,i){if(r!==null){var a=r.memoizedProps;if(Ca(a,t)&&r.ref===n.ref)if(Kr=!1,n.pendingProps=t=a,(r.lanes&i)!==0)r.flags&131072&&(Kr=!0);else return n.lanes=r.lanes,fo(r,n,i)}return Jf(r,n,o,t,i)}function t1(r,n,o){var t=n.pendingProps,i=t.children,a=r!==null?r.memoizedState:null;if(t.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(Qs,rn),rn|=o;else{if(!(o&1073741824))return r=a!==null?a.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:r,cachePool:null,transitions:null},n.updateQueue=null,Nt(Qs,rn),rn|=r,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},t=a!==null?a.baseLanes:o,Nt(Qs,rn),rn|=t}else a!==null?(t=a.baseLanes|o,n.memoizedState=null):t=o,Nt(Qs,rn),rn|=t;return Br(r,n,i,o),n.child}function r1(r,n){var o=n.ref;(r===null&&o!==null||r!==null&&r.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function Jf(r,n,o,t,i){var a=Zr(o)?ms:Nr.current;return a=ai(n,a),oi(n,i),o=Sp(r,n,o,t,a,i),t=Ep(),r!==null&&!Kr?(n.updateQueue=r.updateQueue,n.flags&=-2053,r.lanes&=~i,fo(r,n,i)):(Vt&&t&&fp(n),n.flags|=1,Br(r,n,o,i),n.child)}function ly(r,n,o,t,i){if(Zr(o)){var a=!0;Tu(n)}else a=!1;if(oi(n,i),n.stateNode===null)du(r,n),Jb(n,o,t),Yf(n,o,t,i),t=!0;else if(r===null){var s=n.stateNode,u=n.memoizedProps;s.props=u;var l=s.context,f=o.contextType;typeof f=="object"&&f!==null?f=xn(f):(f=Zr(o)?ms:Nr.current,f=ai(n,f));var v=o.getDerivedStateFromProps,m=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==t||l!==f)&&ry(n,s,t,f),jo=!1;var c=n.memoizedState;s.state=c,Au(n,t,s,i),l=n.memoizedState,u!==t||c!==l||Jr.current||jo?(typeof v=="function"&&(Xf(n,o,v,t),l=n.memoizedState),(u=jo||ty(n,o,u,t,c,l,f))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(n.flags|=4194308)):(typeof s.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=t,n.memoizedState=l),s.props=t,s.state=l,s.context=f,t=u):(typeof s.componentDidMount=="function"&&(n.flags|=4194308),t=!1)}else{s=n.stateNode,Ob(r,n),u=n.memoizedProps,f=n.type===n.elementType?u:Pn(n.type,u),s.props=f,m=n.pendingProps,c=s.context,l=o.contextType,typeof l=="object"&&l!==null?l=xn(l):(l=Zr(o)?ms:Nr.current,l=ai(n,l));var d=o.getDerivedStateFromProps;(v=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==m||c!==l)&&ry(n,s,t,l),jo=!1,c=n.memoizedState,s.state=c,Au(n,t,s,i);var g=n.memoizedState;u!==m||c!==g||Jr.current||jo?(typeof d=="function"&&(Xf(n,o,d,t),g=n.memoizedState),(f=jo||ty(n,o,f,t,c,g,l)||!1)?(v||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(t,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(t,g,l)),typeof s.componentDidUpdate=="function"&&(n.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===r.memoizedProps&&c===r.memoizedState||(n.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===r.memoizedProps&&c===r.memoizedState||(n.flags|=1024),n.memoizedProps=t,n.memoizedState=g),s.props=t,s.state=g,s.context=l,t=f):(typeof s.componentDidUpdate!="function"||u===r.memoizedProps&&c===r.memoizedState||(n.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===r.memoizedProps&&c===r.memoizedState||(n.flags|=1024),t=!1)}return Zf(r,n,o,t,a,i)}function Zf(r,n,o,t,i,a){r1(r,n);var s=(n.flags&128)!==0;if(!t&&!s)return i&&qg(n,o,!1),fo(r,n,a);t=n.stateNode,zS.current=n;var u=s&&typeof o.getDerivedStateFromError!="function"?null:t.render();return n.flags|=1,r!==null&&s?(n.child=ui(n,r.child,null,a),n.child=ui(n,null,u,a)):Br(r,n,u,a),n.memoizedState=t.state,i&&qg(n,o,!0),n.child}function n1(r){var n=r.stateNode;n.pendingContext?$g(r,n.pendingContext,n.pendingContext!==n.context):n.context&&$g(r,n.context,!1),wp(r,n.containerInfo)}function uy(r,n,o,t,i){return li(),pp(i),n.flags|=256,Br(r,n,o,t),n.child}var Qf={dehydrated:null,treeContext:null,retryLane:0};function eh(r){return{baseLanes:r,cachePool:null,transitions:null}}function o1(r,n,o){var t=n.pendingProps,i=qt.current,a=!1,s=(n.flags&128)!==0,u;if((u=s)||(u=r!==null&&r.memoizedState===null?!1:(i&2)!==0),u?(a=!0,n.flags&=-129):(r===null||r.memoizedState!==null)&&(i|=1),Nt(qt,i&1),r===null)return $f(n),r=n.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(n.mode&1?r.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(s=t.children,r=t.fallback,a?(t=n.mode,a=n.child,s={mode:"hidden",children:s},!(t&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=pc(s,t,0,null),r=ps(r,t,o,null),a.return=n,r.return=n,a.sibling=r,n.child=a,n.child.memoizedState=eh(o),n.memoizedState=Qf,r):Tp(n,s));if(i=r.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return VS(r,n,s,t,u,i,o);if(a){a=t.fallback,s=n.mode,i=r.child,u=i.sibling;var l={mode:"hidden",children:t.children};return!(s&1)&&n.child!==i?(t=n.child,t.childLanes=0,t.pendingProps=l,n.deletions=null):(t=Bo(i,l),t.subtreeFlags=i.subtreeFlags&14680064),u!==null?a=Bo(u,a):(a=ps(a,s,o,null),a.flags|=2),a.return=n,t.return=n,t.sibling=a,n.child=t,t=a,a=n.child,s=r.child.memoizedState,s=s===null?eh(o):{baseLanes:s.baseLanes|o,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=r.childLanes&~o,n.memoizedState=Qf,t}return a=r.child,r=a.sibling,t=Bo(a,{mode:"visible",children:t.children}),!(n.mode&1)&&(t.lanes=o),t.return=n,t.sibling=null,r!==null&&(o=n.deletions,o===null?(n.deletions=[r],n.flags|=16):o.push(r)),n.child=t,n.memoizedState=null,t}function Tp(r,n){return n=pc({mode:"visible",children:n},r.mode,0,null),n.return=r,r.child=n}function Dl(r,n,o,t){return t!==null&&pp(t),ui(n,r.child,null,o),r=Tp(n,n.pendingProps.children),r.flags|=2,n.memoizedState=null,r}function VS(r,n,o,t,i,a,s){if(o)return n.flags&256?(n.flags&=-257,t=Od(Error(We(422))),Dl(r,n,s,t)):n.memoizedState!==null?(n.child=r.child,n.flags|=128,null):(a=t.fallback,i=n.mode,t=pc({mode:"visible",children:t.children},i,0,null),a=ps(a,i,s,null),a.flags|=2,t.return=n,a.return=n,t.sibling=a,n.child=t,n.mode&1&&ui(n,r.child,null,s),n.child.memoizedState=eh(s),n.memoizedState=Qf,a);if(!(n.mode&1))return Dl(r,n,s,null);if(i.data==="$!"){if(t=i.nextSibling&&i.nextSibling.dataset,t)var u=t.dgst;return t=u,a=Error(We(419)),t=Od(a,t,void 0),Dl(r,n,s,t)}if(u=(s&r.childLanes)!==0,Kr||u){if(t=yr,t!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(t.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,co(r,i),Dn(t,r,i,-1))}return Rp(),t=Od(Error(We(421))),Dl(r,n,s,t)}return i.data==="$?"?(n.flags|=128,n.child=r.child,n=r2.bind(null,r),i._reactRetry=n,null):(r=a.treeContext,nn=Do(i.nextSibling),sn=n,Vt=!0,In=null,r!==null&&(mn[gn++]=so,mn[gn++]=io,mn[gn++]=gs,so=r.id,io=r.overflow,gs=n),n=Tp(n,t.children),n.flags|=4096,n)}function cy(r,n,o){r.lanes|=n;var t=r.alternate;t!==null&&(t.lanes|=n),qf(r.return,n,o)}function Md(r,n,o,t,i){var a=r.memoizedState;a===null?r.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:t,tail:o,tailMode:i}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=t,a.tail=o,a.tailMode=i)}function s1(r,n,o){var t=n.pendingProps,i=t.revealOrder,a=t.tail;if(Br(r,n,t.children,o),t=qt.current,t&2)t=t&1|2,n.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=n.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&cy(r,o,n);else if(r.tag===19)cy(r,o,n);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t&=1}if(Nt(qt,t),!(n.mode&1))n.memoizedState=null;else switch(i){case"forwards":for(o=n.child,i=null;o!==null;)r=o.alternate,r!==null&&Ru(r)===null&&(i=o),o=o.sibling;o=i,o===null?(i=n.child,n.child=null):(i=o.sibling,o.sibling=null),Md(n,!1,i,o,a);break;case"backwards":for(o=null,i=n.child,n.child=null;i!==null;){if(r=i.alternate,r!==null&&Ru(r)===null){n.child=i;break}r=i.sibling,i.sibling=o,o=i,i=r}Md(n,!0,o,null,a);break;case"together":Md(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function du(r,n){!(n.mode&1)&&r!==null&&(r.alternate=null,n.alternate=null,n.flags|=2)}function fo(r,n,o){if(r!==null&&(n.dependencies=r.dependencies),vs|=n.lanes,!(o&n.childLanes))return null;if(r!==null&&n.child!==r.child)throw Error(We(153));if(n.child!==null){for(r=n.child,o=Bo(r,r.pendingProps),n.child=o,o.return=n;r.sibling!==null;)r=r.sibling,o=o.sibling=Bo(r,r.pendingProps),o.return=n;o.sibling=null}return n.child}function WS(r,n,o){switch(n.tag){case 3:n1(n),li();break;case 5:Mb(n);break;case 1:Zr(n.type)&&Tu(n);break;case 4:wp(n,n.stateNode.containerInfo);break;case 10:var t=n.type._context,i=n.memoizedProps.value;Nt(Mu,t._currentValue),t._currentValue=i;break;case 13:if(t=n.memoizedState,t!==null)return t.dehydrated!==null?(Nt(qt,qt.current&1),n.flags|=128,null):o&n.child.childLanes?o1(r,n,o):(Nt(qt,qt.current&1),r=fo(r,n,o),r!==null?r.sibling:null);Nt(qt,qt.current&1);break;case 19:if(t=(o&n.childLanes)!==0,r.flags&128){if(t)return s1(r,n,o);n.flags|=128}if(i=n.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Nt(qt,qt.current),t)break;return null;case 22:case 23:return n.lanes=0,t1(r,n,o)}return fo(r,n,o)}var i1,th,a1,l1;i1=function(r,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)r.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};th=function(){};a1=function(r,n,o,t){var i=r.memoizedProps;if(i!==t){r=n.stateNode,fs(Xn.current);var a=null;switch(o){case"input":i=jf(r,i),t=jf(r,t),a=[];break;case"select":i=Yt({},i,{value:void 0}),t=Yt({},t,{value:void 0}),a=[];break;case"textarea":i=kf(r,i),t=kf(r,t),a=[];break;default:typeof i.onClick!="function"&&typeof t.onClick=="function"&&(r.onclick=ku)}Tf(o,t);var s;o=null;for(f in i)if(!t.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var u=i[f];for(s in u)u.hasOwnProperty(s)&&(o||(o={}),o[s]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(wa.hasOwnProperty(f)?a||(a=[]):(a=a||[]).push(f,null));for(f in t){var l=t[f];if(u=i!=null?i[f]:void 0,t.hasOwnProperty(f)&&l!==u&&(l!=null||u!=null))if(f==="style")if(u){for(s in u)!u.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(o||(o={}),o[s]="");for(s in l)l.hasOwnProperty(s)&&u[s]!==l[s]&&(o||(o={}),o[s]=l[s])}else o||(a||(a=[]),a.push(f,o)),o=l;else f==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,u=u?u.__html:void 0,l!=null&&u!==l&&(a=a||[]).push(f,l)):f==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(f,""+l):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(wa.hasOwnProperty(f)?(l!=null&&f==="onScroll"&&Gt("scroll",r),a||u===l||(a=[])):(a=a||[]).push(f,l))}o&&(a=a||[]).push("style",o);var f=a;(n.updateQueue=f)&&(n.flags|=4)}};l1=function(r,n,o,t){o!==t&&(n.flags|=4)};function Hi(r,n){if(!Vt)switch(r.tailMode){case"hidden":n=r.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var t=null;o!==null;)o.alternate!==null&&(t=o),o=o.sibling;t===null?n||r.tail===null?r.tail=null:r.tail.sibling=null:t.sibling=null}}function Rr(r){var n=r.alternate!==null&&r.alternate.child===r.child,o=0,t=0;if(n)for(var i=r.child;i!==null;)o|=i.lanes|i.childLanes,t|=i.subtreeFlags&14680064,t|=i.flags&14680064,i.return=r,i=i.sibling;else for(i=r.child;i!==null;)o|=i.lanes|i.childLanes,t|=i.subtreeFlags,t|=i.flags,i.return=r,i=i.sibling;return r.subtreeFlags|=t,r.childLanes=o,n}function HS(r,n,o){var t=n.pendingProps;switch(hp(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rr(n),null;case 1:return Zr(n.type)&&Cu(),Rr(n),null;case 3:return t=n.stateNode,ci(),zt(Jr),zt(Nr),xp(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),(r===null||r.child===null)&&(Rl(n)?n.flags|=4:r===null||r.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,In!==null&&(uh(In),In=null))),th(r,n),Rr(n),null;case 5:_p(n);var i=fs(Ia.current);if(o=n.type,r!==null&&n.stateNode!=null)a1(r,n,o,t,i),r.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!t){if(n.stateNode===null)throw Error(We(166));return Rr(n),null}if(r=fs(Xn.current),Rl(n)){t=n.stateNode,o=n.type;var a=n.memoizedProps;switch(t[$n]=n,t[Oa]=a,r=(n.mode&1)!==0,o){case"dialog":Gt("cancel",t),Gt("close",t);break;case"iframe":case"object":case"embed":Gt("load",t);break;case"video":case"audio":for(i=0;i<ea.length;i++)Gt(ea[i],t);break;case"source":Gt("error",t);break;case"img":case"image":case"link":Gt("error",t),Gt("load",t);break;case"details":Gt("toggle",t);break;case"input":bg(t,a),Gt("invalid",t);break;case"select":t._wrapperState={wasMultiple:!!a.multiple},Gt("invalid",t);break;case"textarea":_g(t,a),Gt("invalid",t)}Tf(o,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="children"?typeof u=="string"?t.textContent!==u&&(a.suppressHydrationWarning!==!0&&Al(t.textContent,u,r),i=["children",u]):typeof u=="number"&&t.textContent!==""+u&&(a.suppressHydrationWarning!==!0&&Al(t.textContent,u,r),i=["children",""+u]):wa.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&Gt("scroll",t)}switch(o){case"input":El(t),wg(t,a,!0);break;case"textarea":El(t),xg(t);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(t.onclick=ku)}t=i,n.updateQueue=t,t!==null&&(n.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=D0(o)),r==="http://www.w3.org/1999/xhtml"?o==="script"?(r=s.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof t.is=="string"?r=s.createElement(o,{is:t.is}):(r=s.createElement(o),o==="select"&&(s=r,t.multiple?s.multiple=!0:t.size&&(s.size=t.size))):r=s.createElementNS(r,o),r[$n]=n,r[Oa]=t,i1(r,n,!1,!1),n.stateNode=r;e:{switch(s=Pf(o,t),o){case"dialog":Gt("cancel",r),Gt("close",r),i=t;break;case"iframe":case"object":case"embed":Gt("load",r),i=t;break;case"video":case"audio":for(i=0;i<ea.length;i++)Gt(ea[i],r);i=t;break;case"source":Gt("error",r),i=t;break;case"img":case"image":case"link":Gt("error",r),Gt("load",r),i=t;break;case"details":Gt("toggle",r),i=t;break;case"input":bg(r,t),i=jf(r,t),Gt("invalid",r);break;case"option":i=t;break;case"select":r._wrapperState={wasMultiple:!!t.multiple},i=Yt({},t,{value:void 0}),Gt("invalid",r);break;case"textarea":_g(r,t),i=kf(r,t),Gt("invalid",r);break;default:i=t}Tf(o,i),u=i;for(a in u)if(u.hasOwnProperty(a)){var l=u[a];a==="style"?F0(r,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&N0(r,l)):a==="children"?typeof l=="string"?(o!=="textarea"||l!=="")&&_a(r,l):typeof l=="number"&&_a(r,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(wa.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Gt("scroll",r):l!=null&&Zh(r,a,l,s))}switch(o){case"input":El(r),wg(r,t,!1);break;case"textarea":El(r),xg(r);break;case"option":t.value!=null&&r.setAttribute("value",""+Ho(t.value));break;case"select":r.multiple=!!t.multiple,a=t.value,a!=null?ei(r,!!t.multiple,a,!1):t.defaultValue!=null&&ei(r,!!t.multiple,t.defaultValue,!0);break;default:typeof i.onClick=="function"&&(r.onclick=ku)}switch(o){case"button":case"input":case"select":case"textarea":t=!!t.autoFocus;break e;case"img":t=!0;break e;default:t=!1}}t&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Rr(n),null;case 6:if(r&&n.stateNode!=null)l1(r,n,r.memoizedProps,t);else{if(typeof t!="string"&&n.stateNode===null)throw Error(We(166));if(o=fs(Ia.current),fs(Xn.current),Rl(n)){if(t=n.stateNode,o=n.memoizedProps,t[$n]=n,(a=t.nodeValue!==o)&&(r=sn,r!==null))switch(r.tag){case 3:Al(t.nodeValue,o,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Al(t.nodeValue,o,(r.mode&1)!==0)}a&&(n.flags|=4)}else t=(o.nodeType===9?o:o.ownerDocument).createTextNode(t),t[$n]=n,n.stateNode=t}return Rr(n),null;case 13:if(zt(qt),t=n.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Vt&&nn!==null&&n.mode&1&&!(n.flags&128))kb(),li(),n.flags|=98560,a=!1;else if(a=Rl(n),t!==null&&t.dehydrated!==null){if(r===null){if(!a)throw Error(We(318));if(a=n.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(We(317));a[$n]=n}else li(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Rr(n),a=!1}else In!==null&&(uh(In),In=null),a=!0;if(!a)return n.flags&65536?n:null}return n.flags&128?(n.lanes=o,n):(t=t!==null,t!==(r!==null&&r.memoizedState!==null)&&t&&(n.child.flags|=8192,n.mode&1&&(r===null||qt.current&1?dr===0&&(dr=3):Rp())),n.updateQueue!==null&&(n.flags|=4),Rr(n),null);case 4:return ci(),th(r,n),r===null&&Ta(n.stateNode.containerInfo),Rr(n),null;case 10:return yp(n.type._context),Rr(n),null;case 17:return Zr(n.type)&&Cu(),Rr(n),null;case 19:if(zt(qt),a=n.memoizedState,a===null)return Rr(n),null;if(t=(n.flags&128)!==0,s=a.rendering,s===null)if(t)Hi(a,!1);else{if(dr!==0||r!==null&&r.flags&128)for(r=n.child;r!==null;){if(s=Ru(r),s!==null){for(n.flags|=128,Hi(a,!1),t=s.updateQueue,t!==null&&(n.updateQueue=t,n.flags|=4),n.subtreeFlags=0,t=o,o=n.child;o!==null;)a=o,r=t,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=r,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,r=s.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),o=o.sibling;return Nt(qt,qt.current&1|2),n.child}r=r.sibling}a.tail!==null&&er()>fi&&(n.flags|=128,t=!0,Hi(a,!1),n.lanes=4194304)}else{if(!t)if(r=Ru(s),r!==null){if(n.flags|=128,t=!0,o=r.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),Hi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Vt)return Rr(n),null}else 2*er()-a.renderingStartTime>fi&&o!==1073741824&&(n.flags|=128,t=!0,Hi(a,!1),n.lanes=4194304);a.isBackwards?(s.sibling=n.child,n.child=s):(o=a.last,o!==null?o.sibling=s:n.child=s,a.last=s)}return a.tail!==null?(n=a.tail,a.rendering=n,a.tail=n.sibling,a.renderingStartTime=er(),n.sibling=null,o=qt.current,Nt(qt,t?o&1|2:o&1),n):(Rr(n),null);case 22:case 23:return Ap(),t=n.memoizedState!==null,r!==null&&r.memoizedState!==null!==t&&(n.flags|=8192),t&&n.mode&1?rn&1073741824&&(Rr(n),n.subtreeFlags&6&&(n.flags|=8192)):Rr(n),null;case 24:return null;case 25:return null}throw Error(We(156,n.tag))}function $S(r,n){switch(hp(n),n.tag){case 1:return Zr(n.type)&&Cu(),r=n.flags,r&65536?(n.flags=r&-65537|128,n):null;case 3:return ci(),zt(Jr),zt(Nr),xp(),r=n.flags,r&65536&&!(r&128)?(n.flags=r&-65537|128,n):null;case 5:return _p(n),null;case 13:if(zt(qt),r=n.memoizedState,r!==null&&r.dehydrated!==null){if(n.alternate===null)throw Error(We(340));li()}return r=n.flags,r&65536?(n.flags=r&-65537|128,n):null;case 19:return zt(qt),null;case 4:return ci(),null;case 10:return yp(n.type._context),null;case 22:case 23:return Ap(),null;case 24:return null;default:return null}}var Nl=!1,Lr=!1,qS=typeof WeakSet=="function"?WeakSet:Set,rt=null;function Zs(r,n){var o=r.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(t){Zt(r,n,t)}else o.current=null}function rh(r,n,o){try{o()}catch(t){Zt(r,n,t)}}var dy=!1;function XS(r,n){if(Ff=ju,r=hb(),dp(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var t=o.getSelection&&o.getSelection();if(t&&t.rangeCount!==0){o=t.anchorNode;var i=t.anchorOffset,a=t.focusNode;t=t.focusOffset;try{o.nodeType,a.nodeType}catch{o=null;break e}var s=0,u=-1,l=-1,f=0,v=0,m=r,c=null;t:for(;;){for(var d;m!==o||i!==0&&m.nodeType!==3||(u=s+i),m!==a||t!==0&&m.nodeType!==3||(l=s+t),m.nodeType===3&&(s+=m.nodeValue.length),(d=m.firstChild)!==null;)c=m,m=d;for(;;){if(m===r)break t;if(c===o&&++f===i&&(u=s),c===a&&++v===t&&(l=s),(d=m.nextSibling)!==null)break;m=c,c=m.parentNode}m=d}o=u===-1||l===-1?null:{start:u,end:l}}else o=null}o=o||{start:0,end:0}}else o=null;for(Bf={focusedElem:r,selectionRange:o},ju=!1,rt=n;rt!==null;)if(n=rt,r=n.child,(n.subtreeFlags&1028)!==0&&r!==null)r.return=n,rt=r;else for(;rt!==null;){n=rt;try{var g=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,p=n.stateNode,h=p.getSnapshotBeforeUpdate(n.elementType===n.type?y:Pn(n.type,y),b);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var w=n.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(We(163))}}catch(_){Zt(n,n.return,_)}if(r=n.sibling,r!==null){r.return=n.return,rt=r;break}rt=n.return}return g=dy,dy=!1,g}function ua(r,n,o){var t=n.updateQueue;if(t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&r)===r){var a=i.destroy;i.destroy=void 0,a!==void 0&&rh(n,o,a)}i=i.next}while(i!==t)}}function fc(r,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&r)===r){var t=o.create;o.destroy=t()}o=o.next}while(o!==n)}}function nh(r){var n=r.ref;if(n!==null){var o=r.stateNode;switch(r.tag){case 5:r=o;break;default:r=o}typeof n=="function"?n(r):n.current=r}}function u1(r){var n=r.alternate;n!==null&&(r.alternate=null,u1(n)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(n=r.stateNode,n!==null&&(delete n[$n],delete n[Oa],delete n[Vf],delete n[OS],delete n[MS])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function c1(r){return r.tag===5||r.tag===3||r.tag===4}function fy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||c1(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function oh(r,n,o){var t=r.tag;if(t===5||t===6)r=r.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(r,n):o.insertBefore(r,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(r,o)):(n=o,n.appendChild(r)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=ku));else if(t!==4&&(r=r.child,r!==null))for(oh(r,n,o),r=r.sibling;r!==null;)oh(r,n,o),r=r.sibling}function sh(r,n,o){var t=r.tag;if(t===5||t===6)r=r.stateNode,n?o.insertBefore(r,n):o.appendChild(r);else if(t!==4&&(r=r.child,r!==null))for(sh(r,n,o),r=r.sibling;r!==null;)sh(r,n,o),r=r.sibling}var Er=null,On=!1;function vo(r,n,o){for(o=o.child;o!==null;)d1(r,n,o),o=o.sibling}function d1(r,n,o){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(oc,o)}catch{}switch(o.tag){case 5:Lr||Zs(o,n);case 6:var t=Er,i=On;Er=null,vo(r,n,o),Er=t,On=i,Er!==null&&(On?(r=Er,o=o.stateNode,r.nodeType===8?r.parentNode.removeChild(o):r.removeChild(o)):Er.removeChild(o.stateNode));break;case 18:Er!==null&&(On?(r=Er,o=o.stateNode,r.nodeType===8?Sd(r.parentNode,o):r.nodeType===1&&Sd(r,o),Ea(r)):Sd(Er,o.stateNode));break;case 4:t=Er,i=On,Er=o.stateNode.containerInfo,On=!0,vo(r,n,o),Er=t,On=i;break;case 0:case 11:case 14:case 15:if(!Lr&&(t=o.updateQueue,t!==null&&(t=t.lastEffect,t!==null))){i=t=t.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&rh(o,n,s),i=i.next}while(i!==t)}vo(r,n,o);break;case 1:if(!Lr&&(Zs(o,n),t=o.stateNode,typeof t.componentWillUnmount=="function"))try{t.props=o.memoizedProps,t.state=o.memoizedState,t.componentWillUnmount()}catch(u){Zt(o,n,u)}vo(r,n,o);break;case 21:vo(r,n,o);break;case 22:o.mode&1?(Lr=(t=Lr)||o.memoizedState!==null,vo(r,n,o),Lr=t):vo(r,n,o);break;default:vo(r,n,o)}}function hy(r){var n=r.updateQueue;if(n!==null){r.updateQueue=null;var o=r.stateNode;o===null&&(o=r.stateNode=new qS),n.forEach(function(t){var i=n2.bind(null,r,t);o.has(t)||(o.add(t),t.then(i,i))})}}function Cn(r,n){var o=n.deletions;if(o!==null)for(var t=0;t<o.length;t++){var i=o[t];try{var a=r,s=n,u=s;e:for(;u!==null;){switch(u.tag){case 5:Er=u.stateNode,On=!1;break e;case 3:Er=u.stateNode.containerInfo,On=!0;break e;case 4:Er=u.stateNode.containerInfo,On=!0;break e}u=u.return}if(Er===null)throw Error(We(160));d1(a,s,i),Er=null,On=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(f){Zt(i,n,f)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)f1(n,r),n=n.sibling}function f1(r,n){var o=r.alternate,t=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Cn(n,r),Vn(r),t&4){try{ua(3,r,r.return),fc(3,r)}catch(y){Zt(r,r.return,y)}try{ua(5,r,r.return)}catch(y){Zt(r,r.return,y)}}break;case 1:Cn(n,r),Vn(r),t&512&&o!==null&&Zs(o,o.return);break;case 5:if(Cn(n,r),Vn(r),t&512&&o!==null&&Zs(o,o.return),r.flags&32){var i=r.stateNode;try{_a(i,"")}catch(y){Zt(r,r.return,y)}}if(t&4&&(i=r.stateNode,i!=null)){var a=r.memoizedProps,s=o!==null?o.memoizedProps:a,u=r.type,l=r.updateQueue;if(r.updateQueue=null,l!==null)try{u==="input"&&a.type==="radio"&&a.name!=null&&R0(i,a),Pf(u,s);var f=Pf(u,a);for(s=0;s<l.length;s+=2){var v=l[s],m=l[s+1];v==="style"?F0(i,m):v==="dangerouslySetInnerHTML"?N0(i,m):v==="children"?_a(i,m):Zh(i,v,m,f)}switch(u){case"input":Sf(i,a);break;case"textarea":L0(i,a);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var d=a.value;d!=null?ei(i,!!a.multiple,d,!1):c!==!!a.multiple&&(a.defaultValue!=null?ei(i,!!a.multiple,a.defaultValue,!0):ei(i,!!a.multiple,a.multiple?[]:"",!1))}i[Oa]=a}catch(y){Zt(r,r.return,y)}}break;case 6:if(Cn(n,r),Vn(r),t&4){if(r.stateNode===null)throw Error(We(162));i=r.stateNode,a=r.memoizedProps;try{i.nodeValue=a}catch(y){Zt(r,r.return,y)}}break;case 3:if(Cn(n,r),Vn(r),t&4&&o!==null&&o.memoizedState.isDehydrated)try{Ea(n.containerInfo)}catch(y){Zt(r,r.return,y)}break;case 4:Cn(n,r),Vn(r);break;case 13:Cn(n,r),Vn(r),i=r.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Mp=er())),t&4&&hy(r);break;case 22:if(v=o!==null&&o.memoizedState!==null,r.mode&1?(Lr=(f=Lr)||v,Cn(n,r),Lr=f):Cn(n,r),Vn(r),t&8192){if(f=r.memoizedState!==null,(r.stateNode.isHidden=f)&&!v&&r.mode&1)for(rt=r,v=r.child;v!==null;){for(m=rt=v;rt!==null;){switch(c=rt,d=c.child,c.tag){case 0:case 11:case 14:case 15:ua(4,c,c.return);break;case 1:Zs(c,c.return);var g=c.stateNode;if(typeof g.componentWillUnmount=="function"){t=c,o=c.return;try{n=t,g.props=n.memoizedProps,g.state=n.memoizedState,g.componentWillUnmount()}catch(y){Zt(t,o,y)}}break;case 5:Zs(c,c.return);break;case 22:if(c.memoizedState!==null){my(m);continue}}d!==null?(d.return=c,rt=d):my(m)}v=v.sibling}e:for(v=null,m=r;;){if(m.tag===5){if(v===null){v=m;try{i=m.stateNode,f?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(u=m.stateNode,l=m.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,u.style.display=U0("display",s))}catch(y){Zt(r,r.return,y)}}}else if(m.tag===6){if(v===null)try{m.stateNode.nodeValue=f?"":m.memoizedProps}catch(y){Zt(r,r.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===r)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===r)break e;for(;m.sibling===null;){if(m.return===null||m.return===r)break e;v===m&&(v=null),m=m.return}v===m&&(v=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Cn(n,r),Vn(r),t&4&&hy(r);break;case 21:break;default:Cn(n,r),Vn(r)}}function Vn(r){var n=r.flags;if(n&2){try{e:{for(var o=r.return;o!==null;){if(c1(o)){var t=o;break e}o=o.return}throw Error(We(160))}switch(t.tag){case 5:var i=t.stateNode;t.flags&32&&(_a(i,""),t.flags&=-33);var a=fy(r);sh(r,a,i);break;case 3:case 4:var s=t.stateNode.containerInfo,u=fy(r);oh(r,u,s);break;default:throw Error(We(161))}}catch(l){Zt(r,r.return,l)}r.flags&=-3}n&4096&&(r.flags&=-4097)}function YS(r,n,o){rt=r,h1(r)}function h1(r,n,o){for(var t=(r.mode&1)!==0;rt!==null;){var i=rt,a=i.child;if(i.tag===22&&t){var s=i.memoizedState!==null||Nl;if(!s){var u=i.alternate,l=u!==null&&u.memoizedState!==null||Lr;u=Nl;var f=Lr;if(Nl=s,(Lr=l)&&!f)for(rt=i;rt!==null;)s=rt,l=s.child,s.tag===22&&s.memoizedState!==null?gy(i):l!==null?(l.return=s,rt=l):gy(i);for(;a!==null;)rt=a,h1(a),a=a.sibling;rt=i,Nl=u,Lr=f}py(r)}else i.subtreeFlags&8772&&a!==null?(a.return=i,rt=a):py(r)}}function py(r){for(;rt!==null;){var n=rt;if(n.flags&8772){var o=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Lr||fc(5,n);break;case 1:var t=n.stateNode;if(n.flags&4&&!Lr)if(o===null)t.componentDidMount();else{var i=n.elementType===n.type?o.memoizedProps:Pn(n.type,o.memoizedProps);t.componentDidUpdate(i,o.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}var a=n.updateQueue;a!==null&&Zg(n,a,t);break;case 3:var s=n.updateQueue;if(s!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}Zg(n,s,o)}break;case 5:var u=n.stateNode;if(o===null&&n.flags&4){o=u;var l=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&o.focus();break;case"img":l.src&&(o.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var f=n.alternate;if(f!==null){var v=f.memoizedState;if(v!==null){var m=v.dehydrated;m!==null&&Ea(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(We(163))}Lr||n.flags&512&&nh(n)}catch(c){Zt(n,n.return,c)}}if(n===r){rt=null;break}if(o=n.sibling,o!==null){o.return=n.return,rt=o;break}rt=n.return}}function my(r){for(;rt!==null;){var n=rt;if(n===r){rt=null;break}var o=n.sibling;if(o!==null){o.return=n.return,rt=o;break}rt=n.return}}function gy(r){for(;rt!==null;){var n=rt;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{fc(4,n)}catch(l){Zt(n,o,l)}break;case 1:var t=n.stateNode;if(typeof t.componentDidMount=="function"){var i=n.return;try{t.componentDidMount()}catch(l){Zt(n,i,l)}}var a=n.return;try{nh(n)}catch(l){Zt(n,a,l)}break;case 5:var s=n.return;try{nh(n)}catch(l){Zt(n,s,l)}}}catch(l){Zt(n,n.return,l)}if(n===r){rt=null;break}var u=n.sibling;if(u!==null){u.return=n.return,rt=u;break}rt=n.return}}var KS=Math.ceil,Nu=po.ReactCurrentDispatcher,Pp=po.ReactCurrentOwner,wn=po.ReactCurrentBatchConfig,Et=0,yr=null,sr=null,Cr=0,rn=0,Qs=Yo(0),dr=0,Da=null,vs=0,hc=0,Op=0,ca=null,Xr=null,Mp=0,fi=1/0,ro=null,Uu=!1,ih=null,Uo=null,Ul=!1,Oo=null,Fu=0,da=0,ah=null,fu=-1,hu=0;function Vr(){return Et&6?er():fu!==-1?fu:fu=er()}function Fo(r){return r.mode&1?Et&2&&Cr!==0?Cr&-Cr:AS.transition!==null?(hu===0&&(hu=J0()),hu):(r=Tt,r!==0||(r=window.event,r=r===void 0?16:ob(r.type)),r):1}function Dn(r,n,o,t){if(50<da)throw da=0,ah=null,Error(We(185));Xa(r,o,t),(!(Et&2)||r!==yr)&&(r===yr&&(!(Et&2)&&(hc|=o),dr===4&&Co(r,Cr)),Qr(r,t),o===1&&Et===0&&!(n.mode&1)&&(fi=er()+500,uc&&Ko()))}function Qr(r,n){var o=r.callbackNode;Aj(r,n);var t=xu(r,r===yr?Cr:0);if(t===0)o!==null&&Eg(o),r.callbackNode=null,r.callbackPriority=0;else if(n=t&-t,r.callbackPriority!==n){if(o!=null&&Eg(o),n===1)r.tag===0?IS(yy.bind(null,r)):jb(yy.bind(null,r)),TS(function(){!(Et&6)&&Ko()}),o=null;else{switch(Z0(t)){case 1:o=np;break;case 4:o=Y0;break;case 16:o=_u;break;case 536870912:o=K0;break;default:o=_u}o=_1(o,p1.bind(null,r))}r.callbackPriority=n,r.callbackNode=o}}function p1(r,n){if(fu=-1,hu=0,Et&6)throw Error(We(327));var o=r.callbackNode;if(si()&&r.callbackNode!==o)return null;var t=xu(r,r===yr?Cr:0);if(t===0)return null;if(t&30||t&r.expiredLanes||n)n=Bu(r,t);else{n=t;var i=Et;Et|=2;var a=g1();(yr!==r||Cr!==n)&&(ro=null,fi=er()+500,hs(r,n));do try{QS();break}catch(u){m1(r,u)}while(!0);gp(),Nu.current=a,Et=i,sr!==null?n=0:(yr=null,Cr=0,n=dr)}if(n!==0){if(n===2&&(i=Rf(r),i!==0&&(t=i,n=lh(r,i))),n===1)throw o=Da,hs(r,0),Co(r,t),Qr(r,er()),o;if(n===6)Co(r,t);else{if(i=r.current.alternate,!(t&30)&&!JS(i)&&(n=Bu(r,t),n===2&&(a=Rf(r),a!==0&&(t=a,n=lh(r,a))),n===1))throw o=Da,hs(r,0),Co(r,t),Qr(r,er()),o;switch(r.finishedWork=i,r.finishedLanes=t,n){case 0:case 1:throw Error(We(345));case 2:ss(r,Xr,ro);break;case 3:if(Co(r,t),(t&130023424)===t&&(n=Mp+500-er(),10<n)){if(xu(r,0)!==0)break;if(i=r.suspendedLanes,(i&t)!==t){Vr(),r.pingedLanes|=r.suspendedLanes&i;break}r.timeoutHandle=zf(ss.bind(null,r,Xr,ro),n);break}ss(r,Xr,ro);break;case 4:if(Co(r,t),(t&4194240)===t)break;for(n=r.eventTimes,i=-1;0<t;){var s=31-Ln(t);a=1<<s,s=n[s],s>i&&(i=s),t&=~a}if(t=i,t=er()-t,t=(120>t?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*KS(t/1960))-t,10<t){r.timeoutHandle=zf(ss.bind(null,r,Xr,ro),t);break}ss(r,Xr,ro);break;case 5:ss(r,Xr,ro);break;default:throw Error(We(329))}}}return Qr(r,er()),r.callbackNode===o?p1.bind(null,r):null}function lh(r,n){var o=ca;return r.current.memoizedState.isDehydrated&&(hs(r,n).flags|=256),r=Bu(r,n),r!==2&&(n=Xr,Xr=o,n!==null&&uh(n)),r}function uh(r){Xr===null?Xr=r:Xr.push.apply(Xr,r)}function JS(r){for(var n=r;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var t=0;t<o.length;t++){var i=o[t],a=i.getSnapshot;i=i.value;try{if(!Nn(a(),i))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Co(r,n){for(n&=~Op,n&=~hc,r.suspendedLanes|=n,r.pingedLanes&=~n,r=r.expirationTimes;0<n;){var o=31-Ln(n),t=1<<o;r[o]=-1,n&=~t}}function yy(r){if(Et&6)throw Error(We(327));si();var n=xu(r,0);if(!(n&1))return Qr(r,er()),null;var o=Bu(r,n);if(r.tag!==0&&o===2){var t=Rf(r);t!==0&&(n=t,o=lh(r,t))}if(o===1)throw o=Da,hs(r,0),Co(r,n),Qr(r,er()),o;if(o===6)throw Error(We(345));return r.finishedWork=r.current.alternate,r.finishedLanes=n,ss(r,Xr,ro),Qr(r,er()),null}function Ip(r,n){var o=Et;Et|=1;try{return r(n)}finally{Et=o,Et===0&&(fi=er()+500,uc&&Ko())}}function bs(r){Oo!==null&&Oo.tag===0&&!(Et&6)&&si();var n=Et;Et|=1;var o=wn.transition,t=Tt;try{if(wn.transition=null,Tt=1,r)return r()}finally{Tt=t,wn.transition=o,Et=n,!(Et&6)&&Ko()}}function Ap(){rn=Qs.current,zt(Qs)}function hs(r,n){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;if(o!==-1&&(r.timeoutHandle=-1,CS(o)),sr!==null)for(o=sr.return;o!==null;){var t=o;switch(hp(t),t.tag){case 1:t=t.type.childContextTypes,t!=null&&Cu();break;case 3:ci(),zt(Jr),zt(Nr),xp();break;case 5:_p(t);break;case 4:ci();break;case 13:zt(qt);break;case 19:zt(qt);break;case 10:yp(t.type._context);break;case 22:case 23:Ap()}o=o.return}if(yr=r,sr=r=Bo(r.current,null),Cr=rn=n,dr=0,Da=null,Op=hc=vs=0,Xr=ca=null,ds!==null){for(n=0;n<ds.length;n++)if(o=ds[n],t=o.interleaved,t!==null){o.interleaved=null;var i=t.next,a=o.pending;if(a!==null){var s=a.next;a.next=i,t.next=s}o.pending=t}ds=null}return r}function m1(r,n){do{var o=sr;try{if(gp(),uu.current=Du,Lu){for(var t=Xt.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Lu=!1}if(ys=0,gr=ur=Xt=null,la=!1,Aa=0,Pp.current=null,o===null||o.return===null){dr=1,Da=n,sr=null;break}e:{var a=r,s=o.return,u=o,l=n;if(n=Cr,u.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var f=l,v=u,m=v.tag;if(!(v.mode&1)&&(m===0||m===11||m===15)){var c=v.alternate;c?(v.updateQueue=c.updateQueue,v.memoizedState=c.memoizedState,v.lanes=c.lanes):(v.updateQueue=null,v.memoizedState=null)}var d=oy(s);if(d!==null){d.flags&=-257,sy(d,s,u,a,n),d.mode&1&&ny(a,f,n),n=d,l=f;var g=n.updateQueue;if(g===null){var y=new Set;y.add(l),n.updateQueue=y}else g.add(l);break e}else{if(!(n&1)){ny(a,f,n),Rp();break e}l=Error(We(426))}}else if(Vt&&u.mode&1){var b=oy(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),sy(b,s,u,a,n),pp(di(l,u));break e}}a=l=di(l,u),dr!==4&&(dr=2),ca===null?ca=[a]:ca.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,n&=-n,a.lanes|=n;var p=Zb(a,l,n);Jg(a,p);break e;case 1:u=l;var h=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof h.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Uo===null||!Uo.has(w)))){a.flags|=65536,n&=-n,a.lanes|=n;var _=Qb(a,u,n);Jg(a,_);break e}}a=a.return}while(a!==null)}v1(o)}catch(j){n=j,sr===o&&o!==null&&(sr=o=o.return);continue}break}while(!0)}function g1(){var r=Nu.current;return Nu.current=Du,r===null?Du:r}function Rp(){(dr===0||dr===3||dr===2)&&(dr=4),yr===null||!(vs&268435455)&&!(hc&268435455)||Co(yr,Cr)}function Bu(r,n){var o=Et;Et|=2;var t=g1();(yr!==r||Cr!==n)&&(ro=null,hs(r,n));do try{ZS();break}catch(i){m1(r,i)}while(!0);if(gp(),Et=o,Nu.current=t,sr!==null)throw Error(We(261));return yr=null,Cr=0,dr}function ZS(){for(;sr!==null;)y1(sr)}function QS(){for(;sr!==null&&!Sj();)y1(sr)}function y1(r){var n=w1(r.alternate,r,rn);r.memoizedProps=r.pendingProps,n===null?v1(r):sr=n,Pp.current=null}function v1(r){var n=r;do{var o=n.alternate;if(r=n.return,n.flags&32768){if(o=$S(o,n),o!==null){o.flags&=32767,sr=o;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{dr=6,sr=null;return}}else if(o=HS(o,n,rn),o!==null){sr=o;return}if(n=n.sibling,n!==null){sr=n;return}sr=n=r}while(n!==null);dr===0&&(dr=5)}function ss(r,n,o){var t=Tt,i=wn.transition;try{wn.transition=null,Tt=1,e2(r,n,o,t)}finally{wn.transition=i,Tt=t}return null}function e2(r,n,o,t){do si();while(Oo!==null);if(Et&6)throw Error(We(327));o=r.finishedWork;var i=r.finishedLanes;if(o===null)return null;if(r.finishedWork=null,r.finishedLanes=0,o===r.current)throw Error(We(177));r.callbackNode=null,r.callbackPriority=0;var a=o.lanes|o.childLanes;if(Rj(r,a),r===yr&&(sr=yr=null,Cr=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Ul||(Ul=!0,_1(_u,function(){return si(),null})),a=(o.flags&15990)!==0,o.subtreeFlags&15990||a){a=wn.transition,wn.transition=null;var s=Tt;Tt=1;var u=Et;Et|=4,Pp.current=null,XS(r,o),f1(o,r),wS(Bf),ju=!!Ff,Bf=Ff=null,r.current=o,YS(o),Ej(),Et=u,Tt=s,wn.transition=a}else r.current=o;if(Ul&&(Ul=!1,Oo=r,Fu=i),a=r.pendingLanes,a===0&&(Uo=null),Tj(o.stateNode),Qr(r,er()),n!==null)for(t=r.onRecoverableError,o=0;o<n.length;o++)i=n[o],t(i.value,{componentStack:i.stack,digest:i.digest});if(Uu)throw Uu=!1,r=ih,ih=null,r;return Fu&1&&r.tag!==0&&si(),a=r.pendingLanes,a&1?r===ah?da++:(da=0,ah=r):da=0,Ko(),null}function si(){if(Oo!==null){var r=Z0(Fu),n=wn.transition,o=Tt;try{if(wn.transition=null,Tt=16>r?16:r,Oo===null)var t=!1;else{if(r=Oo,Oo=null,Fu=0,Et&6)throw Error(We(331));var i=Et;for(Et|=4,rt=r.current;rt!==null;){var a=rt,s=a.child;if(rt.flags&16){var u=a.deletions;if(u!==null){for(var l=0;l<u.length;l++){var f=u[l];for(rt=f;rt!==null;){var v=rt;switch(v.tag){case 0:case 11:case 15:ua(8,v,a)}var m=v.child;if(m!==null)m.return=v,rt=m;else for(;rt!==null;){v=rt;var c=v.sibling,d=v.return;if(u1(v),v===f){rt=null;break}if(c!==null){c.return=d,rt=c;break}rt=d}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}rt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,rt=s;else e:for(;rt!==null;){if(a=rt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ua(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,rt=p;break e}rt=a.return}}var h=r.current;for(rt=h;rt!==null;){s=rt;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,rt=w;else e:for(s=h;rt!==null;){if(u=rt,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:fc(9,u)}}catch(j){Zt(u,u.return,j)}if(u===s){rt=null;break e}var _=u.sibling;if(_!==null){_.return=u.return,rt=_;break e}rt=u.return}}if(Et=i,Ko(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(oc,r)}catch{}t=!0}return t}finally{Tt=o,wn.transition=n}}return!1}function vy(r,n,o){n=di(o,n),n=Zb(r,n,1),r=No(r,n,1),n=Vr(),r!==null&&(Xa(r,1,n),Qr(r,n))}function Zt(r,n,o){if(r.tag===3)vy(r,r,o);else for(;n!==null;){if(n.tag===3){vy(n,r,o);break}else if(n.tag===1){var t=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof t.componentDidCatch=="function"&&(Uo===null||!Uo.has(t))){r=di(o,r),r=Qb(n,r,1),n=No(n,r,1),r=Vr(),n!==null&&(Xa(n,1,r),Qr(n,r));break}}n=n.return}}function t2(r,n,o){var t=r.pingCache;t!==null&&t.delete(n),n=Vr(),r.pingedLanes|=r.suspendedLanes&o,yr===r&&(Cr&o)===o&&(dr===4||dr===3&&(Cr&130023424)===Cr&&500>er()-Mp?hs(r,0):Op|=o),Qr(r,n)}function b1(r,n){n===0&&(r.mode&1?(n=Tl,Tl<<=1,!(Tl&130023424)&&(Tl=4194304)):n=1);var o=Vr();r=co(r,n),r!==null&&(Xa(r,n,o),Qr(r,o))}function r2(r){var n=r.memoizedState,o=0;n!==null&&(o=n.retryLane),b1(r,o)}function n2(r,n){var o=0;switch(r.tag){case 13:var t=r.stateNode,i=r.memoizedState;i!==null&&(o=i.retryLane);break;case 19:t=r.stateNode;break;default:throw Error(We(314))}t!==null&&t.delete(n),b1(r,o)}var w1;w1=function(r,n,o){if(r!==null)if(r.memoizedProps!==n.pendingProps||Jr.current)Kr=!0;else{if(!(r.lanes&o)&&!(n.flags&128))return Kr=!1,WS(r,n,o);Kr=!!(r.flags&131072)}else Kr=!1,Vt&&n.flags&1048576&&Sb(n,Ou,n.index);switch(n.lanes=0,n.tag){case 2:var t=n.type;du(r,n),r=n.pendingProps;var i=ai(n,Nr.current);oi(n,o),i=Sp(null,n,t,r,i,o);var a=Ep();return n.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Zr(t)?(a=!0,Tu(n)):a=!1,n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bp(n),i.updater=dc,n.stateNode=i,i._reactInternals=n,Yf(n,t,r,o),n=Zf(null,n,t,!0,a,o)):(n.tag=0,Vt&&a&&fp(n),Br(null,n,i,o),n=n.child),n;case 16:t=n.elementType;e:{switch(du(r,n),r=n.pendingProps,i=t._init,t=i(t._payload),n.type=t,i=n.tag=s2(t),r=Pn(t,r),i){case 0:n=Jf(null,n,t,r,o);break e;case 1:n=ly(null,n,t,r,o);break e;case 11:n=iy(null,n,t,r,o);break e;case 14:n=ay(null,n,t,Pn(t.type,r),o);break e}throw Error(We(306,t,""))}return n;case 0:return t=n.type,i=n.pendingProps,i=n.elementType===t?i:Pn(t,i),Jf(r,n,t,i,o);case 1:return t=n.type,i=n.pendingProps,i=n.elementType===t?i:Pn(t,i),ly(r,n,t,i,o);case 3:e:{if(n1(n),r===null)throw Error(We(387));t=n.pendingProps,a=n.memoizedState,i=a.element,Ob(r,n),Au(n,t,null,o);var s=n.memoizedState;if(t=s.element,a.isDehydrated)if(a={element:t,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},n.updateQueue.baseState=a,n.memoizedState=a,n.flags&256){i=di(Error(We(423)),n),n=uy(r,n,t,o,i);break e}else if(t!==i){i=di(Error(We(424)),n),n=uy(r,n,t,o,i);break e}else for(nn=Do(n.stateNode.containerInfo.firstChild),sn=n,Vt=!0,In=null,o=Tb(n,null,t,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(li(),t===i){n=fo(r,n,o);break e}Br(r,n,t,o)}n=n.child}return n;case 5:return Mb(n),r===null&&$f(n),t=n.type,i=n.pendingProps,a=r!==null?r.memoizedProps:null,s=i.children,Gf(t,i)?s=null:a!==null&&Gf(t,a)&&(n.flags|=32),r1(r,n),Br(r,n,s,o),n.child;case 6:return r===null&&$f(n),null;case 13:return o1(r,n,o);case 4:return wp(n,n.stateNode.containerInfo),t=n.pendingProps,r===null?n.child=ui(n,null,t,o):Br(r,n,t,o),n.child;case 11:return t=n.type,i=n.pendingProps,i=n.elementType===t?i:Pn(t,i),iy(r,n,t,i,o);case 7:return Br(r,n,n.pendingProps,o),n.child;case 8:return Br(r,n,n.pendingProps.children,o),n.child;case 12:return Br(r,n,n.pendingProps.children,o),n.child;case 10:e:{if(t=n.type._context,i=n.pendingProps,a=n.memoizedProps,s=i.value,Nt(Mu,t._currentValue),t._currentValue=s,a!==null)if(Nn(a.value,s)){if(a.children===i.children&&!Jr.current){n=fo(r,n,o);break e}}else for(a=n.child,a!==null&&(a.return=n);a!==null;){var u=a.dependencies;if(u!==null){s=a.child;for(var l=u.firstContext;l!==null;){if(l.context===t){if(a.tag===1){l=ao(-1,o&-o),l.tag=2;var f=a.updateQueue;if(f!==null){f=f.shared;var v=f.pending;v===null?l.next=l:(l.next=v.next,v.next=l),f.pending=l}}a.lanes|=o,l=a.alternate,l!==null&&(l.lanes|=o),qf(a.return,o,n),u.lanes|=o;break}l=l.next}}else if(a.tag===10)s=a.type===n.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(We(341));s.lanes|=o,u=s.alternate,u!==null&&(u.lanes|=o),qf(s,o,n),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===n){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Br(r,n,i.children,o),n=n.child}return n;case 9:return i=n.type,t=n.pendingProps.children,oi(n,o),i=xn(i),t=t(i),n.flags|=1,Br(r,n,t,o),n.child;case 14:return t=n.type,i=Pn(t,n.pendingProps),i=Pn(t.type,i),ay(r,n,t,i,o);case 15:return e1(r,n,n.type,n.pendingProps,o);case 17:return t=n.type,i=n.pendingProps,i=n.elementType===t?i:Pn(t,i),du(r,n),n.tag=1,Zr(t)?(r=!0,Tu(n)):r=!1,oi(n,o),Jb(n,t,i),Yf(n,t,i,o),Zf(null,n,t,!0,r,o);case 19:return s1(r,n,o);case 22:return t1(r,n,o)}throw Error(We(156,n.tag))};function _1(r,n){return X0(r,n)}function o2(r,n,o,t){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=t,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(r,n,o,t){return new o2(r,n,o,t)}function Lp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function s2(r){if(typeof r=="function")return Lp(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ep)return 11;if(r===tp)return 14}return 2}function Bo(r,n){var o=r.alternate;return o===null?(o=vn(r.tag,n,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=n,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&14680064,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,n=r.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o}function pu(r,n,o,t,i,a){var s=2;if(t=r,typeof r=="function")Lp(r)&&(s=1);else if(typeof r=="string")s=5;else e:switch(r){case Vs:return ps(o.children,i,a,n);case Qh:s=8,i|=8;break;case bf:return r=vn(12,o,n,i|2),r.elementType=bf,r.lanes=a,r;case wf:return r=vn(13,o,n,i),r.elementType=wf,r.lanes=a,r;case _f:return r=vn(19,o,n,i),r.elementType=_f,r.lanes=a,r;case M0:return pc(o,i,a,n);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case P0:s=10;break e;case O0:s=9;break e;case ep:s=11;break e;case tp:s=14;break e;case xo:s=16,t=null;break e}throw Error(We(130,r==null?r:typeof r,""))}return n=vn(s,o,n,i),n.elementType=r,n.type=t,n.lanes=a,n}function ps(r,n,o,t){return r=vn(7,r,t,n),r.lanes=o,r}function pc(r,n,o,t){return r=vn(22,r,t,n),r.elementType=M0,r.lanes=o,r.stateNode={isHidden:!1},r}function Id(r,n,o){return r=vn(6,r,null,n),r.lanes=o,r}function Ad(r,n,o){return n=vn(4,r.children!==null?r.children:[],r.key,n),n.lanes=o,n.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},n}function i2(r,n,o,t,i){this.tag=n,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hd(0),this.expirationTimes=hd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hd(0),this.identifierPrefix=t,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dp(r,n,o,t,i,a,s,u,l){return r=new i2(r,n,o,u,l),n===1?(n=1,a===!0&&(n|=8)):n=0,a=vn(3,null,null,n),r.current=a,a.stateNode=r,a.memoizedState={element:t,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},bp(a),r}function a2(r,n,o){var t=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zs,key:t==null?null:""+t,children:r,containerInfo:n,implementation:o}}function x1(r){if(!r)return $o;r=r._reactInternals;e:{if(xs(r)!==r||r.tag!==1)throw Error(We(170));var n=r;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Zr(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(We(171))}if(r.tag===1){var o=r.type;if(Zr(o))return xb(r,o,n)}return n}function j1(r,n,o,t,i,a,s,u,l){return r=Dp(o,t,!0,r,i,a,s,u,l),r.context=x1(null),o=r.current,t=Vr(),i=Fo(o),a=ao(t,i),a.callback=n??null,No(o,a,i),r.current.lanes=i,Xa(r,i,t),Qr(r,t),r}function mc(r,n,o,t){var i=n.current,a=Vr(),s=Fo(i);return o=x1(o),n.context===null?n.context=o:n.pendingContext=o,n=ao(a,s),n.payload={element:r},t=t===void 0?null:t,t!==null&&(n.callback=t),r=No(i,n,s),r!==null&&(Dn(r,i,s,a),lu(r,i,s)),s}function Gu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function by(r,n){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<n?o:n}}function Np(r,n){by(r,n),(r=r.alternate)&&by(r,n)}function l2(){return null}var S1=typeof reportError=="function"?reportError:function(r){console.error(r)};function Up(r){this._internalRoot=r}gc.prototype.render=Up.prototype.render=function(r){var n=this._internalRoot;if(n===null)throw Error(We(409));mc(r,n,null,null)};gc.prototype.unmount=Up.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var n=r.containerInfo;bs(function(){mc(null,r,null,null)}),n[uo]=null}};function gc(r){this._internalRoot=r}gc.prototype.unstable_scheduleHydration=function(r){if(r){var n=tb();r={blockedOn:null,target:r,priority:n};for(var o=0;o<ko.length&&n!==0&&n<ko[o].priority;o++);ko.splice(o,0,r),o===0&&nb(r)}};function Fp(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function yc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function wy(){}function u2(r,n,o,t,i){if(i){if(typeof t=="function"){var a=t;t=function(){var f=Gu(s);a.call(f)}}var s=j1(n,t,r,0,null,!1,!1,"",wy);return r._reactRootContainer=s,r[uo]=s.current,Ta(r.nodeType===8?r.parentNode:r),bs(),s}for(;i=r.lastChild;)r.removeChild(i);if(typeof t=="function"){var u=t;t=function(){var f=Gu(l);u.call(f)}}var l=Dp(r,0,!1,null,null,!1,!1,"",wy);return r._reactRootContainer=l,r[uo]=l.current,Ta(r.nodeType===8?r.parentNode:r),bs(function(){mc(n,l,o,t)}),l}function vc(r,n,o,t,i){var a=o._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var u=i;i=function(){var l=Gu(s);u.call(l)}}mc(n,s,r,i)}else s=u2(o,n,r,i,t);return Gu(s)}Q0=function(r){switch(r.tag){case 3:var n=r.stateNode;if(n.current.memoizedState.isDehydrated){var o=Qi(n.pendingLanes);o!==0&&(op(n,o|1),Qr(n,er()),!(Et&6)&&(fi=er()+500,Ko()))}break;case 13:bs(function(){var t=co(r,1);if(t!==null){var i=Vr();Dn(t,r,1,i)}}),Np(r,1)}};sp=function(r){if(r.tag===13){var n=co(r,134217728);if(n!==null){var o=Vr();Dn(n,r,134217728,o)}Np(r,134217728)}};eb=function(r){if(r.tag===13){var n=Fo(r),o=co(r,n);if(o!==null){var t=Vr();Dn(o,r,n,t)}Np(r,n)}};tb=function(){return Tt};rb=function(r,n){var o=Tt;try{return Tt=r,n()}finally{Tt=o}};Mf=function(r,n,o){switch(n){case"input":if(Sf(r,o),n=o.name,o.type==="radio"&&n!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var t=o[n];if(t!==r&&t.form===r.form){var i=lc(t);if(!i)throw Error(We(90));A0(t),Sf(t,i)}}}break;case"textarea":L0(r,o);break;case"select":n=o.value,n!=null&&ei(r,!!o.multiple,n,!1)}};z0=Ip;V0=bs;var c2={usingClientEntryPoint:!1,Events:[Ka,qs,lc,B0,G0,Ip]},$i={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d2={bundleType:$i.bundleType,version:$i.version,rendererPackageName:$i.rendererPackageName,rendererConfig:$i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:po.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=$0(r),r===null?null:r.stateNode},findFiberByHostInstance:$i.findFiberByHostInstance||l2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fl.isDisabled&&Fl.supportsFiber)try{oc=Fl.inject(d2),qn=Fl}catch{}}cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c2;cn.createPortal=function(r,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fp(n))throw Error(We(200));return a2(r,n,null,o)};cn.createRoot=function(r,n){if(!Fp(r))throw Error(We(299));var o=!1,t="",i=S1;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(t=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),n=Dp(r,1,!1,null,null,o,!1,t,i),r[uo]=n.current,Ta(r.nodeType===8?r.parentNode:r),new Up(n)};cn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var n=r._reactInternals;if(n===void 0)throw typeof r.render=="function"?Error(We(188)):(r=Object.keys(r).join(","),Error(We(268,r)));return r=$0(n),r=r===null?null:r.stateNode,r};cn.flushSync=function(r){return bs(r)};cn.hydrate=function(r,n,o){if(!yc(n))throw Error(We(200));return vc(null,r,n,!0,o)};cn.hydrateRoot=function(r,n,o){if(!Fp(r))throw Error(We(405));var t=o!=null&&o.hydratedSources||null,i=!1,a="",s=S1;if(o!=null&&(o.unstable_strictMode===!0&&(i=!0),o.identifierPrefix!==void 0&&(a=o.identifierPrefix),o.onRecoverableError!==void 0&&(s=o.onRecoverableError)),n=j1(n,null,r,1,o??null,i,!1,a,s),r[uo]=n.current,Ta(r),t)for(r=0;r<t.length;r++)o=t[r],i=o._getVersion,i=i(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,i]:n.mutableSourceEagerHydrationData.push(o,i);return new gc(n)};cn.render=function(r,n,o){if(!yc(n))throw Error(We(200));return vc(null,r,n,!1,o)};cn.unmountComponentAtNode=function(r){if(!yc(r))throw Error(We(40));return r._reactRootContainer?(bs(function(){vc(null,null,r,!1,function(){r._reactRootContainer=null,r[uo]=null})}),!0):!1};cn.unstable_batchedUpdates=Ip;cn.unstable_renderSubtreeIntoContainer=function(r,n,o,t){if(!yc(o))throw Error(We(200));if(r==null||r._reactInternals===void 0)throw Error(We(38));return vc(r,n,o,!1,t)};cn.version="18.3.1-next-f1338f8080-20240426";function E1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E1)}catch(r){console.error(r)}}E1(),E0.exports=cn;var bc=E0.exports;const f2=rc(bc);var _y=bc;yf.createRoot=_y.createRoot,yf.hydrateRoot=_y.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Na(){return Na=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}return r},Na.apply(this,arguments)}var Mo;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Mo||(Mo={}));const xy="popstate";function h2(r){r===void 0&&(r={});function n(t,i){let{pathname:a,search:s,hash:u}=t.location;return ch("",{pathname:a,search:s,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function o(t,i){return typeof i=="string"?i:zu(i)}return m2(n,o,null,r)}function tr(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function k1(r,n){if(!r){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function p2(){return Math.random().toString(36).substr(2,8)}function jy(r,n){return{usr:r.state,key:r.key,idx:n}}function ch(r,n,o,t){return o===void 0&&(o=null),Na({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof n=="string"?xi(n):n,{state:o,key:n&&n.key||t||p2()})}function zu(r){let{pathname:n="/",search:o="",hash:t=""}=r;return o&&o!=="?"&&(n+=o.charAt(0)==="?"?o:"?"+o),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function xi(r){let n={};if(r){let o=r.indexOf("#");o>=0&&(n.hash=r.substr(o),r=r.substr(0,o));let t=r.indexOf("?");t>=0&&(n.search=r.substr(t),r=r.substr(0,t)),r&&(n.pathname=r)}return n}function m2(r,n,o,t){t===void 0&&(t={});let{window:i=document.defaultView,v5Compat:a=!1}=t,s=i.history,u=Mo.Pop,l=null,f=v();f==null&&(f=0,s.replaceState(Na({},s.state,{idx:f}),""));function v(){return(s.state||{idx:null}).idx}function m(){u=Mo.Pop;let b=v(),p=b==null?null:b-f;f=b,l&&l({action:u,location:y.location,delta:p})}function c(b,p){u=Mo.Push;let h=ch(y.location,b,p);f=v()+1;let w=jy(h,f),_=y.createHref(h);try{s.pushState(w,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(_)}a&&l&&l({action:u,location:y.location,delta:1})}function d(b,p){u=Mo.Replace;let h=ch(y.location,b,p);f=v();let w=jy(h,f),_=y.createHref(h);s.replaceState(w,"",_),a&&l&&l({action:u,location:y.location,delta:0})}function g(b){let p=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof b=="string"?b:zu(b);return h=h.replace(/ $/,"%20"),tr(p,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,p)}let y={get action(){return u},get location(){return r(i,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(xy,m),l=b,()=>{i.removeEventListener(xy,m),l=null}},createHref(b){return n(i,b)},createURL:g,encodeLocation(b){let p=g(b);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:c,replace:d,go(b){return s.go(b)}};return y}var Sy;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Sy||(Sy={}));function g2(r,n,o){return o===void 0&&(o="/"),y2(r,n,o)}function y2(r,n,o,t){let i=typeof n=="string"?xi(n):n,a=Bp(i.pathname||"/",o);if(a==null)return null;let s=C1(r);v2(s);let u=null;for(let l=0;u==null&&l<s.length;++l){let f=O2(a);u=C2(s[l],f)}return u}function C1(r,n,o,t){n===void 0&&(n=[]),o===void 0&&(o=[]),t===void 0&&(t="");let i=(a,s,u)=>{let l={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(tr(l.relativePath.startsWith(t),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+t+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(t.length));let f=Go([t,l.relativePath]),v=o.concat(l);a.children&&a.children.length>0&&(tr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),C1(a.children,n,v,f)),!(a.path==null&&!a.index)&&n.push({path:f,score:E2(f,a.index),routesMeta:v})};return r.forEach((a,s)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,s);else for(let l of T1(a.path))i(a,s,l)}),n}function T1(r){let n=r.split("/");if(n.length===0)return[];let[o,...t]=n,i=o.endsWith("?"),a=o.replace(/\?$/,"");if(t.length===0)return i?[a,""]:[a];let s=T1(t.join("/")),u=[];return u.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&u.push(...s),u.map(l=>r.startsWith("/")&&l===""?"/":l)}function v2(r){r.sort((n,o)=>n.score!==o.score?o.score-n.score:k2(n.routesMeta.map(t=>t.childrenIndex),o.routesMeta.map(t=>t.childrenIndex)))}const b2=/^:[\w-]+$/,w2=3,_2=2,x2=1,j2=10,S2=-2,Ey=r=>r==="*";function E2(r,n){let o=r.split("/"),t=o.length;return o.some(Ey)&&(t+=S2),n&&(t+=_2),o.filter(i=>!Ey(i)).reduce((i,a)=>i+(b2.test(a)?w2:a===""?x2:j2),t)}function k2(r,n){return r.length===n.length&&r.slice(0,-1).every((t,i)=>t===n[i])?r[r.length-1]-n[n.length-1]:0}function C2(r,n,o){let{routesMeta:t}=r,i={},a="/",s=[];for(let u=0;u<t.length;++u){let l=t[u],f=u===t.length-1,v=a==="/"?n:n.slice(a.length)||"/",m=T2({path:l.relativePath,caseSensitive:l.caseSensitive,end:f},v),c=l.route;if(!m)return null;Object.assign(i,m.params),s.push({params:i,pathname:Go([a,m.pathname]),pathnameBase:R2(Go([a,m.pathnameBase])),route:c}),m.pathnameBase!=="/"&&(a=Go([a,m.pathnameBase]))}return s}function T2(r,n){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[o,t]=P2(r.path,r.caseSensitive,r.end),i=n.match(o);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:t.reduce((f,v,m)=>{let{paramName:c,isOptional:d}=v;if(c==="*"){let y=u[m]||"";s=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const g=u[m];return d&&!g?f[c]=void 0:f[c]=(g||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:r}}function P2(r,n,o){n===void 0&&(n=!1),o===void 0&&(o=!0),k1(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let t=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,l)=>(t.push({paramName:u,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(t.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,n?void 0:"i"),t]}function O2(r){try{return r.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return k1(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),r}}function Bp(r,n){if(n==="/")return r;if(!r.toLowerCase().startsWith(n.toLowerCase()))return null;let o=n.endsWith("/")?n.length-1:n.length,t=r.charAt(o);return t&&t!=="/"?null:r.slice(o)||"/"}function M2(r,n){n===void 0&&(n="/");let{pathname:o,search:t="",hash:i=""}=typeof r=="string"?xi(r):r;return{pathname:o?o.startsWith("/")?o:I2(o,n):n,search:L2(t),hash:D2(i)}}function I2(r,n){let o=n.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?o.length>1&&o.pop():i!=="."&&o.push(i)}),o.length>1?o.join("/"):"/"}function Rd(r,n,o,t){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(t)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function A2(r){return r.filter((n,o)=>o===0||n.route.path&&n.route.path.length>0)}function Gp(r,n){let o=A2(r);return n?o.map((t,i)=>i===o.length-1?t.pathname:t.pathnameBase):o.map(t=>t.pathnameBase)}function zp(r,n,o,t){t===void 0&&(t=!1);let i;typeof r=="string"?i=xi(r):(i=Na({},r),tr(!i.pathname||!i.pathname.includes("?"),Rd("?","pathname","search",i)),tr(!i.pathname||!i.pathname.includes("#"),Rd("#","pathname","hash",i)),tr(!i.search||!i.search.includes("#"),Rd("#","search","hash",i)));let a=r===""||i.pathname==="",s=a?"/":i.pathname,u;if(s==null)u=o;else{let m=n.length-1;if(!t&&s.startsWith("..")){let c=s.split("/");for(;c[0]==="..";)c.shift(),m-=1;i.pathname=c.join("/")}u=m>=0?n[m]:"/"}let l=M2(i,u),f=s&&s!=="/"&&s.endsWith("/"),v=(a||s===".")&&o.endsWith("/");return!l.pathname.endsWith("/")&&(f||v)&&(l.pathname+="/"),l}const Go=r=>r.join("/").replace(/\/\/+/g,"/"),R2=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),L2=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,D2=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function N2(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const P1=["post","put","patch","delete"];new Set(P1);const U2=["get",...P1];new Set(U2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ua(){return Ua=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}return r},Ua.apply(this,arguments)}const Vp=je.createContext(null),F2=je.createContext(null),Jo=je.createContext(null),wc=je.createContext(null),Zo=je.createContext({outlet:null,matches:[],isDataRoute:!1}),O1=je.createContext(null);function B2(r,n){let{relative:o}=n===void 0?{}:n;ji()||tr(!1);let{basename:t,navigator:i}=je.useContext(Jo),{hash:a,pathname:s,search:u}=A1(r,{relative:o}),l=s;return t!=="/"&&(l=s==="/"?t:Go([t,s])),i.createHref({pathname:l,search:u,hash:a})}function ji(){return je.useContext(wc)!=null}function Za(){return ji()||tr(!1),je.useContext(wc).location}function M1(r){je.useContext(Jo).static||je.useLayoutEffect(r)}function I1(){let{isDataRoute:r}=je.useContext(Zo);return r?Q2():G2()}function G2(){ji()||tr(!1);let r=je.useContext(Vp),{basename:n,future:o,navigator:t}=je.useContext(Jo),{matches:i}=je.useContext(Zo),{pathname:a}=Za(),s=JSON.stringify(Gp(i,o.v7_relativeSplatPath)),u=je.useRef(!1);return M1(()=>{u.current=!0}),je.useCallback(function(f,v){if(v===void 0&&(v={}),!u.current)return;if(typeof f=="number"){t.go(f);return}let m=zp(f,JSON.parse(s),a,v.relative==="path");r==null&&n!=="/"&&(m.pathname=m.pathname==="/"?n:Go([n,m.pathname])),(v.replace?t.replace:t.push)(m,v.state,v)},[n,t,s,a,r])}function A1(r,n){let{relative:o}=n===void 0?{}:n,{future:t}=je.useContext(Jo),{matches:i}=je.useContext(Zo),{pathname:a}=Za(),s=JSON.stringify(Gp(i,t.v7_relativeSplatPath));return je.useMemo(()=>zp(r,JSON.parse(s),a,o==="path"),[r,s,a,o])}function z2(r,n){return V2(r,n)}function V2(r,n,o,t){ji()||tr(!1);let{navigator:i}=je.useContext(Jo),{matches:a}=je.useContext(Zo),s=a[a.length-1],u=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let f=Za(),v;if(n){var m;let b=typeof n=="string"?xi(n):n;l==="/"||(m=b.pathname)!=null&&m.startsWith(l)||tr(!1),v=b}else v=f;let c=v.pathname||"/",d=c;if(l!=="/"){let b=l.replace(/^\//,"").split("/");d="/"+c.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=g2(r,{pathname:d}),y=X2(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},u,b.params),pathname:Go([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Go([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,o,t);return n&&y?je.createElement(wc.Provider,{value:{location:Ua({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Mo.Pop}},y):y}function W2(){let r=Z2(),n=N2(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),o=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return je.createElement(je.Fragment,null,je.createElement("h2",null,"Unexpected Application Error!"),je.createElement("h3",{style:{fontStyle:"italic"}},n),o?je.createElement("pre",{style:i},o):null,null)}const H2=je.createElement(W2,null);class $2 extends je.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,o){return o.location!==n.location||o.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:o.error,location:o.location,revalidation:n.revalidation||o.revalidation}}componentDidCatch(n,o){console.error("React Router caught the following error during render",n,o)}render(){return this.state.error!==void 0?je.createElement(Zo.Provider,{value:this.props.routeContext},je.createElement(O1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function q2(r){let{routeContext:n,match:o,children:t}=r,i=je.useContext(Vp);return i&&i.static&&i.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=o.route.id),je.createElement(Zo.Provider,{value:n},t)}function X2(r,n,o,t){var i;if(n===void 0&&(n=[]),o===void 0&&(o=null),t===void 0&&(t=null),r==null){var a;if(!o)return null;if(o.errors)r=o.matches;else if((a=t)!=null&&a.v7_partialHydration&&n.length===0&&!o.initialized&&o.matches.length>0)r=o.matches;else return null}let s=r,u=(i=o)==null?void 0:i.errors;if(u!=null){let v=s.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);v>=0||tr(!1),s=s.slice(0,Math.min(s.length,v+1))}let l=!1,f=-1;if(o&&t&&t.v7_partialHydration)for(let v=0;v<s.length;v++){let m=s[v];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=v),m.route.id){let{loaderData:c,errors:d}=o,g=m.route.loader&&c[m.route.id]===void 0&&(!d||d[m.route.id]===void 0);if(m.route.lazy||g){l=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((v,m,c)=>{let d,g=!1,y=null,b=null;o&&(d=u&&m.route.id?u[m.route.id]:void 0,y=m.route.errorElement||H2,l&&(f<0&&c===0?(eE("route-fallback"),g=!0,b=null):f===c&&(g=!0,b=m.route.hydrateFallbackElement||null)));let p=n.concat(s.slice(0,c+1)),h=()=>{let w;return d?w=y:g?w=b:m.route.Component?w=je.createElement(m.route.Component,null):m.route.element?w=m.route.element:w=v,je.createElement(q2,{match:m,routeContext:{outlet:v,matches:p,isDataRoute:o!=null},children:w})};return o&&(m.route.ErrorBoundary||m.route.errorElement||c===0)?je.createElement($2,{location:o.location,revalidation:o.revalidation,component:y,error:d,children:h(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):h()},null)}var R1=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(R1||{}),L1=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(L1||{});function Y2(r){let n=je.useContext(Vp);return n||tr(!1),n}function K2(r){let n=je.useContext(F2);return n||tr(!1),n}function J2(r){let n=je.useContext(Zo);return n||tr(!1),n}function D1(r){let n=J2(),o=n.matches[n.matches.length-1];return o.route.id||tr(!1),o.route.id}function Z2(){var r;let n=je.useContext(O1),o=K2(),t=D1();return n!==void 0?n:(r=o.errors)==null?void 0:r[t]}function Q2(){let{router:r}=Y2(R1.UseNavigateStable),n=D1(L1.UseNavigateStable),o=je.useRef(!1);return M1(()=>{o.current=!0}),je.useCallback(function(i,a){a===void 0&&(a={}),o.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,Ua({fromRouteId:n},a)))},[r,n])}const ky={};function eE(r,n,o){ky[r]||(ky[r]=!0)}function tE(r,n){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function Ps(r){let{to:n,replace:o,state:t,relative:i}=r;ji()||tr(!1);let{future:a,static:s}=je.useContext(Jo),{matches:u}=je.useContext(Zo),{pathname:l}=Za(),f=I1(),v=zp(n,Gp(u,a.v7_relativeSplatPath),l,i==="path"),m=JSON.stringify(v);return je.useEffect(()=>f(JSON.parse(m),{replace:o,state:t,relative:i}),[f,m,i,o,t]),null}function Qn(r){tr(!1)}function rE(r){let{basename:n="/",children:o=null,location:t,navigationType:i=Mo.Pop,navigator:a,static:s=!1,future:u}=r;ji()&&tr(!1);let l=n.replace(/^\/*/,"/"),f=je.useMemo(()=>({basename:l,navigator:a,static:s,future:Ua({v7_relativeSplatPath:!1},u)}),[l,u,a,s]);typeof t=="string"&&(t=xi(t));let{pathname:v="/",search:m="",hash:c="",state:d=null,key:g="default"}=t,y=je.useMemo(()=>{let b=Bp(v,l);return b==null?null:{location:{pathname:b,search:m,hash:c,state:d,key:g},navigationType:i}},[l,v,m,c,d,g,i]);return y==null?null:je.createElement(Jo.Provider,{value:f},je.createElement(wc.Provider,{children:o,value:y}))}function Cy(r){let{children:n,location:o}=r;return z2(dh(n),o)}new Promise(()=>{});function dh(r,n){n===void 0&&(n=[]);let o=[];return je.Children.forEach(r,(t,i)=>{if(!je.isValidElement(t))return;let a=[...n,i];if(t.type===je.Fragment){o.push.apply(o,dh(t.props.children,a));return}t.type!==Qn&&tr(!1),!t.props.index||!t.props.children||tr(!1);let s={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:t.props.ErrorBoundary!=null||t.props.errorElement!=null,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=dh(t.props.children,a)),o.push(s)}),o}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fh(){return fh=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}return r},fh.apply(this,arguments)}function nE(r,n){if(r==null)return{};var o={},t=Object.keys(r),i,a;for(a=0;a<t.length;a++)i=t[a],!(n.indexOf(i)>=0)&&(o[i]=r[i]);return o}function oE(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function sE(r,n){return r.button===0&&(!n||n==="_self")&&!oE(r)}const iE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],aE="6";try{window.__reactRouterVersion=aE}catch{}const lE="startTransition",Ty=tj[lE];function uE(r){let{basename:n,children:o,future:t,window:i}=r,a=je.useRef();a.current==null&&(a.current=h2({window:i,v5Compat:!0}));let s=a.current,[u,l]=je.useState({action:s.action,location:s.location}),{v7_startTransition:f}=t||{},v=je.useCallback(m=>{f&&Ty?Ty(()=>l(m)):l(m)},[l,f]);return je.useLayoutEffect(()=>s.listen(v),[s,v]),je.useEffect(()=>tE(t),[t]),je.createElement(rE,{basename:n,children:o,location:u.location,navigationType:u.action,navigator:s,future:t})}const cE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ns=je.forwardRef(function(n,o){let{onClick:t,relative:i,reloadDocument:a,replace:s,state:u,target:l,to:f,preventScrollReset:v,viewTransition:m}=n,c=nE(n,iE),{basename:d}=je.useContext(Jo),g,y=!1;if(typeof f=="string"&&dE.test(f)&&(g=f,cE))try{let w=new URL(window.location.href),_=f.startsWith("//")?new URL(w.protocol+f):new URL(f),j=Bp(_.pathname,d);_.origin===w.origin&&j!=null?f=j+_.search+_.hash:y=!0}catch{}let b=B2(f,{relative:i}),p=fE(f,{replace:s,state:u,target:l,preventScrollReset:v,relative:i,viewTransition:m});function h(w){t&&t(w),w.defaultPrevented||p(w)}return je.createElement("a",fh({},c,{href:g||b,onClick:y||a?t:h,ref:o,target:l}))});var Py;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Py||(Py={}));var Oy;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Oy||(Oy={}));function fE(r,n){let{target:o,replace:t,state:i,preventScrollReset:a,relative:s,viewTransition:u}=n===void 0?{}:n,l=I1(),f=Za(),v=A1(r,{relative:s});return je.useCallback(m=>{if(sE(m,o)){m.preventDefault();let c=t!==void 0?t:zu(f)===zu(v);l(r,{replace:c,state:i,preventScrollReset:a,relative:s,viewTransition:u})}},[f,l,v,t,i,o,r,a,s,u])}const hE="modulepreload",pE=function(r){return"/"+r},My={},Qa=function(n,o,t){let i=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),u=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(o.map(l=>{if(l=pE(l),l in My)return;My[l]=!0;const f=l.endsWith(".css"),v=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${v}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":hE,f||(m.as="script"),m.crossOrigin="",m.href=l,u&&m.setAttribute("nonce",u),document.head.appendChild(m),f)return new Promise((c,d)=>{m.addEventListener("load",c),m.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return i.then(s=>{for(const u of s||[])u.status==="rejected"&&a(u.reason);return n().catch(a)})},mE=r=>{let n;return r?n=r:typeof fetch>"u"?n=(...o)=>Qa(async()=>{const{default:t}=await Promise.resolve().then(()=>Si);return{default:t}},void 0).then(({default:t})=>t(...o)):n=fetch,(...o)=>n(...o)};class Wp extends Error{constructor(n,o="FunctionsError",t){super(n),this.name=o,this.context=t}}class gE extends Wp{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Iy extends Wp{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Ay extends Wp{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var hh;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(hh||(hh={}));var yE=function(r,n,o,t){function i(a){return a instanceof o?a:new o(function(s){s(a)})}return new(o||(o=Promise))(function(a,s){function u(v){try{f(t.next(v))}catch(m){s(m)}}function l(v){try{f(t.throw(v))}catch(m){s(m)}}function f(v){v.done?a(v.value):i(v.value).then(u,l)}f((t=t.apply(r,n||[])).next())})};class vE{constructor(n,{headers:o={},customFetch:t,region:i=hh.Any}={}){this.url=n,this.headers=o,this.region=i,this.fetch=mE(t)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,o={}){var t;return yE(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=o;let u={},{region:l}=o;l||(l=this.region);const f=new URL(`${this.url}/${n}`);l&&l!=="any"&&(u["x-region"]=l,f.searchParams.set("forceFunctionRegion",l));let v;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",v=s):typeof s=="string"?(u["Content-Type"]="text/plain",v=s):typeof FormData<"u"&&s instanceof FormData?v=s:(u["Content-Type"]="application/json",v=JSON.stringify(s)));const m=yield this.fetch(f.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:v}).catch(y=>{throw new gE(y)}),c=m.headers.get("x-relay-error");if(c&&c==="true")throw new Iy(m);if(!m.ok)throw new Ay(m);let d=((t=m.headers.get("Content-Type"))!==null&&t!==void 0?t:"text/plain").split(";")[0].trim(),g;return d==="application/json"?g=yield m.json():d==="application/octet-stream"?g=yield m.blob():d==="text/event-stream"?g=m:d==="multipart/form-data"?g=yield m.formData():g=yield m.text(),{data:g,error:null,response:m}}catch(i){return{data:null,error:i,response:i instanceof Ay||i instanceof Iy?i.context:void 0}}})}}var Yr={},Hp={},_c={},el={},xc={},jc={},bE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},hi=bE();const wE=hi.fetch,N1=hi.fetch.bind(hi),U1=hi.Headers,_E=hi.Request,xE=hi.Response,Si=Object.freeze(Object.defineProperty({__proto__:null,Headers:U1,Request:_E,Response:xE,default:N1,fetch:wE},Symbol.toStringTag,{value:"Module"})),jE=Fx(Si);var Sc={};Object.defineProperty(Sc,"__esModule",{value:!0});let SE=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};Sc.default=SE;var F1=Dr&&Dr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(jc,"__esModule",{value:!0});const EE=F1(jE),kE=F1(Sc);let CE=class{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=EE.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,o){return this.headers=Object.assign({},this.headers),this.headers[n]=o,this}then(n,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const t=this.fetch;let i=t(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,u,l;let f=null,v=null,m=null,c=a.status,d=a.statusText;if(a.ok){if(this.method!=="HEAD"){const p=await a.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?v=p:v=JSON.parse(p))}const y=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),b=(u=a.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");y&&b&&b.length>1&&(m=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(f={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,m=null,c=406,d="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const y=await a.text();try{f=JSON.parse(y),Array.isArray(f)&&a.status===404&&(v=[],f=null,c=200,d="OK")}catch{a.status===404&&y===""?(c=204,d="No Content"):f={message:y}}if(f&&this.isMaybeSingle&&(!((l=f==null?void 0:f.details)===null||l===void 0)&&l.includes("0 rows"))&&(f=null,c=200,d="OK"),f&&this.shouldThrowOnError)throw new kE.default(f)}return{error:f,data:v,count:m,status:c,statusText:d}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,u,l;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(u=a==null?void 0:a.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(n,o)}returns(){return this}overrideTypes(){return this}};jc.default=CE;var TE=Dr&&Dr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xc,"__esModule",{value:!0});const PE=TE(jc);let OE=class extends PE.default{select(n){let o=!1;const t=(n??"*").split("").map(i=>/\s/.test(i)&&!o?"":(i==='"'&&(o=!o),i)).join("");return this.url.searchParams.set("select",t),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:o=!0,nullsFirst:t,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",u=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${u?`${u},`:""}${n}.${o?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:o,referencedTable:t=o}={}){const i=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,o,{foreignTable:t,referencedTable:i=t}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${n}`),this.url.searchParams.set(s,`${o-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:o=!1,settings:t=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var u;const l=[n?"analyze":null,o?"verbose":null,t?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${f}"; options=${l};`,s==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};xc.default=OE;var ME=Dr&&Dr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(el,"__esModule",{value:!0});const IE=ME(xc);let AE=class extends IE.default{eq(n,o){return this.url.searchParams.append(n,`eq.${o}`),this}neq(n,o){return this.url.searchParams.append(n,`neq.${o}`),this}gt(n,o){return this.url.searchParams.append(n,`gt.${o}`),this}gte(n,o){return this.url.searchParams.append(n,`gte.${o}`),this}lt(n,o){return this.url.searchParams.append(n,`lt.${o}`),this}lte(n,o){return this.url.searchParams.append(n,`lte.${o}`),this}like(n,o){return this.url.searchParams.append(n,`like.${o}`),this}likeAllOf(n,o){return this.url.searchParams.append(n,`like(all).{${o.join(",")}}`),this}likeAnyOf(n,o){return this.url.searchParams.append(n,`like(any).{${o.join(",")}}`),this}ilike(n,o){return this.url.searchParams.append(n,`ilike.${o}`),this}ilikeAllOf(n,o){return this.url.searchParams.append(n,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(n,o){return this.url.searchParams.append(n,`ilike(any).{${o.join(",")}}`),this}is(n,o){return this.url.searchParams.append(n,`is.${o}`),this}in(n,o){const t=Array.from(new Set(o)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${t})`),this}contains(n,o){return typeof o=="string"?this.url.searchParams.append(n,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(n,`cs.{${o.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(o)}`),this}containedBy(n,o){return typeof o=="string"?this.url.searchParams.append(n,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(n,`cd.{${o.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(o)}`),this}rangeGt(n,o){return this.url.searchParams.append(n,`sr.${o}`),this}rangeGte(n,o){return this.url.searchParams.append(n,`nxl.${o}`),this}rangeLt(n,o){return this.url.searchParams.append(n,`sl.${o}`),this}rangeLte(n,o){return this.url.searchParams.append(n,`nxr.${o}`),this}rangeAdjacent(n,o){return this.url.searchParams.append(n,`adj.${o}`),this}overlaps(n,o){return typeof o=="string"?this.url.searchParams.append(n,`ov.${o}`):this.url.searchParams.append(n,`ov.{${o.join(",")}}`),this}textSearch(n,o,{config:t,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=t===void 0?"":`(${t})`;return this.url.searchParams.append(n,`${a}fts${s}.${o}`),this}match(n){return Object.entries(n).forEach(([o,t])=>{this.url.searchParams.append(o,`eq.${t}`)}),this}not(n,o,t){return this.url.searchParams.append(n,`not.${o}.${t}`),this}or(n,{foreignTable:o,referencedTable:t=o}={}){const i=t?`${t}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,o,t){return this.url.searchParams.append(n,`${o}.${t}`),this}};el.default=AE;var RE=Dr&&Dr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_c,"__esModule",{value:!0});const qi=RE(el);let LE=class{constructor(n,{headers:o={},schema:t,fetch:i}){this.url=n,this.headers=o,this.schema=t,this.fetch=i}select(n,{head:o=!1,count:t}={}){const i=o?"HEAD":"GET";let a=!1;const s=(n??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",s),t&&(this.headers.Prefer=`count=${t}`),new qi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:o,defaultToNull:t=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push(`count=${o}`),t||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(n)){const s=n.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(s.length>0){const u=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",u.join(","))}}return new qi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:o,ignoreDuplicates:t=!1,count:i,defaultToNull:a=!0}={}){const s="POST",u=[`resolution=${t?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&u.push(this.headers.Prefer),i&&u.push(`count=${i}`),a||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(n)){const l=n.reduce((f,v)=>f.concat(Object.keys(v)),[]);if(l.length>0){const f=[...new Set(l)].map(v=>`"${v}"`);this.url.searchParams.set("columns",f.join(","))}}return new qi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:o}={}){const t="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),o&&i.push(`count=${o}`),this.headers.Prefer=i.join(","),new qi.default({method:t,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const o="DELETE",t=[];return n&&t.push(`count=${n}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new qi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};_c.default=LE;var Ec={},kc={};Object.defineProperty(kc,"__esModule",{value:!0});kc.version=void 0;kc.version="0.0.0-automated";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.DEFAULT_HEADERS=void 0;const DE=kc;Ec.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${DE.version}`};var B1=Dr&&Dr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Hp,"__esModule",{value:!0});const NE=B1(_c),UE=B1(el),FE=Ec;let BE=class G1{constructor(n,{headers:o={},schema:t,fetch:i}={}){this.url=n,this.headers=Object.assign(Object.assign({},FE.DEFAULT_HEADERS),o),this.schemaName=t,this.fetch=i}from(n){const o=new URL(`${this.url}/${n}`);return new NE.default(o,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new G1(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,o={},{head:t=!1,get:i=!1,count:a}={}){let s;const u=new URL(`${this.url}/rpc/${n}`);let l;t||i?(s=t?"HEAD":"GET",Object.entries(o).filter(([v,m])=>m!==void 0).map(([v,m])=>[v,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([v,m])=>{u.searchParams.append(v,m)})):(s="POST",l=o);const f=Object.assign({},this.headers);return a&&(f.Prefer=`count=${a}`),new UE.default({method:s,url:u,headers:f,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Hp.default=BE;var Ei=Dr&&Dr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.PostgrestError=Yr.PostgrestBuilder=Yr.PostgrestTransformBuilder=Yr.PostgrestFilterBuilder=Yr.PostgrestQueryBuilder=Yr.PostgrestClient=void 0;const z1=Ei(Hp);Yr.PostgrestClient=z1.default;const V1=Ei(_c);Yr.PostgrestQueryBuilder=V1.default;const W1=Ei(el);Yr.PostgrestFilterBuilder=W1.default;const H1=Ei(xc);Yr.PostgrestTransformBuilder=H1.default;const $1=Ei(jc);Yr.PostgrestBuilder=$1.default;const q1=Ei(Sc);Yr.PostgrestError=q1.default;var GE=Yr.default={PostgrestClient:z1.default,PostgrestQueryBuilder:V1.default,PostgrestFilterBuilder:W1.default,PostgrestTransformBuilder:H1.default,PostgrestBuilder:$1.default,PostgrestError:q1.default};const{PostgrestClient:zE,PostgrestQueryBuilder:EL,PostgrestFilterBuilder:kL,PostgrestTransformBuilder:CL,PostgrestBuilder:TL,PostgrestError:PL}=GE;class VE{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const o=parseInt(process.versions.node.split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let o=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(o+=`

Suggested solution: ${n.workaround}`),new Error(o)}static createWebSocket(n,o){const t=this.getWebSocketConstructor();return new t(n,o)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const WE="2.15.1",HE=`realtime-js/${WE}`,$E="1.0.0",ph=1e4,qE=1e3,XE=100;var fa;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(fa||(fa={}));var ar;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(ar||(ar={}));var Mn;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Mn||(Mn={}));var mh;(function(r){r.websocket="websocket"})(mh||(mh={}));var us;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(us||(us={}));class YE{constructor(){this.HEADER_LENGTH=1}decode(n,o){return n.constructor===ArrayBuffer?o(this._binaryDecode(n)):o(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const o=new DataView(n),t=new TextDecoder;return this._decodeBroadcast(n,o,t)}_decodeBroadcast(n,o,t){const i=o.getUint8(1),a=o.getUint8(2);let s=this.HEADER_LENGTH+2;const u=t.decode(n.slice(s,s+i));s=s+i;const l=t.decode(n.slice(s,s+a));s=s+a;const f=JSON.parse(t.decode(n.slice(s,n.byteLength)));return{ref:null,topic:u,event:l,payload:f}}}class X1{constructor(n,o){this.callback=n,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Dt;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Dt||(Dt={}));const Ry=(r,n,o={})=>{var t;const i=(t=o.skipTypes)!==null&&t!==void 0?t:[];return Object.keys(n).reduce((a,s)=>(a[s]=KE(s,r,n,i),a),{})},KE=(r,n,o,t)=>{const i=n.find(u=>u.name===r),a=i==null?void 0:i.type,s=o[r];return a&&!t.includes(a)?Y1(a,s):gh(s)},Y1=(r,n)=>{if(r.charAt(0)==="_"){const o=r.slice(1,r.length);return ek(n,o)}switch(r){case Dt.bool:return JE(n);case Dt.float4:case Dt.float8:case Dt.int2:case Dt.int4:case Dt.int8:case Dt.numeric:case Dt.oid:return ZE(n);case Dt.json:case Dt.jsonb:return QE(n);case Dt.timestamp:return tk(n);case Dt.abstime:case Dt.date:case Dt.daterange:case Dt.int4range:case Dt.int8range:case Dt.money:case Dt.reltime:case Dt.text:case Dt.time:case Dt.timestamptz:case Dt.timetz:case Dt.tsrange:case Dt.tstzrange:return gh(n);default:return gh(n)}},gh=r=>r,JE=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},ZE=r=>{if(typeof r=="string"){const n=parseFloat(r);if(!Number.isNaN(n))return n}return r},QE=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(n){return console.log(`JSON parse error: ${n}`),r}return r},ek=(r,n)=>{if(typeof r!="string")return r;const o=r.length-1,t=r[o];if(r[0]==="{"&&t==="}"){let a;const s=r.slice(1,o);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(u=>Y1(n,u))}return r},tk=r=>typeof r=="string"?r.replace(" ","T"):r,K1=r=>{let n=r;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class Ld{constructor(n,o,t={},i=ph){this.channel=n,this.event=o,this.payload=t,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,o){var t;return this._hasReceived(n)&&o((t=this.receivedResp)===null||t===void 0?void 0:t.response),this.recHooks.push({status:n,callback:o}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:o}){this.recHooks.filter(t=>t.status===n).forEach(t=>t.callback(o))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Ly;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Ly||(Ly={}));class ha{constructor(n,o){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const t=(o==null?void 0:o.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(t.state,{},i=>{const{onJoin:a,onLeave:s,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ha.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=ha.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],u()}),this.channel._on(t.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ha.syncDiff(this.state,i,a,s),u())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,o,t,i){const a=this.cloneDeep(n),s=this.transformState(o),u={},l={};return this.map(a,(f,v)=>{s[f]||(l[f]=v)}),this.map(s,(f,v)=>{const m=a[f];if(m){const c=v.map(b=>b.presence_ref),d=m.map(b=>b.presence_ref),g=v.filter(b=>d.indexOf(b.presence_ref)<0),y=m.filter(b=>c.indexOf(b.presence_ref)<0);g.length>0&&(u[f]=g),y.length>0&&(l[f]=y)}else u[f]=v}),this.syncDiff(a,{joins:u,leaves:l},t,i)}static syncDiff(n,o,t,i){const{joins:a,leaves:s}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return t||(t=()=>{}),i||(i=()=>{}),this.map(a,(u,l)=>{var f;const v=(f=n[u])!==null&&f!==void 0?f:[];if(n[u]=this.cloneDeep(l),v.length>0){const m=n[u].map(d=>d.presence_ref),c=v.filter(d=>m.indexOf(d.presence_ref)<0);n[u].unshift(...c)}t(u,v,l)}),this.map(s,(u,l)=>{let f=n[u];if(!f)return;const v=l.map(m=>m.presence_ref);f=f.filter(m=>v.indexOf(m.presence_ref)<0),n[u]=f,i(u,f,l),f.length===0&&delete n[u]}),n}static map(n,o){return Object.getOwnPropertyNames(n).map(t=>o(t,n[t]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((o,t)=>{const i=n[t];return"metas"in i?o[t]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):o[t]=i,o},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Dy;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Dy||(Dy={}));var pa;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(pa||(pa={}));var no;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(no||(no={}));class $p{constructor(n,o={config:{}},t){this.topic=n,this.params=o,this.socket=t,this.bindings={},this.state=ar.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},o.config),this.timeout=this.socket.timeout,this.joinPush=new Ld(this,Mn.join,this.params,this.timeout),this.rejoinTimer=new X1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ar.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ar.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ar.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mn.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new ha(this),this.broadcastEndpointURL=K1(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(n,o=this.timeout){var t,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ar.closed){const{config:{broadcast:a,presence:s,private:u}}=this.params,l=(i=(t=this.bindings.postgres_changes)===null||t===void 0?void 0:t.map(c=>c.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[pa.PRESENCE]&&this.bindings[pa.PRESENCE].length>0,v={},m={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:f}),postgres_changes:l,private:u};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(c=>n==null?void 0:n(no.CHANNEL_ERROR,c)),this._onClose(()=>n==null?void 0:n(no.CLOSED)),this.updateJoinPayload(Object.assign({config:m},v)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){n==null||n(no.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(d=g==null?void 0:g.length)!==null&&d!==void 0?d:0,b=[];for(let p=0;p<y;p++){const h=g[p],{filter:{event:w,schema:_,table:j,filter:E}}=h,S=c&&c[p];if(S&&S.event===w&&S.schema===_&&S.table===j&&S.filter===E)b.push(Object.assign(Object.assign({},h),{id:S.id}));else{this.unsubscribe(),this.state=ar.errored,n==null||n(no.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,n&&n(no.SUBSCRIBED);return}}).receive("error",c=>{this.state=ar.errored,n==null||n(no.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(no.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,o={}){return await this.send({type:"presence",event:"track",payload:n},o.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,o,t){return this.state===ar.joined&&n===pa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,o,t)}async send(n,o={}){var t,i;if(!this._canPush()&&n.type==="broadcast"){const{event:a,payload:s}=n,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(t=o.timeout)!==null&&t!==void 0?t:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,u,l;const f=this._push(n.type,n,o.timeout||this.timeout);n.type==="broadcast"&&!(!((l=(u=(s=this.params)===null||s===void 0?void 0:s.config)===null||u===void 0?void 0:u.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=ar.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mn.close,"leave",this._joinRef())};this.joinPush.destroy();let t=null;return new Promise(i=>{t=new Ld(this,Mn.leave,{},n),t.receive("ok",()=>{o(),i("ok")}).receive("timeout",()=>{o(),i("timed out")}).receive("error",()=>{i("error")}),t.send(),this._canPush()||t.trigger("ok",{})}).finally(()=>{t==null||t.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ar.closed,this.bindings={}}async _fetchWithTimeout(n,o,t){const i=new AbortController,a=setTimeout(()=>i.abort(),t),s=await this.socket.fetch(n,Object.assign(Object.assign({},o),{signal:i.signal}));return clearTimeout(a),s}_push(n,o,t=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ld(this,n,o,t);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>XE){const o=this.pushBuffer.shift();o&&(o.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${o.event}`,o.payload))}}_onMessage(n,o,t){return o}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,o,t){var i,a;const s=n.toLocaleLowerCase(),{close:u,error:l,leave:f,join:v}=Mn;if(t&&[u,l,f,v].indexOf(s)>=0&&t!==this._joinRef())return;let c=this._onMessage(s,o,t);if(o&&!c)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(d=>{var g,y,b;return((g=d.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(y=d.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===s}).map(d=>d.callback(c,t)):(a=this.bindings[s])===null||a===void 0||a.filter(d=>{var g,y,b,p,h,w;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in d){const _=d.id,j=(g=d.filter)===null||g===void 0?void 0:g.event;return _&&((y=o.ids)===null||y===void 0?void 0:y.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=o.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(h=(p=d==null?void 0:d.filter)===null||p===void 0?void 0:p.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return _==="*"||_===((w=o==null?void 0:o.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===s}).map(d=>{if(typeof c=="object"&&"ids"in c){const g=c.data,{schema:y,table:b,commit_timestamp:p,type:h,errors:w}=g;c=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:p,eventType:h,new:{},old:{},errors:w}),this._getPayloadRecords(g))}d.callback(c,t)})}_isClosed(){return this.state===ar.closed}_isJoined(){return this.state===ar.joined}_isJoining(){return this.state===ar.joining}_isLeaving(){return this.state===ar.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,o,t){const i=n.toLocaleLowerCase(),a={type:i,filter:o,callback:t};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(n,o){const t=n.toLocaleLowerCase();return this.bindings[t]&&(this.bindings[t]=this.bindings[t].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===t&&$p.isEqual(i.filter,o))})),this}static isEqual(n,o){if(Object.keys(n).length!==Object.keys(o).length)return!1;for(const t in n)if(n[t]!==o[t])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Mn.close,{},n)}_onError(n){this._on(Mn.error,{},o=>n(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ar.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const o={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(o.new=Ry(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(o.old=Ry(n.columns,n.old_record)),o}}const Ny=()=>{},Bl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},rk=[1e3,2e3,5e3,1e4],nk=1e4,ok=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sk{constructor(n,o){var t;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ph,this.transport=null,this.heartbeatIntervalMs=Bl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ny,this.ref=0,this.reconnectTimer=null,this.logger=Ny,this.conn=null,this.sendBuffer=[],this.serializer=new YE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...s)=>Qa(async()=>{const{default:u}=await Promise.resolve().then(()=>Si);return{default:u}},void 0).then(({default:u})=>u(...s)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...s)=>a(...s)},!(!((t=o==null?void 0:o.params)===null||t===void 0)&&t.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=o.params.apikey,this.endPoint=`${n}/${mh.websocket}`,this.httpEndpoint=K1(n),this._initializeOptions(o),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(o==null?void 0:o.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=VE.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const o=n.message;throw o.includes("Node.js")?new Error(`${o}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${o}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$E}))}disconnect(n,o){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const t=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(t),this._setConnectionState("disconnected")},n?this.conn.close(n,o??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const o=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),o}async removeAllChannels(){const n=await Promise.all(this.channels.map(o=>o.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,o,t){this.logger(n,o,t)}connectionState(){switch(this.conn&&this.conn.readyState){case fa.connecting:return us.Connecting;case fa.open:return us.Open;case fa.closing:return us.Closing;default:return us.Closed}}isConnected(){return this.connectionState()===us.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,o={config:{}}){const t=`realtime:${n}`,i=this.getChannels().find(a=>a.topic===t);if(i)return i;{const a=new $p(`realtime:${n}`,o,this);return this.channels.push(a),a}}push(n){const{topic:o,event:t,payload:i,ref:a}=n,s=()=>{this.encode(n,u=>{var l;(l=this.conn)===null||l===void 0||l.send(u)})};this.log("push",`${o} ${t} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(qE,"heartbeat timeout"),setTimeout(()=>{var o;this.isConnected()||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout()},Bl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let o=this.channels.find(t=>t.topic===n&&(t._isJoined()||t._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${n}"`),o.unsubscribe())}_remove(n){this.channels=this.channels.filter(o=>o.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,o=>{o.topic==="phoenix"&&o.event==="phx_reply"&&this.heartbeatCallback(o.payload.status==="ok"?"ok":"error"),o.ref&&o.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:i,payload:a,ref:s}=o,u=s?`(${s})`:"",l=a.status||"";this.log("receive",`${l} ${t} ${i} ${u}`.trim(),a),this.channels.filter(f=>f._isMember(t)).forEach(f=>f._trigger(i,a,s)),this._triggerStateCallbacks("message",o)})}_clearTimer(n){var o;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((o=this.reconnectTimer)===null||o===void 0||o.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=o=>{this.log("worker","worker error",o.message),this.workerRef.terminate()},this.workerRef.onmessage=o=>{o.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var o;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Mn.error))}_appendParams(n,o){if(Object.keys(o).length===0)return n;const t=n.match(/\?/)?"&":"?",i=new URLSearchParams(o);return`${n}${t}${i}`}_workerObjectUrl(n){let o;if(n)o=n;else{const t=new Blob([ok],{type:"application/javascript"});o=URL.createObjectURL(t)}return o}_setConnectionState(n,o=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=o)}async _performAuth(n=null){let o;n?o=n:this.accessToken?o=await this.accessToken():o=this.accessTokenValue,this.accessTokenValue!=o&&(this.accessTokenValue=o,this.channels.forEach(t=>{const i={access_token:o,version:HE};o&&t.updateJoinPayload(i),t.joinedOnce&&t._isJoined()&&t._push(Mn.access_token,{access_token:o})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(o=>{this.log("error",`error setting auth in ${n}`,o)})}_triggerStateCallbacks(n,o){try{this.stateChangeCallbacks[n].forEach(t=>{try{t(o)}catch(i){this.log("error",`error in ${n} callback`,i)}})}catch(t){this.log("error",`error triggering ${n} callbacks`,t)}}_setupReconnectionTimer(){this.reconnectTimer=new X1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var o,t,i,a,s,u,l,f;if(this.transport=(o=n==null?void 0:n.transport)!==null&&o!==void 0?o:null,this.timeout=(t=n==null?void 0:n.timeout)!==null&&t!==void 0?t:ph,this.heartbeatIntervalMs=(i=n==null?void 0:n.heartbeatIntervalMs)!==null&&i!==void 0?i:Bl.HEARTBEAT_INTERVAL,this.worker=(a=n==null?void 0:n.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=n==null?void 0:n.accessToken)!==null&&s!==void 0?s:null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=n==null?void 0:n.reconnectAfterMs)!==null&&u!==void 0?u:v=>rk[v-1]||nk,this.encode=(l=n==null?void 0:n.encode)!==null&&l!==void 0?l:(v,m)=>m(JSON.stringify(v)),this.decode=(f=n==null?void 0:n.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}class qp extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function lr(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class ik extends qp{constructor(n,o,t){super(n),this.name="StorageApiError",this.status=o,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yh extends qp{constructor(n,o){super(n),this.name="StorageUnknownError",this.originalError=o}}var ak=function(r,n,o,t){function i(a){return a instanceof o?a:new o(function(s){s(a)})}return new(o||(o=Promise))(function(a,s){function u(v){try{f(t.next(v))}catch(m){s(m)}}function l(v){try{f(t.throw(v))}catch(m){s(m)}}function f(v){v.done?a(v.value):i(v.value).then(u,l)}f((t=t.apply(r,n||[])).next())})};const J1=r=>{let n;return r?n=r:typeof fetch>"u"?n=(...o)=>Qa(async()=>{const{default:t}=await Promise.resolve().then(()=>Si);return{default:t}},void 0).then(({default:t})=>t(...o)):n=fetch,(...o)=>n(...o)},lk=()=>ak(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qa(()=>Promise.resolve().then(()=>Si),void 0)).Response:Response}),vh=r=>{if(Array.isArray(r))return r.map(o=>vh(o));if(typeof r=="function"||r!==Object(r))return r;const n={};return Object.entries(r).forEach(([o,t])=>{const i=o.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));n[i]=vh(t)}),n},uk=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var js=function(r,n,o,t){function i(a){return a instanceof o?a:new o(function(s){s(a)})}return new(o||(o=Promise))(function(a,s){function u(v){try{f(t.next(v))}catch(m){s(m)}}function l(v){try{f(t.throw(v))}catch(m){s(m)}}function f(v){v.done?a(v.value):i(v.value).then(u,l)}f((t=t.apply(r,n||[])).next())})};const Dd=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),ck=(r,n,o)=>js(void 0,void 0,void 0,function*(){const t=yield lk();r instanceof t&&!(o!=null&&o.noResolveJson)?r.json().then(i=>{const a=r.status||500,s=(i==null?void 0:i.statusCode)||a+"";n(new ik(Dd(i),a,s))}).catch(i=>{n(new yh(Dd(i),i))}):n(new yh(Dd(r),r))}),dk=(r,n,o,t)=>{const i={method:r,headers:(n==null?void 0:n.headers)||{}};return r==="GET"||!t?i:(uk(t)?(i.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),i.body=JSON.stringify(t)):i.body=t,n!=null&&n.duplex&&(i.duplex=n.duplex),Object.assign(Object.assign({},i),o))};function tl(r,n,o,t,i,a){return js(this,void 0,void 0,function*(){return new Promise((s,u)=>{r(o,dk(n,t,i,a)).then(l=>{if(!l.ok)throw l;return t!=null&&t.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>ck(l,u,t))})})}function Vu(r,n,o,t){return js(this,void 0,void 0,function*(){return tl(r,"GET",n,o,t)})}function Hn(r,n,o,t,i){return js(this,void 0,void 0,function*(){return tl(r,"POST",n,t,i,o)})}function bh(r,n,o,t,i){return js(this,void 0,void 0,function*(){return tl(r,"PUT",n,t,i,o)})}function fk(r,n,o,t){return js(this,void 0,void 0,function*(){return tl(r,"HEAD",n,Object.assign(Object.assign({},o),{noResolveJson:!0}),t)})}function Z1(r,n,o,t,i){return js(this,void 0,void 0,function*(){return tl(r,"DELETE",n,t,i,o)})}var Ur=function(r,n,o,t){function i(a){return a instanceof o?a:new o(function(s){s(a)})}return new(o||(o=Promise))(function(a,s){function u(v){try{f(t.next(v))}catch(m){s(m)}}function l(v){try{f(t.throw(v))}catch(m){s(m)}}function f(v){v.done?a(v.value):i(v.value).then(u,l)}f((t=t.apply(r,n||[])).next())})};const hk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Uy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pk{constructor(n,o={},t,i){this.url=n,this.headers=o,this.bucketId=t,this.fetch=J1(i)}uploadOrUpdate(n,o,t,i){return Ur(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},Uy),i);let u=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&t instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",t)):typeof FormData<"u"&&t instanceof FormData?(a=t,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=t,u["cache-control"]=`max-age=${s.cacheControl}`,u["content-type"]=s.contentType,l&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const f=this._removeEmptyFolders(o),v=this._getFinalPath(f),m=yield(n=="PUT"?bh:Hn)(this.fetch,`${this.url}/object/${v}`,a,Object.assign({headers:u},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:f,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(lr(a))return{data:null,error:a};throw a}})}upload(n,o,t){return Ur(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,o,t)})}uploadToSignedUrl(n,o,t,i){return Ur(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(n),s=this._getFinalPath(a),u=new URL(this.url+`/object/upload/sign/${s}`);u.searchParams.set("token",o);try{let l;const f=Object.assign({upsert:Uy.upsert},i),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&t instanceof Blob?(l=new FormData,l.append("cacheControl",f.cacheControl),l.append("",t)):typeof FormData<"u"&&t instanceof FormData?(l=t,l.append("cacheControl",f.cacheControl)):(l=t,v["cache-control"]=`max-age=${f.cacheControl}`,v["content-type"]=f.contentType);const m=yield bh(this.fetch,u.toString(),l,{headers:v});return{data:{path:a,fullPath:m.Key},error:null}}catch(l){if(lr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(n,o){return Ur(this,void 0,void 0,function*(){try{let t=this._getFinalPath(n);const i=Object.assign({},this.headers);o!=null&&o.upsert&&(i["x-upsert"]="true");const a=yield Hn(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:i}),s=new URL(this.url+a.url),u=s.searchParams.get("token");if(!u)throw new qp("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:u},error:null}}catch(t){if(lr(t))return{data:null,error:t};throw t}})}update(n,o,t){return Ur(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,o,t)})}move(n,o,t){return Ur(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:o,destinationBucket:t==null?void 0:t.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(lr(i))return{data:null,error:i};throw i}})}copy(n,o,t){return Ur(this,void 0,void 0,function*(){try{return{data:{path:(yield Hn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:o,destinationBucket:t==null?void 0:t.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(lr(i))return{data:null,error:i};throw i}})}createSignedUrl(n,o,t){return Ur(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),a=yield Hn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:o},t!=null&&t.transform?{transform:t.transform}:{}),{headers:this.headers});const s=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(lr(i))return{data:null,error:i};throw i}})}createSignedUrls(n,o,t){return Ur(this,void 0,void 0,function*(){try{const i=yield Hn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:o,paths:n},{headers:this.headers}),a=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(lr(i))return{data:null,error:i};throw i}})}download(n,o){return Ur(this,void 0,void 0,function*(){const i=typeof(o==null?void 0:o.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((o==null?void 0:o.transform)||{}),s=a?`?${a}`:"";try{const u=this._getFinalPath(n);return{data:yield(yield Vu(this.fetch,`${this.url}/${i}/${u}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(lr(u))return{data:null,error:u};throw u}})}info(n){return Ur(this,void 0,void 0,function*(){const o=this._getFinalPath(n);try{const t=yield Vu(this.fetch,`${this.url}/object/info/${o}`,{headers:this.headers});return{data:vh(t),error:null}}catch(t){if(lr(t))return{data:null,error:t};throw t}})}exists(n){return Ur(this,void 0,void 0,function*(){const o=this._getFinalPath(n);try{return yield fk(this.fetch,`${this.url}/object/${o}`,{headers:this.headers}),{data:!0,error:null}}catch(t){if(lr(t)&&t instanceof yh){const i=t.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:t}}throw t}})}getPublicUrl(n,o){const t=this._getFinalPath(n),i=[],a=o!=null&&o.download?`download=${o.download===!0?"":o.download}`:"";a!==""&&i.push(a);const u=typeof(o==null?void 0:o.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((o==null?void 0:o.transform)||{});l!==""&&i.push(l);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${t}${f}`)}}}remove(n){return Ur(this,void 0,void 0,function*(){try{return{data:yield Z1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(o){if(lr(o))return{data:null,error:o};throw o}})}list(n,o,t){return Ur(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},hk),o),{prefix:n||""});return{data:yield Hn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},t),error:null}}catch(i){if(lr(i))return{data:null,error:i};throw i}})}listV2(n,o){return Ur(this,void 0,void 0,function*(){try{const t=Object.assign({},n);return{data:yield Hn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,t,{headers:this.headers},o),error:null}}catch(t){if(lr(t))return{data:null,error:t};throw t}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const o=[];return n.width&&o.push(`width=${n.width}`),n.height&&o.push(`height=${n.height}`),n.resize&&o.push(`resize=${n.resize}`),n.format&&o.push(`format=${n.format}`),n.quality&&o.push(`quality=${n.quality}`),o.join("&")}}const mk="2.11.0",gk={"X-Client-Info":`storage-js/${mk}`};var Os=function(r,n,o,t){function i(a){return a instanceof o?a:new o(function(s){s(a)})}return new(o||(o=Promise))(function(a,s){function u(v){try{f(t.next(v))}catch(m){s(m)}}function l(v){try{f(t.throw(v))}catch(m){s(m)}}function f(v){v.done?a(v.value):i(v.value).then(u,l)}f((t=t.apply(r,n||[])).next())})};class yk{constructor(n,o={},t,i){const a=new URL(n);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},gk),o),this.fetch=J1(t)}listBuckets(){return Os(this,void 0,void 0,function*(){try{return{data:yield Vu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(lr(n))return{data:null,error:n};throw n}})}getBucket(n){return Os(this,void 0,void 0,function*(){try{return{data:yield Vu(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(o){if(lr(o))return{data:null,error:o};throw o}})}createBucket(n,o={public:!1}){return Os(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(t){if(lr(t))return{data:null,error:t};throw t}})}updateBucket(n,o){return Os(this,void 0,void 0,function*(){try{return{data:yield bh(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(t){if(lr(t))return{data:null,error:t};throw t}})}emptyBucket(n){return Os(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(o){if(lr(o))return{data:null,error:o};throw o}})}deleteBucket(n){return Os(this,void 0,void 0,function*(){try{return{data:yield Z1(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(o){if(lr(o))return{data:null,error:o};throw o}})}}class vk extends yk{constructor(n,o={},t,i){super(n,o,t,i)}from(n){return new pk(this.url,this.headers,n,this.fetch)}}const bk="2.55.0";let ta="";typeof Deno<"u"?ta="deno":typeof document<"u"?ta="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ta="react-native":ta="node";const wk={"X-Client-Info":`supabase-js-${ta}/${bk}`},_k={headers:wk},xk={schema:"public"},jk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Sk={};var Ek=function(r,n,o,t){function i(a){return a instanceof o?a:new o(function(s){s(a)})}return new(o||(o=Promise))(function(a,s){function u(v){try{f(t.next(v))}catch(m){s(m)}}function l(v){try{f(t.throw(v))}catch(m){s(m)}}function f(v){v.done?a(v.value):i(v.value).then(u,l)}f((t=t.apply(r,n||[])).next())})};const kk=r=>{let n;return r?n=r:typeof fetch>"u"?n=N1:n=fetch,(...o)=>n(...o)},Ck=()=>typeof Headers>"u"?U1:Headers,Tk=(r,n,o)=>{const t=kk(o),i=Ck();return(a,s)=>Ek(void 0,void 0,void 0,function*(){var u;const l=(u=yield n())!==null&&u!==void 0?u:r;let f=new i(s==null?void 0:s.headers);return f.has("apikey")||f.set("apikey",r),f.has("Authorization")||f.set("Authorization",`Bearer ${l}`),t(a,Object.assign(Object.assign({},s),{headers:f}))})};var Pk=function(r,n,o,t){function i(a){return a instanceof o?a:new o(function(s){s(a)})}return new(o||(o=Promise))(function(a,s){function u(v){try{f(t.next(v))}catch(m){s(m)}}function l(v){try{f(t.throw(v))}catch(m){s(m)}}function f(v){v.done?a(v.value):i(v.value).then(u,l)}f((t=t.apply(r,n||[])).next())})};function Ok(r){return r.endsWith("/")?r:r+"/"}function Mk(r,n){var o,t;const{db:i,auth:a,realtime:s,global:u}=r,{db:l,auth:f,realtime:v,global:m}=n,c={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},f),a),realtime:Object.assign(Object.assign({},v),s),storage:{},global:Object.assign(Object.assign(Object.assign({},m),u),{headers:Object.assign(Object.assign({},(o=m==null?void 0:m.headers)!==null&&o!==void 0?o:{}),(t=u==null?void 0:u.headers)!==null&&t!==void 0?t:{})}),accessToken:()=>Pk(this,void 0,void 0,function*(){return""})};return r.accessToken?c.accessToken=r.accessToken:delete c.accessToken,c}const Q1="2.71.1",Us=30*1e3,wh=3,Nd=wh*Us,Ik="http://localhost:9999",Ak="supabase.auth.token",Rk={"X-Client-Info":`gotrue-js/${Q1}`},_h="X-Supabase-Api-Version",ew={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Lk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Dk=10*60*1e3;class Xp extends Error{constructor(n,o,t){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=o,this.code=t}}function mt(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Nk extends Xp{constructor(n,o,t){super(n,o,t),this.name="AuthApiError",this.status=o,this.code=t}}function Uk(r){return mt(r)&&r.name==="AuthApiError"}class tw extends Xp{constructor(n,o){super(n),this.name="AuthUnknownError",this.originalError=o}}class Qo extends Xp{constructor(n,o,t,i){super(n,t,i),this.name=o,this.status=t}}class wo extends Qo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Fk(r){return mt(r)&&r.name==="AuthSessionMissingError"}class Gl extends Qo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zl extends Qo{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Vl extends Qo{constructor(n,o=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Bk(r){return mt(r)&&r.name==="AuthImplicitGrantRedirectError"}class Fy extends Qo{constructor(n,o=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xh extends Qo{constructor(n,o){super(n,"AuthRetryableFetchError",o,void 0)}}function Ud(r){return mt(r)&&r.name==="AuthRetryableFetchError"}class By extends Qo{constructor(n,o,t){super(n,"AuthWeakPasswordError",o,"weak_password"),this.reasons=t}}class jh extends Qo{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gy=` 	
\r=`.split(""),Gk=(()=>{const r=new Array(128);for(let n=0;n<r.length;n+=1)r[n]=-1;for(let n=0;n<Gy.length;n+=1)r[Gy[n].charCodeAt(0)]=-2;for(let n=0;n<Wu.length;n+=1)r[Wu[n].charCodeAt(0)]=n;return r})();function zy(r,n,o){if(r!==null)for(n.queue=n.queue<<8|r,n.queuedBits+=8;n.queuedBits>=6;){const t=n.queue>>n.queuedBits-6&63;o(Wu[t]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const t=n.queue>>n.queuedBits-6&63;o(Wu[t]),n.queuedBits-=6}}function rw(r,n,o){const t=Gk[r];if(t>-1)for(n.queue=n.queue<<6|t,n.queuedBits+=6;n.queuedBits>=8;)o(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(t===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Vy(r){const n=[],o=s=>{n.push(String.fromCodePoint(s))},t={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{Wk(s,t,o)};for(let s=0;s<r.length;s+=1)rw(r.charCodeAt(s),i,a);return n.join("")}function zk(r,n){if(r<=127){n(r);return}else if(r<=2047){n(192|r>>6),n(128|r&63);return}else if(r<=65535){n(224|r>>12),n(128|r>>6&63),n(128|r&63);return}else if(r<=1114111){n(240|r>>18),n(128|r>>12&63),n(128|r>>6&63),n(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Vk(r,n){for(let o=0;o<r.length;o+=1){let t=r.charCodeAt(o);if(t>55295&&t<=56319){const i=(t-55296)*1024&65535;t=(r.charCodeAt(o+1)-56320&65535|i)+65536,o+=1}zk(t,n)}}function Wk(r,n,o){if(n.utf8seq===0){if(r<=127){o(r);return}for(let t=1;t<6;t+=1)if(!(r>>7-t&1)){n.utf8seq=t;break}if(n.utf8seq===2)n.codepoint=r&31;else if(n.utf8seq===3)n.codepoint=r&15;else if(n.utf8seq===4)n.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|r&63,n.utf8seq-=1,n.utf8seq===0&&o(n.codepoint)}}function Hk(r){const n=[],o={queue:0,queuedBits:0},t=i=>{n.push(i)};for(let i=0;i<r.length;i+=1)rw(r.charCodeAt(i),o,t);return new Uint8Array(n)}function $k(r){const n=[];return Vk(r,o=>n.push(o)),new Uint8Array(n)}function qk(r){const n=[],o={queue:0,queuedBits:0},t=i=>{n.push(i)};return r.forEach(i=>zy(i,o,t)),zy(null,o,t),n.join("")}function Xk(r){return Math.round(Date.now()/1e3)+r}function Yk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const n=Math.random()*16|0;return(r=="x"?n:n&3|8).toString(16)})}const Tn=()=>typeof window<"u"&&typeof document<"u",ts={tested:!1,writable:!1},nw=()=>{if(!Tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ts.tested)return ts.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),ts.tested=!0,ts.writable=!0}catch{ts.tested=!0,ts.writable=!1}return ts.writable};function Kk(r){const n={},o=new URL(r);if(o.hash&&o.hash[0]==="#")try{new URLSearchParams(o.hash.substring(1)).forEach((i,a)=>{n[a]=i})}catch{}return o.searchParams.forEach((t,i)=>{n[i]=t}),n}const ow=r=>{let n;return r?n=r:typeof fetch>"u"?n=(...o)=>Qa(async()=>{const{default:t}=await Promise.resolve().then(()=>Si);return{default:t}},void 0).then(({default:t})=>t(...o)):n=fetch,(...o)=>n(...o)},Jk=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Fs=async(r,n,o)=>{await r.setItem(n,JSON.stringify(o))},rs=async(r,n)=>{const o=await r.getItem(n);if(!o)return null;try{return JSON.parse(o)}catch{return o}},bo=async(r,n)=>{await r.removeItem(n)};class Cc{constructor(){this.promise=new Cc.promiseConstructor((n,o)=>{this.resolve=n,this.reject=o})}}Cc.promiseConstructor=Promise;function Fd(r){const n=r.split(".");if(n.length!==3)throw new jh("Invalid JWT structure");for(let t=0;t<n.length;t++)if(!Lk.test(n[t]))throw new jh("JWT not in base64url format");return{header:JSON.parse(Vy(n[0])),payload:JSON.parse(Vy(n[1])),signature:Hk(n[2]),raw:{header:n[0],payload:n[1]}}}async function Zk(r){return await new Promise(n=>{setTimeout(()=>n(null),r)})}function Qk(r,n){return new Promise((t,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await r(a);if(!n(a,null,s)){t(s);return}}catch(s){if(!n(a,s)){i(s);return}}})()})}function eC(r){return("0"+r.toString(16)).substr(-2)}function tC(){const n=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=o.length;let i="";for(let a=0;a<56;a++)i+=o.charAt(Math.floor(Math.random()*t));return i}return crypto.getRandomValues(n),Array.from(n,eC).join("")}async function rC(r){const o=new TextEncoder().encode(r),t=await crypto.subtle.digest("SHA-256",o),i=new Uint8Array(t);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function nC(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const o=await rC(r);return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ms(r,n,o=!1){const t=tC();let i=t;o&&(i+="/PASSWORD_RECOVERY"),await Fs(r,`${n}-code-verifier`,i);const a=await nC(t);return[a,t===a?"plain":"s256"]}const oC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sC(r){const n=r.headers.get(_h);if(!n||!n.match(oC))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function iC(r){if(!r)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(r<=n)throw new Error("JWT has expired")}function aC(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Is(r){if(!lC.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bd(){const r={};return new Proxy(r,{get:(n,o)=>{if(o==="__isUserNotAvailableProxy")return!0;if(typeof o=="symbol"){const t=o.toString();if(t==="Symbol(Symbol.toPrimitive)"||t==="Symbol(Symbol.toStringTag)"||t==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${o}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Wy(r){return JSON.parse(JSON.stringify(r))}var uC=function(r,n){var o={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&n.indexOf(t)<0&&(o[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(r);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(r,t[i])&&(o[t[i]]=r[t[i]]);return o};const is=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),cC=[502,503,504];async function Hy(r){var n;if(!Jk(r))throw new xh(is(r),0);if(cC.includes(r.status))throw new xh(is(r),r.status);let o;try{o=await r.json()}catch(a){throw new tw(is(a),a)}let t;const i=sC(r);if(i&&i.getTime()>=ew["2024-01-01"].timestamp&&typeof o=="object"&&o&&typeof o.code=="string"?t=o.code:typeof o=="object"&&o&&typeof o.error_code=="string"&&(t=o.error_code),t){if(t==="weak_password")throw new By(is(o),r.status,((n=o.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(t==="session_not_found")throw new wo}else if(typeof o=="object"&&o&&typeof o.weak_password=="object"&&o.weak_password&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new By(is(o),r.status,o.weak_password.reasons);throw new Nk(is(o),r.status||500,t)}const dC=(r,n,o,t)=>{const i={method:r,headers:(n==null?void 0:n.headers)||{}};return r==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),i.body=JSON.stringify(t),Object.assign(Object.assign({},i),o))};async function bt(r,n,o,t){var i;const a=Object.assign({},t==null?void 0:t.headers);a[_h]||(a[_h]=ew["2024-01-01"].name),t!=null&&t.jwt&&(a.Authorization=`Bearer ${t.jwt}`);const s=(i=t==null?void 0:t.query)!==null&&i!==void 0?i:{};t!=null&&t.redirectTo&&(s.redirect_to=t.redirectTo);const u=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await fC(r,n,o+u,{headers:a,noResolveJson:t==null?void 0:t.noResolveJson},{},t==null?void 0:t.body);return t!=null&&t.xform?t==null?void 0:t.xform(l):{data:Object.assign({},l),error:null}}async function fC(r,n,o,t,i,a){const s=dC(n,t,i,a);let u;try{u=await r(o,Object.assign({},s))}catch(l){throw console.error(l),new xh(is(l),0)}if(u.ok||await Hy(u),t!=null&&t.noResolveJson)return u;try{return await u.json()}catch(l){await Hy(l)}}function eo(r){var n;let o=null;gC(r)&&(o=Object.assign({},r),r.expires_at||(o.expires_at=Xk(r.expires_in)));const t=(n=r.user)!==null&&n!==void 0?n:r;return{data:{session:o,user:t},error:null}}function $y(r){const n=eo(r);return!n.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((o,t)=>o&&typeof t=="string",!0)&&(n.data.weak_password=r.weak_password),n}function To(r){var n;return{data:{user:(n=r.user)!==null&&n!==void 0?n:r},error:null}}function hC(r){return{data:r,error:null}}function pC(r){const{action_link:n,email_otp:o,hashed_token:t,redirect_to:i,verification_type:a}=r,s=uC(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:n,email_otp:o,hashed_token:t,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:u,user:l},error:null}}function mC(r){return r}function gC(r){return r.access_token&&r.refresh_token&&r.expires_in}const Gd=["global","local","others"];var yC=function(r,n){var o={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&n.indexOf(t)<0&&(o[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(r);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(r,t[i])&&(o[t[i]]=r[t[i]]);return o};class vC{constructor({url:n="",headers:o={},fetch:t}){this.url=n,this.headers=o,this.fetch=ow(t),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,o=Gd[0]){if(Gd.indexOf(o)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gd.join(", ")}`);try{return await bt(this.fetch,"POST",`${this.url}/logout?scope=${o}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(t){if(mt(t))return{data:null,error:t};throw t}}async inviteUserByEmail(n,o={}){try{return await bt(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:o.data},headers:this.headers,redirectTo:o.redirectTo,xform:To})}catch(t){if(mt(t))return{data:{user:null},error:t};throw t}}async generateLink(n){try{const{options:o}=n,t=yC(n,["options"]),i=Object.assign(Object.assign({},t),o);return"newEmail"in t&&(i.new_email=t==null?void 0:t.newEmail,delete i.newEmail),await bt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:pC,redirectTo:o==null?void 0:o.redirectTo})}catch(o){if(mt(o))return{data:{properties:null,user:null},error:o};throw o}}async createUser(n){try{return await bt(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:To})}catch(o){if(mt(o))return{data:{user:null},error:o};throw o}}async listUsers(n){var o,t,i,a,s,u,l;try{const f={nextPage:null,lastPage:0,total:0},v=await bt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(t=(o=n==null?void 0:n.page)===null||o===void 0?void 0:o.toString())!==null&&t!==void 0?t:"",per_page:(a=(i=n==null?void 0:n.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:mC});if(v.error)throw v.error;const m=await v.json(),c=(s=v.headers.get("x-total-count"))!==null&&s!==void 0?s:0,d=(l=(u=v.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);f[`${b}Page`]=y}),f.total=parseInt(c)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(mt(f))return{data:{users:[]},error:f};throw f}}async getUserById(n){Is(n);try{return await bt(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:To})}catch(o){if(mt(o))return{data:{user:null},error:o};throw o}}async updateUserById(n,o){Is(n);try{return await bt(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:o,headers:this.headers,xform:To})}catch(t){if(mt(t))return{data:{user:null},error:t};throw t}}async deleteUser(n,o=!1){Is(n);try{return await bt(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:o},xform:To})}catch(t){if(mt(t))return{data:{user:null},error:t};throw t}}async _listFactors(n){Is(n.userId);try{const{data:o,error:t}=await bt(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:o,error:t}}catch(o){if(mt(o))return{data:null,error:o};throw o}}async _deleteFactor(n){Is(n.userId),Is(n.id);try{return{data:await bt(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(o){if(mt(o))return{data:null,error:o};throw o}}}function qy(r={}){return{getItem:n=>r[n]||null,setItem:(n,o)=>{r[n]=o},removeItem:n=>{delete r[n]}}}function bC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const As={debug:!!(globalThis&&nw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sw extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class wC extends sw{}async function _C(r,n,o){As.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,n);const t=new globalThis.AbortController;return n>0&&setTimeout(()=>{t.abort(),As.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:t.signal},async i=>{if(i){As.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,i.name);try{return await o()}finally{As.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,i.name)}}else{if(n===0)throw As.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new wC(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(As.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await o()}}))}bC();const xC={url:Ik,storageKey:Ak,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Rk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Xy(r,n,o){return await o()}const Rs={};class Fa{constructor(n){var o,t;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Fa.nextInstanceID,Fa.nextInstanceID+=1,this.instanceID>0&&Tn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},xC),n);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new vC({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ow(i.fetch),this.lock=i.lock||Xy,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Tn()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=_C:this.lock=Xy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:nw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qy(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=qy(this.memoryStorage)),Tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(t=this.broadcastChannel)===null||t===void 0||t.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var n,o;return(o=(n=Rs[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&o!==void 0?o:{keys:[]}}set jwks(n){Rs[this.storageKey]=Object.assign(Object.assign({},Rs[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,o;return(o=(n=Rs[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&o!==void 0?o:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Rs[this.storageKey]=Object.assign(Object.assign({},Rs[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Q1}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const o=Kk(window.location.href);let t="none";if(this._isImplicitGrantCallback(o)?t="implicit":await this._isPKCECallback(o)&&(t="pkce"),Tn()&&this.detectSessionInUrl&&t!=="none"){const{data:i,error:a}=await this._getSessionFromURL(o,t);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Bk(a)){const l=(n=a.details)===null||n===void 0?void 0:n.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",u),await this._saveSession(s),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(o){return mt(o)?{error:o}:{error:new tw("Unexpected error during initialization",o)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var o,t,i;try{const a=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(t=(o=n==null?void 0:n.options)===null||o===void 0?void 0:o.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:(i=n==null?void 0:n.options)===null||i===void 0?void 0:i.captchaToken}},xform:eo}),{data:s,error:u}=a;if(u||!s)return{data:{user:null,session:null},error:u};const l=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:f,session:l},error:null}}catch(a){if(mt(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(n){var o,t,i;try{let a;if("email"in n){const{email:v,password:m,options:c}=n;let d=null,g=null;this.flowType==="pkce"&&([d,g]=await Ms(this.storage,this.storageKey)),a=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:c==null?void 0:c.emailRedirectTo,body:{email:v,password:m,data:(o=c==null?void 0:c.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:g},xform:eo})}else if("phone"in n){const{phone:v,password:m,options:c}=n;a=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:m,data:(t=c==null?void 0:c.data)!==null&&t!==void 0?t:{},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:eo})}else throw new zl("You must provide either an email or phone number and a password");const{data:s,error:u}=a;if(u||!s)return{data:{user:null,session:null},error:u};const l=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:f,session:l},error:null}}catch(a){if(mt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(n){try{let o;if("email"in n){const{email:a,password:s,options:u}=n;o=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:$y})}else if("phone"in n){const{phone:a,password:s,options:u}=n;o=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:$y})}else throw new zl("You must provide either an email or phone number and a password");const{data:t,error:i}=o;return i?{data:{user:null,session:null},error:i}:!t||!t.session||!t.user?{data:{user:null,session:null},error:new Gl}:(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({user:t.user,session:t.session},t.weak_password?{weakPassword:t.weak_password}:null),error:i})}catch(o){if(mt(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithOAuth(n){var o,t,i,a;return await this._handleProviderSignIn(n.provider,{redirectTo:(o=n.options)===null||o===void 0?void 0:o.redirectTo,scopes:(t=n.options)===null||t===void 0?void 0:t.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=n.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:o}=n;if(o==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${o}"`)}async signInWithSolana(n){var o,t,i,a,s,u,l,f,v,m,c,d;let g,y;if("message"in n)g=n.message,y=n.signature;else{const{chain:b,wallet:p,statement:h,options:w}=n;let _;if(Tn())if(typeof p=="object")_=p;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=p}const j=new URL((o=w==null?void 0:w.url)!==null&&o!==void 0?o:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),h?{statement:h}:null));let S;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")S=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)S=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)g=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),y=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(t=w==null?void 0:w.signInWithSolana)===null||t===void 0?void 0:t.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((f=w==null?void 0:w.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((m=(v=w==null?void 0:w.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||m===void 0)&&m.length?["Resources",...w.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=E}}try{const{data:b,error:p}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:qk(y)},!((c=n.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:(d=n.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:eo});if(p)throw p;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Gl}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:p})}catch(b){if(mt(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(n){const o=await rs(this.storage,`${this.storageKey}-code-verifier`),[t,i]=(o??"").split("/");try{const{data:a,error:s}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:t},xform:eo});if(await bo(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Gl}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(mt(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(n){try{const{options:o,provider:t,token:i,access_token:a,nonce:s}=n,u=await bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:t,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:eo}),{data:l,error:f}=u;return f?{data:{user:null,session:null},error:f}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Gl}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:f})}catch(o){if(mt(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithOtp(n){var o,t,i,a,s;try{if("email"in n){const{email:u,options:l}=n;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await Ms(this.storage,this.storageKey));const{error:m}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(o=l==null?void 0:l.data)!==null&&o!==void 0?o:{},create_user:(t=l==null?void 0:l.shouldCreateUser)!==null&&t!==void 0?t:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:f,code_challenge_method:v},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in n){const{phone:u,options:l}=n,{data:f,error:v}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:v}}throw new zl("You must provide either an email or phone number.")}catch(u){if(mt(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(n){var o,t;try{let i,a;"options"in n&&(i=(o=n.options)===null||o===void 0?void 0:o.redirectTo,a=(t=n.options)===null||t===void 0?void 0:t.captchaToken);const{data:s,error:u}=await bt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:eo});if(u)throw u;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,f=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:f,session:l},error:null}}catch(i){if(mt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(n){var o,t,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await Ms(this.storage,this.storageKey)),await bt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(t=(o=n.options)===null||o===void 0?void 0:o.redirectTo)!==null&&t!==void 0?t:void 0}),!((i=n==null?void 0:n.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:hC})}catch(a){if(mt(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:o},error:t}=n;if(t)throw t;if(!o)throw new wo;const{error:i}=await bt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:o.access_token});return{data:{user:null,session:null},error:i}})}catch(n){if(mt(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const o=`${this.url}/resend`;if("email"in n){const{email:t,type:i,options:a}=n,{error:s}=await bt(this.fetch,"POST",o,{headers:this.headers,body:{email:t,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in n){const{phone:t,type:i,options:a}=n,{data:s,error:u}=await bt(this.fetch,"POST",o,{headers:this.headers,body:{phone:t,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:u}}throw new zl("You must provide either an email or phone number and a type")}catch(o){if(mt(o))return{data:{user:null,session:null},error:o};throw o}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async o=>o))}async _acquireLock(n,o){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const t=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await t,await o()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const t=o();for(this.pendingInLock.push((async()=>{try{await t}catch{}})()),await t;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await t}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const o=await this.__loadSession();return await n(o)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const o=await rs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",o),o!==null&&(this._isValidSession(o)?n=o:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const t=n.expires_at?n.expires_at*1e3-Date.now()<Nd:!1;if(this._debug("#__loadSession()",`session has${t?"":" not"} expired`,"expires_at",n.expires_at),!t){if(this.userStorage){const s=await rs(this.userStorage,this.storageKey+"-user");s!=null&&s.user?n.user=s.user:n.user=Bd()}if(this.storage.isServer&&n.user){let s=this.suppressGetSessionWarning;n=new Proxy(n,{get:(l,f,v)=>(!s&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,f,v))})}return{data:{session:n},error:null}}const{session:i,error:a}=await this._callRefreshToken(n.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:To}):await this._useSession(async o=>{var t,i,a;const{data:s,error:u}=o;if(u)throw u;return!(!((t=s.session)===null||t===void 0)&&t.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wo}:await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:To})})}catch(o){if(mt(o))return Fk(o)&&(await this._removeSession(),await bo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:o};throw o}}async updateUser(n,o={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,o))}async _updateUser(n,o={}){try{return await this._useSession(async t=>{const{data:i,error:a}=t;if(a)throw a;if(!i.session)throw new wo;const s=i.session;let u=null,l=null;this.flowType==="pkce"&&n.email!=null&&([u,l]=await Ms(this.storage,this.storageKey));const{data:f,error:v}=await bt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:o==null?void 0:o.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:u,code_challenge_method:l}),jwt:s.access_token,xform:To});if(v)throw v;return s.user=f.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(t){if(mt(t))return{data:{user:null},error:t};throw t}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new wo;const o=Date.now()/1e3;let t=o,i=!0,a=null;const{payload:s}=Fd(n.access_token);if(s.exp&&(t=s.exp,i=t<=o),i){const{session:u,error:l}=await this._callRefreshToken(n.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:l}=await this._getUser(n.access_token);if(l)throw l;a={access_token:n.access_token,refresh_token:n.refresh_token,user:u.user,token_type:"bearer",expires_in:t-o,expires_at:t},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(o){if(mt(o))return{data:{session:null,user:null},error:o};throw o}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async o=>{var t;if(!n){const{data:s,error:u}=o;if(u)throw u;n=(t=s.session)!==null&&t!==void 0?t:void 0}if(!(n!=null&&n.refresh_token))throw new wo;const{session:i,error:a}=await this._callRefreshToken(n.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(o){if(mt(o))return{data:{user:null,session:null},error:o};throw o}}async _getSessionFromURL(n,o){try{if(!Tn())throw new Vl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Vl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(o){case"implicit":if(this.flowType==="pkce")throw new Fy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vl("Not a valid implicit grant flow url.");break;default:}if(o==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Fy("No code detected.");const{data:h,error:w}=await this._exchangeCodeForSession(n.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:t,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:u,expires_at:l,token_type:f}=n;if(!a||!u||!s||!f)throw new Vl("No session defined in URL");const v=Math.round(Date.now()/1e3),m=parseInt(u);let c=v+m;l&&(c=parseInt(l));const d=c-v;d*1e3<=Us&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${m}s`);const g=c-m;v-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,c,v):v-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,c,v);const{data:y,error:b}=await this._getUser(a);if(b)throw b;const p={provider_token:t,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:c,refresh_token:s,token_type:f,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:n.type},error:null}}catch(t){if(mt(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const o=await rs(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&o)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async o=>{var t;const{data:i,error:a}=o;if(a)return{error:a};const s=(t=i.session)===null||t===void 0?void 0:t.access_token;if(s){const{error:u}=await this.admin.signOut(s,n);if(u&&!(Uk(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return n!=="others"&&(await this._removeSession(),await bo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const o=Yk(),t={id:o,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",o),this.stateChangeEmitters.delete(o)}};return this._debug("#onAuthStateChange()","registered callback with id",o),this.stateChangeEmitters.set(o,t),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(o)})))(),{data:{subscription:t}}}async _emitInitialSession(n){return await this._useSession(async o=>{var t,i;try{const{data:{session:a},error:s}=o;if(s)throw s;await((t=this.stateChangeEmitters.get(n))===null||t===void 0?void 0:t.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",n,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",a),console.error(a)}})}async resetPasswordForEmail(n,o={}){let t=null,i=null;this.flowType==="pkce"&&([t,i]=await Ms(this.storage,this.storageKey,!0));try{return await bt(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:t,code_challenge_method:i,gotrue_meta_security:{captcha_token:o.captchaToken}},headers:this.headers,redirectTo:o.redirectTo})}catch(a){if(mt(a))return{data:null,error:a};throw a}}async getUserIdentities(){var n;try{const{data:o,error:t}=await this.getUser();if(t)throw t;return{data:{identities:(n=o.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(o){if(mt(o))return{data:null,error:o};throw o}}async linkIdentity(n){var o;try{const{data:t,error:i}=await this._useSession(async a=>{var s,u,l,f,v;const{data:m,error:c}=a;if(c)throw c;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(u=n.options)===null||u===void 0?void 0:u.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await bt(this.fetch,"GET",d,{headers:this.headers,jwt:(v=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&v!==void 0?v:void 0})});if(i)throw i;return Tn()&&!(!((o=n.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(t==null?void 0:t.url),{data:{provider:n.provider,url:t==null?void 0:t.url},error:null}}catch(t){if(mt(t))return{data:{provider:n.provider,url:null},error:t};throw t}}async unlinkIdentity(n){try{return await this._useSession(async o=>{var t,i;const{data:a,error:s}=o;if(s)throw s;return await bt(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&i!==void 0?i:void 0})})}catch(o){if(mt(o))return{data:null,error:o};throw o}}async _refreshAccessToken(n){const o=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{const t=Date.now();return await Qk(async i=>(i>0&&await Zk(200*Math.pow(2,i-1)),this._debug(o,"refreshing attempt",i),await bt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:eo})),(i,a)=>{const s=200*Math.pow(2,i);return a&&Ud(a)&&Date.now()+s-t<Us})}catch(t){if(this._debug(o,"error",t),mt(t))return{data:{session:null,user:null},error:t};throw t}finally{this._debug(o,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,o){const t=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:o.redirectTo,scopes:o.scopes,queryParams:o.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",o,"url",t),Tn()&&!o.skipBrowserRedirect&&window.location.assign(t),{data:{provider:n,url:t},error:null}}async _recoverAndRefresh(){var n,o;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const i=await rs(this.storage,this.storageKey);if(i&&this.userStorage){let s=await rs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Fs(this.userStorage,this.storageKey+"-user",s)),i.user=(n=s==null?void 0:s.user)!==null&&n!==void 0?n:Bd()}else if(i&&!i.user&&!i.user){const s=await rs(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await bo(this.storage,this.storageKey+"-user"),await Fs(this.storage,this.storageKey,i)):i.user=Bd()}if(this._debug(t,"session from storage",i),!this._isValidSession(i)){this._debug(t,"session is not valid"),i!==null&&await this._removeSession();return}const a=((o=i.expires_at)!==null&&o!==void 0?o:1/0)*1e3-Date.now()<Nd;if(this._debug(t,`session has${a?"":" not"} expired with margin of ${Nd}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Ud(s)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:u}=await this._getUser(i.access_token);!u&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(t,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(t,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(t,"error",i),console.error(i);return}finally{this._debug(t,"end")}}async _callRefreshToken(n){var o,t;if(!n)throw new wo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Cc;const{data:a,error:s}=await this._refreshAccessToken(n);if(s)throw s;if(!a.session)throw new wo;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={session:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(i,"error",a),mt(a)){const s={session:null,error:a};return Ud(a)||await this._removeSession(),(o=this.refreshingDeferred)===null||o===void 0||o.resolve(s),s}throw(t=this.refreshingDeferred)===null||t===void 0||t.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(n,o,t=!0){const i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",o,`broadcast = ${t}`);try{this.broadcastChannel&&t&&this.broadcastChannel.postMessage({event:n,session:o});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(n,o)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const o=Object.assign({},n),t=o.user&&o.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!t&&o.user&&await Fs(this.userStorage,this.storageKey+"-user",{user:o.user});const i=Object.assign({},o);delete i.user;const a=Wy(i);await Fs(this.storage,this.storageKey,a)}else{const i=Wy(o);await Fs(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await bo(this.storage,this.storageKey),await bo(this.storage,this.storageKey+"-code-verifier"),await bo(this.storage,this.storageKey+"-user"),this.userStorage&&await bo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Tn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(o){console.error("removing visibilitychange callback failed",o)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Us);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async o=>{const{data:{session:t}}=o;if(!t||!t.refresh_token||!t.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((t.expires_at*1e3-n)/Us);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Us}ms, refresh threshold is ${wh} ticks`),i<=wh&&await this._callRefreshToken(t.refresh_token)})}catch(o){console.error("Auto refresh tick failed with error. This is likely a transient error.",o)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof sw)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const o=`#_onVisibilityChanged(${n})`;this._debug(o,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(o,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,o,t){const i=[`provider=${encodeURIComponent(o)}`];if(t!=null&&t.redirectTo&&i.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),t!=null&&t.scopes&&i.push(`scopes=${encodeURIComponent(t.scopes)}`),this.flowType==="pkce"){const[a,s]=await Ms(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(u.toString())}if(t!=null&&t.queryParams){const a=new URLSearchParams(t.queryParams);i.push(a.toString())}return t!=null&&t.skipBrowserRedirect&&i.push(`skip_http_redirect=${t.skipBrowserRedirect}`),`${n}?${i.join("&")}`}async _unenroll(n){try{return await this._useSession(async o=>{var t;const{data:i,error:a}=o;return a?{data:null,error:a}:await bt(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(t=i==null?void 0:i.session)===null||t===void 0?void 0:t.access_token})})}catch(o){if(mt(o))return{data:null,error:o};throw o}}async _enroll(n){try{return await this._useSession(async o=>{var t,i;const{data:a,error:s}=o;if(s)return{data:null,error:s};const u=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:l,error:f}=await bt(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(t=a==null?void 0:a.session)===null||t===void 0?void 0:t.access_token});return f?{data:null,error:f}:(n.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(o){if(mt(o))return{data:null,error:o};throw o}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var t;const{data:i,error:a}=o;if(a)return{data:null,error:a};const{data:s,error:u}=await bt(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(t=i==null?void 0:i.session)===null||t===void 0?void 0:t.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:u})})}catch(o){if(mt(o))return{data:null,error:o};throw o}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var t;const{data:i,error:a}=o;return a?{data:null,error:a}:await bt(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(t=i==null?void 0:i.session)===null||t===void 0?void 0:t.access_token})})}catch(o){if(mt(o))return{data:null,error:o};throw o}})}async _challengeAndVerify(n){const{data:o,error:t}=await this._challenge({factorId:n.factorId});return t?{data:null,error:t}:await this._verify({factorId:n.factorId,challengeId:o.id,code:n.code})}async _listFactors(){const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const t=(n==null?void 0:n.factors)||[],i=t.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=t.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:t,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var o,t;const{data:{session:i},error:a}=n;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Fd(i.access_token);let u=null;s.aal&&(u=s.aal);let l=u;((t=(o=i.user.factors)===null||o===void 0?void 0:o.filter(m=>m.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(l="aal2");const v=s.amr||[];return{data:{currentLevel:u,nextLevel:l,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(n,o={keys:[]}){let t=o.keys.find(u=>u.kid===n);if(t)return t;const i=Date.now();if(t=this.jwks.keys.find(u=>u.kid===n),t&&this.jwks_cached_at+Dk>i)return t;const{data:a,error:s}=await bt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,t=a.keys.find(u=>u.kid===n),!t)?null:t}async getClaims(n,o={}){try{let t=n;if(!t){const{data:d,error:g}=await this.getSession();if(g||!d.session)return{data:null,error:g};t=d.session.access_token}const{header:i,payload:a,signature:s,raw:{header:u,payload:l}}=Fd(t);o!=null&&o.allowExpired||iC(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,o!=null&&o.keys?{keys:o.keys}:o==null?void 0:o.jwks);if(!f){const{error:d}=await this.getUser(t);if(d)throw d;return{data:{claims:a,header:i,signature:s},error:null}}const v=aC(i.alg),m=await crypto.subtle.importKey("jwk",f,v,!0,["verify"]);if(!await crypto.subtle.verify(v,m,s,$k(`${u}.${l}`)))throw new jh("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(t){if(mt(t))return{data:null,error:t};throw t}}}Fa.nextInstanceID=0;const jC=Fa;class SC extends jC{constructor(n){super(n)}}var EC=function(r,n,o,t){function i(a){return a instanceof o?a:new o(function(s){s(a)})}return new(o||(o=Promise))(function(a,s){function u(v){try{f(t.next(v))}catch(m){s(m)}}function l(v){try{f(t.throw(v))}catch(m){s(m)}}function f(v){v.done?a(v.value):i(v.value).then(u,l)}f((t=t.apply(r,n||[])).next())})};class kC{constructor(n,o,t){var i,a,s;if(this.supabaseUrl=n,this.supabaseKey=o,!n)throw new Error("supabaseUrl is required.");if(!o)throw new Error("supabaseKey is required.");const u=Ok(n),l=new URL(u);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const f=`sb-${l.hostname.split(".")[0]}-auth-token`,v={db:xk,realtime:Sk,auth:Object.assign(Object.assign({},jk),{storageKey:f}),global:_k},m=Mk(t??{},v);this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=m.global.headers)!==null&&a!==void 0?a:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=m.auth)!==null&&s!==void 0?s:{},this.headers,m.global.fetch),this.fetch=Tk(o,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new zE(new URL("rest/v1",l).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new vk(this.storageUrl.href,this.headers,this.fetch,t==null?void 0:t.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new vE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,o={},t={}){return this.rest.rpc(n,o,t)}channel(n,o={config:{}}){return this.realtime.channel(n,o)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,o;return EC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:t}=yield this.auth.getSession();return(o=(n=t.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:o,detectSessionInUrl:t,storage:i,storageKey:a,flowType:s,lock:u,debug:l},f,v){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SC({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:a,autoRefreshToken:n,persistSession:o,detectSessionInUrl:t,storage:i,flowType:s,lock:u,debug:l,fetch:v,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new sk(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((o,t)=>{this._handleTokenChanged(o,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(n,o,t){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==t?this.changedAccessToken=t:n==="SIGNED_OUT"&&(this.realtime.setAuth(),o=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ki=(r,n,o)=>new kC(r,n,o);function CC(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const n=r.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}CC()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var TC=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function iw({packageName:r,customMessages:n}){let o=r;function t(a,s){if(!s)return`${o}: ${a}`;let u=a;const l=a.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const f of l){const v=(s[f[1]]||"").toString();u=u.replace(`{{${f[1]}}}`,v)}return`${o}: ${u}`}const i={...TC,...n};return{setPackageName({packageName:a}){return typeof a=="string"&&(o=a),this},setMessages({customMessages:a}){return Object.assign(i,a||{}),this},throwInvalidPublishableKeyError(a){throw new Error(t(i.InvalidPublishableKeyErrorMessage,a))},throwInvalidProxyUrl(a){throw new Error(t(i.InvalidProxyUrlErrorMessage,a))},throwMissingPublishableKeyError(){throw new Error(t(i.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(t(i.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(a){throw new Error(t(i.MissingClerkProvider,a))},throw(a){throw new Error(t(a))}}}var aw=Object.defineProperty,PC=Object.getOwnPropertyDescriptor,OC=Object.getOwnPropertyNames,MC=Object.prototype.hasOwnProperty,IC=(r,n)=>{for(var o in n)aw(r,o,{get:n[o],enumerable:!0})},AC=(r,n,o,t)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of OC(n))!MC.call(r,i)&&i!==o&&aw(r,i,{get:()=>n[i],enumerable:!(t=PC(n,i))||t.enumerable});return r},RC=(r,n,o)=>(AC(r,n,"default"),o),LC={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},DC=new Set(["first_factor","second_factor","multi_factor"]),NC=new Set(["strict_mfa","strict","moderate","lax"]),UC=r=>typeof r=="number"&&r>0,FC=r=>DC.has(r),BC=r=>NC.has(r),zd=r=>r.replace(/^(org:)*/,"org:"),GC=(r,n)=>{const{orgId:o,orgRole:t,orgPermissions:i}=n;return!r.role&&!r.permission||!o||!t||!i?null:r.permission?i.includes(zd(r.permission)):r.role?zd(t)===zd(r.role):null},Yy=(r,n)=>{const{org:o,user:t}=VC(r),[i,a]=n.split(":"),s=a||i;return i==="org"?o.includes(s):i==="user"?t.includes(s):[...o,...t].includes(s)},zC=(r,n)=>{const{features:o,plans:t}=n;return r.feature&&o?Yy(o,r.feature):r.plan&&t?Yy(t,r.plan):null},VC=r=>{const n=r?r.split(",").map(o=>o.trim()):[];return{org:n.filter(o=>o.split(":")[0].includes("o")).map(o=>o.split(":")[1]),user:n.filter(o=>o.split(":")[0].includes("u")).map(o=>o.split(":")[1])}},WC=r=>{if(!r)return!1;const n=i=>typeof i=="string"?LC[i]:i,o=typeof r=="string"&&BC(r),t=typeof r=="object"&&FC(r.level)&&UC(r.afterMinutes);return o||t?n.bind(null,r):!1},HC=(r,{factorVerificationAge:n})=>{if(!r.reverification||!n)return null;const o=WC(r.reverification);if(!o)return null;const{level:t,afterMinutes:i}=o(),[a,s]=n,u=a!==-1?i>a:null,l=s!==-1?i>s:null;switch(t){case"first_factor":return u;case"second_factor":return s!==-1?l:u;case"multi_factor":return s===-1?u:u&&l}},$C=r=>n=>{if(!r.userId)return!1;const o=zC(n,r),t=GC(n,r),i=HC(n,r);return[o||t,i].some(a=>a===null)?[o||t,i].some(a=>a===!0):[o||t,i].every(a=>a===!0)},qC=({authObject:{sessionId:r,sessionStatus:n,userId:o,actor:t,orgId:i,orgRole:a,orgSlug:s,signOut:u,getToken:l,has:f,sessionClaims:v},options:{treatPendingAsSignedOut:m=!0}})=>{if(r===void 0&&o===void 0)return{isLoaded:!1,isSignedIn:void 0,sessionId:r,sessionClaims:void 0,userId:o,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,has:void 0,signOut:u,getToken:l};if(r===null&&o===null)return{isLoaded:!0,isSignedIn:!1,sessionId:r,userId:o,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:u,getToken:l};if(m&&n==="pending")return{isLoaded:!0,isSignedIn:!1,sessionId:null,userId:null,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:u,getToken:l};if(r&&v&&o&&i&&a)return{isLoaded:!0,isSignedIn:!0,sessionId:r,sessionClaims:v,userId:o,actor:t||null,orgId:i,orgRole:a,orgSlug:s||null,has:f,signOut:u,getToken:l};if(r&&v&&o&&!i)return{isLoaded:!0,isSignedIn:!0,sessionId:r,sessionClaims:v,userId:o,actor:t||null,orgId:null,orgRole:null,orgSlug:null,has:f,signOut:u,getToken:l}},lw=r=>typeof atob<"u"&&typeof atob=="function"?atob(r):typeof global<"u"&&global.Buffer?new global.Buffer(r,"base64").toString():r,XC=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],uw="pk_live_",YC="pk_test_";function cw(r){if(!r.endsWith("$"))return!1;const n=r.slice(0,-1);return n.includes("$")?!1:n.includes(".")}function Ky(r,n={}){if(r=r||"",!r||!Sh(r)){if(n.fatal&&!r)throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(n.fatal&&!Sh(r))throw new Error("Publishable key not valid.");return null}const o=r.startsWith(uw)?"production":"development";let t;try{t=lw(r.split("_")[2])}catch{if(n.fatal)throw new Error("Publishable key not valid: Failed to decode key.");return null}if(!cw(t)){if(n.fatal)throw new Error("Publishable key not valid: Decoded key has invalid format.");return null}let i=t.slice(0,-1);return n.proxyUrl?i=n.proxyUrl:o!=="development"&&n.domain&&n.isSatellite&&(i=`clerk.${n.domain}`),{instanceType:o,frontendApi:i}}function Sh(r=""){try{if(!(r.startsWith(uw)||r.startsWith(YC)))return!1;const o=r.split("_");if(o.length!==3)return!1;const t=o[2];if(!t)return!1;const i=lw(t);return cw(i)}catch{return!1}}function KC(){const r=new Map;return{isDevOrStagingUrl:n=>{if(!n)return!1;const o=typeof n=="string"?n:n.hostname;let t=r.get(o);return t===void 0&&(t=XC.some(i=>o.endsWith(i)),r.set(o,t)),t}}}var JC="METHOD_CALLED",ZC=.1;function dw(r,n){return{event:JC,eventSamplingRate:ZC,payload:{method:r,...n}}}var fw={exports:{}},hw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pi=je;function QC(r,n){return r===n&&(r!==0||1/r===1/n)||r!==r&&n!==n}var eT=typeof Object.is=="function"?Object.is:QC,tT=pi.useState,rT=pi.useEffect,nT=pi.useLayoutEffect,oT=pi.useDebugValue;function sT(r,n){var o=n(),t=tT({inst:{value:o,getSnapshot:n}}),i=t[0].inst,a=t[1];return nT(function(){i.value=o,i.getSnapshot=n,Vd(i)&&a({inst:i})},[r,o,n]),rT(function(){return Vd(i)&&a({inst:i}),r(function(){Vd(i)&&a({inst:i})})},[r]),oT(o),o}function Vd(r){var n=r.getSnapshot;r=r.value;try{var o=n();return!eT(r,o)}catch{return!0}}function iT(r,n){return n()}var aT=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?iT:sT;hw.useSyncExternalStore=pi.useSyncExternalStore!==void 0?pi.useSyncExternalStore:aT;fw.exports=hw;var pw=fw.exports;const mw=0,gw=1,yw=2,Jy=3;var Zy=Object.prototype.hasOwnProperty;function Eh(r,n){var o,t;if(r===n)return!0;if(r&&n&&(o=r.constructor)===n.constructor){if(o===Date)return r.getTime()===n.getTime();if(o===RegExp)return r.toString()===n.toString();if(o===Array){if((t=r.length)===n.length)for(;t--&&Eh(r[t],n[t]););return t===-1}if(!o||typeof r=="object"){t=0;for(o in r)if(Zy.call(r,o)&&++t&&!Zy.call(n,o)||!(o in n)||!Eh(r[o],n[o]))return!1;return Object.keys(n).length===t}}return r!==r&&n!==n}const An=new WeakMap,Io=()=>{},cr=Io(),Hu=Object,yt=r=>r===cr,yn=r=>typeof r=="function",ho=(r,n)=>({...r,...n}),vw=r=>yn(r.then),Wd={},Wl={},Yp="undefined",rl=typeof window!=Yp,kh=typeof document!=Yp,lT=rl&&"Deno"in window,uT=()=>rl&&typeof window.requestAnimationFrame!=Yp,So=(r,n)=>{const o=An.get(r);return[()=>!yt(n)&&r.get(n)||Wd,t=>{if(!yt(n)){const i=r.get(n);n in Wl||(Wl[n]=i),o[5](n,ho(i,t),i||Wd)}},o[6],()=>!yt(n)&&n in Wl?Wl[n]:!yt(n)&&r.get(n)||Wd]};let Ch=!0;const cT=()=>Ch,[Th,Ph]=rl&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Io,Io],dT=()=>{const r=kh&&document.visibilityState;return yt(r)||r!=="hidden"},fT=r=>(kh&&document.addEventListener("visibilitychange",r),Th("focus",r),()=>{kh&&document.removeEventListener("visibilitychange",r),Ph("focus",r)}),hT=r=>{const n=()=>{Ch=!0,r()},o=()=>{Ch=!1};return Th("online",n),Th("offline",o),()=>{Ph("online",n),Ph("offline",o)}},pT={isOnline:cT,isVisible:dT},mT={initFocus:fT,initReconnect:hT},Qy=!Me.useId,Ba=!rl||lT,gT=r=>uT()?window.requestAnimationFrame(r):setTimeout(r,1),ma=Ba?je.useEffect:je.useLayoutEffect,Hd=typeof navigator<"u"&&navigator.connection,ev=!Ba&&Hd&&(["slow-2g","2g"].includes(Hd.effectiveType)||Hd.saveData),Hl=new WeakMap,yT=r=>Hu.prototype.toString.call(r),$d=(r,n)=>r===`[object ${n}]`;let vT=0;const Oh=r=>{const n=typeof r,o=yT(r),t=$d(o,"Date"),i=$d(o,"RegExp"),a=$d(o,"Object");let s,u;if(Hu(r)===r&&!t&&!i){if(s=Hl.get(r),s)return s;if(s=++vT+"~",Hl.set(r,s),Array.isArray(r)){for(s="@",u=0;u<r.length;u++)s+=Oh(r[u])+",";Hl.set(r,s)}if(a){s="#";const l=Hu.keys(r).sort();for(;!yt(u=l.pop());)yt(r[u])||(s+=u+":"+Oh(r[u])+",");Hl.set(r,s)}}else s=t?r.toJSON():n=="symbol"?r.toString():n=="string"?JSON.stringify(r):""+r;return s},mi=r=>{if(yn(r))try{r=r()}catch{r=""}const n=r;return r=typeof r=="string"?r:(Array.isArray(r)?r.length:r)?Oh(r):"",[r,n]};let bT=0;const Mh=()=>++bT;async function bw(...r){const[n,o,t,i]=r,a=ho({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let s=a.populateCache;const u=a.rollbackOnError;let l=a.optimisticData;const f=c=>typeof u=="function"?u(c):u!==!1,v=a.throwOnError;if(yn(o)){const c=o,d=[],g=n.keys();for(const y of g)!/^\$(inf|sub)\$/.test(y)&&c(n.get(y)._k)&&d.push(y);return Promise.all(d.map(m))}return m(o);async function m(c){const[d]=mi(c);if(!d)return;const[g,y]=So(n,d),[b,p,h,w]=An.get(n),_=()=>{const U=b[d];return(yn(a.revalidate)?a.revalidate(g().data,c):a.revalidate!==!1)&&(delete h[d],delete w[d],U&&U[0])?U[0](yw).then(()=>g().data):g().data};if(r.length<3)return _();let j=t,E,S=!1;const C=Mh();p[d]=[C,0];const M=!yt(l),A=g(),P=A.data,D=A._c,I=yt(D)?P:D;if(M&&(l=yn(l)?l(I,P):l,y({data:l,_c:I})),yn(j))try{j=j(I)}catch(U){E=U,S=!0}if(j&&vw(j))if(j=await j.catch(U=>{E=U,S=!0}),C!==p[d][0]){if(S)throw E;return j}else S&&M&&f(E)&&(s=!0,y({data:I,_c:cr}));if(s&&!S)if(yn(s)){const U=s(j,I);y({data:U,error:cr,_c:cr})}else y({data:j,error:cr,_c:cr});if(p[d][1]=Mh(),Promise.resolve(_()).then(()=>{y({_c:cr})}),S){if(v)throw E;return}return j}}const tv=(r,n)=>{for(const o in r)r[o][0]&&r[o][0](n)},ww=(r,n)=>{if(!An.has(r)){const o=ho(mT,n),t=Object.create(null),i=bw.bind(cr,r);let a=Io;const s=Object.create(null),u=(v,m)=>{const c=s[v]||[];return s[v]=c,c.push(m),()=>c.splice(c.indexOf(m),1)},l=(v,m,c)=>{r.set(v,m);const d=s[v];if(d)for(const g of d)g(m,c)},f=()=>{if(!An.has(r)&&(An.set(r,[t,Object.create(null),Object.create(null),Object.create(null),i,l,u]),!Ba)){const v=o.initFocus(setTimeout.bind(cr,tv.bind(cr,t,mw))),m=o.initReconnect(setTimeout.bind(cr,tv.bind(cr,t,gw)));a=()=>{v&&v(),m&&m(),An.delete(r)}}};return f(),[r,i,f,a]}return[r,An.get(r)[4]]},wT=(r,n,o,t,i)=>{const a=o.errorRetryCount,s=i.retryCount,u=~~((Math.random()+.5)*(1<<(s<8?s:8)))*o.errorRetryInterval;!yt(a)&&s>a||setTimeout(t,u,i)},_T=Eh,[nl,_w]=ww(new Map),xw=ho({onLoadingSlow:Io,onSuccess:Io,onError:Io,onErrorRetry:wT,onDiscarded:Io,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:ev?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:ev?5e3:3e3,compare:_T,isPaused:()=>!1,cache:nl,mutate:_w,fallback:{}},pT),jw=(r,n)=>{const o=ho(r,n);if(n){const{use:t,fallback:i}=r,{use:a,fallback:s}=n;t&&a&&(o.use=t.concat(a)),i&&s&&(o.fallback=ho(i,s))}return o},Ih=je.createContext({}),xT=r=>{const{value:n}=r,o=je.useContext(Ih),t=yn(n),i=je.useMemo(()=>t?n(o):n,[t,o,n]),a=je.useMemo(()=>t?i:jw(o,i),[t,o,i]),s=i&&i.provider,u=je.useRef(cr);s&&!u.current&&(u.current=ww(s(a.cache||nl),i));const l=u.current;return l&&(a.cache=l[0],a.mutate=l[1]),ma(()=>{if(l)return l[2]&&l[2](),l[3]},[]),je.createElement(Ih.Provider,ho(r,{value:a}))},Sw="$inf$",Ew=rl&&window.__SWR_DEVTOOLS_USE__,jT=Ew?window.__SWR_DEVTOOLS_USE__:[],ST=()=>{Ew&&(window.__SWR_DEVTOOLS_REACT__=Me)},kw=r=>yn(r[1])?[r[0],r[1],r[2]||{}]:[r[0],null,(r[1]===null?r[2]:r[1])||{}],Cw=()=>ho(xw,je.useContext(Ih)),ET=(r,n)=>{const[o,t]=mi(r),[,,,i]=An.get(nl);if(i[o])return i[o];const a=n(t);return i[o]=a,a},kT=r=>(n,o,t)=>r(n,o&&((...a)=>{const[s]=mi(n),[,,,u]=An.get(nl);if(s.startsWith(Sw))return o(...a);const l=u[s];return yt(l)?o(...a):(delete u[s],l)}),t),CT=jT.concat(kT),TT=r=>function(...o){const t=Cw(),[i,a,s]=kw(o),u=jw(t,s);let l=r;const{use:f}=u,v=(f||[]).concat(CT);for(let m=v.length;m--;)l=v[m](l);return l(i,a||u.fetcher||null,u)},PT=(r,n,o)=>{const t=n[r]||(n[r]=[]);return t.push(o),()=>{const i=t.indexOf(o);i>=0&&(t[i]=t[t.length-1],t.pop())}},OT=(r,n)=>(...o)=>{const[t,i,a]=kw(o),s=(a.use||[]).concat(n);return r(t,i,{...a,use:s})};ST();const MT=()=>{},IT=MT(),Ah=Object,rv=r=>r===IT,AT=r=>typeof r=="function",$l=new WeakMap,RT=r=>Ah.prototype.toString.call(r),qd=(r,n)=>r===`[object ${n}]`;let LT=0;const Rh=r=>{const n=typeof r,o=RT(r),t=qd(o,"Date"),i=qd(o,"RegExp"),a=qd(o,"Object");let s,u;if(Ah(r)===r&&!t&&!i){if(s=$l.get(r),s)return s;if(s=++LT+"~",$l.set(r,s),Array.isArray(r)){for(s="@",u=0;u<r.length;u++)s+=Rh(r[u])+",";$l.set(r,s)}if(a){s="#";const l=Ah.keys(r).sort();for(;!rv(u=l.pop());)rv(r[u])||(s+=u+":"+Rh(r[u])+",");$l.set(r,s)}}else s=t?r.toJSON():n=="symbol"?r.toString():n=="string"?JSON.stringify(r):""+r;return s},DT=r=>{if(AT(r))try{r=r()}catch{r=""}const n=r;return r=typeof r=="string"?r:(Array.isArray(r)?r.length:r)?Rh(r):"",[r,n]},NT=r=>DT(r)[0],Xd=Me.use||(r=>{switch(r.status){case"pending":throw r;case"fulfilled":return r.value;case"rejected":throw r.reason;default:throw r.status="pending",r.then(n=>{r.status="fulfilled",r.value=n},n=>{r.status="rejected",r.reason=n}),r}}),Yd={dedupe:!0},UT=(r,n,o)=>{const{cache:t,compare:i,suspense:a,fallbackData:s,revalidateOnMount:u,revalidateIfStale:l,refreshInterval:f,refreshWhenHidden:v,refreshWhenOffline:m,keepPreviousData:c}=o,[d,g,y,b]=An.get(t),[p,h]=mi(r),w=je.useRef(!1),_=je.useRef(!1),j=je.useRef(p),E=je.useRef(n),S=je.useRef(o),C=()=>S.current,M=()=>C().isVisible()&&C().isOnline(),[A,P,D,I]=So(t,p),U=je.useRef({}).current,N=yt(s)?yt(o.fallback)?cr:o.fallback[p]:s,B=(ae,Z)=>{for(const ue in U){const pe=ue;if(pe==="data"){if(!i(ae[pe],Z[pe])&&(!yt(ae[pe])||!i(G,Z[pe])))return!1}else if(Z[pe]!==ae[pe])return!1}return!0},W=je.useMemo(()=>{const ae=!p||!n?!1:yt(u)?C().isPaused()||a?!1:l!==!1:u,Z=_e=>{const Le=ho(_e);return delete Le._k,ae?{isValidating:!0,isLoading:!0,...Le}:Le},ue=A(),pe=I(),we=Z(ue),ge=ue===pe?we:Z(pe);let ye=we;return[()=>{const _e=Z(A());return B(_e,ye)?(ye.data=_e.data,ye.isLoading=_e.isLoading,ye.isValidating=_e.isValidating,ye.error=_e.error,ye):(ye=_e,_e)},()=>ge]},[t,p]),z=pw.useSyncExternalStore(je.useCallback(ae=>D(p,(Z,ue)=>{B(ue,Z)||ae()}),[t,p]),W[0],W[1]),V=!w.current,X=d[p]&&d[p].length>0,K=z.data,re=yt(K)?N&&vw(N)?Xd(N):N:K,T=z.error,L=je.useRef(re),G=c?yt(K)?yt(L.current)?re:L.current:K:re,H=X&&!yt(T)?!1:V&&!yt(u)?u:C().isPaused()?!1:a?yt(re)?!1:l:yt(re)||l,J=!!(p&&n&&V&&H),ee=yt(z.isValidating)?J:z.isValidating,ie=yt(z.isLoading)?J:z.isLoading,fe=je.useCallback(async ae=>{const Z=E.current;if(!p||!Z||_.current||C().isPaused())return!1;let ue,pe,we=!0;const ge=ae||{},ye=!y[p]||!ge.dedupe,_e=()=>Qy?!_.current&&p===j.current&&w.current:p===j.current,Le={isValidating:!1,isLoading:!1},Ce=()=>{P(Le)},tt=()=>{const ze=y[p];ze&&ze[1]===pe&&delete y[p]},$e={isValidating:!0};yt(A().data)&&($e.isLoading=!0);try{if(ye&&(P($e),o.loadingTimeout&&yt(A().data)&&setTimeout(()=>{we&&_e()&&C().onLoadingSlow(p,o)},o.loadingTimeout),y[p]=[Z(h),Mh()]),[ue,pe]=y[p],ue=await ue,ye&&setTimeout(tt,o.dedupingInterval),!y[p]||y[p][1]!==pe)return ye&&_e()&&C().onDiscarded(p),!1;Le.error=cr;const ze=g[p];if(!yt(ze)&&(pe<=ze[0]||pe<=ze[1]||ze[1]===0))return Ce(),ye&&_e()&&C().onDiscarded(p),!1;const Xe=A().data;Le.data=i(Xe,ue)?Xe:ue,ye&&_e()&&C().onSuccess(ue,p,o)}catch(ze){tt();const Xe=C(),{shouldRetryOnError:Ye}=Xe;Xe.isPaused()||(Le.error=ze,ye&&_e()&&(Xe.onError(ze,p,Xe),(Ye===!0||yn(Ye)&&Ye(ze))&&(!C().revalidateOnFocus||!C().revalidateOnReconnect||M())&&Xe.onErrorRetry(ze,p,Xe,xe=>{const De=d[p];De&&De[0]&&De[0](Jy,xe)},{retryCount:(ge.retryCount||0)+1,dedupe:!0})))}return we=!1,Ce(),!0},[p,t]),oe=je.useCallback((...ae)=>bw(t,j.current,...ae),[]);if(ma(()=>{E.current=n,S.current=o,yt(K)||(L.current=K)}),ma(()=>{if(!p)return;const ae=fe.bind(cr,Yd);let Z=0;C().revalidateOnFocus&&(Z=Date.now()+C().focusThrottleInterval);const pe=PT(p,d,(we,ge={})=>{if(we==mw){const ye=Date.now();C().revalidateOnFocus&&ye>Z&&M()&&(Z=ye+C().focusThrottleInterval,ae())}else if(we==gw)C().revalidateOnReconnect&&M()&&ae();else{if(we==yw)return fe();if(we==Jy)return fe(ge)}});return _.current=!1,j.current=p,w.current=!0,P({_k:h}),H&&(y[p]||(yt(re)||Ba?ae():gT(ae))),()=>{_.current=!0,pe()}},[p]),ma(()=>{let ae;function Z(){const pe=yn(f)?f(A().data):f;pe&&ae!==-1&&(ae=setTimeout(ue,pe))}function ue(){!A().error&&(v||C().isVisible())&&(m||C().isOnline())?fe(Yd).then(Z):Z()}return Z(),()=>{ae&&(clearTimeout(ae),ae=-1)}},[f,v,m,p]),je.useDebugValue(G),a&&yt(re)&&p){if(!Qy&&Ba)throw new Error("Fallback data is required when using Suspense in SSR.");E.current=n,S.current=o,_.current=!1;const ae=b[p];if(!yt(ae)){const Z=oe(ae);Xd(Z)}if(yt(T)){const Z=fe(Yd);yt(G)||(Z.status="fulfilled",Z.value=!0),Xd(Z)}else throw T}return{mutate:oe,get data(){return U.data=!0,G},get error(){return U.error=!0,T},get isValidating(){return U.isValidating=!0,ee},get isLoading(){return U.isLoading=!0,ie}}},FT=Hu.defineProperty(xT,"defaultValue",{value:xw}),Kp=TT(UT),BT=Object.freeze(Object.defineProperty({__proto__:null,SWRConfig:FT,default:Kp,mutate:_w,preload:ET,unstable_serialize:NT,useSWRConfig:Cw},Symbol.toStringTag,{value:"Module"})),GT=()=>{},zT=GT(),Lh=Object,nv=r=>r===zT,VT=r=>typeof r=="function",ql=new WeakMap,WT=r=>Lh.prototype.toString.call(r),Kd=(r,n)=>r===`[object ${n}]`;let HT=0;const Dh=r=>{const n=typeof r,o=WT(r),t=Kd(o,"Date"),i=Kd(o,"RegExp"),a=Kd(o,"Object");let s,u;if(Lh(r)===r&&!t&&!i){if(s=ql.get(r),s)return s;if(s=++HT+"~",ql.set(r,s),Array.isArray(r)){for(s="@",u=0;u<r.length;u++)s+=Dh(r[u])+",";ql.set(r,s)}if(a){s="#";const l=Lh.keys(r).sort();for(;!nv(u=l.pop());)nv(r[u])||(s+=u+":"+Dh(r[u])+",");ql.set(r,s)}}else s=t?r.toJSON():n=="symbol"?r.toString():n=="string"?JSON.stringify(r):""+r;return s},$T=r=>{if(VT(r))try{r=r()}catch{r=""}const n=r;return r=typeof r=="string"?r:(Array.isArray(r)?r.length:r)?Dh(r):"",[r,n]},qT=r=>$T(r?r(0,null):null)[0],Jd=Promise.resolve(),XT=r=>(n,o,t)=>{const i=je.useRef(!1),{cache:a,initialSize:s=1,revalidateAll:u=!1,persistSize:l=!1,revalidateFirstPage:f=!0,revalidateOnMount:v=!1,parallel:m=!1}=t,[,,,c]=An.get(nl);let d;try{d=qT(n),d&&(d=Sw+d)}catch{}const[g,y,b]=So(a,d),p=je.useCallback(()=>yt(g()._l)?s:g()._l,[a,d,s]);pw.useSyncExternalStore(je.useCallback(C=>d?b(d,()=>{C()}):()=>{},[a,d]),p,p);const h=je.useCallback(()=>{const C=g()._l;return yt(C)?s:C},[d,s]),w=je.useRef(h());ma(()=>{if(!i.current){i.current=!0;return}d&&y({_l:l?w.current:h()})},[d,a]);const _=v&&!i.current,j=r(d,async C=>{const M=g()._i,A=g()._r;y({_r:cr});const P=[],D=h(),[I]=So(a,C),U=I().data,N=[];let B=null;for(let W=0;W<D;++W){const[z,V]=mi(n(W,m?null:B));if(!z)break;const[X,K]=So(a,z);let re=X().data;const T=u||M||yt(re)||f&&!W&&!yt(U)||_||U&&!yt(U[W])&&!t.compare(U[W],re);if(o&&(typeof A=="function"?A(re,V):T)){const L=async()=>{if(!(z in c))re=await o(V);else{const H=c[z];delete c[z],re=await H}K({data:re,_k:V}),P[W]=re};m?N.push(L):await L()}else P[W]=re;m||(B=re)}return m&&await Promise.all(N.map(W=>W())),y({_i:cr}),P},t),E=je.useCallback(function(C,M){const A=typeof M=="boolean"?{revalidate:M}:M||{},P=A.revalidate!==!1;return d?(P&&(yt(C)?y({_i:!0,_r:A.revalidate}):y({_i:!1,_r:A.revalidate})),arguments.length?j.mutate(C,{...A,revalidate:P}):j.mutate()):Jd},[d,a]),S=je.useCallback(C=>{if(!d)return Jd;const[,M]=So(a,d);let A;if(yn(C)?A=C(h()):typeof C=="number"&&(A=C),typeof A!="number")return Jd;M({_l:A}),w.current=A;const P=[],[D]=So(a,d);let I=null;for(let U=0;U<A;++U){const[N]=mi(n(U,I)),[B]=So(a,N),W=N?B().data:cr;if(yt(W))return E(D().data);P.push(W),I=W}return E(P)},[d,a,E,h]);return{size:h(),setSize:S,mutate:E,get data(){return j.data},get error(){return j.error},get isValidating(){return j.isValidating},get isLoading(){return j.isLoading}}},YT=OT(Kp,XT);var ov=Object.prototype.hasOwnProperty;function sv(r,n,o){for(o of r.keys())if(ga(o,n))return o}function ga(r,n){var o,t,i;if(r===n)return!0;if(r&&n&&(o=r.constructor)===n.constructor){if(o===Date)return r.getTime()===n.getTime();if(o===RegExp)return r.toString()===n.toString();if(o===Array){if((t=r.length)===n.length)for(;t--&&ga(r[t],n[t]););return t===-1}if(o===Set){if(r.size!==n.size)return!1;for(t of r)if(i=t,i&&typeof i=="object"&&(i=sv(n,i),!i)||!n.has(i))return!1;return!0}if(o===Map){if(r.size!==n.size)return!1;for(t of r)if(i=t[0],i&&typeof i=="object"&&(i=sv(n,i),!i)||!ga(t[1],n.get(i)))return!1;return!0}if(o===ArrayBuffer)r=new Uint8Array(r),n=new Uint8Array(n);else if(o===DataView){if((t=r.byteLength)===n.byteLength)for(;t--&&r.getInt8(t)===n.getInt8(t););return t===-1}if(ArrayBuffer.isView(r)){if((t=r.byteLength)===n.byteLength)for(;t--&&r[t]===n[t];);return t===-1}if(!o||typeof r=="object"){t=0;for(o in r)if(ov.call(r,o)&&++t&&!ov.call(n,o)||!(o in n)||!ga(r[o],n[o]))return!1;return Object.keys(n).length===t}}return r!==r&&n!==n}function KT(r,n){if(!r)throw typeof n=="string"?new Error(n):new Error(`${n.displayName} not found`)}var Kn=(r,n)=>{const{assertCtxFn:o=KT}={},t=Me.createContext(void 0);return t.displayName=r,[t,()=>{const s=Me.useContext(t);return o(s,`${r} not found`),s.value},()=>{const s=Me.useContext(t);return s?s.value:{}}]},Jp={};IC(Jp,{useSWR:()=>Kp,useSWRInfinite:()=>YT});RC(Jp,BT);var[Tw,Pw]=Kn("ClerkInstanceContext"),[JT,ZT]=Kn("UserContext"),[QT,OL]=Kn("ClientContext"),[eP,ML]=Kn("SessionContext");Me.createContext({});var[tP,IL]=Kn("CheckoutContext"),rP=({children:r,...n})=>Me.createElement(tP.Provider,{value:{value:n}},r),[nP,AL]=Kn("OrganizationContext"),oP=({children:r,organization:n,swrConfig:o})=>Me.createElement(Jp.SWRConfig,{value:o},Me.createElement(nP.Provider,{value:{value:{organization:n}}},r));function Ow(r){if(!Me.useContext(Tw)){if(typeof r=="function"){r();return}throw new Error(`${r} can only be used within the <ClerkProvider /> component.

Possible fixes:
1. Ensure that the <ClerkProvider /> is correctly wrapping your application where this component is used.
2. Check for multiple versions of the \`@clerk/shared\` package in your project. Use a tool like \`npm ls @clerk/shared\` to identify multiple versions, and update your dependencies to only rely on one.

Learn more: https://clerk.com/docs/components/clerk-provider`.trim())}}typeof window<"u"?Me.useLayoutEffect:Me.useEffect;var iv="useUser";function sP(){var o;Ow(iv);const r=ZT();return(o=Pw().telemetry)==null||o.record(dw(iv)),r===void 0?{isLoaded:!1,isSignedIn:void 0,user:void 0}:r===null?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:r}}var av=ga,iP=r=>{const n=je.useRef(r);return je.useEffect(()=>{n.current=r},[r]),n.current},tn=(r,n,o)=>{const t=!!o,i=je.useRef(o);je.useEffect(()=>{i.current=o},[o]),je.useEffect(()=>{if(!t||!r)return()=>{};const a=(...s)=>{i.current&&i.current(...s)};return r.on(n,a),()=>{r.off(n,a)}},[t,n,r,i])},Mw=Me.createContext(null);Mw.displayName="ElementsContext";var aP=(r,n)=>{if(!r)throw new Error(`Could not find Elements context; You need to wrap the part of your app that ${n} in an <Elements> provider.`);return r},$u=r=>r!==null&&typeof r=="object",lP=(r,n,o)=>$u(r)?Object.keys(r).reduce((t,i)=>{const a=!$u(n)||!Iw(r[i],n[i]);return o.includes(i)?(a&&console.warn(`Unsupported prop change: options.${i} is not a mutable property.`),t):a?{...t||{},[i]:r[i]}:t},null):null,lv="[object Object]",Iw=(r,n)=>{if(!$u(r)||!$u(n))return r===n;const o=Array.isArray(r),t=Array.isArray(n);if(o!==t)return!1;const i=Object.prototype.toString.call(r)===lv,a=Object.prototype.toString.call(n)===lv;if(i!==a)return!1;if(!i&&!o)return r===n;const s=Object.keys(r),u=Object.keys(n);if(s.length!==u.length)return!1;const l={};for(let d=0;d<s.length;d+=1)l[s[d]]=!0;for(let d=0;d<u.length;d+=1)l[u[d]]=!0;const f=Object.keys(l);if(f.length!==s.length)return!1;const v=r,m=n,c=d=>Iw(v[d],m[d]);return f.every(c)},uv=r=>{const n=Me.useContext(Mw);return aP(n,r)},uP=r=>r.charAt(0).toUpperCase()+r.slice(1),cP=(r,n)=>{const o=`${uP(r)}Element`,a=n?s=>{uv(`mounts <${o}>`);const{id:u,className:l}=s;return Me.createElement("div",{id:u,className:l})}:({id:s,className:u,fallback:l,options:f={},onBlur:v,onFocus:m,onReady:c,onChange:d,onEscape:g,onClick:y,onLoadError:b,onLoaderStart:p,onNetworksChange:h,onConfirm:w,onCancel:_,onShippingAddressChange:j,onShippingRateChange:E})=>{const S=uv(`mounts <${o}>`),C="elements"in S?S.elements:null,[M,A]=Me.useState(null),P=Me.useRef(null),D=Me.useRef(null),[I,U]=je.useState(!1);tn(M,"blur",v),tn(M,"focus",m),tn(M,"escape",g),tn(M,"click",y),tn(M,"loaderror",b),tn(M,"loaderstart",p),tn(M,"networkschange",h),tn(M,"confirm",w),tn(M,"cancel",_),tn(M,"shippingaddresschange",j),tn(M,"shippingratechange",E),tn(M,"change",d);let N;c&&(N=()=>{U(!0),c(M)}),tn(M,"ready",N),Me.useLayoutEffect(()=>{if(P.current===null&&D.current!==null&&C){let W=null;C&&(W=C.create(r,f)),P.current=W,A(W),W&&W.mount(D.current)}},[C,f]);const B=iP(f);return Me.useEffect(()=>{if(!P.current)return;const W=lP(f,B,["paymentRequest"]);W&&"update"in P.current&&P.current.update(W)},[f,B]),Me.useLayoutEffect(()=>()=>{if(P.current&&typeof P.current.destroy=="function")try{P.current.destroy(),P.current=null}catch{}},[]),Me.createElement(Me.Fragment,null,!I&&l,Me.createElement("div",{id:s,style:{height:I?"unset":"0px",visibility:I?"visible":"hidden"},className:u,ref:D}))};return a.displayName=o,a.__elementType=r,a},dP=typeof window>"u";cP("payment",dP);Kn("StripeLibsContext");Kn("PaymentElementContext");Kn("StripeUtilsContext");var Yn=iw({packageName:"@clerk/clerk-react"});function fP(r){Yn.setMessages(r).setPackageName(r)}var[hP,pP]=Kn("AuthContext"),mP=Tw,Aw=Pw,gP="You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",yP=r=>`You've passed multiple children components to <${r}/>. You can only pass a single child component or text.`,vP="Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support",Zd="Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",bP="<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",wP="<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",_P="<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",xP="<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",jP=r=>`<${r} /> can only accept <${r}.Page /> and <${r}.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.`,SP=r=>`Missing props. <${r}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,EP=r=>`Missing props. <${r}.Link /> component requires the following props: url, label and labelIcon.`,kP="<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",CP="<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",TP="<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.",PP="<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.",OP="<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.",MP="Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.",IP="Missing props. <UserButton.Action /> component requires the following props: label.",Tc=r=>{Ow(()=>{Yn.throwMissingClerkProviderError({source:r})})},Rw=r=>new Promise(n=>{const o=t=>{["ready","degraded"].includes(t)&&(n(),r.off("status",o))};r.on("status",o,{notify:!0})}),AP=r=>async n=>(await Rw(r),r.session?r.session.getToken(n):null),RP=r=>async(...n)=>(await Rw(r),r.signOut(...n)),Lw=(r={})=>{var n;Tc("useAuth");const{treatPendingAsSignedOut:o,...t}=r??{},i=t;let s=pP();s.sessionId===void 0&&s.userId===void 0&&(s=i??{});const u=Aw(),l=je.useCallback(AP(u),[u]),f=je.useCallback(RP(u),[u]);return(n=u.telemetry)==null||n.record(dw("useAuth",{treatPendingAsSignedOut:o})),LP({...s,getToken:l,signOut:f},{treatPendingAsSignedOut:o})};function LP(r,{treatPendingAsSignedOut:n=!0}={}){const{userId:o,orgId:t,orgRole:i,has:a,signOut:s,getToken:u,orgPermissions:l,factorVerificationAge:f,sessionClaims:v}=r??{},m=je.useCallback(d=>a?a(d):$C({userId:o,orgId:t,orgRole:i,orgPermissions:l,factorVerificationAge:f,features:(v==null?void 0:v.fea)||"",plans:(v==null?void 0:v.pla)||""})(d),[a,o,t,i,l,f]),c=qC({authObject:{...r,getToken:u,signOut:s,has:m},options:{treatPendingAsSignedOut:n}});return c||Yn.throw(vP)}var Wt=(r,n)=>{const t=(typeof n=="string"?n:n==null?void 0:n.component)||r.displayName||r.name||"Component";r.displayName=t;const i=typeof n=="string"?void 0:n,a=s=>{Tc(t||"withClerk");const u=Aw();return!u.loaded&&!(i!=null&&i.renderWhileLoading)?null:Me.createElement(r,{...s,component:t,clerk:u})};return a.displayName=`withClerk(${t})`,a},DP=()=>{try{return!1}catch{}return!1},NP=()=>{try{return!1}catch{}return!1},UP=()=>{try{return!0}catch{}return!1},cv=new Set,Zp=(r,n,o)=>{const t=NP()||UP(),i=r;cv.has(i)||t||(cv.add(i),console.warn(`Clerk - DEPRECATION WARNING: "${r}" is deprecated and will be removed in the next major release.
${n}`))},FP=({children:r,treatPendingAsSignedOut:n})=>{Tc("SignedIn");const{userId:o}=Lw({treatPendingAsSignedOut:n});return o?r:null},BP=({children:r,treatPendingAsSignedOut:n})=>{Tc("SignedOut");const{userId:o}=Lw({treatPendingAsSignedOut:n});return o===null?r:null};Wt(({clerk:r,...n})=>{const{client:o,session:t}=r,i=o.signedInSessions?o.signedInSessions.length>0:o.activeSessions&&o.activeSessions.length>0;return Me.useEffect(()=>{t===null&&i?r.redirectToAfterSignOut():r.redirectToSignIn(n)},[]),null},"RedirectToSignIn");Wt(({clerk:r,...n})=>(Me.useEffect(()=>{r.redirectToSignUp(n)},[]),null),"RedirectToSignUp");Wt(({clerk:r})=>(Me.useEffect(()=>{r.redirectToTasks()},[]),null),"RedirectToTasks");Wt(({clerk:r})=>(Me.useEffect(()=>{Zp("RedirectToUserProfile","Use the `redirectToUserProfile()` method instead."),r.redirectToUserProfile()},[]),null),"RedirectToUserProfile");Wt(({clerk:r})=>(Me.useEffect(()=>{Zp("RedirectToOrganizationProfile","Use the `redirectToOrganizationProfile()` method instead."),r.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile");Wt(({clerk:r})=>(Me.useEffect(()=>{Zp("RedirectToCreateOrganization","Use the `redirectToCreateOrganization()` method instead."),r.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization");Wt(({clerk:r,...n})=>(Me.useEffect(()=>{r.handleRedirectCallback(n)},[]),null),"AuthenticateWithRedirectCallback");var zr=r=>{DP()&&console.error(`Clerk: ${r}`)};function Qd(r,n,o){if(typeof r=="function")return r(n);if(typeof r<"u")return r;if(typeof o<"u")return o}var dv=(r,...n)=>{const o={...r};for(const t of n)delete o[t];return o},Pc=r=>n=>{try{return Me.Children.only(r)}catch{return Yn.throw(yP(n))}},Oc=(r,n)=>(r||(r=n),typeof r=="string"&&(r=Me.createElement("button",null,r)),r),Mc=r=>(...n)=>{if(r&&typeof r=="function")return r(...n)};function GP(r){return typeof r=="function"}var Xl=new Map;function zP(r,n,o=1){Me.useEffect(()=>{const t=Xl.get(r)||0;return t==o?Yn.throw(n):(Xl.set(r,t+1),()=>{Xl.set(r,(Xl.get(r)||1)-1)})},[])}function VP(r,n,o){const t=r.displayName||r.name||n||"Component",i=a=>(zP(n,o),Me.createElement(r,{...a}));return i.displayName=`withMaxAllowedInstancesGuard(${t})`,i}var ya=r=>{const[n,o]=je.useState(new Map);return r.map(t=>({id:t.id,mount:i=>o(a=>new Map(a).set(String(t.id),i)),unmount:()=>o(i=>{const a=new Map(i);return a.set(String(t.id),null),a}),portal:()=>{const i=n.get(String(t.id));return i?bc.createPortal(t.component,i):null}}))},Gr=(r,n)=>!!r&&Me.isValidElement(r)&&(r==null?void 0:r.type)===n,Dw=(r,n)=>Fw({children:r,reorderItemsLabels:["account","security"],LinkComponent:sl,PageComponent:ol,MenuItemsComponent:Ac,componentName:"UserProfile"},n),Nw=(r,n)=>Fw({children:r,reorderItemsLabels:["general","members"],LinkComponent:Lc,PageComponent:Rc,componentName:"OrganizationProfile"},n),Uw=r=>{const n=[],o=[Lc,Rc,Ac,ol,sl];return Me.Children.forEach(r,t=>{o.some(i=>Gr(t,i))||n.push(t)}),n},Fw=(r,n)=>{const{children:o,LinkComponent:t,PageComponent:i,MenuItemsComponent:a,reorderItemsLabels:s,componentName:u}=r,{allowForAnyChildren:l=!1}=n||{},f=[];Me.Children.forEach(o,h=>{if(!Gr(h,i)&&!Gr(h,t)&&!Gr(h,a)){h&&!l&&zr(jP(u));return}const{props:w}=h,{children:_,label:j,url:E,labelIcon:S}=w;if(Gr(h,i))if(fv(w,s))f.push({label:j});else if(ef(w))f.push({label:j,labelIcon:S,children:_,url:E});else{zr(SP(u));return}if(Gr(h,t))if(tf(w))f.push({label:j,labelIcon:S,url:E});else{zr(EP(u));return}});const v=[],m=[],c=[];f.forEach((h,w)=>{if(ef(h)){v.push({component:h.children,id:w}),m.push({component:h.labelIcon,id:w});return}tf(h)&&c.push({component:h.labelIcon,id:w})});const d=ya(v),g=ya(m),y=ya(c),b=[],p=[];return f.forEach((h,w)=>{if(fv(h,s)){b.push({label:h.label});return}if(ef(h)){const{portal:_,mount:j,unmount:E}=d.find(A=>A.id===w),{portal:S,mount:C,unmount:M}=g.find(A=>A.id===w);b.push({label:h.label,url:h.url,mount:j,unmount:E,mountIcon:C,unmountIcon:M}),p.push(_),p.push(S);return}if(tf(h)){const{portal:_,mount:j,unmount:E}=y.find(S=>S.id===w);b.push({label:h.label,url:h.url,mountIcon:j,unmountIcon:E}),p.push(_);return}}),{customPages:b,customPagesPortals:p}},fv=(r,n)=>{const{children:o,label:t,url:i,labelIcon:a}=r;return!o&&!i&&!a&&n.some(s=>s===t)},ef=r=>{const{children:n,label:o,url:t,labelIcon:i}=r;return!!n&&!!t&&!!i&&!!o},tf=r=>{const{children:n,label:o,url:t,labelIcon:i}=r;return!n&&!!t&&!!i&&!!o},WP=r=>HP({children:r,reorderItemsLabels:["manageAccount","signOut"],MenuItemsComponent:Ac,MenuActionComponent:Gw,MenuLinkComponent:zw,UserProfileLinkComponent:sl,UserProfilePageComponent:ol}),HP=({children:r,MenuItemsComponent:n,MenuActionComponent:o,MenuLinkComponent:t,UserProfileLinkComponent:i,UserProfilePageComponent:a,reorderItemsLabels:s})=>{const u=[],l=[],f=[];Me.Children.forEach(r,g=>{if(!Gr(g,n)&&!Gr(g,i)&&!Gr(g,a)){g&&zr(kP);return}if(Gr(g,i)||Gr(g,a))return;const{props:y}=g;Me.Children.forEach(y.children,b=>{if(!Gr(b,o)&&!Gr(b,t)){b&&zr(CP);return}const{props:p}=b,{label:h,labelIcon:w,href:_,onClick:j,open:E}=p;if(Gr(b,o))if(hv(p,s))u.push({label:h});else if(rf(p)){const S={label:h,labelIcon:w};if(j!==void 0)u.push({...S,onClick:j});else if(E!==void 0)u.push({...S,open:E.startsWith("/")?E:`/${E}`});else{zr("Custom menu item must have either onClick or open property");return}}else{zr(IP);return}if(Gr(b,t))if(nf(p))u.push({label:h,labelIcon:w,href:_});else{zr(MP);return}})});const v=[],m=[];u.forEach((g,y)=>{rf(g)&&v.push({component:g.labelIcon,id:y}),nf(g)&&m.push({component:g.labelIcon,id:y})});const c=ya(v),d=ya(m);return u.forEach((g,y)=>{if(hv(g,s)&&l.push({label:g.label}),rf(g)){const{portal:b,mount:p,unmount:h}=c.find(_=>_.id===y),w={label:g.label,mountIcon:p,unmountIcon:h};"onClick"in g?w.onClick=g.onClick:"open"in g&&(w.open=g.open),l.push(w),f.push(b)}if(nf(g)){const{portal:b,mount:p,unmount:h}=d.find(w=>w.id===y);l.push({label:g.label,href:g.href,mountIcon:p,unmountIcon:h}),f.push(b)}}),{customMenuItems:l,customMenuItemsPortals:f}},hv=(r,n)=>{const{children:o,label:t,onClick:i,labelIcon:a}=r;return!o&&!i&&!a&&n.some(s=>s===t)},rf=r=>{const{label:n,labelIcon:o,onClick:t,open:i}=r;return!!o&&!!n&&(typeof t=="function"||typeof i=="string")},nf=r=>{const{label:n,href:o,labelIcon:t}=r;return!!o&&!!t&&!!n};function $P(r){const{root:n=document==null?void 0:document.body,selector:o,timeout:t=0}=r;return new Promise((i,a)=>{if(!n){a(new Error("No root element provided"));return}let s=n;if(o&&(s=n==null?void 0:n.querySelector(o)),(s==null?void 0:s.childElementCount)&&s.childElementCount>0){i();return}const l=new MutationObserver(f=>{for(const v of f)if(v.type==="childList"&&(!s&&o&&(s=n==null?void 0:n.querySelector(o)),s!=null&&s.childElementCount&&s.childElementCount>0)){l.disconnect(),i();return}});l.observe(n,{childList:!0,subtree:!0}),t>0&&setTimeout(()=>{l.disconnect(),a(new Error("Timeout waiting for element children"))},t)})}function fn(r){const n=je.useRef(),[o,t]=je.useState("rendering");return je.useEffect(()=>{if(!r)throw new Error("Clerk: no component name provided, unable to detect mount.");typeof window<"u"&&!n.current&&(n.current=$P({selector:`[data-clerk-component="${r}"]`}).then(()=>{t("rendered")}).catch(()=>{t("error")}))},[r]),o}var Yl=r=>"mount"in r,pv=r=>"open"in r,mv=r=>r==null?void 0:r.map(({mountIcon:n,unmountIcon:o,...t})=>t),$r=class extends Me.PureComponent{constructor(){super(...arguments),this.rootRef=Me.createRef()}componentDidUpdate(r){var n,o,t,i;if(!Yl(r)||!Yl(this.props))return;const a=dv(r.props,"customPages","customMenuItems","children"),s=dv(this.props.props,"customPages","customMenuItems","children"),u=((n=a.customPages)==null?void 0:n.length)!==((o=s.customPages)==null?void 0:o.length),l=((t=a.customMenuItems)==null?void 0:t.length)!==((i=s.customMenuItems)==null?void 0:i.length),f=mv(r.props.customMenuItems),v=mv(this.props.props.customMenuItems);(!av(a,s)||!av(f,v)||u||l)&&this.rootRef.current&&this.props.updateProps({node:this.rootRef.current,props:this.props.props})}componentDidMount(){this.rootRef.current&&(Yl(this.props)&&this.props.mount(this.rootRef.current,this.props.props),pv(this.props)&&this.props.open(this.props.props))}componentWillUnmount(){this.rootRef.current&&(Yl(this.props)&&this.props.unmount(this.rootRef.current),pv(this.props)&&this.props.close())}render(){const{hideRootHtmlElement:r=!1}=this.props,n={ref:this.rootRef,...this.props.rootProps,...this.props.component&&{"data-clerk-component":this.props.component}};return Me.createElement(Me.Fragment,null,!r&&Me.createElement("div",{...n}),this.props.children)}},Ic=r=>{var n,o;return Me.createElement(Me.Fragment,null,(n=r==null?void 0:r.customPagesPortals)==null?void 0:n.map((t,i)=>je.createElement(t,{key:i})),(o=r==null?void 0:r.customMenuItemsPortals)==null?void 0:o.map((t,i)=>je.createElement(t,{key:i})))},qP=Wt(({clerk:r,component:n,fallback:o,...t})=>{const a=fn(n)==="rendering"||!r.loaded,s={...a&&o&&{style:{display:"none"}}};return Me.createElement(Me.Fragment,null,a&&o,r.loaded&&Me.createElement($r,{component:n,mount:r.mountSignIn,unmount:r.unmountSignIn,updateProps:r.__unstable__updateProps,props:t,rootProps:s}))},{component:"SignIn",renderWhileLoading:!0});Wt(({clerk:r,component:n,fallback:o,...t})=>{const a=fn(n)==="rendering"||!r.loaded,s={...a&&o&&{style:{display:"none"}}};return Me.createElement(Me.Fragment,null,a&&o,r.loaded&&Me.createElement($r,{component:n,mount:r.mountSignUp,unmount:r.unmountSignUp,updateProps:r.__unstable__updateProps,props:t,rootProps:s}))},{component:"SignUp",renderWhileLoading:!0});function ol({children:r}){return zr(bP),Me.createElement(Me.Fragment,null,r)}function sl({children:r}){return zr(wP),Me.createElement(Me.Fragment,null,r)}var XP=Wt(({clerk:r,component:n,fallback:o,...t})=>{const a=fn(n)==="rendering"||!r.loaded,s={...a&&o&&{style:{display:"none"}}},{customPages:u,customPagesPortals:l}=Dw(t.children);return Me.createElement(Me.Fragment,null,a&&o,Me.createElement($r,{component:n,mount:r.mountUserProfile,unmount:r.unmountUserProfile,updateProps:r.__unstable__updateProps,props:{...t,customPages:u},rootProps:s},Me.createElement(Ic,{customPagesPortals:l})))},{component:"UserProfile",renderWhileLoading:!0});Object.assign(XP,{Page:ol,Link:sl});var Bw=je.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),YP=Wt(({clerk:r,component:n,fallback:o,...t})=>{const a=fn(n)==="rendering"||!r.loaded,s={...a&&o&&{style:{display:"none"}}},{customPages:u,customPagesPortals:l}=Dw(t.children,{allowForAnyChildren:!!t.__experimental_asProvider}),f=Object.assign(t.userProfileProps||{},{customPages:u}),{customMenuItems:v,customMenuItemsPortals:m}=WP(t.children),c=Uw(t.children),d={mount:r.mountUserButton,unmount:r.unmountUserButton,updateProps:r.__unstable__updateProps,props:{...t,userProfileProps:f,customMenuItems:v}},g={customPagesPortals:l,customMenuItemsPortals:m};return Me.createElement(Bw.Provider,{value:d},a&&o,r.loaded&&Me.createElement($r,{component:n,...d,hideRootHtmlElement:!!t.__experimental_asProvider,rootProps:s},t.__experimental_asProvider?c:null,Me.createElement(Ic,{...g})))},{component:"UserButton",renderWhileLoading:!0});function Ac({children:r}){return zr(TP),Me.createElement(Me.Fragment,null,r)}function Gw({children:r}){return zr(PP),Me.createElement(Me.Fragment,null,r)}function zw({children:r}){return zr(OP),Me.createElement(Me.Fragment,null,r)}function KP(r){const n=je.useContext(Bw),o={...n,props:{...n.props,...r}};return Me.createElement($r,{...o})}Object.assign(YP,{UserProfilePage:ol,UserProfileLink:sl,MenuItems:Ac,Action:Gw,Link:zw,__experimental_Outlet:KP});function Rc({children:r}){return zr(_P),Me.createElement(Me.Fragment,null,r)}function Lc({children:r}){return zr(xP),Me.createElement(Me.Fragment,null,r)}var JP=Wt(({clerk:r,component:n,fallback:o,...t})=>{const a=fn(n)==="rendering"||!r.loaded,s={...a&&o&&{style:{display:"none"}}},{customPages:u,customPagesPortals:l}=Nw(t.children);return Me.createElement(Me.Fragment,null,a&&o,r.loaded&&Me.createElement($r,{component:n,mount:r.mountOrganizationProfile,unmount:r.unmountOrganizationProfile,updateProps:r.__unstable__updateProps,props:{...t,customPages:u},rootProps:s},Me.createElement(Ic,{customPagesPortals:l})))},{component:"OrganizationProfile",renderWhileLoading:!0});Object.assign(JP,{Page:Rc,Link:Lc});Wt(({clerk:r,component:n,fallback:o,...t})=>{const a=fn(n)==="rendering"||!r.loaded,s={...a&&o&&{style:{display:"none"}}};return Me.createElement(Me.Fragment,null,a&&o,r.loaded&&Me.createElement($r,{component:n,mount:r.mountCreateOrganization,unmount:r.unmountCreateOrganization,updateProps:r.__unstable__updateProps,props:t,rootProps:s}))},{component:"CreateOrganization",renderWhileLoading:!0});var Vw=je.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),ZP=Wt(({clerk:r,component:n,fallback:o,...t})=>{const a=fn(n)==="rendering"||!r.loaded,s={...a&&o&&{style:{display:"none"}}},{customPages:u,customPagesPortals:l}=Nw(t.children,{allowForAnyChildren:!!t.__experimental_asProvider}),f=Object.assign(t.organizationProfileProps||{},{customPages:u}),v=Uw(t.children),m={mount:r.mountOrganizationSwitcher,unmount:r.unmountOrganizationSwitcher,updateProps:r.__unstable__updateProps,props:{...t,organizationProfileProps:f},rootProps:s,component:n};return r.__experimental_prefetchOrganizationSwitcher(),Me.createElement(Vw.Provider,{value:m},Me.createElement(Me.Fragment,null,a&&o,r.loaded&&Me.createElement($r,{...m,hideRootHtmlElement:!!t.__experimental_asProvider},t.__experimental_asProvider?v:null,Me.createElement(Ic,{customPagesPortals:l}))))},{component:"OrganizationSwitcher",renderWhileLoading:!0});function QP(r){const n=je.useContext(Vw),o={...n,props:{...n.props,...r}};return Me.createElement($r,{...o})}Object.assign(ZP,{OrganizationProfilePage:Rc,OrganizationProfileLink:Lc,__experimental_Outlet:QP});Wt(({clerk:r,component:n,fallback:o,...t})=>{const a=fn(n)==="rendering"||!r.loaded,s={...a&&o&&{style:{display:"none"}}};return Me.createElement(Me.Fragment,null,a&&o,r.loaded&&Me.createElement($r,{component:n,mount:r.mountOrganizationList,unmount:r.unmountOrganizationList,updateProps:r.__unstable__updateProps,props:t,rootProps:s}))},{component:"OrganizationList",renderWhileLoading:!0});Wt(({clerk:r,component:n,fallback:o,...t})=>{const a=fn(n)==="rendering"||!r.loaded,s={...a&&o&&{style:{display:"none"}}};return Me.createElement(Me.Fragment,null,a&&o,r.loaded&&Me.createElement($r,{component:n,open:r.openGoogleOneTap,close:r.closeGoogleOneTap,updateProps:r.__unstable__updateProps,props:t,rootProps:s}))},{component:"GoogleOneTap",renderWhileLoading:!0});Wt(({clerk:r,component:n,fallback:o,...t})=>{const a=fn(n)==="rendering"||!r.loaded,s={...a&&o&&{style:{display:"none"}}};return Me.createElement(Me.Fragment,null,a&&o,r.loaded&&Me.createElement($r,{component:n,mount:r.mountWaitlist,unmount:r.unmountWaitlist,updateProps:r.__unstable__updateProps,props:t,rootProps:s}))},{component:"Waitlist",renderWhileLoading:!0});Wt(({clerk:r,component:n,fallback:o,...t})=>{const a=fn(n)==="rendering"||!r.loaded,s={...a&&o&&{style:{display:"none"}}};return Me.createElement(Me.Fragment,null,a&&o,r.loaded&&Me.createElement($r,{component:n,mount:r.mountPricingTable,unmount:r.unmountPricingTable,updateProps:r.__unstable__updateProps,props:t,rootProps:s}))},{component:"PricingTable",renderWhileLoading:!0});Wt(({clerk:r,component:n,fallback:o,...t})=>{const a=fn(n)==="rendering"||!r.loaded,s={...a&&o&&{style:{display:"none"}}};return Me.createElement(Me.Fragment,null,a&&o,r.loaded&&Me.createElement($r,{component:n,mount:r.mountApiKeys,unmount:r.unmountApiKeys,updateProps:r.__unstable__updateProps,props:t,rootProps:s}))},{component:"ApiKeys",renderWhileLoading:!0});Wt(({clerk:r,component:n,fallback:o,...t})=>{const a=fn(n)==="rendering"||!r.loaded,s={...a&&o&&{style:{display:"none"}}};return Me.createElement(Me.Fragment,null,a&&o,r.loaded&&Me.createElement($r,{component:n,mount:r.mountTaskChooseOrganization,unmount:r.unmountTaskChooseOrganization,updateProps:r.__unstable__updateProps,props:t,rootProps:s}))},{component:"TaskChooseOrganization",renderWhileLoading:!0});var Ww=r=>{throw TypeError(r)},Qp=(r,n,o)=>n.has(r)||Ww("Cannot "+o),$t=(r,n,o)=>(Qp(r,n,"read from private field"),o?o.call(r):n.get(r)),as=(r,n,o)=>n.has(r)?Ww("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(r):n.set(r,o),Ls=(r,n,o,t)=>(Qp(r,n,"write to private field"),n.set(r,o),o),of=(r,n,o)=>(Qp(r,n,"access private method"),o),eO=(r,n="5.87.0")=>{if(r)return r;const o=tO(n);return o?o==="snapshot"?"5.87.0":o:rO(n)},tO=r=>{var n;return(n=r.trim().replace(/^v/,"").match(/-(.+?)(\.|$)/))==null?void 0:n[1]},rO=r=>r.trim().replace(/^v/,"").split(".")[0];function nO(r){return r?oO(r)||Hw(r):!0}function oO(r){return/^http(s)?:\/\//.test(r||"")}function Hw(r){return r.startsWith("/")}function sO(r){return r?Hw(r)?new URL(r,window.location.origin).toString():r:""}function iO(r){if(!r)return"";let n;if(r.match(/^(clerk\.)+\w*$/))n=/(clerk\.)*(?=clerk\.)/;else{if(r.match(/\.clerk.accounts/))return r;n=/^(clerk\.)*/gi}return`clerk.${r.replace(n,"")}`}var aO={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(r,n)=>n<5,retryImmediately:!1,jitter:!0},lO=100,$w=async r=>new Promise(n=>setTimeout(n,r)),qw=(r,n)=>n?r*(1+Math.random()):r,uO=r=>{let n=0;const o=()=>{const t=r.initialDelay,i=r.factor;let a=t*Math.pow(i,n);return a=qw(a,r.jitter),Math.min(r.maxDelayBetweenRetries||a,a)};return async()=>{await $w(o()),n++}},cO=async(r,n={})=>{let o=0;const{shouldRetry:t,initialDelay:i,maxDelayBetweenRetries:a,factor:s,retryImmediately:u,jitter:l}={...aO,...n},f=uO({initialDelay:i,maxDelayBetweenRetries:a,factor:s,jitter:l});for(;;)try{return await r()}catch(v){if(o++,!t(v,o))throw v;u&&o===1?await $w(qw(lO,l)):await f()}},dO="loadScript cannot be called when document does not exist",fO="loadScript cannot be called without a src";async function hO(r="",n){const{async:o,defer:t,beforeLoad:i,crossOrigin:a,nonce:s}=n||{};return cO(()=>new Promise((l,f)=>{r||f(new Error(fO)),(!document||!document.body)&&f(dO);const v=document.createElement("script");a&&v.setAttribute("crossorigin",a),v.async=o||!1,v.defer=t||!1,v.addEventListener("load",()=>{v.remove(),l(v)}),v.addEventListener("error",()=>{v.remove(),f()}),v.src=r,v.nonce=s,i==null||i(v),document.body.appendChild(v)}),{shouldRetry:(l,f)=>f<=5})}var Xw="Clerk: Failed to load Clerk",{isDevOrStagingUrl:pO}=KC(),Yw=iw({packageName:"@clerk/shared"});function mO(r){Yw.setPackageName({packageName:r})}function Nh(){if(typeof window>"u"||!window.Clerk)return!1;const r=window.Clerk;return typeof r=="object"&&typeof r.load=="function"}function gv(r){return new Promise((n,o)=>{let t=!1;const i=(f,v)=>{clearTimeout(f),clearInterval(v)},a=()=>{t||Nh()&&(t=!0,i(u,l),n(null))},u=setTimeout(()=>{t||(t=!0,i(u,l),Nh()?n(null):o(new Error(Xw)))},r);a();const l=setInterval(()=>{if(t){clearInterval(l);return}a()},100)})}var gO=async r=>{const n=(r==null?void 0:r.scriptLoadTimeout)??15e3;if(Nh())return null;if(document.querySelector("script[data-clerk-js-script]"))return gv(n);if(!(r!=null&&r.publishableKey))return Yw.throwMissingPublishableKeyError(),null;const t=gv(n);return hO(yO(r),{async:!0,crossOrigin:"anonymous",nonce:r.nonce,beforeLoad:bO(r)}).catch(()=>{throw new Error(Xw)}),t},yO=r=>{var v,m;const{clerkJSUrl:n,clerkJSVariant:o,clerkJSVersion:t,proxyUrl:i,domain:a,publishableKey:s}=r;if(n)return n;let u="";i&&nO(i)?u=sO(i).replace(/http(s)?:\/\//,""):a&&!pO(((v=Ky(s))==null?void 0:v.frontendApi)||"")?u=iO(a):u=((m=Ky(s))==null?void 0:m.frontendApi)||"";const l=o?`${o.replace(/\.+$/,"")}.`:"",f=eO(t);return`https://${u}/npm/@clerk/clerk-js@${f}/dist/clerk.${l}browser.js`},vO=r=>{const n={};return r.publishableKey&&(n["data-clerk-publishable-key"]=r.publishableKey),r.proxyUrl&&(n["data-clerk-proxy-url"]=r.proxyUrl),r.domain&&(n["data-clerk-domain"]=r.domain),r.nonce&&(n.nonce=r.nonce),n},bO=r=>n=>{const o=vO(r);for(const t in o)n.setAttribute(t,o[t])},wO=(r,n,o)=>!r&&o?_O(o):xO(n),_O=r=>{const n=r.userId,o=r.user,t=r.sessionId,i=r.sessionStatus,a=r.sessionClaims,s=r.session,u=r.organization,l=r.orgId,f=r.orgRole,v=r.orgPermissions,m=r.orgSlug,c=r.actor,d=r.factorVerificationAge;return{userId:n,user:o,sessionId:t,session:s,sessionStatus:i,sessionClaims:a,organization:u,orgId:l,orgRole:f,orgPermissions:v,orgSlug:m,actor:c,factorVerificationAge:d}},xO=r=>{var y,b,p,h;const n=r.user?r.user.id:r.user,o=r.user,t=r.session?r.session.id:r.session,i=r.session,a=(y=r.session)==null?void 0:y.status,s=r.session?(p=(b=r.session.lastActiveToken)==null?void 0:b.jwt)==null?void 0:p.claims:null,u=r.session?r.session.factorVerificationAge:null,l=i==null?void 0:i.actor,f=r.organization,v=r.organization?r.organization.id:r.organization,m=f==null?void 0:f.slug,c=f&&((h=o==null?void 0:o.organizationMemberships)==null?void 0:h.find(w=>w.organization.id===v)),d=c&&c.permissions,g=c&&c.role;return{userId:n,user:o,sessionId:t,session:i,sessionStatus:a,sessionClaims:s,organization:f,orgId:v,orgRole:g,orgSlug:m,orgPermissions:d,actor:l,factorVerificationAge:u}};function yv(){return typeof window<"u"}var vv=(r,n,o,t,i)=>{const{notify:a}=i||{};let s=r.get(o);s||(s=[],r.set(o,s)),s.push(t),a&&n.has(o)&&t(n.get(o))},bv=(r,n,o)=>(r.get(n)||[]).map(t=>t(o)),wv=(r,n,o)=>{const t=r.get(n);t&&(o?t.splice(t.indexOf(o)>>>0,1):r.set(n,[]))},jO=()=>{const r=new Map,n=new Map,o=new Map;return{on:(...i)=>vv(r,n,...i),prioritizedOn:(...i)=>vv(o,n,...i),emit:(i,a)=>{n.set(i,a),bv(o,i,a),bv(r,i,a)},off:(...i)=>wv(r,...i),prioritizedOff:(...i)=>wv(o,...i),internal:{retrieveListeners:i=>r.get(i)||[]}}},Kl={Status:"status"},SO=()=>jO();typeof window<"u"&&!window.global&&(window.global=typeof global>"u"?window:global);Wt(({clerk:r,children:n,...o})=>{const{signUpFallbackRedirectUrl:t,forceRedirectUrl:i,fallbackRedirectUrl:a,signUpForceRedirectUrl:s,mode:u,initialValues:l,withSignUp:f,oauthFlow:v,...m}=o;n=Oc(n,"Sign in");const c=Pc(n)("SignInButton"),d=()=>{const b={forceRedirectUrl:i,fallbackRedirectUrl:a,signUpFallbackRedirectUrl:t,signUpForceRedirectUrl:s,initialValues:l,withSignUp:f,oauthFlow:v};return u==="modal"?r.openSignIn({...b,appearance:o.appearance}):r.redirectToSignIn({...b,signInFallbackRedirectUrl:a,signInForceRedirectUrl:i})},y={...m,onClick:async b=>(c&&typeof c=="object"&&"props"in c&&await Mc(c.props.onClick)(b),d())};return Me.cloneElement(c,y)},{component:"SignInButton",renderWhileLoading:!0});Wt(({clerk:r,children:n,...o})=>{const{redirectUrl:t,...i}=o;n=Oc(n,"Sign in with Metamask");const a=Pc(n)("SignInWithMetamaskButton"),s=async()=>{async function f(){await r.authenticateWithMetamask({redirectUrl:t||void 0})}f()},l={...i,onClick:async f=>(await Mc(a.props.onClick)(f),s())};return Me.cloneElement(a,l)},{component:"SignInWithMetamask",renderWhileLoading:!0});Wt(({clerk:r,children:n,...o})=>{const{redirectUrl:t="/",signOutOptions:i,...a}=o;n=Oc(n,"Sign out");const s=Pc(n)("SignOutButton"),u=()=>r.signOut({redirectUrl:t,...i}),f={...a,onClick:async v=>(await Mc(s.props.onClick)(v),u())};return Me.cloneElement(s,f)},{component:"SignOutButton",renderWhileLoading:!0});Wt(({clerk:r,children:n,...o})=>{const{fallbackRedirectUrl:t,forceRedirectUrl:i,signInFallbackRedirectUrl:a,signInForceRedirectUrl:s,mode:u,initialValues:l,oauthFlow:f,...v}=o;n=Oc(n,"Sign up");const m=Pc(n)("SignUpButton"),c=()=>{const y={fallbackRedirectUrl:t,forceRedirectUrl:i,signInFallbackRedirectUrl:a,signInForceRedirectUrl:s,initialValues:l,oauthFlow:f};return u==="modal"?r.openSignUp({...y,appearance:o.appearance,unsafeMetadata:o.unsafeMetadata}):r.redirectToSignUp({...y,signUpFallbackRedirectUrl:t,signUpForceRedirectUrl:i})},g={...v,onClick:async y=>(m&&typeof m=="object"&&"props"in m&&await Mc(m.props.onClick)(y),c())};return Me.cloneElement(m,g)},{component:"SignUpButton",renderWhileLoading:!0});typeof globalThis.__BUILD_DISABLE_RHC__>"u"&&(globalThis.__BUILD_DISABLE_RHC__=!1);var EO={name:"@clerk/clerk-react",version:"5.43.0",environment:"production"},mu,Bs,Gs,_o,to,Eo,ra,gu,Kw=class Jw{constructor(n){as(this,ra),this.clerkjs=null,this.preopenOneTap=null,this.preopenUserVerification=null,this.preopenSignIn=null,this.preopenCheckout=null,this.preopenPlanDetails=null,this.preopenSubscriptionDetails=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.preOpenWaitlist=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.premountWaitlistNodes=new Map,this.premountPricingTableNodes=new Map,this.premountApiKeysNodes=new Map,this.premountOAuthConsentNodes=new Map,this.premountTaskChooseOrganizationNodes=new Map,this.premountAddListenerCalls=new Map,this.loadedListeners=[],as(this,mu,"loading"),as(this,Bs),as(this,Gs),as(this,_o),as(this,to,SO()),this.buildSignInUrl=i=>{const a=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildSignInUrl(i))||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildSignInUrl",a)},this.buildSignUpUrl=i=>{const a=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildSignUpUrl(i))||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildSignUpUrl",a)},this.buildAfterSignInUrl=(...i)=>{const a=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildAfterSignInUrl(...i))||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildAfterSignInUrl",a)},this.buildAfterSignUpUrl=(...i)=>{const a=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildAfterSignUpUrl(...i))||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildAfterSignUpUrl",a)},this.buildAfterSignOutUrl=()=>{const i=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildAfterSignOutUrl())||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignOutUrl",i)},this.buildNewSubscriptionRedirectUrl=()=>{const i=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildNewSubscriptionRedirectUrl())||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildNewSubscriptionRedirectUrl",i)},this.buildAfterMultiSessionSingleSignOutUrl=()=>{const i=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildAfterMultiSessionSingleSignOutUrl())||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterMultiSessionSingleSignOutUrl",i)},this.buildUserProfileUrl=()=>{const i=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildUserProfileUrl())||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildUserProfileUrl",i)},this.buildCreateOrganizationUrl=()=>{const i=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildCreateOrganizationUrl())||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildCreateOrganizationUrl",i)},this.buildOrganizationProfileUrl=()=>{const i=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildOrganizationProfileUrl())||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildOrganizationProfileUrl",i)},this.buildWaitlistUrl=()=>{const i=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildWaitlistUrl())||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildWaitlistUrl",i)},this.buildTasksUrl=()=>{const i=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildTasksUrl())||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildTasksUrl",i)},this.buildUrlWithAuth=i=>{const a=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildUrlWithAuth(i))||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildUrlWithAuth",a)},this.handleUnauthenticated=async()=>{const i=()=>{var a;return(a=this.clerkjs)==null?void 0:a.handleUnauthenticated()};this.clerkjs&&this.loaded?i():this.premountMethodCalls.set("handleUnauthenticated",i)},this.on=(...i)=>{var a;if((a=this.clerkjs)!=null&&a.on)return this.clerkjs.on(...i);$t(this,to).on(...i)},this.off=(...i)=>{var a;if((a=this.clerkjs)!=null&&a.off)return this.clerkjs.off(...i);$t(this,to).off(...i)},this.addOnLoaded=i=>{this.loadedListeners.push(i),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(i=>i()),this.loadedListeners=[]},this.beforeLoad=i=>{if(!i)throw new Error("Failed to hydrate latest Clerk JS")},this.hydrateClerkJS=i=>{var a;if(!i)throw new Error("Failed to hydrate latest Clerk JS");return this.clerkjs=i,this.premountMethodCalls.forEach(s=>s()),this.premountAddListenerCalls.forEach((s,u)=>{s.nativeUnsubscribe=i.addListener(u)}),(a=$t(this,to).internal.retrieveListeners("status"))==null||a.forEach(s=>{this.on("status",s,{notify:!0})}),this.preopenSignIn!==null&&i.openSignIn(this.preopenSignIn),this.preopenCheckout!==null&&i.__internal_openCheckout(this.preopenCheckout),this.preopenPlanDetails!==null&&i.__internal_openPlanDetails(this.preopenPlanDetails),this.preopenSubscriptionDetails!==null&&i.__internal_openSubscriptionDetails(this.preopenSubscriptionDetails),this.preopenSignUp!==null&&i.openSignUp(this.preopenSignUp),this.preopenUserProfile!==null&&i.openUserProfile(this.preopenUserProfile),this.preopenUserVerification!==null&&i.__internal_openReverification(this.preopenUserVerification),this.preopenOneTap!==null&&i.openGoogleOneTap(this.preopenOneTap),this.preopenOrganizationProfile!==null&&i.openOrganizationProfile(this.preopenOrganizationProfile),this.preopenCreateOrganization!==null&&i.openCreateOrganization(this.preopenCreateOrganization),this.preOpenWaitlist!==null&&i.openWaitlist(this.preOpenWaitlist),this.premountSignInNodes.forEach((s,u)=>{i.mountSignIn(u,s)}),this.premountSignUpNodes.forEach((s,u)=>{i.mountSignUp(u,s)}),this.premountUserProfileNodes.forEach((s,u)=>{i.mountUserProfile(u,s)}),this.premountUserButtonNodes.forEach((s,u)=>{i.mountUserButton(u,s)}),this.premountOrganizationListNodes.forEach((s,u)=>{i.mountOrganizationList(u,s)}),this.premountWaitlistNodes.forEach((s,u)=>{i.mountWaitlist(u,s)}),this.premountPricingTableNodes.forEach((s,u)=>{i.mountPricingTable(u,s)}),this.premountApiKeysNodes.forEach((s,u)=>{i.mountApiKeys(u,s)}),this.premountOAuthConsentNodes.forEach((s,u)=>{i.__internal_mountOAuthConsent(u,s)}),this.premountTaskChooseOrganizationNodes.forEach((s,u)=>{i.mountTaskChooseOrganization(u,s)}),typeof this.clerkjs.status>"u"&&$t(this,to).emit(Kl.Status,"ready"),this.emitLoaded(),this.clerkjs},this.__experimental_checkout=(...i)=>{var a;return(a=this.clerkjs)==null?void 0:a.__experimental_checkout(...i)},this.__unstable__updateProps=async i=>{const a=await of(this,ra,gu).call(this);if(a&&"__unstable__updateProps"in a)return a.__unstable__updateProps(i)},this.setActive=i=>this.clerkjs?this.clerkjs.setActive(i):Promise.reject(),this.openSignIn=i=>{this.clerkjs&&this.loaded?this.clerkjs.openSignIn(i):this.preopenSignIn=i},this.closeSignIn=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.__internal_openCheckout=i=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openCheckout(i):this.preopenCheckout=i},this.__internal_closeCheckout=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeCheckout():this.preopenCheckout=null},this.__internal_openPlanDetails=i=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openPlanDetails(i):this.preopenPlanDetails=i},this.__internal_closePlanDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closePlanDetails():this.preopenPlanDetails=null},this.__internal_openSubscriptionDetails=i=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openSubscriptionDetails(i):this.preopenSubscriptionDetails=i??null},this.__internal_closeSubscriptionDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeSubscriptionDetails():this.preopenSubscriptionDetails=null},this.__internal_openReverification=i=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openReverification(i):this.preopenUserVerification=i},this.__internal_closeReverification=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeReverification():this.preopenUserVerification=null},this.openGoogleOneTap=i=>{this.clerkjs&&this.loaded?this.clerkjs.openGoogleOneTap(i):this.preopenOneTap=i},this.closeGoogleOneTap=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=i=>{this.clerkjs&&this.loaded?this.clerkjs.openUserProfile(i):this.preopenUserProfile=i},this.closeUserProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=i=>{this.clerkjs&&this.loaded?this.clerkjs.openOrganizationProfile(i):this.preopenOrganizationProfile=i},this.closeOrganizationProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=i=>{this.clerkjs&&this.loaded?this.clerkjs.openCreateOrganization(i):this.preopenCreateOrganization=i},this.closeCreateOrganization=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openWaitlist=i=>{this.clerkjs&&this.loaded?this.clerkjs.openWaitlist(i):this.preOpenWaitlist=i},this.closeWaitlist=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeWaitlist():this.preOpenWaitlist=null},this.openSignUp=i=>{this.clerkjs&&this.loaded?this.clerkjs.openSignUp(i):this.preopenSignUp=i},this.closeSignUp=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignIn(i,a):this.premountSignInNodes.set(i,a)},this.unmountSignIn=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignIn(i):this.premountSignInNodes.delete(i)},this.mountSignUp=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignUp(i,a):this.premountSignUpNodes.set(i,a)},this.unmountSignUp=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignUp(i):this.premountSignUpNodes.delete(i)},this.mountUserProfile=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserProfile(i,a):this.premountUserProfileNodes.set(i,a)},this.unmountUserProfile=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserProfile(i):this.premountUserProfileNodes.delete(i)},this.mountOrganizationProfile=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationProfile(i,a):this.premountOrganizationProfileNodes.set(i,a)},this.unmountOrganizationProfile=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationProfile(i):this.premountOrganizationProfileNodes.delete(i)},this.mountCreateOrganization=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountCreateOrganization(i,a):this.premountCreateOrganizationNodes.set(i,a)},this.unmountCreateOrganization=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountCreateOrganization(i):this.premountCreateOrganizationNodes.delete(i)},this.mountOrganizationSwitcher=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationSwitcher(i,a):this.premountOrganizationSwitcherNodes.set(i,a)},this.unmountOrganizationSwitcher=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationSwitcher(i):this.premountOrganizationSwitcherNodes.delete(i)},this.__experimental_prefetchOrganizationSwitcher=()=>{const i=()=>{var a;return(a=this.clerkjs)==null?void 0:a.__experimental_prefetchOrganizationSwitcher()};this.clerkjs&&this.loaded?i():this.premountMethodCalls.set("__experimental_prefetchOrganizationSwitcher",i)},this.mountOrganizationList=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationList(i,a):this.premountOrganizationListNodes.set(i,a)},this.unmountOrganizationList=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationList(i):this.premountOrganizationListNodes.delete(i)},this.mountUserButton=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserButton(i,a):this.premountUserButtonNodes.set(i,a)},this.unmountUserButton=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserButton(i):this.premountUserButtonNodes.delete(i)},this.mountWaitlist=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountWaitlist(i,a):this.premountWaitlistNodes.set(i,a)},this.unmountWaitlist=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountWaitlist(i):this.premountWaitlistNodes.delete(i)},this.mountPricingTable=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountPricingTable(i,a):this.premountPricingTableNodes.set(i,a)},this.unmountPricingTable=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountPricingTable(i):this.premountPricingTableNodes.delete(i)},this.mountApiKeys=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountApiKeys(i,a):this.premountApiKeysNodes.set(i,a)},this.unmountApiKeys=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountApiKeys(i):this.premountApiKeysNodes.delete(i)},this.__internal_mountOAuthConsent=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_mountOAuthConsent(i,a):this.premountOAuthConsentNodes.set(i,a)},this.__internal_unmountOAuthConsent=i=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_unmountOAuthConsent(i):this.premountOAuthConsentNodes.delete(i)},this.mountTaskChooseOrganization=(i,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountTaskChooseOrganization(i,a):this.premountTaskChooseOrganizationNodes.set(i,a)},this.unmountTaskChooseOrganization=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountTaskChooseOrganization(i):this.premountTaskChooseOrganizationNodes.delete(i)},this.addListener=i=>{if(this.clerkjs)return this.clerkjs.addListener(i);{const a=()=>{var s;const u=this.premountAddListenerCalls.get(i);u&&((s=u.nativeUnsubscribe)==null||s.call(u),this.premountAddListenerCalls.delete(i))};return this.premountAddListenerCalls.set(i,{unsubscribe:a,nativeUnsubscribe:void 0}),a}},this.navigate=i=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.navigate(i)};this.clerkjs&&this.loaded?a():this.premountMethodCalls.set("navigate",a)},this.redirectWithAuth=async(...i)=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.redirectWithAuth(...i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("redirectWithAuth",a)},this.redirectToSignIn=async i=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.redirectToSignIn(i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("redirectToSignIn",a)},this.redirectToSignUp=async i=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.redirectToSignUp(i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("redirectToSignUp",a)},this.redirectToUserProfile=async()=>{const i=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToUserProfile()};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToUserProfile",i)},this.redirectToAfterSignUp=()=>{const i=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToAfterSignUp()};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToAfterSignUp",i)},this.redirectToAfterSignIn=()=>{const i=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToAfterSignIn()};this.clerkjs&&this.loaded?i():this.premountMethodCalls.set("redirectToAfterSignIn",i)},this.redirectToAfterSignOut=()=>{const i=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToAfterSignOut()};this.clerkjs&&this.loaded?i():this.premountMethodCalls.set("redirectToAfterSignOut",i)},this.redirectToOrganizationProfile=async()=>{const i=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToOrganizationProfile()};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToOrganizationProfile",i)},this.redirectToCreateOrganization=async()=>{const i=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToCreateOrganization()};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToCreateOrganization",i)},this.redirectToWaitlist=async()=>{const i=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToWaitlist()};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToWaitlist",i)},this.redirectToTasks=async()=>{const i=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToTasks()};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToTasks",i)},this.handleRedirectCallback=async i=>{var a;const s=()=>{var u;return(u=this.clerkjs)==null?void 0:u.handleRedirectCallback(i)};this.clerkjs&&this.loaded?(a=s())==null||a.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",s)},this.handleGoogleOneTapCallback=async(i,a)=>{var s;const u=()=>{var l;return(l=this.clerkjs)==null?void 0:l.handleGoogleOneTapCallback(i,a)};this.clerkjs&&this.loaded?(s=u())==null||s.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",u)},this.handleEmailLinkVerification=async i=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.handleEmailLinkVerification(i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("handleEmailLinkVerification",a)},this.authenticateWithMetamask=async i=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.authenticateWithMetamask(i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("authenticateWithMetamask",a)},this.authenticateWithCoinbaseWallet=async i=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.authenticateWithCoinbaseWallet(i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("authenticateWithCoinbaseWallet",a)},this.authenticateWithOKXWallet=async i=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.authenticateWithOKXWallet(i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("authenticateWithOKXWallet",a)},this.authenticateWithWeb3=async i=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.authenticateWithWeb3(i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("authenticateWithWeb3",a)},this.authenticateWithGoogleOneTap=async i=>(await of(this,ra,gu).call(this)).authenticateWithGoogleOneTap(i),this.__internal_loadStripeJs=async()=>(await of(this,ra,gu).call(this)).__internal_loadStripeJs(),this.createOrganization=async i=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.createOrganization(i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("createOrganization",a)},this.getOrganization=async i=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.getOrganization(i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("getOrganization",a)},this.joinWaitlist=async i=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.joinWaitlist(i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("joinWaitlist",a)},this.signOut=async(...i)=>{const a=()=>{var s;return(s=this.clerkjs)==null?void 0:s.signOut(...i)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("signOut",a)};const{Clerk:o=null,publishableKey:t}=n||{};Ls(this,_o,t),Ls(this,Gs,n==null?void 0:n.proxyUrl),Ls(this,Bs,n==null?void 0:n.domain),this.options=n,this.Clerk=o,this.mode=yv()?"browser":"server",this.options.sdkMetadata||(this.options.sdkMetadata=EO),$t(this,to).emit(Kl.Status,"loading"),$t(this,to).prioritizedOn(Kl.Status,i=>Ls(this,mu,i)),$t(this,_o)&&this.loadClerkJS()}get publishableKey(){return $t(this,_o)}get loaded(){var n;return((n=this.clerkjs)==null?void 0:n.loaded)||!1}get status(){var n;return this.clerkjs?((n=this.clerkjs)==null?void 0:n.status)||(this.clerkjs.loaded?"ready":"loading"):$t(this,mu)}static getOrCreateInstance(n){return(!yv()||!$t(this,Eo)||n.Clerk&&$t(this,Eo).Clerk!==n.Clerk||$t(this,Eo).publishableKey!==n.publishableKey)&&Ls(this,Eo,new Jw(n)),$t(this,Eo)}static clearInstance(){Ls(this,Eo,null)}get domain(){return typeof window<"u"&&window.location?Qd($t(this,Bs),new URL(window.location.href),""):typeof $t(this,Bs)=="function"?Yn.throw(Zd):$t(this,Bs)||""}get proxyUrl(){return typeof window<"u"&&window.location?Qd($t(this,Gs),new URL(window.location.href),""):typeof $t(this,Gs)=="function"?Yn.throw(Zd):$t(this,Gs)||""}__internal_getOption(n){var o,t;return(o=this.clerkjs)!=null&&o.__internal_getOption?(t=this.clerkjs)==null?void 0:t.__internal_getOption(n):this.options[n]}get sdkMetadata(){var n;return((n=this.clerkjs)==null?void 0:n.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var n;return(n=this.clerkjs)==null?void 0:n.instanceType}get frontendApi(){var n;return((n=this.clerkjs)==null?void 0:n.frontendApi)||""}get isStandardBrowser(){var n;return((n=this.clerkjs)==null?void 0:n.isStandardBrowser)||this.options.standardBrowser||!1}get isSatellite(){return typeof window<"u"&&window.location?Qd(this.options.isSatellite,new URL(window.location.href),!1):typeof this.options.isSatellite=="function"?Yn.throw(Zd):!1}async loadClerkJS(){var n;if(!(this.mode!=="browser"||this.loaded)){typeof window<"u"&&(window.__clerk_publishable_key=$t(this,_o),window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let o;GP(this.Clerk)?(o=new this.Clerk($t(this,_o),{proxyUrl:this.proxyUrl,domain:this.domain}),this.beforeLoad(o),await o.load(this.options)):(o=this.Clerk,o.loaded||(this.beforeLoad(o),await o.load(this.options))),global.Clerk=o}else if(!__BUILD_DISABLE_RHC__){if(global.Clerk||await gO({...this.options,publishableKey:$t(this,_o),proxyUrl:this.proxyUrl,domain:this.domain,nonce:this.options.nonce}),!global.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");this.beforeLoad(global.Clerk),await global.Clerk.load(this.options)}return(n=global.Clerk)!=null&&n.loaded?this.hydrateClerkJS(global.Clerk):void 0}catch(o){const t=o;$t(this,to).emit(Kl.Status,"error"),console.error(t.stack||t.message||t);return}}}get version(){var n;return(n=this.clerkjs)==null?void 0:n.version}get client(){if(this.clerkjs)return this.clerkjs.client}get session(){if(this.clerkjs)return this.clerkjs.session}get user(){if(this.clerkjs)return this.clerkjs.user}get organization(){if(this.clerkjs)return this.clerkjs.organization}get telemetry(){if(this.clerkjs)return this.clerkjs.telemetry}get __unstable__environment(){if(this.clerkjs)return this.clerkjs.__unstable__environment}get isSignedIn(){return this.clerkjs?this.clerkjs.isSignedIn:!1}get billing(){var n;return(n=this.clerkjs)==null?void 0:n.billing}get __internal_state(){var n;return(n=this.clerkjs)==null?void 0:n.__internal_state}get apiKeys(){var n;return(n=this.clerkjs)==null?void 0:n.apiKeys}__unstable__setEnvironment(...n){if(this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs)this.clerkjs.__unstable__setEnvironment(n);else return}};mu=new WeakMap;Bs=new WeakMap;Gs=new WeakMap;_o=new WeakMap;to=new WeakMap;Eo=new WeakMap;ra=new WeakSet;gu=function(){return new Promise(r=>{this.addOnLoaded(()=>r(this.clerkjs))})};as(Kw,Eo);var _v=Kw;function kO(r){const{isomorphicClerkOptions:n,initialState:o,children:t}=r,{isomorphicClerk:i,clerkStatus:a}=CO(n),[s,u]=Me.useState({client:i.client,session:i.session,user:i.user,organization:i.organization});Me.useEffect(()=>i.addListener(D=>u({...D})),[]);const l=wO(i.loaded,s,o),f=Me.useMemo(()=>({value:i}),[a]),v=Me.useMemo(()=>({value:s.client}),[s.client]),{sessionId:m,sessionStatus:c,sessionClaims:d,session:g,userId:y,user:b,orgId:p,actor:h,organization:w,orgRole:_,orgSlug:j,orgPermissions:E,factorVerificationAge:S}=l,C=Me.useMemo(()=>({value:{sessionId:m,sessionStatus:c,sessionClaims:d,userId:y,actor:h,orgId:p,orgRole:_,orgSlug:j,orgPermissions:E,factorVerificationAge:S}}),[m,c,y,h,p,_,j,S,d==null?void 0:d.__raw]),M=Me.useMemo(()=>({value:g}),[m,g]),A=Me.useMemo(()=>({value:b}),[y,b]),P=Me.useMemo(()=>({value:{organization:w}}),[p,w]);return Me.createElement(mP.Provider,{value:f},Me.createElement(QT.Provider,{value:v},Me.createElement(eP.Provider,{value:M},Me.createElement(oP,{...P.value},Me.createElement(hP.Provider,{value:C},Me.createElement(JT.Provider,{value:A},Me.createElement(rP,{value:void 0},t)))))))}var CO=r=>{const n=Me.useRef(_v.getOrCreateInstance(r)),[o,t]=Me.useState(n.current.status);return Me.useEffect(()=>{n.current.__unstable__updateProps({appearance:r.appearance})},[r.appearance]),Me.useEffect(()=>{n.current.__unstable__updateProps({options:r})},[r.localization]),Me.useEffect(()=>(n.current.on("status",t),()=>{n.current&&n.current.off("status",t),_v.clearInstance()}),[]),{isomorphicClerk:n.current,clerkStatus:o}};function TO(r){const{initialState:n,children:o,__internal_bypassMissingPublishableKey:t,...i}=r,{publishableKey:a="",Clerk:s}=i;return!s&&!t&&(a?a&&!Sh(a)&&Yn.throwInvalidPublishableKeyError({key:a}):Yn.throwMissingPublishableKeyError()),Me.createElement(kO,{initialState:n,isomorphicClerkOptions:i},o)}var Zw=VP(TO,"ClerkProvider",gP);Zw.displayName="ClerkProvider";fP({packageName:"@clerk/clerk-react"});mO("@clerk/clerk-react");function Uh(r,n){return Uh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,t){return o.__proto__=t,o},Uh(r,n)}function Qw(r,n){r.prototype=Object.create(n.prototype),r.prototype.constructor=r,Uh(r,n)}function dt(){return dt=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var t in o)({}).hasOwnProperty.call(o,t)&&(r[t]=o[t])}return r},dt.apply(null,arguments)}function Ga(r){"@babel/helpers - typeof";return Ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ga(r)}function PO(r,n){if(Ga(r)!="object"||!r)return r;var o=r[Symbol.toPrimitive];if(o!==void 0){var t=o.call(r,n);if(Ga(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function OO(r){var n=PO(r,"string");return Ga(n)=="symbol"?n:n+""}function MO(r,n,o){return(n=OO(n))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r}function xv(r,n){var o=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);n&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),o.push.apply(o,t)}return o}function jv(r){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?xv(Object(o),!0).forEach(function(t){MO(r,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):xv(Object(o)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(o,t))})}return r}function qr(r){return"Minified Redux error #"+r+"; visit https://redux.js.org/Errors?code="+r+" for the full message or use the non-minified dev environment for full errors. "}var Sv=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Ev=function(){return Math.random().toString(36).substring(7).split("").join(".")},kv={INIT:"@@redux/INIT"+Ev(),REPLACE:"@@redux/REPLACE"+Ev()};function IO(r){if(typeof r!="object"||r===null)return!1;for(var n=r;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}function e_(r,n,o){var t;if(typeof n=="function"&&typeof o=="function"||typeof o=="function"&&typeof arguments[3]=="function")throw new Error(qr(0));if(typeof n=="function"&&typeof o>"u"&&(o=n,n=void 0),typeof o<"u"){if(typeof o!="function")throw new Error(qr(1));return o(e_)(r,n)}if(typeof r!="function")throw new Error(qr(2));var i=r,a=n,s=[],u=s,l=!1;function f(){u===s&&(u=s.slice())}function v(){if(l)throw new Error(qr(3));return a}function m(y){if(typeof y!="function")throw new Error(qr(4));if(l)throw new Error(qr(5));var b=!0;return f(),u.push(y),function(){if(b){if(l)throw new Error(qr(6));b=!1,f();var h=u.indexOf(y);u.splice(h,1),s=null}}}function c(y){if(!IO(y))throw new Error(qr(7));if(typeof y.type>"u")throw new Error(qr(8));if(l)throw new Error(qr(9));try{l=!0,a=i(a,y)}finally{l=!1}for(var b=s=u,p=0;p<b.length;p++){var h=b[p];h()}return y}function d(y){if(typeof y!="function")throw new Error(qr(10));i=y,c({type:kv.REPLACE})}function g(){var y,b=m;return y={subscribe:function(h){if(typeof h!="object"||h===null)throw new Error(qr(11));function w(){h.next&&h.next(v())}w();var _=b(w);return{unsubscribe:_}}},y[Sv]=function(){return this},y}return c({type:kv.INIT}),t={dispatch:c,subscribe:m,getState:v,replaceReducer:d},t[Sv]=g,t}function Cv(r,n){return function(){return n(r.apply(this,arguments))}}function Tv(r,n){if(typeof r=="function")return Cv(r,n);if(typeof r!="object"||r===null)throw new Error(qr(16));var o={};for(var t in r){var i=r[t];typeof i=="function"&&(o[t]=Cv(i,n))}return o}function t_(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return n.length===0?function(t){return t}:n.length===1?n[0]:n.reduce(function(t,i){return function(){return t(i.apply(void 0,arguments))}})}function AO(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return function(t){return function(){var i=t.apply(void 0,arguments),a=function(){throw new Error(qr(15))},s={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},u=n.map(function(l){return l(s)});return a=t_.apply(void 0,u)(i.dispatch),jv(jv({},i),{},{dispatch:a})}}}var r_=Me.createContext(null);function RO(r){r()}var n_=RO,LO=function(n){return n_=n},DO=function(){return n_};function NO(){var r=DO(),n=null,o=null;return{clear:function(){n=null,o=null},notify:function(){r(function(){for(var i=n;i;)i.callback(),i=i.next})},get:function(){for(var i=[],a=n;a;)i.push(a),a=a.next;return i},subscribe:function(i){var a=!0,s=o={callback:i,next:null,prev:o};return s.prev?s.prev.next=s:n=s,function(){!a||n===null||(a=!1,s.next?s.next.prev=s.prev:o=s.prev,s.prev?s.prev.next=s.next:n=s.next)}}}}var Pv={notify:function(){},get:function(){return[]}};function o_(r,n){var o,t=Pv;function i(m){return l(),t.subscribe(m)}function a(){t.notify()}function s(){v.onStateChange&&v.onStateChange()}function u(){return!!o}function l(){o||(o=n?n.addNestedSub(s):r.subscribe(s),t=NO())}function f(){o&&(o(),o=void 0,t.clear(),t=Pv)}var v={addNestedSub:i,notifyNestedSubs:a,handleChangeWrapper:s,isSubscribed:u,trySubscribe:l,tryUnsubscribe:f,getListeners:function(){return t}};return v}var s_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?je.useLayoutEffect:je.useEffect;function UO(r){var n=r.store,o=r.context,t=r.children,i=je.useMemo(function(){var u=o_(n);return{store:n,subscription:u}},[n]),a=je.useMemo(function(){return n.getState()},[n]);s_(function(){var u=i.subscription;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==n.getState()&&u.notifyNestedSubs(),function(){u.tryUnsubscribe(),u.onStateChange=null}},[i,a]);var s=o||r_;return Me.createElement(s.Provider,{value:i},t)}function qu(r,n){if(r==null)return{};var o={};for(var t in r)if({}.hasOwnProperty.call(r,t)){if(n.indexOf(t)!==-1)continue;o[t]=r[t]}return o}var i_={exports:{}},Pt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wr=typeof Symbol=="function"&&Symbol.for,em=wr?Symbol.for("react.element"):60103,tm=wr?Symbol.for("react.portal"):60106,Dc=wr?Symbol.for("react.fragment"):60107,Nc=wr?Symbol.for("react.strict_mode"):60108,Uc=wr?Symbol.for("react.profiler"):60114,Fc=wr?Symbol.for("react.provider"):60109,Bc=wr?Symbol.for("react.context"):60110,rm=wr?Symbol.for("react.async_mode"):60111,Gc=wr?Symbol.for("react.concurrent_mode"):60111,zc=wr?Symbol.for("react.forward_ref"):60112,Vc=wr?Symbol.for("react.suspense"):60113,FO=wr?Symbol.for("react.suspense_list"):60120,Wc=wr?Symbol.for("react.memo"):60115,Hc=wr?Symbol.for("react.lazy"):60116,BO=wr?Symbol.for("react.block"):60121,GO=wr?Symbol.for("react.fundamental"):60117,zO=wr?Symbol.for("react.responder"):60118,VO=wr?Symbol.for("react.scope"):60119;function hn(r){if(typeof r=="object"&&r!==null){var n=r.$$typeof;switch(n){case em:switch(r=r.type,r){case rm:case Gc:case Dc:case Uc:case Nc:case Vc:return r;default:switch(r=r&&r.$$typeof,r){case Bc:case zc:case Hc:case Wc:case Fc:return r;default:return n}}case tm:return n}}}function a_(r){return hn(r)===Gc}Pt.AsyncMode=rm;Pt.ConcurrentMode=Gc;Pt.ContextConsumer=Bc;Pt.ContextProvider=Fc;Pt.Element=em;Pt.ForwardRef=zc;Pt.Fragment=Dc;Pt.Lazy=Hc;Pt.Memo=Wc;Pt.Portal=tm;Pt.Profiler=Uc;Pt.StrictMode=Nc;Pt.Suspense=Vc;Pt.isAsyncMode=function(r){return a_(r)||hn(r)===rm};Pt.isConcurrentMode=a_;Pt.isContextConsumer=function(r){return hn(r)===Bc};Pt.isContextProvider=function(r){return hn(r)===Fc};Pt.isElement=function(r){return typeof r=="object"&&r!==null&&r.$$typeof===em};Pt.isForwardRef=function(r){return hn(r)===zc};Pt.isFragment=function(r){return hn(r)===Dc};Pt.isLazy=function(r){return hn(r)===Hc};Pt.isMemo=function(r){return hn(r)===Wc};Pt.isPortal=function(r){return hn(r)===tm};Pt.isProfiler=function(r){return hn(r)===Uc};Pt.isStrictMode=function(r){return hn(r)===Nc};Pt.isSuspense=function(r){return hn(r)===Vc};Pt.isValidElementType=function(r){return typeof r=="string"||typeof r=="function"||r===Dc||r===Gc||r===Uc||r===Nc||r===Vc||r===FO||typeof r=="object"&&r!==null&&(r.$$typeof===Hc||r.$$typeof===Wc||r.$$typeof===Fc||r.$$typeof===Bc||r.$$typeof===zc||r.$$typeof===GO||r.$$typeof===zO||r.$$typeof===VO||r.$$typeof===BO)};Pt.typeOf=hn;i_.exports=Pt;var WO=i_.exports,nm=WO,HO={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},$O={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},qO={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},om={};om[nm.ForwardRef]=qO;om[nm.Memo]=l_;function Ov(r){return nm.isMemo(r)?l_:om[r.$$typeof]||HO}var XO=Object.defineProperty,YO=Object.getOwnPropertyNames,Mv=Object.getOwnPropertySymbols,KO=Object.getOwnPropertyDescriptor,JO=Object.getPrototypeOf,Iv=Object.prototype;function u_(r,n,o){if(typeof n!="string"){if(Iv){var t=JO(n);t&&t!==Iv&&u_(r,t,o)}var i=YO(n);Mv&&(i=i.concat(Mv(n)));for(var a=Ov(r),s=Ov(n),u=0;u<i.length;++u){var l=i[u];if(!$O[l]&&!(o&&o[l])&&!(s&&s[l])&&!(a&&a[l])){var f=KO(n,l);try{XO(r,l,f)}catch{}}}}return r}var ZO=u_;const Av=rc(ZO);var c_={exports:{}},At={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $c=60103,qc=60106,il=60107,al=60108,ll=60114,ul=60109,cl=60110,dl=60112,fl=60113,sm=60120,hl=60115,pl=60116,d_=60121,f_=60122,h_=60117,p_=60129,m_=60131;if(typeof Symbol=="function"&&Symbol.for){var Sr=Symbol.for;$c=Sr("react.element"),qc=Sr("react.portal"),il=Sr("react.fragment"),al=Sr("react.strict_mode"),ll=Sr("react.profiler"),ul=Sr("react.provider"),cl=Sr("react.context"),dl=Sr("react.forward_ref"),fl=Sr("react.suspense"),sm=Sr("react.suspense_list"),hl=Sr("react.memo"),pl=Sr("react.lazy"),d_=Sr("react.block"),f_=Sr("react.server.block"),h_=Sr("react.fundamental"),p_=Sr("react.debug_trace_mode"),m_=Sr("react.legacy_hidden")}function Un(r){if(typeof r=="object"&&r!==null){var n=r.$$typeof;switch(n){case $c:switch(r=r.type,r){case il:case ll:case al:case fl:case sm:return r;default:switch(r=r&&r.$$typeof,r){case cl:case dl:case pl:case hl:case ul:return r;default:return n}}case qc:return n}}}var QO=ul,eM=$c,tM=dl,rM=il,nM=pl,oM=hl,sM=qc,iM=ll,aM=al,lM=fl;At.ContextConsumer=cl;At.ContextProvider=QO;At.Element=eM;At.ForwardRef=tM;At.Fragment=rM;At.Lazy=nM;At.Memo=oM;At.Portal=sM;At.Profiler=iM;At.StrictMode=aM;At.Suspense=lM;At.isAsyncMode=function(){return!1};At.isConcurrentMode=function(){return!1};At.isContextConsumer=function(r){return Un(r)===cl};At.isContextProvider=function(r){return Un(r)===ul};At.isElement=function(r){return typeof r=="object"&&r!==null&&r.$$typeof===$c};At.isForwardRef=function(r){return Un(r)===dl};At.isFragment=function(r){return Un(r)===il};At.isLazy=function(r){return Un(r)===pl};At.isMemo=function(r){return Un(r)===hl};At.isPortal=function(r){return Un(r)===qc};At.isProfiler=function(r){return Un(r)===ll};At.isStrictMode=function(r){return Un(r)===al};At.isSuspense=function(r){return Un(r)===fl};At.isValidElementType=function(r){return typeof r=="string"||typeof r=="function"||r===il||r===ll||r===p_||r===al||r===fl||r===sm||r===m_||typeof r=="object"&&r!==null&&(r.$$typeof===pl||r.$$typeof===hl||r.$$typeof===ul||r.$$typeof===cl||r.$$typeof===dl||r.$$typeof===h_||r.$$typeof===d_||r[0]===f_)};At.typeOf=Un;c_.exports=At;var uM=c_.exports,cM=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],dM=["reactReduxForwardedRef"],fM=[],hM=[null,null];function pM(r,n){var o=r[1];return[n.payload,o+1]}function Rv(r,n,o){s_(function(){return r.apply(void 0,n)},o)}function mM(r,n,o,t,i,a,s){r.current=t,n.current=i,o.current=!1,a.current&&(a.current=null,s())}function gM(r,n,o,t,i,a,s,u,l,f){if(r){var v=!1,m=null,c=function(){if(!v){var y=n.getState(),b,p;try{b=t(y,i.current)}catch(h){p=h,m=h}p||(m=null),b===a.current?s.current||l():(a.current=b,u.current=b,s.current=!0,f({type:"STORE_UPDATED",payload:{error:p}}))}};o.onStateChange=c,o.trySubscribe(),c();var d=function(){if(v=!0,o.tryUnsubscribe(),o.onStateChange=null,m)throw m};return d}}var yM=function(){return[null,0]};function vM(r,n){n===void 0&&(n={});var o=n,t=o.getDisplayName,i=t===void 0?function(w){return"ConnectAdvanced("+w+")"}:t,a=o.methodName,s=a===void 0?"connectAdvanced":a,u=o.renderCountProp,l=u===void 0?void 0:u,f=o.shouldHandleStateChanges,v=f===void 0?!0:f,m=o.storeKey,c=m===void 0?"store":m;o.withRef;var d=o.forwardRef,g=d===void 0?!1:d,y=o.context,b=y===void 0?r_:y,p=qu(o,cM),h=b;return function(_){var j=_.displayName||_.name||"Component",E=i(j),S=dt({},p,{getDisplayName:i,methodName:s,renderCountProp:l,shouldHandleStateChanges:v,storeKey:c,displayName:E,wrappedComponentName:j,WrappedComponent:_}),C=p.pure;function M(U){return r(U.dispatch,S)}var A=C?je.useMemo:function(U){return U()};function P(U){var N=je.useMemo(function(){var ye=U.reactReduxForwardedRef,_e=qu(U,dM);return[U.context,ye,_e]},[U]),B=N[0],W=N[1],z=N[2],V=je.useMemo(function(){return B&&B.Consumer&&uM.isContextConsumer(Me.createElement(B.Consumer,null))?B:h},[B,h]),X=je.useContext(V),K=!!U.store&&!!U.store.getState&&!!U.store.dispatch;X&&X.store;var re=K?U.store:X.store,T=je.useMemo(function(){return M(re)},[re]),L=je.useMemo(function(){if(!v)return hM;var ye=o_(re,K?null:X.subscription),_e=ye.notifyNestedSubs.bind(ye);return[ye,_e]},[re,K,X]),G=L[0],H=L[1],J=je.useMemo(function(){return K?X:dt({},X,{subscription:G})},[K,X,G]),ee=je.useReducer(pM,fM,yM),ie=ee[0],fe=ie[0],oe=ee[1];if(fe&&fe.error)throw fe.error;var de=je.useRef(),ae=je.useRef(z),Z=je.useRef(),ue=je.useRef(!1),pe=A(function(){return Z.current&&z===ae.current?Z.current:T(re.getState(),z)},[re,fe,z]);Rv(mM,[ae,de,ue,z,pe,Z,H]),Rv(gM,[v,re,G,T,ae,de,ue,Z,H,oe],[re,G,T]);var we=je.useMemo(function(){return Me.createElement(_,dt({},pe,{ref:W}))},[W,_,pe]),ge=je.useMemo(function(){return v?Me.createElement(V.Provider,{value:J},we):we},[V,we,J]);return ge}var D=C?Me.memo(P):P;if(D.WrappedComponent=_,D.displayName=P.displayName=E,g){var I=Me.forwardRef(function(N,B){return Me.createElement(D,dt({},N,{reactReduxForwardedRef:B}))});return I.displayName=E,I.WrappedComponent=_,Av(I,_)}return Av(D,_)}}function Lv(r,n){return r===n?r!==0||n!==0||1/r===1/n:r!==r&&n!==n}function sf(r,n){if(Lv(r,n))return!0;if(typeof r!="object"||r===null||typeof n!="object"||n===null)return!1;var o=Object.keys(r),t=Object.keys(n);if(o.length!==t.length)return!1;for(var i=0;i<o.length;i++)if(!Object.prototype.hasOwnProperty.call(n,o[i])||!Lv(r[o[i]],n[o[i]]))return!1;return!0}function bM(r,n){var o={},t=function(s){var u=r[s];typeof u=="function"&&(o[s]=function(){return n(u.apply(void 0,arguments))})};for(var i in r)t(i);return o}function im(r){return function(o,t){var i=r(o,t);function a(){return i}return a.dependsOnOwnProps=!1,a}}function Dv(r){return r.dependsOnOwnProps!==null&&r.dependsOnOwnProps!==void 0?!!r.dependsOnOwnProps:r.length!==1}function g_(r,n){return function(t,i){i.displayName;var a=function(u,l){return a.dependsOnOwnProps?a.mapToProps(u,l):a.mapToProps(u)};return a.dependsOnOwnProps=!0,a.mapToProps=function(u,l){a.mapToProps=r,a.dependsOnOwnProps=Dv(r);var f=a(u,l);return typeof f=="function"&&(a.mapToProps=f,a.dependsOnOwnProps=Dv(f),f=a(u,l)),f},a}}function wM(r){return typeof r=="function"?g_(r):void 0}function _M(r){return r?void 0:im(function(n){return{dispatch:n}})}function xM(r){return r&&typeof r=="object"?im(function(n){return bM(r,n)}):void 0}const jM=[wM,_M,xM];function SM(r){return typeof r=="function"?g_(r):void 0}function EM(r){return r?void 0:im(function(){return{}})}const kM=[SM,EM];function CM(r,n,o){return dt({},o,r,n)}function TM(r){return function(o,t){t.displayName;var i=t.pure,a=t.areMergedPropsEqual,s=!1,u;return function(f,v,m){var c=r(f,v,m);return s?(!i||!a(c,u))&&(u=c):(s=!0,u=c),u}}}function PM(r){return typeof r=="function"?TM(r):void 0}function OM(r){return r?void 0:function(){return CM}}const MM=[PM,OM];var IM=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function AM(r,n,o,t){return function(a,s){return o(r(a,s),n(t,s),s)}}function RM(r,n,o,t,i){var a=i.areStatesEqual,s=i.areOwnPropsEqual,u=i.areStatePropsEqual,l=!1,f,v,m,c,d;function g(w,_){return f=w,v=_,m=r(f,v),c=n(t,v),d=o(m,c,v),l=!0,d}function y(){return m=r(f,v),n.dependsOnOwnProps&&(c=n(t,v)),d=o(m,c,v),d}function b(){return r.dependsOnOwnProps&&(m=r(f,v)),n.dependsOnOwnProps&&(c=n(t,v)),d=o(m,c,v),d}function p(){var w=r(f,v),_=!u(w,m);return m=w,_&&(d=o(m,c,v)),d}function h(w,_){var j=!s(_,v),E=!a(w,f,_,v);return f=w,v=_,j&&E?y():j?b():E?p():d}return function(_,j){return l?h(_,j):g(_,j)}}function LM(r,n){var o=n.initMapStateToProps,t=n.initMapDispatchToProps,i=n.initMergeProps,a=qu(n,IM),s=o(r,a),u=t(r,a),l=i(r,a),f=a.pure?RM:AM;return f(s,u,l,r,a)}var DM=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function af(r,n,o){for(var t=n.length-1;t>=0;t--){var i=n[t](r);if(i)return i}return function(a,s){throw new Error("Invalid value of type "+typeof r+" for "+o+" argument when connecting component "+s.wrappedComponentName+".")}}function NM(r,n){return r===n}function UM(r){var n=r===void 0?{}:r,o=n.connectHOC,t=o===void 0?vM:o,i=n.mapStateToPropsFactories,a=i===void 0?kM:i,s=n.mapDispatchToPropsFactories,u=s===void 0?jM:s,l=n.mergePropsFactories,f=l===void 0?MM:l,v=n.selectorFactory,m=v===void 0?LM:v;return function(d,g,y,b){b===void 0&&(b={});var p=b,h=p.pure,w=h===void 0?!0:h,_=p.areStatesEqual,j=_===void 0?NM:_,E=p.areOwnPropsEqual,S=E===void 0?sf:E,C=p.areStatePropsEqual,M=C===void 0?sf:C,A=p.areMergedPropsEqual,P=A===void 0?sf:A,D=qu(p,DM),I=af(d,a,"mapStateToProps"),U=af(g,u,"mapDispatchToProps"),N=af(y,f,"mergeProps");return t(m,dt({methodName:"connect",getDisplayName:function(W){return"Connect("+W+")"},shouldHandleStateChanges:!!d,initMapStateToProps:I,initMapDispatchToProps:U,initMergeProps:N,pure:w,areStatesEqual:j,areOwnPropsEqual:S,areStatePropsEqual:M,areMergedPropsEqual:P},D))}}const y_=UM();LO(bc.unstable_batchedUpdates);function FM(r,n){if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(r[o]!==n[o])return!1;return!0}function v_(r,n){var o=je.useState(function(){return{inputs:n,result:r()}})[0],t=je.useRef(!0),i=je.useRef(o),a=t.current||!!(n&&i.current.inputs&&FM(n,i.current.inputs)),s=a?i.current:{inputs:n,result:r()};return je.useEffect(function(){t.current=!1,i.current=s},[s]),s.result}function BM(r,n){return v_(function(){return r},n)}var St=v_,lt=BM,GM="Invariant failed";function zM(r,n){throw new Error(GM)}var Rn=function(n){var o=n.top,t=n.right,i=n.bottom,a=n.left,s=t-a,u=i-o,l={top:o,right:t,bottom:i,left:a,width:s,height:u,x:a,y:o,center:{x:(t+a)/2,y:(i+o)/2}};return l},am=function(n,o){return{top:n.top-o.top,left:n.left-o.left,bottom:n.bottom+o.bottom,right:n.right+o.right}},Nv=function(n,o){return{top:n.top+o.top,left:n.left+o.left,bottom:n.bottom-o.bottom,right:n.right-o.right}},VM=function(n,o){return{top:n.top+o.y,left:n.left+o.x,bottom:n.bottom+o.y,right:n.right+o.x}},lf={top:0,right:0,bottom:0,left:0},lm=function(n){var o=n.borderBox,t=n.margin,i=t===void 0?lf:t,a=n.border,s=a===void 0?lf:a,u=n.padding,l=u===void 0?lf:u,f=Rn(am(o,i)),v=Rn(Nv(o,s)),m=Rn(Nv(v,l));return{marginBox:f,borderBox:Rn(o),paddingBox:v,contentBox:m,margin:i,border:s,padding:l}},pn=function(n){var o=n.slice(0,-2),t=n.slice(-2);if(t!=="px")return 0;var i=Number(o);return isNaN(i)&&zM(),i},WM=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Xu=function(n,o){var t=n.borderBox,i=n.border,a=n.margin,s=n.padding,u=VM(t,o);return lm({borderBox:u,border:i,margin:a,padding:s})},Yu=function(n,o){return o===void 0&&(o=WM()),Xu(n,o)},b_=function(n,o){var t={top:pn(o.marginTop),right:pn(o.marginRight),bottom:pn(o.marginBottom),left:pn(o.marginLeft)},i={top:pn(o.paddingTop),right:pn(o.paddingRight),bottom:pn(o.paddingBottom),left:pn(o.paddingLeft)},a={top:pn(o.borderTopWidth),right:pn(o.borderRightWidth),bottom:pn(o.borderBottomWidth),left:pn(o.borderLeftWidth)};return lm({borderBox:n,margin:t,padding:i,border:a})},w_=function(n){var o=n.getBoundingClientRect(),t=window.getComputedStyle(n);return b_(o,t)},Uv=Number.isNaN||function(n){return typeof n=="number"&&n!==n};function HM(r,n){return!!(r===n||Uv(r)&&Uv(n))}function $M(r,n){if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!HM(r[o],n[o]))return!1;return!0}function vr(r,n){n===void 0&&(n=$M);var o,t=[],i,a=!1;function s(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];return a&&o===this&&n(u,t)||(i=r.apply(this,u),a=!0,o=this,t=u),i}return s}var za=function(n){var o=[],t=null,i=function(){for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];o=u,!t&&(t=requestAnimationFrame(function(){t=null,n.apply(void 0,o)}))};return i.cancel=function(){t&&(cancelAnimationFrame(t),t=null)},i};function __(r,n){}__.bind(null,"warn");__.bind(null,"error");function zo(){}function qM(r,n){return dt({},r,{},n)}function bn(r,n,o){var t=n.map(function(i){var a=qM(o,i.options);return r.addEventListener(i.eventName,i.fn,a),function(){r.removeEventListener(i.eventName,i.fn,a)}});return function(){t.forEach(function(a){a()})}}var XM="Invariant failed";function Ku(r){this.message=r}Ku.prototype.toString=function(){return this.message};function Ke(r,n){throw new Ku(XM)}var YM=function(r){Qw(n,r);function n(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=r.call.apply(r,[this].concat(a))||this,t.callbacks=null,t.unbind=zo,t.onWindowError=function(u){var l=t.getCallbacks();l.isDragging()&&l.tryAbort();var f=u.error;f instanceof Ku&&u.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(u){t.callbacks=u},t}var o=n.prototype;return o.componentDidMount=function(){this.unbind=bn(window,[{eventName:"error",fn:this.onWindowError}])},o.componentDidCatch=function(i){if(i instanceof Ku){this.setState({});return}throw i},o.componentWillUnmount=function(){this.unbind()},o.render=function(){return this.props.children(this.setCallbacks)},n}(Me.Component),KM=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Ju=function(n){return n+1},JM=function(n){return`
  You have lifted an item in position `+Ju(n.source.index)+`
`},x_=function(n,o){var t=n.droppableId===o.droppableId,i=Ju(n.index),a=Ju(o.index);return t?`
      You have moved the item from position `+i+`
      to position `+a+`
    `:`
    You have moved the item from position `+i+`
    in list `+n.droppableId+`
    to list `+o.droppableId+`
    in position `+a+`
  `},j_=function(n,o,t){var i=o.droppableId===t.droppableId;return i?`
      The item `+n+`
      has been combined with `+t.draggableId:`
      The item `+n+`
      in list `+o.droppableId+`
      has been combined with `+t.draggableId+`
      in list `+t.droppableId+`
    `},ZM=function(n){var o=n.destination;if(o)return x_(n.source,o);var t=n.combine;return t?j_(n.draggableId,n.source,t):"You are over an area that cannot be dropped on"},Fv=function(n){return`
  The item has returned to its starting position
  of `+Ju(n.index)+`
`},QM=function(n){if(n.reason==="CANCEL")return`
      Movement cancelled.
      `+Fv(n.source)+`
    `;var o=n.destination,t=n.combine;return o?`
      You have dropped the item.
      `+x_(n.source,o)+`
    `:t?`
      You have dropped the item.
      `+j_(n.draggableId,n.source,t)+`
    `:`
    The item has been dropped while not over a drop area.
    `+Fv(n.source)+`
  `},yu={dragHandleUsageInstructions:KM,onDragStart:JM,onDragUpdate:ZM,onDragEnd:QM},br={x:0,y:0},kr=function(n,o){return{x:n.x+o.x,y:n.y+o.y}},on=function(n,o){return{x:n.x-o.x,y:n.y-o.y}},Vo=function(n,o){return n.x===o.x&&n.y===o.y},Ci=function(n){return{x:n.x!==0?-n.x:0,y:n.y!==0?-n.y:0}},ws=function(n,o,t){var i;return t===void 0&&(t=0),i={},i[n]=o,i[n==="x"?"y":"x"]=t,i},Va=function(n,o){return Math.sqrt(Math.pow(o.x-n.x,2)+Math.pow(o.y-n.y,2))},Bv=function(n,o){return Math.min.apply(Math,o.map(function(t){return Va(n,t)}))},S_=function(n){return function(o){return{x:n(o.x),y:n(o.y)}}},eI=function(r,n){var o=Rn({top:Math.max(n.top,r.top),right:Math.min(n.right,r.right),bottom:Math.min(n.bottom,r.bottom),left:Math.max(n.left,r.left)});return o.width<=0||o.height<=0?null:o},ml=function(n,o){return{top:n.top+o.y,left:n.left+o.x,bottom:n.bottom+o.y,right:n.right+o.x}},Gv=function(n){return[{x:n.left,y:n.top},{x:n.right,y:n.top},{x:n.left,y:n.bottom},{x:n.right,y:n.bottom}]},tI={top:0,right:0,bottom:0,left:0},rI=function(n,o){return o?ml(n,o.scroll.diff.displacement):n},nI=function(n,o,t){if(t&&t.increasedBy){var i;return dt({},n,(i={},i[o.end]=n[o.end]+t.increasedBy[o.line],i))}return n},oI=function(n,o){return o&&o.shouldClipSubject?eI(o.pageMarginBox,n):Rn(n)},gi=function(r){var n=r.page,o=r.withPlaceholder,t=r.axis,i=r.frame,a=rI(n.marginBox,i),s=nI(a,t,o),u=oI(s,i);return{page:n,withPlaceholder:o,active:u}},um=function(r,n){r.frame||Ke();var o=r.frame,t=on(n,o.scroll.initial),i=Ci(t),a=dt({},o,{scroll:{initial:o.scroll.initial,current:n,diff:{value:t,displacement:i},max:o.scroll.max}}),s=gi({page:r.subject.page,withPlaceholder:r.subject.withPlaceholder,axis:r.axis,frame:a}),u=dt({},r,{frame:a,subject:s});return u};function Zu(r){return Object.values?Object.values(r):Object.keys(r).map(function(n){return r[n]})}function cm(r,n){if(r.findIndex)return r.findIndex(n);for(var o=0;o<r.length;o++)if(n(r[o]))return o;return-1}function es(r,n){if(r.find)return r.find(n);var o=cm(r,n);if(o!==-1)return r[o]}function E_(r){return Array.prototype.slice.call(r)}var k_=vr(function(r){return r.reduce(function(n,o){return n[o.descriptor.id]=o,n},{})}),C_=vr(function(r){return r.reduce(function(n,o){return n[o.descriptor.id]=o,n},{})}),Xc=vr(function(r){return Zu(r)}),sI=vr(function(r){return Zu(r)}),Ti=vr(function(r,n){var o=sI(n).filter(function(t){return r===t.descriptor.droppableId}).sort(function(t,i){return t.descriptor.index-i.descriptor.index});return o});function dm(r){return r.at&&r.at.type==="REORDER"?r.at.destination:null}function Yc(r){return r.at&&r.at.type==="COMBINE"?r.at.combine:null}var Kc=vr(function(r,n){return n.filter(function(o){return o.descriptor.id!==r.descriptor.id})}),iI=function(r){var n=r.isMovingForward,o=r.draggable,t=r.destination,i=r.insideDestination,a=r.previousImpact;if(!t.isCombineEnabled)return null;var s=dm(a);if(!s)return null;function u(y){var b={type:"COMBINE",combine:{draggableId:y,droppableId:t.descriptor.id}};return dt({},a,{at:b})}var l=a.displaced.all,f=l.length?l[0]:null;if(n)return f?u(f):null;var v=Kc(o,i);if(!f){if(!v.length)return null;var m=v[v.length-1];return u(m.descriptor.id)}var c=cm(v,function(y){return y.descriptor.id===f});c===-1&&Ke();var d=c-1;if(d<0)return null;var g=v[d];return u(g.descriptor.id)},Pi=function(r,n){return r.descriptor.droppableId===n.descriptor.id},T_={point:br,value:0},Wa={invisible:{},visible:{},all:[]},aI={displaced:Wa,displacedBy:T_,at:null},_n=function(r,n){return function(o){return r<=o&&o<=n}},P_=function(r){var n=_n(r.top,r.bottom),o=_n(r.left,r.right);return function(t){var i=n(t.top)&&n(t.bottom)&&o(t.left)&&o(t.right);if(i)return!0;var a=n(t.top)||n(t.bottom),s=o(t.left)||o(t.right),u=a&&s;if(u)return!0;var l=t.top<r.top&&t.bottom>r.bottom,f=t.left<r.left&&t.right>r.right,v=l&&f;if(v)return!0;var m=l&&s||f&&a;return m}},lI=function(r){var n=_n(r.top,r.bottom),o=_n(r.left,r.right);return function(t){var i=n(t.top)&&n(t.bottom)&&o(t.left)&&o(t.right);return i}},fm={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},O_={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},uI=function(r){return function(n){var o=_n(n.top,n.bottom),t=_n(n.left,n.right);return function(i){return r===fm?o(i.top)&&o(i.bottom):t(i.left)&&t(i.right)}}},cI=function(n,o){var t=o.frame?o.frame.scroll.diff.displacement:br;return ml(n,t)},dI=function(n,o,t){return o.subject.active?t(o.subject.active)(n):!1},fI=function(n,o,t){return t(o)(n)},hm=function(n){var o=n.target,t=n.destination,i=n.viewport,a=n.withDroppableDisplacement,s=n.isVisibleThroughFrameFn,u=a?cI(o,t):o;return dI(u,t,s)&&fI(u,i,s)},hI=function(n){return hm(dt({},n,{isVisibleThroughFrameFn:P_}))},M_=function(n){return hm(dt({},n,{isVisibleThroughFrameFn:lI}))},pI=function(n){return hm(dt({},n,{isVisibleThroughFrameFn:uI(n.destination.axis)}))},mI=function(n,o,t){if(typeof t=="boolean")return t;if(!o)return!0;var i=o.invisible,a=o.visible;if(i[n])return!1;var s=a[n];return s?s.shouldAnimate:!0};function gI(r,n){var o=r.page.marginBox,t={top:n.point.y,right:0,bottom:0,left:n.point.x};return Rn(am(o,t))}function Ha(r){var n=r.afterDragging,o=r.destination,t=r.displacedBy,i=r.viewport,a=r.forceShouldAnimate,s=r.last;return n.reduce(function(l,f){var v=gI(f,t),m=f.descriptor.id;l.all.push(m);var c=hI({target:v,destination:o,viewport:i,withDroppableDisplacement:!0});if(!c)return l.invisible[f.descriptor.id]=!0,l;var d=mI(m,s,a),g={draggableId:m,shouldAnimate:d};return l.visible[m]=g,l},{all:[],visible:{},invisible:{}})}function yI(r,n){if(!r.length)return 0;var o=r[r.length-1].descriptor.index;return n.inHomeList?o:o+1}function zv(r){var n=r.insideDestination,o=r.inHomeList,t=r.displacedBy,i=r.destination,a=yI(n,{inHomeList:o});return{displaced:Wa,displacedBy:t,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:a}}}}function Qu(r){var n=r.draggable,o=r.insideDestination,t=r.destination,i=r.viewport,a=r.displacedBy,s=r.last,u=r.index,l=r.forceShouldAnimate,f=Pi(n,t);if(u==null)return zv({insideDestination:o,inHomeList:f,displacedBy:a,destination:t});var v=es(o,function(y){return y.descriptor.index===u});if(!v)return zv({insideDestination:o,inHomeList:f,displacedBy:a,destination:t});var m=Kc(n,o),c=o.indexOf(v),d=m.slice(c),g=Ha({afterDragging:d,destination:t,displacedBy:a,last:s,viewport:i.frame,forceShouldAnimate:l});return{displaced:g,displacedBy:a,at:{type:"REORDER",destination:{droppableId:t.descriptor.id,index:u}}}}function qo(r,n){return!!n.effected[r]}var vI=function(r){var n=r.isMovingForward,o=r.destination,t=r.draggables,i=r.combine,a=r.afterCritical;if(!o.isCombineEnabled)return null;var s=i.draggableId,u=t[s],l=u.descriptor.index,f=qo(s,a);return f?n?l:l-1:n?l+1:l},bI=function(r){var n=r.isMovingForward,o=r.isInHomeList,t=r.insideDestination,i=r.location;if(!t.length)return null;var a=i.index,s=n?a+1:a-1,u=t[0].descriptor.index,l=t[t.length-1].descriptor.index,f=o?l:l+1;return s<u||s>f?null:s},wI=function(r){var n=r.isMovingForward,o=r.isInHomeList,t=r.draggable,i=r.draggables,a=r.destination,s=r.insideDestination,u=r.previousImpact,l=r.viewport,f=r.afterCritical,v=u.at;if(v||Ke(),v.type==="REORDER"){var m=bI({isMovingForward:n,isInHomeList:o,location:v.destination,insideDestination:s});return m==null?null:Qu({draggable:t,insideDestination:s,destination:a,viewport:l,last:u.displaced,displacedBy:u.displacedBy,index:m})}var c=vI({isMovingForward:n,destination:a,displaced:u.displaced,draggables:i,combine:v.combine,afterCritical:f});return c==null?null:Qu({draggable:t,insideDestination:s,destination:a,viewport:l,last:u.displaced,displacedBy:u.displacedBy,index:c})},_I=function(r){var n=r.displaced,o=r.afterCritical,t=r.combineWith,i=r.displacedBy,a=!!(n.visible[t]||n.invisible[t]);return qo(t,o)?a?br:Ci(i.point):a?i.point:br},xI=function(r){var n=r.afterCritical,o=r.impact,t=r.draggables,i=Yc(o);i||Ke();var a=i.draggableId,s=t[a].page.borderBox.center,u=_I({displaced:o.displaced,afterCritical:n,combineWith:a,displacedBy:o.displacedBy});return kr(s,u)},I_=function(n,o){return o.margin[n.start]+o.borderBox[n.size]/2},jI=function(n,o){return o.margin[n.end]+o.borderBox[n.size]/2},pm=function(n,o,t){return o[n.crossAxisStart]+t.margin[n.crossAxisStart]+t.borderBox[n.crossAxisSize]/2},Vv=function(n){var o=n.axis,t=n.moveRelativeTo,i=n.isMoving;return ws(o.line,t.marginBox[o.end]+I_(o,i),pm(o,t.marginBox,i))},Wv=function(n){var o=n.axis,t=n.moveRelativeTo,i=n.isMoving;return ws(o.line,t.marginBox[o.start]-jI(o,i),pm(o,t.marginBox,i))},SI=function(n){var o=n.axis,t=n.moveInto,i=n.isMoving;return ws(o.line,t.contentBox[o.start]+I_(o,i),pm(o,t.contentBox,i))},EI=function(r){var n=r.impact,o=r.draggable,t=r.draggables,i=r.droppable,a=r.afterCritical,s=Ti(i.descriptor.id,t),u=o.page,l=i.axis;if(!s.length)return SI({axis:l,moveInto:i.page,isMoving:u});var f=n.displaced,v=n.displacedBy,m=f.all[0];if(m){var c=t[m];if(qo(m,a))return Wv({axis:l,moveRelativeTo:c.page,isMoving:u});var d=Xu(c.page,v.point);return Wv({axis:l,moveRelativeTo:d,isMoving:u})}var g=s[s.length-1];if(g.descriptor.id===o.descriptor.id)return u.borderBox.center;if(qo(g.descriptor.id,a)){var y=Xu(g.page,Ci(a.displacedBy.point));return Vv({axis:l,moveRelativeTo:y,isMoving:u})}return Vv({axis:l,moveRelativeTo:g.page,isMoving:u})},Fh=function(r,n){var o=r.frame;return o?kr(n,o.scroll.diff.displacement):n},kI=function(n){var o=n.impact,t=n.draggable,i=n.droppable,a=n.draggables,s=n.afterCritical,u=t.page.borderBox.center,l=o.at;return!i||!l?u:l.type==="REORDER"?EI({impact:o,draggable:t,draggables:a,droppable:i,afterCritical:s}):xI({impact:o,draggables:a,afterCritical:s})},Jc=function(r){var n=kI(r),o=r.droppable,t=o?Fh(o,n):n;return t},A_=function(r,n){var o=on(n,r.scroll.initial),t=Ci(o),i=Rn({top:n.y,bottom:n.y+r.frame.height,left:n.x,right:n.x+r.frame.width}),a={frame:i,scroll:{initial:r.scroll.initial,max:r.scroll.max,current:n,diff:{value:o,displacement:t}}};return a};function Hv(r,n){return r.map(function(o){return n[o]})}function CI(r,n){for(var o=0;o<n.length;o++){var t=n[o].visible[r];if(t)return t}return null}var TI=function(r){var n=r.impact,o=r.viewport,t=r.destination,i=r.draggables,a=r.maxScrollChange,s=A_(o,kr(o.scroll.current,a)),u=t.frame?um(t,kr(t.frame.scroll.current,a)):t,l=n.displaced,f=Ha({afterDragging:Hv(l.all,i),destination:t,displacedBy:n.displacedBy,viewport:s.frame,last:l,forceShouldAnimate:!1}),v=Ha({afterDragging:Hv(l.all,i),destination:u,displacedBy:n.displacedBy,viewport:o.frame,last:l,forceShouldAnimate:!1}),m={},c={},d=[l,f,v];l.all.forEach(function(y){var b=CI(y,d);if(b){c[y]=b;return}m[y]=!0});var g=dt({},n,{displaced:{all:l.all,invisible:m,visible:c}});return g},PI=function(r,n){return kr(r.scroll.diff.displacement,n)},mm=function(r){var n=r.pageBorderBoxCenter,o=r.draggable,t=r.viewport,i=PI(t,n),a=on(i,o.page.borderBox.center);return kr(o.client.borderBox.center,a)},R_=function(r){var n=r.draggable,o=r.destination,t=r.newPageBorderBoxCenter,i=r.viewport,a=r.withDroppableDisplacement,s=r.onlyOnMainAxis,u=s===void 0?!1:s,l=on(t,n.page.borderBox.center),f=ml(n.page.borderBox,l),v={target:f,destination:o,withDroppableDisplacement:a,viewport:i};return u?pI(v):M_(v)},OI=function(r){var n=r.isMovingForward,o=r.draggable,t=r.destination,i=r.draggables,a=r.previousImpact,s=r.viewport,u=r.previousPageBorderBoxCenter,l=r.previousClientSelection,f=r.afterCritical;if(!t.isEnabled)return null;var v=Ti(t.descriptor.id,i),m=Pi(o,t),c=iI({isMovingForward:n,draggable:o,destination:t,insideDestination:v,previousImpact:a})||wI({isMovingForward:n,isInHomeList:m,draggable:o,draggables:i,destination:t,insideDestination:v,previousImpact:a,viewport:s,afterCritical:f});if(!c)return null;var d=Jc({impact:c,draggable:o,droppable:t,draggables:i,afterCritical:f}),g=R_({draggable:o,destination:t,newPageBorderBoxCenter:d,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(g){var y=mm({pageBorderBoxCenter:d,draggable:o,viewport:s});return{clientSelection:y,impact:c,scrollJumpRequest:null}}var b=on(d,u),p=TI({impact:c,viewport:s,destination:t,draggables:i,maxScrollChange:b});return{clientSelection:l,impact:p,scrollJumpRequest:b}},Fr=function(n){var o=n.subject.active;return o||Ke(),o},MI=function(r){var n=r.isMovingForward,o=r.pageBorderBoxCenter,t=r.source,i=r.droppables,a=r.viewport,s=t.subject.active;if(!s)return null;var u=t.axis,l=_n(s[u.start],s[u.end]),f=Xc(i).filter(function(m){return m!==t}).filter(function(m){return m.isEnabled}).filter(function(m){return!!m.subject.active}).filter(function(m){return P_(a.frame)(Fr(m))}).filter(function(m){var c=Fr(m);return n?s[u.crossAxisEnd]<c[u.crossAxisEnd]:c[u.crossAxisStart]<s[u.crossAxisStart]}).filter(function(m){var c=Fr(m),d=_n(c[u.start],c[u.end]);return l(c[u.start])||l(c[u.end])||d(s[u.start])||d(s[u.end])}).sort(function(m,c){var d=Fr(m)[u.crossAxisStart],g=Fr(c)[u.crossAxisStart];return n?d-g:g-d}).filter(function(m,c,d){return Fr(m)[u.crossAxisStart]===Fr(d[0])[u.crossAxisStart]});if(!f.length)return null;if(f.length===1)return f[0];var v=f.filter(function(m){var c=_n(Fr(m)[u.start],Fr(m)[u.end]);return c(o[u.line])});return v.length===1?v[0]:v.length>1?v.sort(function(m,c){return Fr(m)[u.start]-Fr(c)[u.start]})[0]:f.sort(function(m,c){var d=Bv(o,Gv(Fr(m))),g=Bv(o,Gv(Fr(c)));return d!==g?d-g:Fr(m)[u.start]-Fr(c)[u.start]})[0]},$v=function(n,o){var t=n.page.borderBox.center;return qo(n.descriptor.id,o)?on(t,o.displacedBy.point):t},II=function(n,o){var t=n.page.borderBox;return qo(n.descriptor.id,o)?ml(t,Ci(o.displacedBy.point)):t},AI=function(r){var n=r.pageBorderBoxCenter,o=r.viewport,t=r.destination,i=r.insideDestination,a=r.afterCritical,s=i.filter(function(u){return M_({target:II(u,a),destination:t,viewport:o.frame,withDroppableDisplacement:!0})}).sort(function(u,l){var f=Va(n,Fh(t,$v(u,a))),v=Va(n,Fh(t,$v(l,a)));return f<v?-1:v<f?1:u.descriptor.index-l.descriptor.index});return s[0]||null},gl=vr(function(n,o){var t=o[n.line];return{value:t,point:ws(n.line,t)}}),RI=function(n,o,t){var i=n.axis;if(n.descriptor.mode==="virtual")return ws(i.line,o[i.line]);var a=n.subject.page.contentBox[i.size],s=Ti(n.descriptor.id,t),u=s.reduce(function(v,m){return v+m.client.marginBox[i.size]},0),l=u+o[i.line],f=l-a;return f<=0?null:ws(i.line,f)},L_=function(n,o){return dt({},n,{scroll:dt({},n.scroll,{max:o})})},D_=function(n,o,t){var i=n.frame;Pi(o,n)&&Ke(),n.subject.withPlaceholder&&Ke();var a=gl(n.axis,o.displaceBy).point,s=RI(n,a,t),u={placeholderSize:a,increasedBy:s,oldFrameMaxScroll:n.frame?n.frame.scroll.max:null};if(!i){var l=gi({page:n.subject.page,withPlaceholder:u,axis:n.axis,frame:n.frame});return dt({},n,{subject:l})}var f=s?kr(i.scroll.max,s):i.scroll.max,v=L_(i,f),m=gi({page:n.subject.page,withPlaceholder:u,axis:n.axis,frame:v});return dt({},n,{subject:m,frame:v})},LI=function(n){var o=n.subject.withPlaceholder;o||Ke();var t=n.frame;if(!t){var i=gi({page:n.subject.page,axis:n.axis,frame:null,withPlaceholder:null});return dt({},n,{subject:i})}var a=o.oldFrameMaxScroll;a||Ke();var s=L_(t,a),u=gi({page:n.subject.page,axis:n.axis,frame:s,withPlaceholder:null});return dt({},n,{subject:u,frame:s})},DI=function(r){var n=r.previousPageBorderBoxCenter,o=r.moveRelativeTo,t=r.insideDestination,i=r.draggable,a=r.draggables,s=r.destination,u=r.viewport,l=r.afterCritical;if(!o){if(t.length)return null;var f={displaced:Wa,displacedBy:T_,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},v=Jc({impact:f,draggable:i,droppable:s,draggables:a,afterCritical:l}),m=Pi(i,s)?s:D_(s,i,a),c=R_({draggable:i,destination:m,newPageBorderBoxCenter:v,viewport:u.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return c?f:null}var d=n[s.axis.line]<=o.page.borderBox.center[s.axis.line],g=function(){var b=o.descriptor.index;return o.descriptor.id===i.descriptor.id||d?b:b+1}(),y=gl(s.axis,i.displaceBy);return Qu({draggable:i,insideDestination:t,destination:s,viewport:u,displacedBy:y,last:Wa,index:g})},NI=function(r){var n=r.isMovingForward,o=r.previousPageBorderBoxCenter,t=r.draggable,i=r.isOver,a=r.draggables,s=r.droppables,u=r.viewport,l=r.afterCritical,f=MI({isMovingForward:n,pageBorderBoxCenter:o,source:i,droppables:s,viewport:u});if(!f)return null;var v=Ti(f.descriptor.id,a),m=AI({pageBorderBoxCenter:o,viewport:u,destination:f,insideDestination:v,afterCritical:l}),c=DI({previousPageBorderBoxCenter:o,destination:f,draggable:t,draggables:a,moveRelativeTo:m,insideDestination:v,viewport:u,afterCritical:l});if(!c)return null;var d=Jc({impact:c,draggable:t,droppable:f,draggables:a,afterCritical:l}),g=mm({pageBorderBoxCenter:d,draggable:t,viewport:u});return{clientSelection:g,impact:c,scrollJumpRequest:null}},an=function(r){var n=r.at;return n?n.type==="REORDER"?n.destination.droppableId:n.combine.droppableId:null},UI=function(n,o){var t=an(n);return t?o[t]:null},FI=function(r){var n=r.state,o=r.type,t=UI(n.impact,n.dimensions.droppables),i=!!t,a=n.dimensions.droppables[n.critical.droppable.id],s=t||a,u=s.axis.direction,l=u==="vertical"&&(o==="MOVE_UP"||o==="MOVE_DOWN")||u==="horizontal"&&(o==="MOVE_LEFT"||o==="MOVE_RIGHT");if(l&&!i)return null;var f=o==="MOVE_DOWN"||o==="MOVE_RIGHT",v=n.dimensions.draggables[n.critical.draggable.id],m=n.current.page.borderBoxCenter,c=n.dimensions,d=c.draggables,g=c.droppables;return l?OI({isMovingForward:f,previousPageBorderBoxCenter:m,draggable:v,destination:s,draggables:d,viewport:n.viewport,previousClientSelection:n.current.client.selection,previousImpact:n.impact,afterCritical:n.afterCritical}):NI({isMovingForward:f,previousPageBorderBoxCenter:m,draggable:v,isOver:s,draggables:d,droppables:g,viewport:n.viewport,afterCritical:n.afterCritical})};function ls(r){return r.phase==="DRAGGING"||r.phase==="COLLECTING"}function N_(r){var n=_n(r.top,r.bottom),o=_n(r.left,r.right);return function(i){return n(i.y)&&o(i.x)}}function BI(r,n){return r.left<n.right&&r.right>n.left&&r.top<n.bottom&&r.bottom>n.top}function GI(r){var n=r.pageBorderBox,o=r.draggable,t=r.candidates,i=o.page.borderBox.center,a=t.map(function(s){var u=s.axis,l=ws(s.axis.line,n.center[u.line],s.page.borderBox.center[u.crossAxisLine]);return{id:s.descriptor.id,distance:Va(i,l)}}).sort(function(s,u){return u.distance-s.distance});return a[0]?a[0].id:null}function zI(r){var n=r.pageBorderBox,o=r.draggable,t=r.droppables,i=Xc(t).filter(function(a){if(!a.isEnabled)return!1;var s=a.subject.active;if(!s||!BI(n,s))return!1;if(N_(s)(n.center))return!0;var u=a.axis,l=s.center[u.crossAxisLine],f=n[u.crossAxisStart],v=n[u.crossAxisEnd],m=_n(s[u.crossAxisStart],s[u.crossAxisEnd]),c=m(f),d=m(v);return!c&&!d?!0:c?f<l:v>l});return i.length?i.length===1?i[0].descriptor.id:GI({pageBorderBox:n,draggable:o,candidates:i}):null}var U_=function(n,o){return Rn(ml(n,o))},VI=function(r,n){var o=r.frame;return o?U_(n,o.scroll.diff.value):n};function F_(r){var n=r.displaced,o=r.id;return!!(n.visible[o]||n.invisible[o])}function WI(r){var n=r.draggable,o=r.closest,t=r.inHomeList;return o?t&&o.descriptor.index>n.descriptor.index?o.descriptor.index-1:o.descriptor.index:null}var HI=function(r){var n=r.pageBorderBoxWithDroppableScroll,o=r.draggable,t=r.destination,i=r.insideDestination,a=r.last,s=r.viewport,u=r.afterCritical,l=t.axis,f=gl(t.axis,o.displaceBy),v=f.value,m=n[l.start],c=n[l.end],d=Kc(o,i),g=es(d,function(b){var p=b.descriptor.id,h=b.page.borderBox.center[l.line],w=qo(p,u),_=F_({displaced:a,id:p});return w?_?c<=h:m<h-v:_?c<=h+v:m<h}),y=WI({draggable:o,closest:g,inHomeList:Pi(o,t)});return Qu({draggable:o,insideDestination:i,destination:t,viewport:s,last:a,displacedBy:f,index:y})},$I=4,qI=function(r){var n=r.draggable,o=r.pageBorderBoxWithDroppableScroll,t=r.previousImpact,i=r.destination,a=r.insideDestination,s=r.afterCritical;if(!i.isCombineEnabled)return null;var u=i.axis,l=gl(i.axis,n.displaceBy),f=l.value,v=o[u.start],m=o[u.end],c=Kc(n,a),d=es(c,function(y){var b=y.descriptor.id,p=y.page.borderBox,h=p[u.size],w=h/$I,_=qo(b,s),j=F_({displaced:t.displaced,id:b});return _?j?m>p[u.start]+w&&m<p[u.end]-w:v>p[u.start]-f+w&&v<p[u.end]-f-w:j?m>p[u.start]+f+w&&m<p[u.end]+f-w:v>p[u.start]+w&&v<p[u.end]-w});if(!d)return null;var g={displacedBy:l,displaced:t.displaced,at:{type:"COMBINE",combine:{draggableId:d.descriptor.id,droppableId:i.descriptor.id}}};return g},B_=function(r){var n=r.pageOffset,o=r.draggable,t=r.draggables,i=r.droppables,a=r.previousImpact,s=r.viewport,u=r.afterCritical,l=U_(o.page.borderBox,n),f=zI({pageBorderBox:l,draggable:o,droppables:i});if(!f)return aI;var v=i[f],m=Ti(v.descriptor.id,t),c=VI(v,l);return qI({pageBorderBoxWithDroppableScroll:c,draggable:o,previousImpact:a,destination:v,insideDestination:m,afterCritical:u})||HI({pageBorderBoxWithDroppableScroll:c,draggable:o,destination:v,insideDestination:m,last:a.displaced,viewport:s,afterCritical:u})},gm=function(r,n){var o;return dt({},r,(o={},o[n.descriptor.id]=n,o))},XI=function(n){var o=n.previousImpact,t=n.impact,i=n.droppables,a=an(o),s=an(t);if(!a||a===s)return i;var u=i[a];if(!u.subject.withPlaceholder)return i;var l=LI(u);return gm(i,l)},YI=function(r){var n=r.draggable,o=r.draggables,t=r.droppables,i=r.previousImpact,a=r.impact,s=XI({previousImpact:i,impact:a,droppables:t}),u=an(a);if(!u)return s;var l=t[u];if(Pi(n,l)||l.subject.withPlaceholder)return s;var f=D_(l,n,o);return gm(s,f)},va=function(r){var n=r.state,o=r.clientSelection,t=r.dimensions,i=r.viewport,a=r.impact,s=r.scrollJumpRequest,u=i||n.viewport,l=t||n.dimensions,f=o||n.current.client.selection,v=on(f,n.initial.client.selection),m={offset:v,selection:f,borderBoxCenter:kr(n.initial.client.borderBoxCenter,v)},c={selection:kr(m.selection,u.scroll.current),borderBoxCenter:kr(m.borderBoxCenter,u.scroll.current),offset:kr(m.offset,u.scroll.diff.value)},d={client:m,page:c};if(n.phase==="COLLECTING")return dt({phase:"COLLECTING"},n,{dimensions:l,viewport:u,current:d});var g=l.draggables[n.critical.draggable.id],y=a||B_({pageOffset:c.offset,draggable:g,draggables:l.draggables,droppables:l.droppables,previousImpact:n.impact,viewport:u,afterCritical:n.afterCritical}),b=YI({draggable:g,impact:y,previousImpact:n.impact,draggables:l.draggables,droppables:l.droppables}),p=dt({},n,{current:d,dimensions:{draggables:l.draggables,droppables:b},impact:y,viewport:u,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null});return p};function KI(r,n){return r.map(function(o){return n[o]})}var G_=function(r){var n=r.impact,o=r.viewport,t=r.draggables,i=r.destination,a=r.forceShouldAnimate,s=n.displaced,u=KI(s.all,t),l=Ha({afterDragging:u,destination:i,displacedBy:n.displacedBy,viewport:o.frame,forceShouldAnimate:a,last:s});return dt({},n,{displaced:l})},z_=function(r){var n=r.impact,o=r.draggable,t=r.droppable,i=r.draggables,a=r.viewport,s=r.afterCritical,u=Jc({impact:n,draggable:o,draggables:i,droppable:t,afterCritical:s});return mm({pageBorderBoxCenter:u,draggable:o,viewport:a})},V_=function(r){var n=r.state,o=r.dimensions,t=r.viewport;n.movementMode!=="SNAP"&&Ke();var i=n.impact,a=t||n.viewport,s=o||n.dimensions,u=s.draggables,l=s.droppables,f=u[n.critical.draggable.id],v=an(i);v||Ke();var m=l[v],c=G_({impact:i,viewport:a,destination:m,draggables:u}),d=z_({impact:c,draggable:f,droppable:m,draggables:u,viewport:a,afterCritical:n.afterCritical});return va({impact:c,clientSelection:d,state:n,dimensions:s,viewport:a})},JI=function(r){return{index:r.index,droppableId:r.droppableId}},W_=function(r){var n=r.draggable,o=r.home,t=r.draggables,i=r.viewport,a=gl(o.axis,n.displaceBy),s=Ti(o.descriptor.id,t),u=s.indexOf(n);u===-1&&Ke();var l=s.slice(u+1),f=l.reduce(function(d,g){return d[g.descriptor.id]=!0,d},{}),v={inVirtualList:o.descriptor.mode==="virtual",displacedBy:a,effected:f},m=Ha({afterDragging:l,destination:o,displacedBy:a,last:null,viewport:i.frame,forceShouldAnimate:!1}),c={displaced:m,displacedBy:a,at:{type:"REORDER",destination:JI(n.descriptor)}};return{impact:c,afterCritical:v}},ZI=function(r,n){return{draggables:r.draggables,droppables:gm(r.droppables,n)}},QI=function(r){var n=r.draggable,o=r.offset,t=r.initialWindowScroll,i=Xu(n.client,o),a=Yu(i,t),s=dt({},n,{placeholder:dt({},n.placeholder,{client:i}),client:i,page:a});return s},eA=function(r){var n=r.frame;return n||Ke(),n},tA=function(r){var n=r.additions,o=r.updatedDroppables,t=r.viewport,i=t.scroll.diff.value;return n.map(function(a){var s=a.descriptor.droppableId,u=o[s],l=eA(u),f=l.scroll.diff.value,v=kr(i,f),m=QI({draggable:a,offset:v,initialWindowScroll:t.scroll.initial});return m})},rA=function(r){var n=r.state,o=r.published,t=o.modified.map(function(w){var _=n.dimensions.droppables[w.droppableId],j=um(_,w.scroll);return j}),i=dt({},n.dimensions.droppables,{},k_(t)),a=C_(tA({additions:o.additions,updatedDroppables:i,viewport:n.viewport})),s=dt({},n.dimensions.draggables,{},a);o.removals.forEach(function(w){delete s[w]});var u={droppables:i,draggables:s},l=an(n.impact),f=l?u.droppables[l]:null,v=u.draggables[n.critical.draggable.id],m=u.droppables[n.critical.droppable.id],c=W_({draggable:v,home:m,draggables:s,viewport:n.viewport}),d=c.impact,g=c.afterCritical,y=f&&f.isCombineEnabled?n.impact:d,b=B_({pageOffset:n.current.page.offset,draggable:u.draggables[n.critical.draggable.id],draggables:u.draggables,droppables:u.droppables,previousImpact:y,viewport:n.viewport,afterCritical:g}),p=dt({phase:"DRAGGING"},n,{phase:"DRAGGING",impact:b,onLiftImpact:d,dimensions:u,afterCritical:g,forceShouldAnimate:!1});if(n.phase==="COLLECTING")return p;var h=dt({phase:"DROP_PENDING"},p,{phase:"DROP_PENDING",reason:n.reason,isWaiting:!1});return h},Bh=function(n){return n.movementMode==="SNAP"},uf=function(n,o,t){var i=ZI(n.dimensions,o);return!Bh(n)||t?va({state:n,dimensions:i}):V_({state:n,dimensions:i})};function cf(r){return r.isDragging&&r.movementMode==="SNAP"?dt({phase:"DRAGGING"},r,{scrollJumpRequest:null}):r}var qv={phase:"IDLE",completed:null,shouldFlush:!1},nA=function(r,n){if(r===void 0&&(r=qv),n.type==="FLUSH")return dt({},qv,{shouldFlush:!0});if(n.type==="INITIAL_PUBLISH"){r.phase!=="IDLE"&&Ke();var o=n.payload,t=o.critical,i=o.clientSelection,a=o.viewport,s=o.dimensions,u=o.movementMode,l=s.draggables[t.draggable.id],f=s.droppables[t.droppable.id],v={selection:i,borderBoxCenter:l.client.borderBox.center,offset:br},m={client:v,page:{selection:kr(v.selection,a.scroll.initial),borderBoxCenter:kr(v.selection,a.scroll.initial),offset:kr(v.selection,a.scroll.diff.value)}},c=Xc(s.droppables).every(function(oe){return!oe.isFixedOnPage}),d=W_({draggable:l,home:f,draggables:s.draggables,viewport:a}),g=d.impact,y=d.afterCritical,b={phase:"DRAGGING",isDragging:!0,critical:t,movementMode:u,dimensions:s,initial:m,current:m,isWindowScrollAllowed:c,impact:g,afterCritical:y,onLiftImpact:g,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null};return b}if(n.type==="COLLECTION_STARTING"){if(r.phase==="COLLECTING"||r.phase==="DROP_PENDING")return r;r.phase!=="DRAGGING"&&Ke();var p=dt({phase:"COLLECTING"},r,{phase:"COLLECTING"});return p}if(n.type==="PUBLISH_WHILE_DRAGGING")return r.phase==="COLLECTING"||r.phase==="DROP_PENDING"||Ke(),rA({state:r,published:n.payload});if(n.type==="MOVE"){if(r.phase==="DROP_PENDING")return r;ls(r)||Ke();var h=n.payload.client;return Vo(h,r.current.client.selection)?r:va({state:r,clientSelection:h,impact:Bh(r)?r.impact:null})}if(n.type==="UPDATE_DROPPABLE_SCROLL"){if(r.phase==="DROP_PENDING"||r.phase==="COLLECTING")return cf(r);ls(r)||Ke();var w=n.payload,_=w.id,j=w.newScroll,E=r.dimensions.droppables[_];if(!E)return r;var S=um(E,j);return uf(r,S,!1)}if(n.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(r.phase==="DROP_PENDING")return r;ls(r)||Ke();var C=n.payload,M=C.id,A=C.isEnabled,P=r.dimensions.droppables[M];P||Ke(),P.isEnabled===A&&Ke();var D=dt({},P,{isEnabled:A});return uf(r,D,!0)}if(n.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(r.phase==="DROP_PENDING")return r;ls(r)||Ke();var I=n.payload,U=I.id,N=I.isCombineEnabled,B=r.dimensions.droppables[U];B||Ke(),B.isCombineEnabled===N&&Ke();var W=dt({},B,{isCombineEnabled:N});return uf(r,W,!0)}if(n.type==="MOVE_BY_WINDOW_SCROLL"){if(r.phase==="DROP_PENDING"||r.phase==="DROP_ANIMATING")return r;ls(r)||Ke(),r.isWindowScrollAllowed||Ke();var z=n.payload.newScroll;if(Vo(r.viewport.scroll.current,z))return cf(r);var V=A_(r.viewport,z);return Bh(r)?V_({state:r,viewport:V}):va({state:r,viewport:V})}if(n.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ls(r))return r;var X=n.payload.maxScroll;if(Vo(X,r.viewport.scroll.max))return r;var K=dt({},r.viewport,{scroll:dt({},r.viewport.scroll,{max:X})});return dt({phase:"DRAGGING"},r,{viewport:K})}if(n.type==="MOVE_UP"||n.type==="MOVE_DOWN"||n.type==="MOVE_LEFT"||n.type==="MOVE_RIGHT"){if(r.phase==="COLLECTING"||r.phase==="DROP_PENDING")return r;r.phase!=="DRAGGING"&&Ke();var re=FI({state:r,type:n.type});return re?va({state:r,impact:re.impact,clientSelection:re.clientSelection,scrollJumpRequest:re.scrollJumpRequest}):r}if(n.type==="DROP_PENDING"){var T=n.payload.reason;r.phase!=="COLLECTING"&&Ke();var L=dt({phase:"DROP_PENDING"},r,{phase:"DROP_PENDING",isWaiting:!0,reason:T});return L}if(n.type==="DROP_ANIMATE"){var G=n.payload,H=G.completed,J=G.dropDuration,ee=G.newHomeClientOffset;r.phase==="DRAGGING"||r.phase==="DROP_PENDING"||Ke();var ie={phase:"DROP_ANIMATING",completed:H,dropDuration:J,newHomeClientOffset:ee,dimensions:r.dimensions};return ie}if(n.type==="DROP_COMPLETE"){var fe=n.payload.completed;return{phase:"IDLE",completed:fe,shouldFlush:!1}}return r},oA=function(n){return{type:"BEFORE_INITIAL_CAPTURE",payload:n}},sA=function(n){return{type:"LIFT",payload:n}},iA=function(n){return{type:"INITIAL_PUBLISH",payload:n}},aA=function(n){return{type:"PUBLISH_WHILE_DRAGGING",payload:n}},lA=function(){return{type:"COLLECTION_STARTING",payload:null}},uA=function(n){return{type:"UPDATE_DROPPABLE_SCROLL",payload:n}},cA=function(n){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:n}},dA=function(n){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:n}},H_=function(n){return{type:"MOVE",payload:n}},fA=function(n){return{type:"MOVE_BY_WINDOW_SCROLL",payload:n}},hA=function(n){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:n}},pA=function(){return{type:"MOVE_UP",payload:null}},mA=function(){return{type:"MOVE_DOWN",payload:null}},gA=function(){return{type:"MOVE_RIGHT",payload:null}},yA=function(){return{type:"MOVE_LEFT",payload:null}},ym=function(){return{type:"FLUSH",payload:null}},vA=function(n){return{type:"DROP_ANIMATE",payload:n}},vm=function(n){return{type:"DROP_COMPLETE",payload:n}},$_=function(n){return{type:"DROP",payload:n}},bA=function(n){return{type:"DROP_PENDING",payload:n}},q_=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},wA=function(r){return function(n){var o=n.getState,t=n.dispatch;return function(i){return function(a){if(a.type!=="LIFT"){i(a);return}var s=a.payload,u=s.id,l=s.clientSelection,f=s.movementMode,v=o();v.phase==="DROP_ANIMATING"&&t(vm({completed:v.completed})),o().phase!=="IDLE"&&Ke(),t(ym()),t(oA({draggableId:u,movementMode:f}));var m={shouldPublishImmediately:f==="SNAP"},c={draggableId:u,scrollOptions:m},d=r.startPublishing(c),g=d.critical,y=d.dimensions,b=d.viewport;t(iA({critical:g,dimensions:y,clientSelection:l,movementMode:f,viewport:b}))}}}},_A=function(r){return function(){return function(n){return function(o){o.type==="INITIAL_PUBLISH"&&r.dragging(),o.type==="DROP_ANIMATE"&&r.dropping(o.payload.completed.result.reason),(o.type==="FLUSH"||o.type==="DROP_COMPLETE")&&r.resting(),n(o)}}}},bm={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},$a={opacity:{drop:0,combining:.7},scale:{drop:.75}},wm={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ns=wm.outOfTheWay+"s "+bm.outOfTheWay,ba={fluid:"opacity "+ns,snap:"transform "+ns+", opacity "+ns,drop:function(n){var o=n+"s "+bm.drop;return"transform "+o+", opacity "+o},outOfTheWay:"transform "+ns,placeholder:"height "+ns+", width "+ns+", margin "+ns},Xv=function(n){return Vo(n,br)?null:"translate("+n.x+"px, "+n.y+"px)"},Gh={moveTo:Xv,drop:function(n,o){var t=Xv(n);return t?o?t+" scale("+$a.scale.drop+")":t:null}},zh=wm.minDropTime,X_=wm.maxDropTime,xA=X_-zh,Yv=1500,jA=.6,SA=function(r){var n=r.current,o=r.destination,t=r.reason,i=Va(n,o);if(i<=0)return zh;if(i>=Yv)return X_;var a=i/Yv,s=zh+xA*a,u=t==="CANCEL"?s*jA:s;return Number(u.toFixed(2))},EA=function(r){var n=r.impact,o=r.draggable,t=r.dimensions,i=r.viewport,a=r.afterCritical,s=t.draggables,u=t.droppables,l=an(n),f=l?u[l]:null,v=u[o.descriptor.droppableId],m=z_({impact:n,draggable:o,draggables:s,afterCritical:a,droppable:f||v,viewport:i}),c=on(m,o.client.borderBox.center);return c},kA=function(r){var n=r.draggables,o=r.reason,t=r.lastImpact,i=r.home,a=r.viewport,s=r.onLiftImpact;if(!t.at||o!=="DROP"){var u=G_({draggables:n,impact:s,destination:i,viewport:a,forceShouldAnimate:!0});return{impact:u,didDropInsideDroppable:!1}}if(t.at.type==="REORDER")return{impact:t,didDropInsideDroppable:!0};var l=dt({},t,{displaced:Wa});return{impact:l,didDropInsideDroppable:!0}},CA=function(r){var n=r.getState,o=r.dispatch;return function(t){return function(i){if(i.type!=="DROP"){t(i);return}var a=n(),s=i.payload.reason;if(a.phase==="COLLECTING"){o(bA({reason:s}));return}if(a.phase!=="IDLE"){var u=a.phase==="DROP_PENDING"&&a.isWaiting;u&&Ke(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||Ke();var l=a.critical,f=a.dimensions,v=f.draggables[a.critical.draggable.id],m=kA({reason:s,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),c=m.impact,d=m.didDropInsideDroppable,g=d?dm(c):null,y=d?Yc(c):null,b={index:l.draggable.index,droppableId:l.droppable.id},p={draggableId:v.descriptor.id,type:v.descriptor.type,source:b,reason:s,mode:a.movementMode,destination:g,combine:y},h=EA({impact:c,draggable:v,dimensions:f,viewport:a.viewport,afterCritical:a.afterCritical}),w={critical:a.critical,afterCritical:a.afterCritical,result:p,impact:c},_=!Vo(a.current.client.offset,h)||!!p.combine;if(!_){o(vm({completed:w}));return}var j=SA({current:a.current.client.offset,destination:h,reason:s}),E={newHomeClientOffset:h,dropDuration:j,completed:w};o(vA(E))}}}},Y_=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function TA(r){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(o){o.target!==window&&o.target!==window.document||r()}}}function PA(r){var n=r.onWindowScroll;function o(){n(Y_())}var t=za(o),i=TA(t),a=zo;function s(){return a!==zo}function u(){s()&&Ke(),a=bn(window,[i])}function l(){s()||Ke(),t.cancel(),a(),a=zo}return{start:u,stop:l,isActive:s}}var OA=function(n){return n.type==="DROP_COMPLETE"||n.type==="DROP_ANIMATE"||n.type==="FLUSH"},MA=function(r){var n=PA({onWindowScroll:function(t){r.dispatch(fA({newScroll:t}))}});return function(o){return function(t){!n.isActive()&&t.type==="INITIAL_PUBLISH"&&n.start(),n.isActive()&&OA(t)&&n.stop(),o(t)}}},IA=function(r){var n=!1,o=!1,t=setTimeout(function(){o=!0}),i=function(s){n||o||(n=!0,r(s),clearTimeout(t))};return i.wasCalled=function(){return n},i},AA=function(){var r=[],n=function(a){var s=cm(r,function(f){return f.timerId===a});s===-1&&Ke();var u=r.splice(s,1),l=u[0];l.callback()},o=function(a){var s=setTimeout(function(){return n(s)}),u={timerId:s,callback:a};r.push(u)},t=function(){if(r.length){var a=[].concat(r);r.length=0,a.forEach(function(s){clearTimeout(s.timerId),s.callback()})}};return{add:o,flush:t}},RA=function(n,o){return n==null&&o==null?!0:n==null||o==null?!1:n.droppableId===o.droppableId&&n.index===o.index},LA=function(n,o){return n==null&&o==null?!0:n==null||o==null?!1:n.draggableId===o.draggableId&&n.droppableId===o.droppableId},DA=function(n,o){if(n===o)return!0;var t=n.draggable.id===o.draggable.id&&n.draggable.droppableId===o.draggable.droppableId&&n.draggable.type===o.draggable.type&&n.draggable.index===o.draggable.index,i=n.droppable.id===o.droppable.id&&n.droppable.type===o.droppable.type;return t&&i},Xi=function(n,o){o()},Jl=function(n,o){return{draggableId:n.draggable.id,type:n.droppable.type,source:{droppableId:n.droppable.id,index:n.draggable.index},mode:o}},df=function(n,o,t,i){if(!n){t(i(o));return}var a=IA(t),s={announce:a};n(o,s),a.wasCalled()||t(i(o))},NA=function(r,n){var o=AA(),t=null,i=function(c,d){t&&Ke(),Xi("onBeforeCapture",function(){var g=r().onBeforeCapture;if(g){var y={draggableId:c,mode:d};g(y)}})},a=function(c,d){t&&Ke(),Xi("onBeforeDragStart",function(){var g=r().onBeforeDragStart;g&&g(Jl(c,d))})},s=function(c,d){t&&Ke();var g=Jl(c,d);t={mode:d,lastCritical:c,lastLocation:g.source,lastCombine:null},o.add(function(){Xi("onDragStart",function(){return df(r().onDragStart,g,n,yu.onDragStart)})})},u=function(c,d){var g=dm(d),y=Yc(d);t||Ke();var b=!DA(c,t.lastCritical);b&&(t.lastCritical=c);var p=!RA(t.lastLocation,g);p&&(t.lastLocation=g);var h=!LA(t.lastCombine,y);if(h&&(t.lastCombine=y),!(!b&&!p&&!h)){var w=dt({},Jl(c,t.mode),{combine:y,destination:g});o.add(function(){Xi("onDragUpdate",function(){return df(r().onDragUpdate,w,n,yu.onDragUpdate)})})}},l=function(){t||Ke(),o.flush()},f=function(c){t||Ke(),t=null,Xi("onDragEnd",function(){return df(r().onDragEnd,c,n,yu.onDragEnd)})},v=function(){if(t){var c=dt({},Jl(t.lastCritical,t.mode),{combine:null,destination:null,reason:"CANCEL"});f(c)}};return{beforeCapture:i,beforeStart:a,start:s,update:u,flush:l,drop:f,abort:v}},UA=function(r,n){var o=NA(r,n);return function(t){return function(i){return function(a){if(a.type==="BEFORE_INITIAL_CAPTURE"){o.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(a.type==="INITIAL_PUBLISH"){var s=a.payload.critical;o.beforeStart(s,a.payload.movementMode),i(a),o.start(s,a.payload.movementMode);return}if(a.type==="DROP_COMPLETE"){var u=a.payload.completed.result;o.flush(),i(a),o.drop(u);return}if(i(a),a.type==="FLUSH"){o.abort();return}var l=t.getState();l.phase==="DRAGGING"&&o.update(l.critical,l.impact)}}}},FA=function(r){return function(n){return function(o){if(o.type!=="DROP_ANIMATION_FINISHED"){n(o);return}var t=r.getState();t.phase!=="DROP_ANIMATING"&&Ke(),r.dispatch(vm({completed:t.completed}))}}},BA=function(r){var n=null,o=null;function t(){o&&(cancelAnimationFrame(o),o=null),n&&(n(),n=null)}return function(i){return function(a){if((a.type==="FLUSH"||a.type==="DROP_COMPLETE"||a.type==="DROP_ANIMATION_FINISHED")&&t(),i(a),a.type==="DROP_ANIMATE"){var s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=r.getState();l.phase==="DROP_ANIMATING"&&r.dispatch(q_())}};o=requestAnimationFrame(function(){o=null,n=bn(window,[s])})}}}},GA=function(r){return function(){return function(n){return function(o){(o.type==="DROP_COMPLETE"||o.type==="FLUSH"||o.type==="DROP_ANIMATE")&&r.stopPublishing(),n(o)}}}},zA=function(r){var n=!1;return function(){return function(o){return function(t){if(t.type==="INITIAL_PUBLISH"){n=!0,r.tryRecordFocus(t.payload.critical.draggable.id),o(t),r.tryRestoreFocusRecorded();return}if(o(t),!!n){if(t.type==="FLUSH"){n=!1,r.tryRestoreFocusRecorded();return}if(t.type==="DROP_COMPLETE"){n=!1;var i=t.payload.completed.result;i.combine&&r.tryShiftRecord(i.draggableId,i.combine.draggableId),r.tryRestoreFocusRecorded()}}}}}},VA=function(n){return n.type==="DROP_COMPLETE"||n.type==="DROP_ANIMATE"||n.type==="FLUSH"},WA=function(r){return function(n){return function(o){return function(t){if(VA(t)){r.stop(),o(t);return}if(t.type==="INITIAL_PUBLISH"){o(t);var i=n.getState();i.phase!=="DRAGGING"&&Ke(),r.start(i);return}o(t),r.scroll(n.getState())}}}},HA=function(r){return function(n){return function(o){if(n(o),o.type==="PUBLISH_WHILE_DRAGGING"){var t=r.getState();t.phase==="DROP_PENDING"&&(t.isWaiting||r.dispatch($_({reason:t.reason})))}}}},$A=t_,qA=function(r){var n=r.dimensionMarshal,o=r.focusMarshal,t=r.styleMarshal,i=r.getResponders,a=r.announce,s=r.autoScroller;return e_(nA,$A(AO(_A(t),GA(n),wA(n),CA,FA,BA,HA,WA(s),MA,zA(o),UA(i,a))))},ff=function(){return{additions:{},removals:{},modified:{}}};function XA(r){var n=r.registry,o=r.callbacks,t=ff(),i=null,a=function(){i||(o.collectionStarting(),i=requestAnimationFrame(function(){i=null;var v=t,m=v.additions,c=v.removals,d=v.modified,g=Object.keys(m).map(function(p){return n.draggable.getById(p).getDimension(br)}).sort(function(p,h){return p.descriptor.index-h.descriptor.index}),y=Object.keys(d).map(function(p){var h=n.droppable.getById(p),w=h.callbacks.getScrollWhileDragging();return{droppableId:p,scroll:w}}),b={additions:g,removals:Object.keys(c),modified:y};t=ff(),o.publish(b)}))},s=function(v){var m=v.descriptor.id;t.additions[m]=v,t.modified[v.descriptor.droppableId]=!0,t.removals[m]&&delete t.removals[m],a()},u=function(v){var m=v.descriptor;t.removals[m.id]=!0,t.modified[m.droppableId]=!0,t.additions[m.id]&&delete t.additions[m.id],a()},l=function(){i&&(cancelAnimationFrame(i),i=null,t=ff())};return{add:s,remove:u,stop:l}}var K_=function(r){var n=r.scrollHeight,o=r.scrollWidth,t=r.height,i=r.width,a=on({x:o,y:n},{x:i,y:t}),s={x:Math.max(0,a.x),y:Math.max(0,a.y)};return s},J_=function(){var r=document.documentElement;return r||Ke(),r},Z_=function(){var r=J_(),n=K_({scrollHeight:r.scrollHeight,scrollWidth:r.scrollWidth,width:r.clientWidth,height:r.clientHeight});return n},YA=function(){var r=Y_(),n=Z_(),o=r.y,t=r.x,i=J_(),a=i.clientWidth,s=i.clientHeight,u=t+a,l=o+s,f=Rn({top:o,left:t,right:u,bottom:l}),v={frame:f,scroll:{initial:r,current:r,max:n,diff:{value:br,displacement:br}}};return v},KA=function(r){var n=r.critical,o=r.scrollOptions,t=r.registry,i=YA(),a=i.scroll.current,s=n.droppable,u=t.droppable.getAllByType(s.type).map(function(m){return m.callbacks.getDimensionAndWatchScroll(a,o)}),l=t.draggable.getAllByType(n.draggable.type).map(function(m){return m.getDimension(a)}),f={draggables:C_(l),droppables:k_(u)},v={dimensions:f,critical:n,viewport:i};return v};function Kv(r,n,o){if(o.descriptor.id===n.id||o.descriptor.type!==n.type)return!1;var t=r.droppable.getById(o.descriptor.droppableId);return t.descriptor.mode==="virtual"}var JA=function(r,n){var o=null,t=XA({callbacks:{publish:n.publishWhileDragging,collectionStarting:n.collectionStarting},registry:r}),i=function(d,g){r.droppable.exists(d)||Ke(),o&&n.updateDroppableIsEnabled({id:d,isEnabled:g})},a=function(d,g){o&&(r.droppable.exists(d)||Ke(),n.updateDroppableIsCombineEnabled({id:d,isCombineEnabled:g}))},s=function(d,g){o&&(r.droppable.exists(d)||Ke(),n.updateDroppableScroll({id:d,newScroll:g}))},u=function(d,g){o&&r.droppable.getById(d).callbacks.scroll(g)},l=function(){if(o){t.stop();var d=o.critical.droppable;r.droppable.getAllByType(d.type).forEach(function(g){return g.callbacks.dragStopped()}),o.unsubscribe(),o=null}},f=function(d){o||Ke();var g=o.critical.draggable;d.type==="ADDITION"&&Kv(r,g,d.value)&&t.add(d.value),d.type==="REMOVAL"&&Kv(r,g,d.value)&&t.remove(d.value)},v=function(d){o&&Ke();var g=r.draggable.getById(d.draggableId),y=r.droppable.getById(g.descriptor.droppableId),b={draggable:g.descriptor,droppable:y.descriptor},p=r.subscribe(f);return o={critical:b,unsubscribe:p},KA({critical:b,registry:r,scrollOptions:d.scrollOptions})},m={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:u,updateDroppableScroll:s,startPublishing:v,stopPublishing:l};return m},Q_=function(r,n){return r.phase==="IDLE"?!0:r.phase!=="DROP_ANIMATING"||r.completed.result.draggableId===n?!1:r.completed.result.reason==="DROP"},ZA=function(r){window.scrollBy(r.x,r.y)},QA=vr(function(r){return Xc(r).filter(function(n){return!(!n.isEnabled||!n.frame)})}),eR=function(n,o){var t=es(QA(o),function(i){return i.frame||Ke(),N_(i.frame.pageMarginBox)(n)});return t},tR=function(r){var n=r.center,o=r.destination,t=r.droppables;if(o){var i=t[o];return i.frame?i:null}var a=eR(n,t);return a},Wo={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(n){return Math.pow(n,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},rR=function(r,n){var o=r[n.size]*Wo.startFromPercentage,t=r[n.size]*Wo.maxScrollAtPercentage,i={startScrollingFrom:o,maxScrollValueAt:t};return i},ex=function(r){var n=r.startOfRange,o=r.endOfRange,t=r.current,i=o-n;if(i===0)return 0;var a=t-n,s=a/i;return s},_m=1,nR=function(r,n){if(r>n.startScrollingFrom)return 0;if(r<=n.maxScrollValueAt)return Wo.maxPixelScroll;if(r===n.startScrollingFrom)return _m;var o=ex({startOfRange:n.maxScrollValueAt,endOfRange:n.startScrollingFrom,current:r}),t=1-o,i=Wo.maxPixelScroll*Wo.ease(t);return Math.ceil(i)},Jv=Wo.durationDampening.accelerateAt,Zv=Wo.durationDampening.stopDampeningAt,oR=function(r,n){var o=n,t=Zv,i=Date.now(),a=i-o;if(a>=Zv)return r;if(a<Jv)return _m;var s=ex({startOfRange:Jv,endOfRange:t,current:a}),u=r*Wo.ease(s);return Math.ceil(u)},Qv=function(r){var n=r.distanceToEdge,o=r.thresholds,t=r.dragStartTime,i=r.shouldUseTimeDampening,a=nR(n,o);return a===0?0:i?Math.max(oR(a,t),_m):a},e0=function(r){var n=r.container,o=r.distanceToEdges,t=r.dragStartTime,i=r.axis,a=r.shouldUseTimeDampening,s=rR(n,i),u=o[i.end]<o[i.start];return u?Qv({distanceToEdge:o[i.end],thresholds:s,dragStartTime:t,shouldUseTimeDampening:a}):-1*Qv({distanceToEdge:o[i.start],thresholds:s,dragStartTime:t,shouldUseTimeDampening:a})},sR=function(r){var n=r.container,o=r.subject,t=r.proposedScroll,i=o.height>n.height,a=o.width>n.width;return!a&&!i?t:a&&i?null:{x:a?0:t.x,y:i?0:t.y}},iR=S_(function(r){return r===0?0:r}),tx=function(r){var n=r.dragStartTime,o=r.container,t=r.subject,i=r.center,a=r.shouldUseTimeDampening,s={top:i.y-o.top,right:o.right-i.x,bottom:o.bottom-i.y,left:i.x-o.left},u=e0({container:o,distanceToEdges:s,dragStartTime:n,axis:fm,shouldUseTimeDampening:a}),l=e0({container:o,distanceToEdges:s,dragStartTime:n,axis:O_,shouldUseTimeDampening:a}),f=iR({x:l,y:u});if(Vo(f,br))return null;var v=sR({container:o,subject:t,proposedScroll:f});return v?Vo(v,br)?null:v:null},aR=S_(function(r){return r===0?0:r>0?1:-1}),xm=function(){var r=function(o,t){return o<0?o:o>t?o-t:0};return function(n){var o=n.current,t=n.max,i=n.change,a=kr(o,i),s={x:r(a.x,t.x),y:r(a.y,t.y)};return Vo(s,br)?null:s}}(),rx=function(n){var o=n.max,t=n.current,i=n.change,a={x:Math.max(t.x,o.x),y:Math.max(t.y,o.y)},s=aR(i),u=xm({max:a,current:t,change:s});return!u||s.x!==0&&u.x===0||s.y!==0&&u.y===0},jm=function(n,o){return rx({current:n.scroll.current,max:n.scroll.max,change:o})},lR=function(n,o){if(!jm(n,o))return null;var t=n.scroll.max,i=n.scroll.current;return xm({current:i,max:t,change:o})},Sm=function(n,o){var t=n.frame;return t?rx({current:t.scroll.current,max:t.scroll.max,change:o}):!1},uR=function(n,o){var t=n.frame;return!t||!Sm(n,o)?null:xm({current:t.scroll.current,max:t.scroll.max,change:o})},cR=function(r){var n=r.viewport,o=r.subject,t=r.center,i=r.dragStartTime,a=r.shouldUseTimeDampening,s=tx({dragStartTime:i,container:n.frame,subject:o,center:t,shouldUseTimeDampening:a});return s&&jm(n,s)?s:null},dR=function(r){var n=r.droppable,o=r.subject,t=r.center,i=r.dragStartTime,a=r.shouldUseTimeDampening,s=n.frame;if(!s)return null;var u=tx({dragStartTime:i,container:s.pageMarginBox,subject:o,center:t,shouldUseTimeDampening:a});return u&&Sm(n,u)?u:null},t0=function(r){var n=r.state,o=r.dragStartTime,t=r.shouldUseTimeDampening,i=r.scrollWindow,a=r.scrollDroppable,s=n.current.page.borderBoxCenter,u=n.dimensions.draggables[n.critical.draggable.id],l=u.page.marginBox;if(n.isWindowScrollAllowed){var f=n.viewport,v=cR({dragStartTime:o,viewport:f,subject:l,center:s,shouldUseTimeDampening:t});if(v){i(v);return}}var m=tR({center:s,destination:an(n.impact),droppables:n.dimensions.droppables});if(m){var c=dR({dragStartTime:o,droppable:m,subject:l,center:s,shouldUseTimeDampening:t});c&&a(m.descriptor.id,c)}},fR=function(r){var n=r.scrollWindow,o=r.scrollDroppable,t=za(n),i=za(o),a=null,s=function(v){a||Ke();var m=a,c=m.shouldUseTimeDampening,d=m.dragStartTime;t0({state:v,scrollWindow:t,scrollDroppable:i,dragStartTime:d,shouldUseTimeDampening:c})},u=function(v){a&&Ke();var m=Date.now(),c=!1,d=function(){c=!0};t0({state:v,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:d,scrollDroppable:d}),a={dragStartTime:m,shouldUseTimeDampening:c},c&&s(v)},l=function(){a&&(t.cancel(),i.cancel(),a=null)};return{start:u,stop:l,scroll:s}},hR=function(r){var n=r.move,o=r.scrollDroppable,t=r.scrollWindow,i=function(f,v){var m=kr(f.current.client.selection,v);n({client:m})},a=function(f,v){if(!Sm(f,v))return v;var m=uR(f,v);if(!m)return o(f.descriptor.id,v),null;var c=on(v,m);o(f.descriptor.id,c);var d=on(v,c);return d},s=function(f,v,m){if(!f||!jm(v,m))return m;var c=lR(v,m);if(!c)return t(m),null;var d=on(m,c);t(d);var g=on(m,d);return g},u=function(f){var v=f.scrollJumpRequest;if(v){var m=an(f.impact);m||Ke();var c=a(f.dimensions.droppables[m],v);if(c){var d=f.viewport,g=s(f.isWindowScrollAllowed,d,c);g&&i(f,g)}}};return u},pR=function(r){var n=r.scrollDroppable,o=r.scrollWindow,t=r.move,i=fR({scrollWindow:o,scrollDroppable:n}),a=hR({move:t,scrollWindow:o,scrollDroppable:n}),s=function(f){if(f.phase==="DRAGGING"){if(f.movementMode==="FLUID"){i.scroll(f);return}f.scrollJumpRequest&&a(f)}},u={scroll:s,start:i.start,stop:i.stop};return u},yi="data-rbd",vi=function(){var r=yi+"-drag-handle";return{base:r,draggableId:r+"-draggable-id",contextId:r+"-context-id"}}(),Vh=function(){var r=yi+"-draggable";return{base:r,contextId:r+"-context-id",id:r+"-id"}}(),mR=function(){var r=yi+"-droppable";return{base:r,contextId:r+"-context-id",id:r+"-id"}}(),r0={contextId:yi+"-scroll-container-context-id"},gR=function(n){return function(o){return"["+o+'="'+n+'"]'}},Yi=function(n,o){return n.map(function(t){var i=t.styles[o];return i?t.selector+" { "+i+" }":""}).join(" ")},yR="pointer-events: none;",vR=function(r){var n=gR(r),o=function(){var u=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:n(vi.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:u,dragging:yR,dropAnimating:u}}}(),t=function(){var u=`
      transition: `+ba.outOfTheWay+`;
    `;return{selector:n(Vh.contextId),styles:{dragging:u,dropAnimating:u,userCancel:u}}}(),i={selector:n(mR.contextId),styles:{always:"overflow-anchor: none;"}},a={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},s=[t,o,i,a];return{always:Yi(s,"always"),resting:Yi(s,"resting"),dragging:Yi(s,"dragging"),dropAnimating:Yi(s,"dropAnimating"),userCancel:Yi(s,"userCancel")}},ln=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?je.useLayoutEffect:je.useEffect,hf=function(){var n=document.querySelector("head");return n||Ke(),n},n0=function(n){var o=document.createElement("style");return n&&o.setAttribute("nonce",n),o.type="text/css",o};function bR(r,n){var o=St(function(){return vR(r)},[r]),t=je.useRef(null),i=je.useRef(null),a=lt(vr(function(m){var c=i.current;c||Ke(),c.textContent=m}),[]),s=lt(function(m){var c=t.current;c||Ke(),c.textContent=m},[]);ln(function(){!t.current&&!i.current||Ke();var m=n0(n),c=n0(n);return t.current=m,i.current=c,m.setAttribute(yi+"-always",r),c.setAttribute(yi+"-dynamic",r),hf().appendChild(m),hf().appendChild(c),s(o.always),a(o.resting),function(){var d=function(y){var b=y.current;b||Ke(),hf().removeChild(b),y.current=null};d(t),d(i)}},[n,s,a,o.always,o.resting,r]);var u=lt(function(){return a(o.dragging)},[a,o.dragging]),l=lt(function(m){if(m==="DROP"){a(o.dropAnimating);return}a(o.userCancel)},[a,o.dropAnimating,o.userCancel]),f=lt(function(){i.current&&a(o.resting)},[a,o.resting]),v=St(function(){return{dragging:u,dropping:l,resting:f}},[u,l,f]);return v}var nx=function(r){return r&&r.ownerDocument?r.ownerDocument.defaultView:window};function Zc(r){return r instanceof nx(r).HTMLElement}function wR(r,n){var o="["+vi.contextId+'="'+r+'"]',t=E_(document.querySelectorAll(o));if(!t.length)return null;var i=es(t,function(a){return a.getAttribute(vi.draggableId)===n});return!i||!Zc(i)?null:i}function _R(r){var n=je.useRef({}),o=je.useRef(null),t=je.useRef(null),i=je.useRef(!1),a=lt(function(c,d){var g={id:c,focus:d};return n.current[c]=g,function(){var b=n.current,p=b[c];p!==g&&delete b[c]}},[]),s=lt(function(c){var d=wR(r,c);d&&d!==document.activeElement&&d.focus()},[r]),u=lt(function(c,d){o.current===c&&(o.current=d)},[]),l=lt(function(){t.current||i.current&&(t.current=requestAnimationFrame(function(){t.current=null;var c=o.current;c&&s(c)}))},[s]),f=lt(function(c){o.current=null;var d=document.activeElement;d&&d.getAttribute(vi.draggableId)===c&&(o.current=c)},[]);ln(function(){return i.current=!0,function(){i.current=!1;var c=t.current;c&&cancelAnimationFrame(c)}},[]);var v=St(function(){return{register:a,tryRecordFocus:f,tryRestoreFocusRecorded:l,tryShiftRecord:u}},[a,f,l,u]);return v}function xR(){var r={draggables:{},droppables:{}},n=[];function o(m){return n.push(m),function(){var d=n.indexOf(m);d!==-1&&n.splice(d,1)}}function t(m){n.length&&n.forEach(function(c){return c(m)})}function i(m){return r.draggables[m]||null}function a(m){var c=i(m);return c||Ke(),c}var s={register:function(c){r.draggables[c.descriptor.id]=c,t({type:"ADDITION",value:c})},update:function(c,d){var g=r.draggables[d.descriptor.id];g&&g.uniqueId===c.uniqueId&&(delete r.draggables[d.descriptor.id],r.draggables[c.descriptor.id]=c)},unregister:function(c){var d=c.descriptor.id,g=i(d);g&&c.uniqueId===g.uniqueId&&(delete r.draggables[d],t({type:"REMOVAL",value:c}))},getById:a,findById:i,exists:function(c){return!!i(c)},getAllByType:function(c){return Zu(r.draggables).filter(function(d){return d.descriptor.type===c})}};function u(m){return r.droppables[m]||null}function l(m){var c=u(m);return c||Ke(),c}var f={register:function(c){r.droppables[c.descriptor.id]=c},unregister:function(c){var d=u(c.descriptor.id);d&&c.uniqueId===d.uniqueId&&delete r.droppables[c.descriptor.id]},getById:l,findById:u,exists:function(c){return!!u(c)},getAllByType:function(c){return Zu(r.droppables).filter(function(d){return d.descriptor.type===c})}};function v(){r.draggables={},r.droppables={},n.length=0}return{draggable:s,droppable:f,subscribe:o,clean:v}}function jR(){var r=St(xR,[]);return je.useEffect(function(){return function(){requestAnimationFrame(r.clean)}},[r]),r}var Em=Me.createContext(null),ec=function(){var r=document.body;return r||Ke(),r},SR={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},ER=function(n){return"rbd-announcement-"+n};function kR(r){var n=St(function(){return ER(r)},[r]),o=je.useRef(null);je.useEffect(function(){var a=document.createElement("div");return o.current=a,a.id=n,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),dt(a.style,SR),ec().appendChild(a),function(){setTimeout(function(){var l=ec();l.contains(a)&&l.removeChild(a),a===o.current&&(o.current=null)})}},[n]);var t=lt(function(i){var a=o.current;if(a){a.textContent=i;return}},[]);return t}var CR=0,TR={separator:"::"};function km(r,n){return n===void 0&&(n=TR),St(function(){return""+r+n.separator+CR++},[n.separator,r])}function PR(r){var n=r.contextId,o=r.uniqueId;return"rbd-hidden-text-"+n+"-"+o}function OR(r){var n=r.contextId,o=r.text,t=km("hidden-text",{separator:"-"}),i=St(function(){return PR({contextId:n,uniqueId:t})},[t,n]);return je.useEffect(function(){var s=document.createElement("div");return s.id=i,s.textContent=o,s.style.display="none",ec().appendChild(s),function(){var l=ec();l.contains(s)&&l.removeChild(s)}},[i,o]),i}var Qc=Me.createContext(null);function ox(r){var n=je.useRef(r);return je.useEffect(function(){n.current=r}),n}function MR(){var r=null;function n(){return!!r}function o(s){return s===r}function t(s){r&&Ke();var u={abandon:s};return r=u,u}function i(){r||Ke(),r=null}function a(){r&&(r.abandon(),i())}return{isClaimed:n,isActive:o,claim:t,release:i,tryAbandon:a}}var IR=9,AR=13,Cm=27,sx=32,RR=33,LR=34,DR=35,NR=36,UR=37,FR=38,BR=39,GR=40,Zl,zR=(Zl={},Zl[AR]=!0,Zl[IR]=!0,Zl),ix=function(r){zR[r.keyCode]&&r.preventDefault()},ed=function(){var r="visibilitychange";if(typeof document>"u")return r;var n=[r,"ms"+r,"webkit"+r,"moz"+r,"o"+r],o=es(n,function(t){return"on"+t in document});return o||r}(),ax=0,o0=5;function VR(r,n){return Math.abs(n.x-r.x)>=o0||Math.abs(n.y-r.y)>=o0}var s0={type:"IDLE"};function WR(r){var n=r.cancel,o=r.completed,t=r.getPhase,i=r.setPhase;return[{eventName:"mousemove",fn:function(s){var u=s.button,l=s.clientX,f=s.clientY;if(u===ax){var v={x:l,y:f},m=t();if(m.type==="DRAGGING"){s.preventDefault(),m.actions.move(v);return}m.type!=="PENDING"&&Ke();var c=m.point;if(VR(c,v)){s.preventDefault();var d=m.actions.fluidLift(v);i({type:"DRAGGING",actions:d})}}}},{eventName:"mouseup",fn:function(s){var u=t();if(u.type!=="DRAGGING"){n();return}s.preventDefault(),u.actions.drop({shouldBlockNextClick:!0}),o()}},{eventName:"mousedown",fn:function(s){t().type==="DRAGGING"&&s.preventDefault(),n()}},{eventName:"keydown",fn:function(s){var u=t();if(u.type==="PENDING"){n();return}if(s.keyCode===Cm){s.preventDefault(),n();return}ix(s)}},{eventName:"resize",fn:n},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){t().type==="PENDING"&&n()}},{eventName:"webkitmouseforcedown",fn:function(s){var u=t();if(u.type==="IDLE"&&Ke(),u.actions.shouldRespectForcePress()){n();return}s.preventDefault()}},{eventName:ed,fn:n}]}function HR(r){var n=je.useRef(s0),o=je.useRef(zo),t=St(function(){return{eventName:"mousedown",fn:function(m){if(!m.defaultPrevented&&m.button===ax&&!(m.ctrlKey||m.metaKey||m.shiftKey||m.altKey)){var c=r.findClosestDraggableId(m);if(c){var d=r.tryGetLock(c,s,{sourceEvent:m});if(d){m.preventDefault();var g={x:m.clientX,y:m.clientY};o.current(),f(d,g)}}}}}},[r]),i=St(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(m){if(!m.defaultPrevented){var c=r.findClosestDraggableId(m);if(c){var d=r.findOptionsForDraggable(c);d&&(d.shouldRespectForcePress||r.canGetLock(c)&&m.preventDefault())}}}}},[r]),a=lt(function(){var m={passive:!1,capture:!0};o.current=bn(window,[i,t],m)},[i,t]),s=lt(function(){var v=n.current;v.type!=="IDLE"&&(n.current=s0,o.current(),a())},[a]),u=lt(function(){var v=n.current;s(),v.type==="DRAGGING"&&v.actions.cancel({shouldBlockNextClick:!0}),v.type==="PENDING"&&v.actions.abort()},[s]),l=lt(function(){var m={capture:!0,passive:!1},c=WR({cancel:u,completed:s,getPhase:function(){return n.current},setPhase:function(g){n.current=g}});o.current=bn(window,c,m)},[u,s]),f=lt(function(m,c){n.current.type!=="IDLE"&&Ke(),n.current={type:"PENDING",point:c,actions:m},l()},[l]);ln(function(){return a(),function(){o.current()}},[a])}var Ds;function $R(){}var qR=(Ds={},Ds[LR]=!0,Ds[RR]=!0,Ds[NR]=!0,Ds[DR]=!0,Ds);function XR(r,n){function o(){n(),r.cancel()}function t(){n(),r.drop()}return[{eventName:"keydown",fn:function(a){if(a.keyCode===Cm){a.preventDefault(),o();return}if(a.keyCode===sx){a.preventDefault(),t();return}if(a.keyCode===GR){a.preventDefault(),r.moveDown();return}if(a.keyCode===FR){a.preventDefault(),r.moveUp();return}if(a.keyCode===BR){a.preventDefault(),r.moveRight();return}if(a.keyCode===UR){a.preventDefault(),r.moveLeft();return}if(qR[a.keyCode]){a.preventDefault();return}ix(a)}},{eventName:"mousedown",fn:o},{eventName:"mouseup",fn:o},{eventName:"click",fn:o},{eventName:"touchstart",fn:o},{eventName:"resize",fn:o},{eventName:"wheel",fn:o,options:{passive:!0}},{eventName:ed,fn:o}]}function YR(r){var n=je.useRef($R),o=St(function(){return{eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==sx)return;var s=r.findClosestDraggableId(a);if(!s)return;var u=r.tryGetLock(s,v,{sourceEvent:a});if(!u)return;a.preventDefault();var l=!0,f=u.snapLift();n.current();function v(){l||Ke(),l=!1,n.current(),t()}n.current=bn(window,XR(f,v),{capture:!0,passive:!1})}}},[r]),t=lt(function(){var a={passive:!1,capture:!0};n.current=bn(window,[o],a)},[o]);ln(function(){return t(),function(){n.current()}},[t])}var pf={type:"IDLE"},KR=120,JR=.15;function ZR(r){var n=r.cancel,o=r.getPhase;return[{eventName:"orientationchange",fn:n},{eventName:"resize",fn:n},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(o().type!=="DRAGGING"){n();return}i.keyCode===Cm&&i.preventDefault(),n()}},{eventName:ed,fn:n}]}function QR(r){var n=r.cancel,o=r.completed,t=r.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(a){var s=t();if(s.type!=="DRAGGING"){n();return}s.hasMoved=!0;var u=a.touches[0],l=u.clientX,f=u.clientY,v={x:l,y:f};a.preventDefault(),s.actions.move(v)}},{eventName:"touchend",fn:function(a){var s=t();if(s.type!=="DRAGGING"){n();return}a.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),o()}},{eventName:"touchcancel",fn:function(a){if(t().type!=="DRAGGING"){n();return}a.preventDefault(),n()}},{eventName:"touchforcechange",fn:function(a){var s=t();s.type==="IDLE"&&Ke();var u=a.touches[0];if(u){var l=u.force>=JR;if(l){var f=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){f&&n();return}if(f){if(s.hasMoved){a.preventDefault();return}n();return}a.preventDefault()}}}},{eventName:ed,fn:n}]}function e3(r){var n=je.useRef(pf),o=je.useRef(zo),t=lt(function(){return n.current},[]),i=lt(function(d){n.current=d},[]),a=St(function(){return{eventName:"touchstart",fn:function(d){if(!d.defaultPrevented){var g=r.findClosestDraggableId(d);if(g){var y=r.tryGetLock(g,u,{sourceEvent:d});if(y){var b=d.touches[0],p=b.clientX,h=b.clientY,w={x:p,y:h};o.current(),m(y,w)}}}}}},[r]),s=lt(function(){var d={capture:!0,passive:!1};o.current=bn(window,[a],d)},[a]),u=lt(function(){var c=n.current;c.type!=="IDLE"&&(c.type==="PENDING"&&clearTimeout(c.longPressTimerId),i(pf),o.current(),s())},[s,i]),l=lt(function(){var c=n.current;u(),c.type==="DRAGGING"&&c.actions.cancel({shouldBlockNextClick:!0}),c.type==="PENDING"&&c.actions.abort()},[u]),f=lt(function(){var d={capture:!0,passive:!1},g={cancel:l,completed:u,getPhase:t},y=bn(window,QR(g),d),b=bn(window,ZR(g),d);o.current=function(){y(),b()}},[l,t,u]),v=lt(function(){var d=t();d.type!=="PENDING"&&Ke();var g=d.actions.fluidLift(d.point);i({type:"DRAGGING",actions:g,hasMoved:!1})},[t,i]),m=lt(function(d,g){t().type!=="IDLE"&&Ke();var y=setTimeout(v,KR);i({type:"PENDING",point:g,actions:d,longPressTimerId:y}),f()},[f,t,i,v]);ln(function(){return s(),function(){o.current();var g=t();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),i(pf))}},[t,s,i]),ln(function(){var d=bn(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return d},[])}var t3={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function lx(r,n){if(n==null)return!1;var o=!!t3[n.tagName.toLowerCase()];if(o)return!0;var t=n.getAttribute("contenteditable");return t==="true"||t===""?!0:n===r?!1:lx(r,n.parentElement)}function r3(r,n){var o=n.target;return Zc(o)?lx(r,o):!1}var n3=function(r){return Rn(r.getBoundingClientRect()).center};function o3(r){return r instanceof nx(r).Element}var s3=function(){var r="matches";if(typeof document>"u")return r;var n=[r,"msMatchesSelector","webkitMatchesSelector"],o=es(n,function(t){return t in Element.prototype});return o||r}();function ux(r,n){return r==null?null:r[s3](n)?r:ux(r.parentElement,n)}function i3(r,n){return r.closest?r.closest(n):ux(r,n)}function a3(r){return"["+vi.contextId+'="'+r+'"]'}function l3(r,n){var o=n.target;if(!o3(o))return null;var t=a3(r),i=i3(o,t);return!i||!Zc(i)?null:i}function u3(r,n){var o=l3(r,n);return o?o.getAttribute(vi.draggableId):null}function c3(r,n){var o="["+Vh.contextId+'="'+r+'"]',t=E_(document.querySelectorAll(o)),i=es(t,function(a){return a.getAttribute(Vh.id)===n});return!i||!Zc(i)?null:i}function d3(r){r.preventDefault()}function Ql(r){var n=r.expected,o=r.phase,t=r.isLockActive;return r.shouldWarn,!(!t()||n!==o)}function cx(r){var n=r.lockAPI,o=r.store,t=r.registry,i=r.draggableId;if(n.isClaimed())return!1;var a=t.draggable.findById(i);return!(!a||!a.options.isEnabled||!Q_(o.getState(),i))}function f3(r){var n=r.lockAPI,o=r.contextId,t=r.store,i=r.registry,a=r.draggableId,s=r.forceSensorStop,u=r.sourceEvent,l=cx({lockAPI:n,store:t,registry:i,draggableId:a});if(!l)return null;var f=i.draggable.getById(a),v=c3(o,f.descriptor.id);if(!v||u&&!f.options.canDragInteractiveElements&&r3(v,u))return null;var m=n.claim(s||zo),c="PRE_DRAG";function d(){return f.options.shouldRespectForcePress}function g(){return n.isActive(m)}function y(E,S){Ql({expected:E,phase:c,isLockActive:g,shouldWarn:!0})&&t.dispatch(S())}var b=y.bind(null,"DRAGGING");function p(E){function S(){n.release(),c="COMPLETED"}c!=="PRE_DRAG"&&(S(),c!=="PRE_DRAG"&&Ke()),t.dispatch(sA(E.liftActionArgs)),c="DRAGGING";function C(M,A){if(A===void 0&&(A={shouldBlockNextClick:!1}),E.cleanup(),A.shouldBlockNextClick){var P=bn(window,[{eventName:"click",fn:d3,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(P)}S(),t.dispatch($_({reason:M}))}return dt({isActive:function(){return Ql({expected:"DRAGGING",phase:c,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:d,drop:function(A){return C("DROP",A)},cancel:function(A){return C("CANCEL",A)}},E.actions)}function h(E){var S=za(function(M){b(function(){return H_({client:M})})}),C=p({liftActionArgs:{id:a,clientSelection:E,movementMode:"FLUID"},cleanup:function(){return S.cancel()},actions:{move:S}});return dt({},C,{move:S})}function w(){var E={moveUp:function(){return b(pA)},moveRight:function(){return b(gA)},moveDown:function(){return b(mA)},moveLeft:function(){return b(yA)}};return p({liftActionArgs:{id:a,clientSelection:n3(v),movementMode:"SNAP"},cleanup:zo,actions:E})}function _(){var E=Ql({expected:"PRE_DRAG",phase:c,isLockActive:g,shouldWarn:!0});E&&n.release()}var j={isActive:function(){return Ql({expected:"PRE_DRAG",phase:c,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:d,fluidLift:h,snapLift:w,abort:_};return j}var h3=[HR,YR,e3];function p3(r){var n=r.contextId,o=r.store,t=r.registry,i=r.customSensors,a=r.enableDefaultSensors,s=[].concat(a?h3:[],i||[]),u=je.useState(function(){return MR()})[0],l=lt(function(h,w){h.isDragging&&!w.isDragging&&u.tryAbandon()},[u]);ln(function(){var h=o.getState(),w=o.subscribe(function(){var _=o.getState();l(h,_),h=_});return w},[u,o,l]),ln(function(){return u.tryAbandon},[u.tryAbandon]);for(var f=lt(function(p){return cx({lockAPI:u,registry:t,store:o,draggableId:p})},[u,t,o]),v=lt(function(p,h,w){return f3({lockAPI:u,registry:t,contextId:n,store:o,draggableId:p,forceSensorStop:h,sourceEvent:w&&w.sourceEvent?w.sourceEvent:null})},[n,u,t,o]),m=lt(function(p){return u3(n,p)},[n]),c=lt(function(p){var h=t.draggable.findById(p);return h?h.options:null},[t.draggable]),d=lt(function(){u.isClaimed()&&(u.tryAbandon(),o.getState().phase!=="IDLE"&&o.dispatch(ym()))},[u,o]),g=lt(u.isClaimed,[u]),y=St(function(){return{canGetLock:f,tryGetLock:v,findClosestDraggableId:m,findOptionsForDraggable:c,tryReleaseLock:d,isLockClaimed:g}},[f,v,m,c,d,g]),b=0;b<s.length;b++)s[b](y)}var m3=function(n){return{onBeforeCapture:n.onBeforeCapture,onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragEnd:n.onDragEnd,onDragUpdate:n.onDragUpdate}};function Ki(r){return r.current||Ke(),r.current}function g3(r){var n=r.contextId,o=r.setCallbacks,t=r.sensors,i=r.nonce,a=r.dragHandleUsageInstructions,s=je.useRef(null),u=ox(r),l=lt(function(){return m3(u.current)},[u]),f=kR(n),v=OR({contextId:n,text:a}),m=bR(n,i),c=lt(function(M){Ki(s).dispatch(M)},[]),d=St(function(){return Tv({publishWhileDragging:aA,updateDroppableScroll:uA,updateDroppableIsEnabled:cA,updateDroppableIsCombineEnabled:dA,collectionStarting:lA},c)},[c]),g=jR(),y=St(function(){return JA(g,d)},[g,d]),b=St(function(){return pR(dt({scrollWindow:ZA,scrollDroppable:y.scrollDroppable},Tv({move:H_},c)))},[y.scrollDroppable,c]),p=_R(n),h=St(function(){return qA({announce:f,autoScroller:b,dimensionMarshal:y,focusMarshal:p,getResponders:l,styleMarshal:m})},[f,b,y,p,l,m]);s.current=h;var w=lt(function(){var M=Ki(s),A=M.getState();A.phase!=="IDLE"&&M.dispatch(ym())},[]),_=lt(function(){var M=Ki(s).getState();return M.isDragging||M.phase==="DROP_ANIMATING"},[]),j=St(function(){return{isDragging:_,tryAbort:w}},[_,w]);o(j);var E=lt(function(M){return Q_(Ki(s).getState(),M)},[]),S=lt(function(){return ls(Ki(s).getState())},[]),C=St(function(){return{marshal:y,focus:p,contextId:n,canLift:E,isMovementAllowed:S,dragHandleUsageInstructionsId:v,registry:g}},[n,y,v,p,E,S,g]);return p3({contextId:n,store:h,registry:g,customSensors:t,enableDefaultSensors:r.enableDefaultSensors!==!1}),je.useEffect(function(){return w},[w]),Me.createElement(Qc.Provider,{value:C},Me.createElement(UO,{context:Em,store:h},r.children))}var y3=0;function v3(){return St(function(){return""+y3++},[])}function i0(r){var n=v3(),o=r.dragHandleUsageInstructions||yu.dragHandleUsageInstructions;return Me.createElement(YM,null,function(t){return Me.createElement(g3,{nonce:r.nonce,contextId:n,setCallbacks:t,dragHandleUsageInstructions:o,enableDefaultSensors:r.enableDefaultSensors,sensors:r.sensors,onBeforeCapture:r.onBeforeCapture,onBeforeDragStart:r.onBeforeDragStart,onDragStart:r.onDragStart,onDragUpdate:r.onDragUpdate,onDragEnd:r.onDragEnd},r.children)})}var dx=function(n){return function(o){return n===o}},b3=dx("scroll"),w3=dx("auto"),a0=function(n,o){return o(n.overflowX)||o(n.overflowY)},_3=function(n){var o=window.getComputedStyle(n),t={overflowX:o.overflowX,overflowY:o.overflowY};return a0(t,b3)||a0(t,w3)},x3=function(){return!1},j3=function r(n){return n==null?null:n===document.body?x3()?n:null:n===document.documentElement?null:_3(n)?n:r(n.parentElement)},Wh=function(r){return{x:r.scrollLeft,y:r.scrollTop}},S3=function r(n){if(!n)return!1;var o=window.getComputedStyle(n);return o.position==="fixed"?!0:r(n.parentElement)},E3=function(r){var n=j3(r),o=S3(r);return{closestScrollable:n,isFixedOnPage:o}},k3=function(r){var n=r.descriptor,o=r.isEnabled,t=r.isCombineEnabled,i=r.isFixedOnPage,a=r.direction,s=r.client,u=r.page,l=r.closest,f=function(){if(!l)return null;var d=l.scrollSize,g=l.client,y=K_({scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth,height:g.paddingBox.height,width:g.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:g,scrollSize:d,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:y,diff:{value:br,displacement:br}}}}(),v=a==="vertical"?fm:O_,m=gi({page:u,withPlaceholder:null,axis:v,frame:f}),c={descriptor:n,isCombineEnabled:t,isFixedOnPage:i,axis:v,isEnabled:o,client:s,page:u,frame:f,subject:m};return c},C3=function(n,o){var t=w_(n);if(!o||n!==o)return t;var i=t.paddingBox.top-o.scrollTop,a=t.paddingBox.left-o.scrollLeft,s=i+o.scrollHeight,u=a+o.scrollWidth,l={top:i,right:u,bottom:s,left:a},f=am(l,t.border),v=lm({borderBox:f,margin:t.margin,border:t.border,padding:t.padding});return v},T3=function(r){var n=r.ref,o=r.descriptor,t=r.env,i=r.windowScroll,a=r.direction,s=r.isDropDisabled,u=r.isCombineEnabled,l=r.shouldClipSubject,f=t.closestScrollable,v=C3(n,f),m=Yu(v,i),c=function(){if(!f)return null;var g=w_(f),y={scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth};return{client:g,page:Yu(g,i),scroll:Wh(f),scrollSize:y,shouldClipSubject:l}}(),d=k3({descriptor:o,isEnabled:!s,isCombineEnabled:u,isFixedOnPage:t.isFixedOnPage,direction:a,client:v,page:m,closest:c});return d},P3={passive:!1},O3={passive:!0},l0=function(r){return r.shouldPublishImmediately?P3:O3};function tc(r){var n=je.useContext(r);return n||Ke(),n}var eu=function(n){return n&&n.env.closestScrollable||null};function M3(r){var n=je.useRef(null),o=tc(Qc),t=km("droppable"),i=o.registry,a=o.marshal,s=ox(r),u=St(function(){return{id:r.droppableId,type:r.type,mode:r.mode}},[r.droppableId,r.mode,r.type]),l=je.useRef(u),f=St(function(){return vr(function(_,j){n.current||Ke();var E={x:_,y:j};a.updateDroppableScroll(u.id,E)})},[u.id,a]),v=lt(function(){var _=n.current;return!_||!_.env.closestScrollable?br:Wh(_.env.closestScrollable)},[]),m=lt(function(){var _=v();f(_.x,_.y)},[v,f]),c=St(function(){return za(m)},[m]),d=lt(function(){var _=n.current,j=eu(_);_&&j||Ke();var E=_.scrollOptions;if(E.shouldPublishImmediately){m();return}c()},[c,m]),g=lt(function(_,j){n.current&&Ke();var E=s.current,S=E.getDroppableRef();S||Ke();var C=E3(S),M={ref:S,descriptor:u,env:C,scrollOptions:j};n.current=M;var A=T3({ref:S,descriptor:u,env:C,windowScroll:_,direction:E.direction,isDropDisabled:E.isDropDisabled,isCombineEnabled:E.isCombineEnabled,shouldClipSubject:!E.ignoreContainerClipping}),P=C.closestScrollable;return P&&(P.setAttribute(r0.contextId,o.contextId),P.addEventListener("scroll",d,l0(M.scrollOptions))),A},[o.contextId,u,d,s]),y=lt(function(){var _=n.current,j=eu(_);return _&&j||Ke(),Wh(j)},[]),b=lt(function(){var _=n.current;_||Ke();var j=eu(_);n.current=null,j&&(c.cancel(),j.removeAttribute(r0.contextId),j.removeEventListener("scroll",d,l0(_.scrollOptions)))},[d,c]),p=lt(function(_){var j=n.current;j||Ke();var E=eu(j);E||Ke(),E.scrollTop+=_.y,E.scrollLeft+=_.x},[]),h=St(function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:y,dragStopped:b,scroll:p}},[b,g,y,p]),w=St(function(){return{uniqueId:t,descriptor:u,callbacks:h}},[h,u,t]);ln(function(){return l.current=w.descriptor,i.droppable.register(w),function(){n.current&&b(),i.droppable.unregister(w)}},[h,u,b,w,a,i.droppable]),ln(function(){n.current&&a.updateDroppableIsEnabled(l.current.id,!r.isDropDisabled)},[r.isDropDisabled,a]),ln(function(){n.current&&a.updateDroppableIsCombineEnabled(l.current.id,r.isCombineEnabled)},[r.isCombineEnabled,a])}function mf(){}var u0={width:0,height:0,margin:tI},I3=function(n){var o=n.isAnimatingOpenOnMount,t=n.placeholder,i=n.animate;return o||i==="close"?u0:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin}},A3=function(n){var o=n.isAnimatingOpenOnMount,t=n.placeholder,i=n.animate,a=I3({isAnimatingOpenOnMount:o,placeholder:t,animate:i});return{display:t.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?ba.placeholder:null}};function R3(r){var n=je.useRef(null),o=lt(function(){n.current&&(clearTimeout(n.current),n.current=null)},[]),t=r.animate,i=r.onTransitionEnd,a=r.onClose,s=r.contextId,u=je.useState(r.animate==="open"),l=u[0],f=u[1];je.useEffect(function(){return l?t!=="open"?(o(),f(!1),mf):n.current?mf:(n.current=setTimeout(function(){n.current=null,f(!1)}),o):mf},[t,l,o]);var v=lt(function(c){c.propertyName==="height"&&(i(),t==="close"&&a())},[t,a,i]),m=A3({isAnimatingOpenOnMount:l,animate:r.animate,placeholder:r.placeholder});return Me.createElement(r.placeholder.tagName,{style:m,"data-rbd-placeholder-context-id":s,onTransitionEnd:v,ref:r.innerRef})}var L3=Me.memo(R3),Tm=Me.createContext(null),D3=function(r){Qw(n,r);function n(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=r.call.apply(r,[this].concat(a))||this,t.state={isVisible:!!t.props.on,data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){t.state.animate==="close"&&t.setState({isVisible:!1})},t}n.getDerivedStateFromProps=function(i,a){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:a.isVisible?{isVisible:!0,data:a.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var o=n.prototype;return o.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},n}(Me.PureComponent),c0={dragging:5e3,dropAnimating:4500},N3=function(n,o){return o?ba.drop(o.duration):n?ba.snap:ba.fluid},U3=function(n,o){return n?o?$a.opacity.drop:$a.opacity.combining:null},F3=function(n){return n.forceShouldAnimate!=null?n.forceShouldAnimate:n.mode==="SNAP"};function B3(r){var n=r.dimension,o=n.client,t=r.offset,i=r.combineWith,a=r.dropping,s=!!i,u=F3(r),l=!!a,f=l?Gh.drop(t,s):Gh.moveTo(t),v={position:"fixed",top:o.marginBox.top,left:o.marginBox.left,boxSizing:"border-box",width:o.borderBox.width,height:o.borderBox.height,transition:N3(u,a),transform:f,opacity:U3(s,l),zIndex:l?c0.dropAnimating:c0.dragging,pointerEvents:"none"};return v}function G3(r){return{transform:Gh.moveTo(r.offset),transition:r.shouldAnimateDisplacement?null:"none"}}function z3(r){return r.type==="DRAGGING"?B3(r):G3(r)}function V3(r,n,o){o===void 0&&(o=br);var t=window.getComputedStyle(n),i=n.getBoundingClientRect(),a=b_(i,t),s=Yu(a,o),u={client:a,tagName:n.tagName.toLowerCase(),display:t.display},l={x:a.marginBox.width,y:a.marginBox.height},f={descriptor:r,placeholder:u,displaceBy:l,client:a,page:s};return f}function W3(r){var n=km("draggable"),o=r.descriptor,t=r.registry,i=r.getDraggableRef,a=r.canDragInteractiveElements,s=r.shouldRespectForcePress,u=r.isEnabled,l=St(function(){return{canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:u}},[a,u,s]),f=lt(function(d){var g=i();return g||Ke(),V3(o,g,d)},[o,i]),v=St(function(){return{uniqueId:n,descriptor:o,options:l,getDimension:f}},[o,f,l,n]),m=je.useRef(v),c=je.useRef(!0);ln(function(){return t.draggable.register(m.current),function(){return t.draggable.unregister(m.current)}},[t.draggable]),ln(function(){if(c.current){c.current=!1;return}var d=m.current;m.current=v,t.draggable.update(v,d)},[v,t.draggable])}function H3(r){r.preventDefault()}function $3(r){var n=je.useRef(null),o=lt(function(M){n.current=M},[]),t=lt(function(){return n.current},[]),i=tc(Qc),a=i.contextId,s=i.dragHandleUsageInstructionsId,u=i.registry,l=tc(Tm),f=l.type,v=l.droppableId,m=St(function(){return{id:r.draggableId,index:r.index,type:f,droppableId:v}},[r.draggableId,r.index,f,v]),c=r.children,d=r.draggableId,g=r.isEnabled,y=r.shouldRespectForcePress,b=r.canDragInteractiveElements,p=r.isClone,h=r.mapped,w=r.dropAnimationFinished;if(!p){var _=St(function(){return{descriptor:m,registry:u,getDraggableRef:t,canDragInteractiveElements:b,shouldRespectForcePress:y,isEnabled:g}},[m,u,t,b,y,g]);W3(_)}var j=St(function(){return g?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":d,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:H3}:null},[a,s,d,g]),E=lt(function(M){h.type==="DRAGGING"&&h.dropping&&M.propertyName==="transform"&&w()},[w,h]),S=St(function(){var M=z3(h),A=h.type==="DRAGGING"&&h.dropping?E:null,P={innerRef:o,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":d,style:M,onTransitionEnd:A},dragHandleProps:j};return P},[a,j,d,h,E,o]),C=St(function(){return{draggableId:m.id,type:m.type,source:{index:m.index,droppableId:m.droppableId}}},[m.droppableId,m.id,m.index,m.type]);return c(S,h.snapshot,C)}var fx=function(r,n){return r===n},hx=function(r){var n=r.combine,o=r.destination;return o?o.droppableId:n?n.droppableId:null},q3=function(n){return n.combine?n.combine.draggableId:null},X3=function(n){return n.at&&n.at.type==="COMBINE"?n.at.combine.draggableId:null};function Y3(){var r=vr(function(i,a){return{x:i,y:a}}),n=vr(function(i,a,s,u,l){return{isDragging:!0,isClone:a,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:s,combineWith:u,combineTargetFor:null}}),o=vr(function(i,a,s,u,l,f,v){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:f,mode:a,offset:i,dimension:s,forceShouldAnimate:v,snapshot:n(a,u,l,f,null)}}}),t=function(a,s){if(a.isDragging){if(a.critical.draggable.id!==s.draggableId)return null;var u=a.current.client.offset,l=a.dimensions.draggables[s.draggableId],f=an(a.impact),v=X3(a.impact),m=a.forceShouldAnimate;return o(r(u.x,u.y),a.movementMode,l,s.isClone,f,v,m)}if(a.phase==="DROP_ANIMATING"){var c=a.completed;if(c.result.draggableId!==s.draggableId)return null;var d=s.isClone,g=a.dimensions.draggables[s.draggableId],y=c.result,b=y.mode,p=hx(y),h=q3(y),w=a.dropDuration,_={duration:w,curve:bm.drop,moveTo:a.newHomeClientOffset,opacity:h?$a.opacity.drop:null,scale:h?$a.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:g,dropping:_,draggingOver:p,combineWith:h,mode:b,forceShouldAnimate:null,snapshot:n(b,d,p,h,_)}}}return null};return t}function px(r){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:r,combineWith:null}}var K3={mapped:{type:"SECONDARY",offset:br,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:px(null)}};function J3(){var r=vr(function(s,u){return{x:s,y:u}}),n=vr(px),o=vr(function(s,u,l){return u===void 0&&(u=null),{mapped:{type:"SECONDARY",offset:s,combineTargetFor:u,shouldAnimateDisplacement:l,snapshot:n(u)}}}),t=function(u){return u?o(br,u,!0):null},i=function(u,l,f,v){var m=f.displaced.visible[u],c=!!(v.inVirtualList&&v.effected[u]),d=Yc(f),g=d&&d.draggableId===u?l:null;if(!m){if(!c)return t(g);if(f.displaced.invisible[u])return null;var y=Ci(v.displacedBy.point),b=r(y.x,y.y);return o(b,g,!0)}if(c)return t(g);var p=f.displacedBy.point,h=r(p.x,p.y);return o(h,g,m.shouldAnimate)},a=function(u,l){if(u.isDragging)return u.critical.draggable.id===l.draggableId?null:i(l.draggableId,u.critical.draggable.id,u.impact,u.afterCritical);if(u.phase==="DROP_ANIMATING"){var f=u.completed;return f.result.draggableId===l.draggableId?null:i(l.draggableId,f.result.draggableId,f.impact,f.afterCritical)}return null};return a}var Z3=function(){var n=Y3(),o=J3(),t=function(a,s){return n(a,s)||o(a,s)||K3};return t},Q3={dropAnimationFinished:q_},eL=y_(Z3,Q3,null,{context:Em,pure:!0,areStatePropsEqual:fx})($3);function mx(r){var n=tc(Tm),o=n.isUsingCloneFor;return o===r.draggableId&&!r.isClone?null:Me.createElement(eL,r)}function d0(r){var n=typeof r.isDragDisabled=="boolean"?!r.isDragDisabled:!0,o=!!r.disableInteractiveElementBlocking,t=!!r.shouldRespectForcePress;return Me.createElement(mx,dt({},r,{isClone:!1,isEnabled:n,canDragInteractiveElements:o,shouldRespectForcePress:t}))}function tL(r){var n=je.useContext(Qc);n||Ke();var o=n.contextId,t=n.isMovementAllowed,i=je.useRef(null),a=je.useRef(null),s=r.children,u=r.droppableId,l=r.type,f=r.mode,v=r.direction,m=r.ignoreContainerClipping,c=r.isDropDisabled,d=r.isCombineEnabled,g=r.snapshot,y=r.useClone,b=r.updateViewportMaxScroll,p=r.getContainerForClone,h=lt(function(){return i.current},[]),w=lt(function(P){i.current=P},[]);lt(function(){return a.current},[]);var _=lt(function(P){a.current=P},[]),j=lt(function(){t()&&b({maxScroll:Z_()})},[t,b]);M3({droppableId:u,type:l,mode:f,direction:v,isDropDisabled:c,isCombineEnabled:d,ignoreContainerClipping:m,getDroppableRef:h});var E=Me.createElement(D3,{on:r.placeholder,shouldAnimate:r.shouldAnimatePlaceholder},function(P){var D=P.onClose,I=P.data,U=P.animate;return Me.createElement(L3,{placeholder:I,onClose:D,innerRef:_,animate:U,contextId:o,onTransitionEnd:j})}),S=St(function(){return{innerRef:w,placeholder:E,droppableProps:{"data-rbd-droppable-id":u,"data-rbd-droppable-context-id":o}}},[o,u,E,w]),C=y?y.dragging.draggableId:null,M=St(function(){return{droppableId:u,type:l,isUsingCloneFor:C}},[u,C,l]);function A(){if(!y)return null;var P=y.dragging,D=y.render,I=Me.createElement(mx,{draggableId:P.draggableId,index:P.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(U,N){return D(U,N,P)});return f2.createPortal(I,p())}return Me.createElement(Tm.Provider,{value:M},s(S,g),A())}var gf=function(n,o){return n===o.droppable.type},f0=function(n,o){return o.draggables[n.draggable.id]},rL=function(){var n={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},o=dt({},n,{shouldAnimatePlaceholder:!1}),t=vr(function(s){return{draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}}}),i=vr(function(s,u,l,f,v,m){var c=v.descriptor.id,d=v.descriptor.droppableId===s;if(d){var g=m?{render:m,dragging:t(v.descriptor)}:null,y={isDraggingOver:l,draggingOverWith:l?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:v.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:g}}if(!u)return o;if(!f)return n;var b={isDraggingOver:l,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:v.placeholder,shouldAnimatePlaceholder:!0,snapshot:b,useClone:null}}),a=function(u,l){var f=l.droppableId,v=l.type,m=!l.isDropDisabled,c=l.renderClone;if(u.isDragging){var d=u.critical;if(!gf(v,d))return o;var g=f0(d,u.dimensions),y=an(u.impact)===f;return i(f,m,y,y,g,c)}if(u.phase==="DROP_ANIMATING"){var b=u.completed;if(!gf(v,b.critical))return o;var p=f0(b.critical,u.dimensions);return i(f,m,hx(b.result)===f,an(b.impact)===f,p,c)}if(u.phase==="IDLE"&&u.completed&&!u.shouldFlush){var h=u.completed;if(!gf(v,h.critical))return o;var w=an(h.impact)===f,_=!!(h.impact.at&&h.impact.at.type==="COMBINE"),j=h.critical.droppable.id===f;return w?_?n:o:j?n:o}return o};return a},nL={updateViewportMaxScroll:hA};function oL(){return document.body||Ke(),document.body}var sL={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:oL},Hh=y_(rL,nL,null,{context:Em,pure:!0,areStatePropsEqual:fx})(tL);Hh.defaultProps=sL;const tu=ki("https://zahrotkjbhfegvwsevjy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InphaHJvdGtqYmhmZWd2d3Nldmp5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1MzcwNDksImV4cCI6MjA3MTExMzA0OX0.PJHE_2uvVuixA1velpE-KPmD4o2W-UENiegcZl1wFI8"),iL=["fun","fact","animal","share","favorite"];function aL({user:r}){const[n,o]=je.useState([]),[t,i]=je.useState(null),[a,s]=je.useState(null),[u,l]=je.useState([]);je.useEffect(()=>{const m=async()=>{try{const{data:d,error:g}=await tu.from("feed").select("*").eq("age_group",r.ageGroup).limit(20);if(g)throw g;const y=d.filter(j=>j.type==="social"&&iL.some(E=>{var S;return(S=j.text)==null?void 0:S.toLowerCase().includes(E)})),b=d.filter(j=>j.type==="educational"&&j.grade<=r.grade),p=d.filter(j=>j.type==="game"),h=y.length+b.length+p.length,w=Math.ceil(h*.6),_=[...y.sort(()=>Math.random()-.5).slice(0,w),...b.sort(()=>Math.random()-.5),...p.sort(()=>Math.random()-.5)];o(_)}catch(d){s("Failed to load feed. Please try again."),console.error("Error fetching feed:",d)}};m();const c=tu.channel("feed-updates").on("postgres_changes",{event:"*",schema:"public",table:"feed"},m).subscribe();return()=>tu.removeChannel(c)},[r]);const f=async(m,c)=>{var d;if(m.type==="educational")if(c===m.correct||c.toLowerCase()===((d=m.word)==null?void 0:d.toLowerCase()))try{await tu.from("user_progress").insert({user_id:r.id,item_id:m.id,points:10}),i(null),l([])}catch(y){s("Error saving progress. Please try again."),console.error("Error saving progress:",y)}else s("Incorrect answer. Try again!")},v=(m,c)=>{if(!m.destination)return;const d=[...u],[g]=d.splice(m.source.index,1);d.splice(m.destination.index,0,g),l(d),d.join(",")===c.correct&&f(c,c.correct)};return a?Ve.jsx("div",{className:"p-4 text-red-500","aria-live":"assertive",children:a}):Ve.jsxs("div",{className:"p-4",children:[n.map(m=>Ve.jsxs("div",{className:`p-4 mb-4 rounded-lg shadow-md ${m.type==="social"?"border-2 border-blue-500":m.type==="educational"?"border-2 border-green-500":"border-2 border-yellow-500"}`,onClick:()=>m.type==="educational"&&i(m),role:"article",children:[m.type==="social"&&Ve.jsx("p",{children:m.text}),m.type==="educational"&&Ve.jsxs("div",{children:[Ve.jsxs("p",{className:"font-bold",children:[m.subject," (",m.standard,"): ",m.question]}),m.format==="multiple-choice"&&Ve.jsx("div",{children:m.options.map(c=>Ve.jsx("button",{className:"bg-blue-500 text-white p-2 m-2 rounded hover:bg-blue-600",onClick:()=>f(m,c),children:c},c))}),m.format==="hangman"&&Ve.jsx("input",{type:"text",className:"border p-2 mt-2 w-full",placeholder:"Enter the word",onChange:c=>f(m,c.target.value)}),m.format==="drag-and-drop"&&Ve.jsx(i0,{onDragEnd:c=>v(c,m),children:Ve.jsx(Hh,{droppableId:"answers",children:c=>Ve.jsxs("div",{...c.droppableProps,ref:c.innerRef,children:[m.options.map((d,g)=>Ve.jsx(d0,{draggableId:d,index:g,children:y=>Ve.jsx("div",{ref:y.innerRef,...y.draggableProps,...y.dragHandleProps,className:"bg-gray-200 p-2 m-2 rounded",children:d})},d)),c.placeholder]})})})]}),m.type==="game"&&Ve.jsxs(Ns,{to:"/game",className:"text-blue-500 underline hover:text-blue-700",children:["Play ",m.name]})]},m.id)),t&&Ve.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",role:"dialog",children:Ve.jsxs("div",{className:"bg-white p-6 rounded-lg",children:[Ve.jsxs("p",{className:"mb-4",children:["Complete to Continue: ",t.question]}),t.format==="multiple-choice"&&Ve.jsx("div",{children:t.options.map(m=>Ve.jsx("button",{className:"bg-blue-500 text-white p-2 m-2 rounded hover:bg-blue-600",onClick:()=>f(t,m),children:m},m))}),t.format==="hangman"&&Ve.jsx("input",{type:"text",className:"border p-2 w-full",placeholder:"Enter the word",onChange:m=>f(t,m.target.value)}),t.format==="drag-and-drop"&&Ve.jsx(i0,{onDragEnd:m=>v(m,t),children:Ve.jsx(Hh,{droppableId:"answers",children:m=>Ve.jsxs("div",{...m.droppableProps,ref:m.innerRef,children:[t.options.map((c,d)=>Ve.jsx(d0,{draggableId:c,index:d,children:g=>Ve.jsx("div",{ref:g.innerRef,...g.draggableProps,...g.dragHandleProps,className:"bg-gray-200 p-2 m-2 rounded",children:c})},c)),m.placeholder]})})}),Ve.jsx("button",{className:"bg-red-500 text-white p-2 mt-4 rounded hover:bg-red-600",onClick:()=>i(null),children:"Close"})]})})]})}const h0=ki("https://zahrotkjbhfegvwsevjy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InphaHJvdGtqYmhmZWd2d3Nldmp5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1MzcwNDksImV4cCI6MjA3MTExMzA0OX0.PJHE_2uvVuixA1velpE-KPmD4o2W-UENiegcZl1wFI8");function lL({user:r,setUser:n}){const[o]=je.useState([{question:"What is 1 + 1?",options:["1","2","3"],correct:"2",subject:"Math",weight:.4},{question:"Spell 'Cat'",word:"Cat",format:"hangman",subject:"English",weight:.3},{question:"What is the largest planet?",options:["Earth","Jupiter","Mars"],correct:"Jupiter",subject:"Science",weight:.3}]),[t,i]=je.useState([]),[a,s]=je.useState(null),[u,l]=je.useState([]),f=async(m,c)=>{var g;const d=c===o[m].correct||c.toLowerCase()===((g=o[m].word)==null?void 0:g.toLowerCase());if(i([...t.slice(0,m),c,...t.slice(m+1)]),l([...u.slice(0,m),d?"Correct!":"Try again!",...u.slice(m+1)]),d)try{await h0.from("quiz_results").insert({user_id:r.id,question_id:m,answer:c,is_correct:!0})}catch(y){console.error("Error saving quiz result:",y)}},v=async()=>{const m=t.reduce((d,g,y)=>{var p;const b=g===o[y].correct||g.toLowerCase()===((p=o[y].word)==null?void 0:p.toLowerCase());return d+(b?o[y].weight:0)},0),c=Math.min(Math.floor(r.age*.5+m*6),12);s(c);try{await h0.from("users").update({grade:c}).eq("id",r.id),n({...r,grade:c})}catch(d){console.error("Error updating grade:",d)}};return Ve.jsxs("div",{className:"p-4",children:[Ve.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Assessment Quiz"}),o.map((m,c)=>Ve.jsxs("div",{className:"mb-4",children:[Ve.jsx("p",{className:"font-bold",children:m.question}),m.format==="multiple-choice"?m.options.map(d=>Ve.jsx("button",{className:"bg-blue-500 text-white p-2 m-2 rounded hover:bg-blue-600",onClick:()=>f(c,d),children:d},d)):Ve.jsx("input",{type:"text",className:"border p-2 w-full",placeholder:"Enter the word",onChange:d=>f(c,d.target.value)}),u[c]&&Ve.jsx("p",{className:u[c]==="Correct!"?"text-green-500":"text-red-500",children:u[c]})]},c)),Ve.jsx("button",{className:"bg-green-500 text-white p-2 rounded hover:bg-green-600",onClick:v,disabled:t.length<o.length,children:"Submit"}),a&&Ve.jsxs("p",{className:"mt-4","aria-live":"polite",children:["Assigned Grade: ",a]})]})}function ru(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gx={exports:{}};/*! p5.js v1.11.9 July 17, 2025 */(function(r,n){(function(o){r.exports=o()})(function(){var o;return function t(i,a,s){function u(v,m){if(!a[v]){if(!i[v]){var c=typeof ru=="function"&&ru;if(!m&&c)return c(v,!0);if(l)return l(v,!0);throw(m=new Error("Cannot find module '"+v+"'")).code="MODULE_NOT_FOUND",m}c=a[v]={exports:{}},i[v][0].call(c.exports,function(d){return u(i[v][1][d]||d)},c,c.exports,t,i,a,s)}return a[v].exports}for(var l=typeof ru=="function"&&ru,f=0;f<s.length;f++)u(s[f]);return u}({1:[function(t,i,a){a.byteLength=function(y){var y=c(y),g=y[0],y=y[1];return 3*(g+y)/4-y},a.toByteArray=function(d){var g,y,p=c(d),b=p[0],p=p[1],h=new l(function(j,E){return 3*(j+E)/4-E}(b,p)),w=0,_=0<p?b-4:b;for(y=0;y<_;y+=4)g=u[d.charCodeAt(y)]<<18|u[d.charCodeAt(y+1)]<<12|u[d.charCodeAt(y+2)]<<6|u[d.charCodeAt(y+3)],h[w++]=g>>16&255,h[w++]=g>>8&255,h[w++]=255&g;return p===2&&(g=u[d.charCodeAt(y)]<<2|u[d.charCodeAt(y+1)]>>4,h[w++]=255&g),p===1&&(g=u[d.charCodeAt(y)]<<10|u[d.charCodeAt(y+1)]<<4|u[d.charCodeAt(y+2)]>>2,h[w++]=g>>8&255,h[w++]=255&g),h},a.fromByteArray=function(d){for(var g,y=d.length,b=y%3,p=[],h=0,w=y-b;h<w;h+=16383)p.push(function(_,j,E){for(var S,C=[],M=j;M<E;M+=3)S=(_[M]<<16&16711680)+(_[M+1]<<8&65280)+(255&_[M+2]),C.push(function(A){return s[A>>18&63]+s[A>>12&63]+s[A>>6&63]+s[63&A]}(S));return C.join("")}(d,h,w<h+16383?w:h+16383));return b==1?(g=d[y-1],p.push(s[g>>2]+s[g<<4&63]+"==")):b==2&&(g=(d[y-2]<<8)+d[y-1],p.push(s[g>>10]+s[g>>4&63]+s[g<<2&63]+"=")),p.join("")};for(var s=[],u=[],l=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v=0,m=f.length;v<m;++v)s[v]=f[v],u[f.charCodeAt(v)]=v;function c(d){var g=d.length;if(0<g%4)throw new Error("Invalid string. Length must be a multiple of 4");return d=d.indexOf("="),g=(d=d===-1?g:d)===g?0:4-d%4,[d,g]}u[45]=62,u[95]=63},{}],2:[function(t,i,a){},{}],3:[function(t,i,a){},{}],4:[function(t,i,a){(function(c){var u=t("base64-js"),l=t("ieee754"),f=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,v=(a.Buffer=c,a.SlowBuffer=function(T){return+T!=T&&(T=0),c.alloc(+T)},a.INSPECT_MAX_BYTES=50,2147483647);function m(T){if(v<T)throw new RangeError('The value "'+T+'" is invalid for option "size"');return T=new Uint8Array(T),Object.setPrototypeOf(T,c.prototype),T}function c(T,L,G){if(typeof T!="number")return d(T,L,G);if(typeof L=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(T)}function d(T,L,G){if(typeof T=="string"){var H=T,J=L;if(c.isEncoding(J=typeof J=="string"&&J!==""?J:"utf8"))return ee=0|h(H,J),ie=m(ee),ie=(H=ie.write(H,J))!==ee?ie.slice(0,H):ie;throw new TypeError("Unknown encoding: "+J)}if(ArrayBuffer.isView(T))return b(T);if(T!=null){if(X(T,ArrayBuffer)||T&&X(T.buffer,ArrayBuffer)){var ee=T,H=L,ie=G;if(H<0||ee.byteLength<H)throw new RangeError('"offset" is outside of buffer bounds');if(ee.byteLength<H+(ie||0))throw new RangeError('"length" is outside of buffer bounds');return ee=H===void 0&&ie===void 0?new Uint8Array(ee):ie===void 0?new Uint8Array(ee,H):new Uint8Array(ee,H,ie),Object.setPrototypeOf(ee,c.prototype),ee}if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(J=T.valueOf&&T.valueOf(),J!=null&&J!==T)return c.from(J,L,G);var fe=function(oe){{var de,ae;if(c.isBuffer(oe))return de=0|p(oe.length),(ae=m(de)).length!==0&&oe.copy(ae,0,0,de),ae}if(oe.length!==void 0)return typeof oe.length!="number"||K(oe.length)?m(0):b(oe);if(oe.type==="Buffer"&&Array.isArray(oe.data))return b(oe.data)}(T);if(fe)return fe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return c.from(T[Symbol.toPrimitive]("string"),L,G)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}function g(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function y(T){return g(T),m(T<0?0:0|p(T))}function b(T){for(var L=T.length<0?0:0|p(T.length),G=m(L),H=0;H<L;H+=1)G[H]=255&T[H];return G}function p(T){if(v<=T)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+v.toString(16)+" bytes");return 0|T}function h(T,L){if(c.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||X(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);var G=T.length,H=2<arguments.length&&arguments[2]===!0;if(!H&&G===0)return 0;for(var J=!1;;)switch(L){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return W(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*G;case"hex":return G>>>1;case"base64":return z(T).length;default:if(J)return H?-1:W(T).length;L=(""+L).toLowerCase(),J=!0}}function w(T,L,G){var H,J=!1;if((L=L===void 0||L<0?0:L)>this.length||(G=G===void 0||G>this.length?this.length:G)<=0||(G>>>=0)<=(L>>>=0))return"";for(T=T||"utf8";;)switch(T){case"hex":var ee=this,ge=L,ie=G,ae=ee.length;(!ie||ie<0||ae<ie)&&(ie=ae);for(var fe="",oe=ge=!ge||ge<0?0:ge;oe<ie;++oe)fe+=re[ee[oe]];return fe;case"utf8":case"utf-8":return M(this,L,G);case"ascii":var de=this,ae=L,Z=G,ue="";Z=Math.min(de.length,Z);for(var pe=ae;pe<Z;++pe)ue+=String.fromCharCode(127&de[pe]);return ue;case"latin1":case"binary":var we=this,ge=L,ye=G,_e="";ye=Math.min(we.length,ye);for(var Le=ge;Le<ye;++Le)_e+=String.fromCharCode(we[Le]);return _e;case"base64":return Ce=this,H=G,(tt=L)===0&&H===Ce.length?u.fromByteArray(Ce):u.fromByteArray(Ce.slice(tt,H));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Ce=L,tt=G,$e=this.slice(Ce,tt),ze="",Xe=0;Xe<$e.length;Xe+=2)ze+=String.fromCharCode($e[Xe]+256*$e[Xe+1]);return ze;default:if(J)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),J=!0}}function _(T,L,G){var H=T[L];T[L]=T[G],T[G]=H}function j(T,L,G,H,J){if(T.length===0)return-1;if(typeof G=="string"?(H=G,G=0):2147483647<G?G=2147483647:G<-2147483648&&(G=-2147483648),(G=(G=K(G=+G)?J?0:T.length-1:G)<0?T.length+G:G)>=T.length){if(J)return-1;G=T.length-1}else if(G<0){if(!J)return-1;G=0}if(typeof L=="string"&&(L=c.from(L,H)),c.isBuffer(L))return L.length===0?-1:E(T,L,G,H,J);if(typeof L=="number")return L&=255,typeof Uint8Array.prototype.indexOf=="function"?(J?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(T,L,G):E(T,[L],G,H,J);throw new TypeError("val must be string, number or Buffer")}function E(T,L,G,H,J){var ee=1,ie=T.length,fe=L.length;if(H!==void 0&&((H=String(H).toLowerCase())==="ucs2"||H==="ucs-2"||H==="utf16le"||H==="utf-16le")){if(T.length<2||L.length<2)return-1;ie/=ee=2,fe/=2,G/=2}function oe(pe,we){return ee===1?pe[we]:pe.readUInt16BE(we*ee)}if(J)for(var de=-1,ae=G;ae<ie;ae++)if(oe(T,ae)===oe(L,de===-1?0:ae-de)){if(ae-(de=de===-1?ae:de)+1===fe)return de*ee}else de!==-1&&(ae-=ae-de),de=-1;else for(ae=G=ie<G+fe?ie-fe:G;0<=ae;ae--){for(var Z=!0,ue=0;ue<fe;ue++)if(oe(T,ae+ue)!==oe(L,ue)){Z=!1;break}if(Z)return ae}return-1}function S(T,L,G,H){return V(function(J){for(var ee=[],ie=0;ie<J.length;++ie)ee.push(255&J.charCodeAt(ie));return ee}(L),T,G,H)}function C(T,L,G,H){return V(function(J,ee){for(var ie,fe,oe=[],de=0;de<J.length&&!((ee-=2)<0);++de)fe=J.charCodeAt(de),ie=fe>>8,fe=fe%256,oe.push(fe),oe.push(ie);return oe}(L,T.length-G),T,G,H)}function M(T,L,G){G=Math.min(T.length,G);for(var H=[],J=L;J<G;){var ee,ie,fe,oe,de=T[J],ae=null,Z=239<de?4:223<de?3:191<de?2:1;if(J+Z<=G)switch(Z){case 1:de<128&&(ae=de);break;case 2:(192&(ee=T[J+1]))==128&&127<(oe=(31&de)<<6|63&ee)&&(ae=oe);break;case 3:ee=T[J+1],ie=T[J+2],(192&ee)==128&&(192&ie)==128&&2047<(oe=(15&de)<<12|(63&ee)<<6|63&ie)&&(oe<55296||57343<oe)&&(ae=oe);break;case 4:ee=T[J+1],ie=T[J+2],fe=T[J+3],(192&ee)==128&&(192&ie)==128&&(192&fe)==128&&65535<(oe=(15&de)<<18|(63&ee)<<12|(63&ie)<<6|63&fe)&&oe<1114112&&(ae=oe)}ae===null?(ae=65533,Z=1):65535<ae&&(ae-=65536,H.push(ae>>>10&1023|55296),ae=56320|1023&ae),H.push(ae),J+=Z}var ue=H,pe=ue.length;if(pe<=A)return String.fromCharCode.apply(String,ue);for(var we="",ge=0;ge<pe;)we+=String.fromCharCode.apply(String,ue.slice(ge,ge+=A));return we}a.kMaxLength=v,(c.TYPED_ARRAY_SUPPORT=function(){try{var T=new Uint8Array(1),L={foo:function(){return 42}};return Object.setPrototypeOf(L,Uint8Array.prototype),Object.setPrototypeOf(T,L),T.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),c.poolSize=8192,c.from=d,Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(T,L,G){return L=L,G=G,g(T=T),!(T<=0)&&L!==void 0?typeof G=="string"?m(T).fill(L,G):m(T).fill(L):m(T)},c.allocUnsafe=y,c.allocUnsafeSlow=y,c.isBuffer=function(T){return T!=null&&T._isBuffer===!0&&T!==c.prototype},c.compare=function(T,L){if(X(T,Uint8Array)&&(T=c.from(T,T.offset,T.byteLength)),X(L,Uint8Array)&&(L=c.from(L,L.offset,L.byteLength)),!c.isBuffer(T)||!c.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===L)return 0;for(var G=T.length,H=L.length,J=0,ee=Math.min(G,H);J<ee;++J)if(T[J]!==L[J]){G=T[J],H=L[J];break}return G<H?-1:H<G?1:0},c.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(T,L){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return c.alloc(0);if(L===void 0)for(J=L=0;J<T.length;++J)L+=T[J].length;for(var G=c.allocUnsafe(L),H=0,J=0;J<T.length;++J){var ee=T[J];if(X(ee,Uint8Array)&&(ee=c.from(ee)),!c.isBuffer(ee))throw new TypeError('"list" argument must be an Array of Buffers');ee.copy(G,H),H+=ee.length}return G},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var T=this.length;if(T%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var L=0;L<T;L+=2)_(this,L,L+1);return this},c.prototype.swap32=function(){var T=this.length;if(T%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var L=0;L<T;L+=4)_(this,L,L+3),_(this,L+1,L+2);return this},c.prototype.swap64=function(){var T=this.length;if(T%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var L=0;L<T;L+=8)_(this,L,L+7),_(this,L+1,L+6),_(this,L+2,L+5),_(this,L+3,L+4);return this},c.prototype.toLocaleString=c.prototype.toString=function(){var T=this.length;return T===0?"":arguments.length===0?M(this,0,T):w.apply(this,arguments)},c.prototype.equals=function(T){if(c.isBuffer(T))return this===T||c.compare(this,T)===0;throw new TypeError("Argument must be a Buffer")},c.prototype.inspect=function(){var L="",T=a.INSPECT_MAX_BYTES,L=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim();return this.length>T&&(L+=" ... "),"<Buffer "+L+">"},f&&(c.prototype[f]=c.prototype.inspect),c.prototype.compare=function(T,L,G,H,J){if(X(T,Uint8Array)&&(T=c.from(T,T.offset,T.byteLength)),!c.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(G===void 0&&(G=T?T.length:0),H===void 0&&(H=0),J===void 0&&(J=this.length),(L=L===void 0?0:L)<0||G>T.length||H<0||J>this.length)throw new RangeError("out of range index");if(J<=H&&G<=L)return 0;if(J<=H)return-1;if(G<=L)return 1;if(this===T)return 0;for(var ee=(J>>>=0)-(H>>>=0),ie=(G>>>=0)-(L>>>=0),fe=Math.min(ee,ie),oe=this.slice(H,J),de=T.slice(L,G),ae=0;ae<fe;++ae)if(oe[ae]!==de[ae]){ee=oe[ae],ie=de[ae];break}return ee<ie?-1:ie<ee?1:0},c.prototype.includes=function(T,L,G){return this.indexOf(T,L,G)!==-1},c.prototype.indexOf=function(T,L,G){return j(this,T,L,G,!0)},c.prototype.lastIndexOf=function(T,L,G){return j(this,T,L,G,!1)},c.prototype.write=function(T,L,G,H){if(L===void 0)H="utf8",G=this.length,L=0;else if(G===void 0&&typeof L=="string")H=L,G=this.length,L=0;else{if(!isFinite(L))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");L>>>=0,isFinite(G)?(G>>>=0,H===void 0&&(H="utf8")):(H=G,G=void 0)}var J=this.length-L;if((G===void 0||J<G)&&(G=J),0<T.length&&(G<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");H=H||"utf8";for(var ee,ie,fe,oe=!1;;)switch(H){case"hex":var de=this,ae=T,Z=L,ue=G,pe=(Z=Number(Z)||0,de.length-Z);(!ue||pe<(ue=Number(ue)))&&(ue=pe),(pe=ae.length)/2<ue&&(ue=pe/2);for(var we=0;we<ue;++we){var ge=parseInt(ae.substr(2*we,2),16);if(K(ge))return we;de[Z+we]=ge}return we;case"utf8":case"utf-8":return pe=L,fe=G,V(W(T,(ie=this).length-pe),ie,pe,fe);case"ascii":return S(this,T,L,G);case"latin1":case"binary":return S(this,T,L,G);case"base64":return ie=this,fe=L,ee=G,V(z(T),ie,fe,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,T,L,G);default:if(oe)throw new TypeError("Unknown encoding: "+H);H=(""+H).toLowerCase(),oe=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function P(T,L,G){if(T%1!=0||T<0)throw new RangeError("offset is not uint");if(G<T+L)throw new RangeError("Trying to access beyond buffer length")}function D(T,L,G,H,J,ee){if(!c.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(J<L||L<ee)throw new RangeError('"value" argument is out of bounds');if(G+H>T.length)throw new RangeError("Index out of range")}function I(T,L,G,H){if(G+H>T.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}function U(T,L,G,H,J){return L=+L,G>>>=0,J||I(T,0,G,4),l.write(T,L,G,H,23,4),G+4}function N(T,L,G,H,J){return L=+L,G>>>=0,J||I(T,0,G,8),l.write(T,L,G,H,52,8),G+8}c.prototype.slice=function(T,L){var G=this.length,G=((T=~~T)<0?(T+=G)<0&&(T=0):G<T&&(T=G),(L=L===void 0?G:~~L)<0?(L+=G)<0&&(L=0):G<L&&(L=G),L<T&&(L=T),this.subarray(T,L));return Object.setPrototypeOf(G,c.prototype),G},c.prototype.readUIntLE=function(T,L,G){T>>>=0,L>>>=0,G||P(T,L,this.length);for(var H=this[T],J=1,ee=0;++ee<L&&(J*=256);)H+=this[T+ee]*J;return H},c.prototype.readUIntBE=function(T,L,G){T>>>=0,L>>>=0,G||P(T,L,this.length);for(var H=this[T+--L],J=1;0<L&&(J*=256);)H+=this[T+--L]*J;return H},c.prototype.readUInt8=function(T,L){return T>>>=0,L||P(T,1,this.length),this[T]},c.prototype.readUInt16LE=function(T,L){return T>>>=0,L||P(T,2,this.length),this[T]|this[T+1]<<8},c.prototype.readUInt16BE=function(T,L){return T>>>=0,L||P(T,2,this.length),this[T]<<8|this[T+1]},c.prototype.readUInt32LE=function(T,L){return T>>>=0,L||P(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+16777216*this[T+3]},c.prototype.readUInt32BE=function(T,L){return T>>>=0,L||P(T,4,this.length),16777216*this[T]+(this[T+1]<<16|this[T+2]<<8|this[T+3])},c.prototype.readIntLE=function(T,L,G){T>>>=0,L>>>=0,G||P(T,L,this.length);for(var H=this[T],J=1,ee=0;++ee<L&&(J*=256);)H+=this[T+ee]*J;return(J*=128)<=H&&(H-=Math.pow(2,8*L)),H},c.prototype.readIntBE=function(T,L,G){T>>>=0,L>>>=0,G||P(T,L,this.length);for(var H=L,J=1,ee=this[T+--H];0<H&&(J*=256);)ee+=this[T+--H]*J;return(J*=128)<=ee&&(ee-=Math.pow(2,8*L)),ee},c.prototype.readInt8=function(T,L){return T>>>=0,L||P(T,1,this.length),128&this[T]?-1*(255-this[T]+1):this[T]},c.prototype.readInt16LE=function(T,L){return T>>>=0,L||P(T,2,this.length),L=this[T]|this[T+1]<<8,32768&L?4294901760|L:L},c.prototype.readInt16BE=function(T,L){return T>>>=0,L||P(T,2,this.length),L=this[T+1]|this[T]<<8,32768&L?4294901760|L:L},c.prototype.readInt32LE=function(T,L){return T>>>=0,L||P(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},c.prototype.readInt32BE=function(T,L){return T>>>=0,L||P(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},c.prototype.readFloatLE=function(T,L){return T>>>=0,L||P(T,4,this.length),l.read(this,T,!0,23,4)},c.prototype.readFloatBE=function(T,L){return T>>>=0,L||P(T,4,this.length),l.read(this,T,!1,23,4)},c.prototype.readDoubleLE=function(T,L){return T>>>=0,L||P(T,8,this.length),l.read(this,T,!0,52,8)},c.prototype.readDoubleBE=function(T,L){return T>>>=0,L||P(T,8,this.length),l.read(this,T,!1,52,8)},c.prototype.writeUIntLE=function(T,L,G,H){T=+T,L>>>=0,G>>>=0,H||D(this,T,L,G,Math.pow(2,8*G)-1,0);var J=1,ee=0;for(this[L]=255&T;++ee<G&&(J*=256);)this[L+ee]=T/J&255;return L+G},c.prototype.writeUIntBE=function(T,L,G,H){T=+T,L>>>=0,G>>>=0,H||D(this,T,L,G,Math.pow(2,8*G)-1,0);var J=G-1,ee=1;for(this[L+J]=255&T;0<=--J&&(ee*=256);)this[L+J]=T/ee&255;return L+G},c.prototype.writeUInt8=function(T,L,G){return T=+T,L>>>=0,G||D(this,T,L,1,255,0),this[L]=255&T,L+1},c.prototype.writeUInt16LE=function(T,L,G){return T=+T,L>>>=0,G||D(this,T,L,2,65535,0),this[L]=255&T,this[L+1]=T>>>8,L+2},c.prototype.writeUInt16BE=function(T,L,G){return T=+T,L>>>=0,G||D(this,T,L,2,65535,0),this[L]=T>>>8,this[L+1]=255&T,L+2},c.prototype.writeUInt32LE=function(T,L,G){return T=+T,L>>>=0,G||D(this,T,L,4,4294967295,0),this[L+3]=T>>>24,this[L+2]=T>>>16,this[L+1]=T>>>8,this[L]=255&T,L+4},c.prototype.writeUInt32BE=function(T,L,G){return T=+T,L>>>=0,G||D(this,T,L,4,4294967295,0),this[L]=T>>>24,this[L+1]=T>>>16,this[L+2]=T>>>8,this[L+3]=255&T,L+4},c.prototype.writeIntLE=function(T,L,G,H){T=+T,L>>>=0,H||D(this,T,L,G,(H=Math.pow(2,8*G-1))-1,-H);var J=0,ee=1,ie=0;for(this[L]=255&T;++J<G&&(ee*=256);)T<0&&ie===0&&this[L+J-1]!==0&&(ie=1),this[L+J]=(T/ee>>0)-ie&255;return L+G},c.prototype.writeIntBE=function(T,L,G,H){T=+T,L>>>=0,H||D(this,T,L,G,(H=Math.pow(2,8*G-1))-1,-H);var J=G-1,ee=1,ie=0;for(this[L+J]=255&T;0<=--J&&(ee*=256);)T<0&&ie===0&&this[L+J+1]!==0&&(ie=1),this[L+J]=(T/ee>>0)-ie&255;return L+G},c.prototype.writeInt8=function(T,L,G){return T=+T,L>>>=0,G||D(this,T,L,1,127,-128),this[L]=255&(T=T<0?255+T+1:T),L+1},c.prototype.writeInt16LE=function(T,L,G){return T=+T,L>>>=0,G||D(this,T,L,2,32767,-32768),this[L]=255&T,this[L+1]=T>>>8,L+2},c.prototype.writeInt16BE=function(T,L,G){return T=+T,L>>>=0,G||D(this,T,L,2,32767,-32768),this[L]=T>>>8,this[L+1]=255&T,L+2},c.prototype.writeInt32LE=function(T,L,G){return T=+T,L>>>=0,G||D(this,T,L,4,2147483647,-2147483648),this[L]=255&T,this[L+1]=T>>>8,this[L+2]=T>>>16,this[L+3]=T>>>24,L+4},c.prototype.writeInt32BE=function(T,L,G){return T=+T,L>>>=0,G||D(this,T,L,4,2147483647,-2147483648),this[L]=(T=T<0?4294967295+T+1:T)>>>24,this[L+1]=T>>>16,this[L+2]=T>>>8,this[L+3]=255&T,L+4},c.prototype.writeFloatLE=function(T,L,G){return U(this,T,L,!0,G)},c.prototype.writeFloatBE=function(T,L,G){return U(this,T,L,!1,G)},c.prototype.writeDoubleLE=function(T,L,G){return N(this,T,L,!0,G)},c.prototype.writeDoubleBE=function(T,L,G){return N(this,T,L,!1,G)},c.prototype.copy=function(T,L,G,H){if(!c.isBuffer(T))throw new TypeError("argument should be a Buffer");if(G=G||0,H||H===0||(H=this.length),L>=T.length&&(L=T.length),(H=0<H&&H<G?G:H)===G||T.length===0||this.length===0)return 0;if((L=L||0)<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("sourceEnd out of bounds");H>this.length&&(H=this.length);var J=(H=T.length-L<H-G?T.length-L+G:H)-G;if(this===T&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(L,G,H);else if(this===T&&G<L&&L<H)for(var ee=J-1;0<=ee;--ee)T[ee+L]=this[ee+G];else Uint8Array.prototype.set.call(T,this.subarray(G,H),L);return J},c.prototype.fill=function(T,L,G,H){if(typeof T=="string"){if(typeof L=="string"?(H=L,L=0,G=this.length):typeof G=="string"&&(H=G,G=this.length),H!==void 0&&typeof H!="string")throw new TypeError("encoding must be a string");if(typeof H=="string"&&!c.isEncoding(H))throw new TypeError("Unknown encoding: "+H);var J;T.length===1&&(J=T.charCodeAt(0),(H==="utf8"&&J<128||H==="latin1")&&(T=J))}else typeof T=="number"?T&=255:typeof T=="boolean"&&(T=Number(T));if(L<0||this.length<L||this.length<G)throw new RangeError("Out of range index");var ee;if(!(G<=L))if(L>>>=0,G=G===void 0?this.length:G>>>0,typeof(T=T||0)=="number")for(ee=L;ee<G;++ee)this[ee]=T;else{var ie=c.isBuffer(T)?T:c.from(T,H),fe=ie.length;if(fe===0)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(ee=0;ee<G-L;++ee)this[ee+L]=ie[ee%fe]}return this};var B=/[^+/0-9A-Za-z-_]/g;function W(T,L){L=L||1/0;for(var G,H=T.length,J=null,ee=[],ie=0;ie<H;++ie){if(55295<(G=T.charCodeAt(ie))&&G<57344){if(!J){if(56319<G){-1<(L-=3)&&ee.push(239,191,189);continue}if(ie+1===H){-1<(L-=3)&&ee.push(239,191,189);continue}J=G;continue}if(G<56320){-1<(L-=3)&&ee.push(239,191,189),J=G;continue}G=65536+(J-55296<<10|G-56320)}else J&&-1<(L-=3)&&ee.push(239,191,189);if(J=null,G<128){if(--L<0)break;ee.push(G)}else if(G<2048){if((L-=2)<0)break;ee.push(G>>6|192,63&G|128)}else if(G<65536){if((L-=3)<0)break;ee.push(G>>12|224,G>>6&63|128,63&G|128)}else{if(!(G<1114112))throw new Error("Invalid code point");if((L-=4)<0)break;ee.push(G>>18|240,G>>12&63|128,G>>6&63|128,63&G|128)}}return ee}function z(T){return u.toByteArray(function(L){if((L=(L=L.split("=")[0]).trim().replace(B,"")).length<2)return"";for(;L.length%4!=0;)L+="=";return L}(T))}function V(T,L,G,H){for(var J=0;J<H&&!(J+G>=L.length||J>=T.length);++J)L[J+G]=T[J];return J}function X(T,L){return T instanceof L||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===L.name}function K(T){return T!=T}var re=function(){for(var T="0123456789abcdef",L=new Array(256),G=0;G<16;++G)for(var H=16*G,J=0;J<16;++J)L[H+J]=T[G]+T[J];return L}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(t,i,a){i.exports=function(s){if(typeof s!="function")throw TypeError(String(s)+" is not a function");return s}},{}],6:[function(t,i,a){var s=t("../internals/is-object");i.exports=function(u){if(s(u)||u===null)return u;throw TypeError("Can't set "+String(u)+" as a prototype")}},{"../internals/is-object":75}],7:[function(l,i,a){var s=l("../internals/well-known-symbol"),u=l("../internals/object-create"),l=l("../internals/object-define-property"),f=s("unscopables"),v=Array.prototype;v[f]==null&&l.f(v,f,{configurable:!0,value:u(null)}),i.exports=function(m){v[f][m]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(t,i,a){var s=t("../internals/string-multibyte").charAt;i.exports=function(u,l,f){return l+(f?s(u,l).length:1)}},{"../internals/string-multibyte":125}],9:[function(t,i,a){i.exports=function(s,u,l){if(s instanceof u)return s;throw TypeError("Incorrect "+(l?l+" ":"")+"invocation")}},{}],10:[function(t,i,a){var s=t("../internals/is-object");i.exports=function(u){if(s(u))return u;throw TypeError(String(u)+" is not an object")}},{"../internals/is-object":75}],11:[function(t,i,a){i.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(I,i,a){function s(N){return m(N)&&c(U,d(N))}var u,l=I("../internals/array-buffer-native"),f=I("../internals/descriptors"),v=I("../internals/global"),m=I("../internals/is-object"),c=I("../internals/has"),d=I("../internals/classof"),g=I("../internals/create-non-enumerable-property"),y=I("../internals/redefine"),b=I("../internals/object-define-property").f,p=I("../internals/object-get-prototype-of"),h=I("../internals/object-set-prototype-of"),A=I("../internals/well-known-symbol"),I=I("../internals/uid"),w=v.Int8Array,_=w&&w.prototype,j=v.Uint8ClampedArray,j=j&&j.prototype,E=w&&p(w),S=_&&p(_),C=Object.prototype,M=C.isPrototypeOf,A=A("toStringTag"),P=I("TYPED_ARRAY_TAG"),D=l&&!!h&&d(v.opera)!=="Opera",I=!1,U={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(u in U)v[u]||(D=!1);if((!D||typeof E!="function"||E===Function.prototype)&&(E=function(){throw TypeError("Incorrect invocation")},D))for(u in U)v[u]&&h(v[u],E);if((!D||!S||S===C)&&(S=E.prototype,D))for(u in U)v[u]&&h(v[u].prototype,S);if(D&&p(j)!==S&&h(j,S),f&&!c(S,A))for(u in I=!0,b(S,A,{get:function(){return m(this)?this[P]:void 0}}),U)v[u]&&g(v[u],P,u);i.exports={NATIVE_ARRAY_BUFFER_VIEWS:D,TYPED_ARRAY_TAG:I&&P,aTypedArray:function(N){if(s(N))return N;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(N){if(h){if(M.call(E,N))return N}else for(var B in U)if(c(U,u)&&(B=v[B],B&&(N===B||M.call(B,N))))return N;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(N,B,W){if(f){if(W)for(var z in U)z=v[z],z&&c(z.prototype,N)&&delete z.prototype[N];S[N]&&!W||y(S,N,!W&&D&&_[N]||B)}},exportTypedArrayStaticMethod:function(N,B,W){var z,V;if(f){if(h){if(W)for(z in U)(V=v[z])&&c(V,N)&&delete V[N];if(E[N]&&!W)return;try{return y(E,N,!W&&D&&w[N]||B)}catch{}}for(z in U)!(V=v[z])||V[N]&&!W||y(V,N,B)}},isView:function(N){return N=d(N),N==="DataView"||c(U,N)},isTypedArray:s,TypedArray:E,TypedArrayPrototype:S}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(G,i,a){function s(Z){return[255&Z]}function u(Z){return[255&Z,Z>>8&255]}function l(Z){return[255&Z,Z>>8&255,Z>>16&255,Z>>24&255]}function f(Z){return Z[3]<<24|Z[2]<<16|Z[1]<<8|Z[0]}function v(Z){return ee(Z,23,4)}function m(Z){return ee(Z,52,8)}function c(Z,ue){I(Z[X],ue,{get:function(){return B(this)[ue]}})}function d(_e,ue,ye,we){if(ye=C(ye),_e=B(_e),ye+ue>_e.byteLength)throw J(K);var ge=B(_e.buffer).bytes,ye=ye+_e.byteOffset,_e=ge.slice(ye,ye+ue);return we?_e:_e.reverse()}function g(Z,ue,pe,we,ge,ye){if(pe=C(pe),Z=B(Z),pe+ue>Z.byteLength)throw J(K);for(var _e=B(Z.buffer).bytes,Le=pe+Z.byteOffset,Ce=we(+ge),tt=0;tt<ue;tt++)_e[Le+tt]=Ce[ye?tt:ue-tt-1]}var y=G("../internals/global"),b=G("../internals/descriptors"),p=G("../internals/array-buffer-native"),h=G("../internals/create-non-enumerable-property"),w=G("../internals/redefine-all"),_=G("../internals/fails"),j=G("../internals/an-instance"),E=G("../internals/to-integer"),S=G("../internals/to-length"),C=G("../internals/to-index"),M=G("../internals/ieee754"),A=G("../internals/object-get-prototype-of"),P=G("../internals/object-set-prototype-of"),D=G("../internals/object-get-own-property-names").f,I=G("../internals/object-define-property").f,U=G("../internals/array-fill"),N=G("../internals/set-to-string-tag"),G=G("../internals/internal-state"),B=G.get,W=G.set,z="ArrayBuffer",V="DataView",X="prototype",K="Wrong index",re=y[z],T=re,L=y[V],G=L&&L[X],H=Object.prototype,J=y.RangeError,ee=M.pack,ie=M.unpack;if(p){if(!_(function(){re(1)})||!_(function(){new re(-1)})||_(function(){return new re,new re(1.5),new re(NaN),re.name!=z})){for(var fe,y=(T=function(pe){return j(this,T),new re(C(pe))})[X]=re[X],oe=D(re),de=0;oe.length>de;)(fe=oe[de++])in T||h(T,fe,re[fe]);y.constructor=T}P&&A(G)!==H&&P(G,H);var M=new L(new T(2)),ae=G.setInt8;M.setInt8(0,2147483648),M.setInt8(1,2147483649),!M.getInt8(0)&&M.getInt8(1)||w(G,{setInt8:function(ue,pe){ae.call(this,ue,pe<<24>>24)},setUint8:function(ue,pe){ae.call(this,ue,pe<<24>>24)}},{unsafe:!0})}else T=function(Z){j(this,T,z),Z=C(Z),W(this,{bytes:U.call(new Array(Z),0),byteLength:Z}),b||(this.byteLength=Z)},L=function(Z,ge,pe){j(this,L,V),j(Z,T,V);var we=B(Z).byteLength,ge=E(ge);if(ge<0||we<ge)throw J("Wrong offset");if(we<ge+(pe=pe===void 0?we-ge:S(pe)))throw J("Wrong length");W(this,{buffer:Z,byteLength:pe,byteOffset:ge}),b||(this.buffer=Z,this.byteLength=pe,this.byteOffset=ge)},b&&(c(T,"byteLength"),c(L,"buffer"),c(L,"byteLength"),c(L,"byteOffset")),w(L[X],{getInt8:function(Z){return d(this,1,Z)[0]<<24>>24},getUint8:function(Z){return d(this,1,Z)[0]},getInt16:function(Z){return Z=d(this,2,Z,1<arguments.length?arguments[1]:void 0),(Z[1]<<8|Z[0])<<16>>16},getUint16:function(Z){return Z=d(this,2,Z,1<arguments.length?arguments[1]:void 0),Z[1]<<8|Z[0]},getInt32:function(Z){return f(d(this,4,Z,1<arguments.length?arguments[1]:void 0))},getUint32:function(Z){return f(d(this,4,Z,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(Z){return ie(d(this,4,Z,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(Z){return ie(d(this,8,Z,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(Z,ue){g(this,1,Z,s,ue)},setUint8:function(Z,ue){g(this,1,Z,s,ue)},setInt16:function(Z,ue){g(this,2,Z,u,ue,2<arguments.length?arguments[2]:void 0)},setUint16:function(Z,ue){g(this,2,Z,u,ue,2<arguments.length?arguments[2]:void 0)},setInt32:function(Z,ue){g(this,4,Z,l,ue,2<arguments.length?arguments[2]:void 0)},setUint32:function(Z,ue){g(this,4,Z,l,ue,2<arguments.length?arguments[2]:void 0)},setFloat32:function(Z,ue){g(this,4,Z,v,ue,2<arguments.length?arguments[2]:void 0)},setFloat64:function(Z,ue){g(this,8,Z,m,ue,2<arguments.length?arguments[2]:void 0)}});N(T,z),N(L,V),i.exports={ArrayBuffer:T,DataView:L}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(t,i,a){var s=t("../internals/to-object"),u=t("../internals/to-absolute-index"),l=t("../internals/to-length"),f=Math.min;i.exports=[].copyWithin||function(b,m){var c=s(this),d=l(c.length),g=u(b,d),y=u(m,d),b=2<arguments.length?arguments[2]:void 0,p=f((b===void 0?d:u(b,d))-y,d-g),h=1;for(y<g&&g<y+p&&(h=-1,y+=p-1,g+=p-1);0<p--;)y in c?c[g]=c[y]:delete c[g],g+=h,y+=h;return c}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(t,i,a){var s=t("../internals/to-object"),u=t("../internals/to-absolute-index"),l=t("../internals/to-length");i.exports=function(f){for(var v=s(this),m=l(v.length),d=arguments.length,c=u(1<d?arguments[1]:void 0,m),d=2<d?arguments[2]:void 0,g=d===void 0?m:u(d,m);c<g;)v[c++]=f;return v}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(l,i,a){var s=l("../internals/array-iteration").forEach,u=l("../internals/array-method-is-strict"),l=l("../internals/array-method-uses-to-length"),u=u("forEach"),l=l("forEach");i.exports=u&&l?[].forEach:function(f){return s(this,f,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,i,a){var s=t("../internals/function-bind-context"),u=t("../internals/to-object"),l=t("../internals/call-with-safe-iteration-closing"),f=t("../internals/is-array-iterator-method"),v=t("../internals/to-length"),m=t("../internals/create-property"),c=t("../internals/get-iterator-method");i.exports=function(j){var g,y,b,p,h,w,_=u(j),j=typeof this=="function"?this:Array,E=arguments.length,S=1<E?arguments[1]:void 0,C=S!==void 0,M=c(_),A=0;if(C&&(S=s(S,2<E?arguments[2]:void 0,2)),M==null||j==Array&&f(M))for(y=new j(g=v(_.length));A<g;A++)w=C?S(_[A],A):_[A],m(y,A,w);else for(h=(p=M.call(_)).next,y=new j;!(b=h.call(p)).done;A++)w=C?l(p,S,[b.value,A],!0):b.value,m(y,A,w);return y.length=A,y}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(t,i,a){function s(v){return function(m,c,d){var g,y=u(m),b=l(y.length),p=f(d,b);if(v&&c!=c){for(;p<b;)if((g=y[p++])!=g)return!0}else for(;p<b;p++)if((v||p in y)&&y[p]===c)return v||p||0;return!v&&-1}}var u=t("../internals/to-indexed-object"),l=t("../internals/to-length"),f=t("../internals/to-absolute-index");i.exports={includes:s(!0),indexOf:s(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(t,i,a){function s(d){var g=d==1,y=d==2,b=d==3,p=d==4,h=d==6,w=d==5||h;return function(_,j,E,S){for(var C,M,A=f(_),P=l(A),D=u(j,E,3),I=v(P.length),U=0,j=S||m,N=g?j(_,I):y?j(_,0):void 0;U<I;U++)if((w||U in P)&&(M=D(C=P[U],U,A),d)){if(g)N[U]=M;else if(M)switch(d){case 3:return!0;case 5:return C;case 6:return U;case 2:c.call(N,C)}else if(p)return!1}return h?-1:b||p?p:N}}var u=t("../internals/function-bind-context"),l=t("../internals/indexed-object"),f=t("../internals/to-object"),v=t("../internals/to-length"),m=t("../internals/array-species-create"),c=[].push;i.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(d,i,a){var s=d("../internals/to-indexed-object"),u=d("../internals/to-integer"),l=d("../internals/to-length"),c=d("../internals/array-method-is-strict"),d=d("../internals/array-method-uses-to-length"),f=Math.min,v=[].lastIndexOf,m=!!v&&1/[1].lastIndexOf(1,-0)<0,c=c("lastIndexOf"),d=d("indexOf",{ACCESSORS:!0,1:0});i.exports=m||!c||!d?function(g){if(m)return v.apply(this,arguments)||0;var y=s(this),b=l(y.length),p=b-1;for((p=1<arguments.length?f(p,u(arguments[1])):p)<0&&(p=b+p);0<=p;p--)if(p in y&&y[p]===g)return p||0;return-1}:v},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(t,i,a){var s=t("../internals/fails"),u=t("../internals/well-known-symbol"),l=t("../internals/engine-v8-version"),f=u("species");i.exports=function(v){return 51<=l||!s(function(){var m=[];return(m.constructor={})[f]=function(){return{foo:1}},m[v](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(t,i,a){var s=t("../internals/fails");i.exports=function(u,l){var f=[][u];return!!f&&s(function(){f.call(null,l||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,i,a){function s(c){throw c}var u=t("../internals/descriptors"),l=t("../internals/fails"),f=t("../internals/has"),v=Object.defineProperty,m={};i.exports=function(c,d){var g,y,b,p;return f(m,c)?m[c]:(g=[][c],y=!!f(d=d||{},"ACCESSORS")&&d.ACCESSORS,b=f(d,0)?d[0]:s,p=f(d,1)?d[1]:void 0,m[c]=!!g&&!l(function(){if(y&&!u)return!0;var h={length:-1};y?v(h,1,{enumerable:!0,get:s}):h[1]=1,g.call(h,b,p)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(t,i,a){function s(m){return function(c,d,g,y){u(d);var b=l(c),p=f(b),h=v(b.length),w=m?h-1:0,_=m?-1:1;if(g<2)for(;;){if(w in p){y=p[w],w+=_;break}if(w+=_,m?w<0:h<=w)throw TypeError("Reduce of empty array with no initial value")}for(;m?0<=w:w<h;w+=_)w in p&&(y=d(y,p[w],w,b));return y}}var u=t("../internals/a-function"),l=t("../internals/to-object"),f=t("../internals/indexed-object"),v=t("../internals/to-length");i.exports={left:s(!1),right:s(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(t,i,a){var s=t("../internals/is-object"),u=t("../internals/is-array"),l=t("../internals/well-known-symbol")("species");i.exports=function(f,v){var m;return new((m=u(f)&&(typeof(m=f.constructor)=="function"&&(m===Array||u(m.prototype))||s(m)&&(m=m[l])===null)?void 0:m)===void 0?Array:m)(v===0?0:v)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(t,i,a){var s=t("../internals/an-object");i.exports=function(u,l,f,v){try{return v?l(s(f)[0],f[1]):l(f)}catch(m){throw v=u.return,v!==void 0&&s(v.call(u)),m}}},{"../internals/an-object":10}],27:[function(t,i,a){var s=t("../internals/well-known-symbol")("iterator"),u=!1;try{var l=0,f={next:function(){return{done:!!l++}},return:function(){u=!0}};f[s]=function(){return this},Array.from(f,function(){throw 2})}catch{}i.exports=function(v,m){if(!m&&!u)return!1;var c=!1;try{var d={};d[s]=function(){return{next:function(){return{done:c=!0}}}},v(d)}catch{}return c}},{"../internals/well-known-symbol":150}],28:[function(t,i,a){var s={}.toString;i.exports=function(u){return s.call(u).slice(8,-1)}},{}],29:[function(t,i,a){var s=t("../internals/to-string-tag-support"),u=t("../internals/classof-raw"),l=t("../internals/well-known-symbol")("toStringTag"),f=u(function(){return arguments}())=="Arguments";i.exports=s?u:function(v){var m;return v===void 0?"Undefined":v===null?"Null":typeof(m=function(c,d){try{return c[d]}catch{}}(v=Object(v),l))=="string"?m:f?u(v):(m=u(v))=="Object"&&typeof v.callee=="function"?"Arguments":m}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(b,i,a){var s=b("../internals/object-define-property").f,u=b("../internals/object-create"),l=b("../internals/redefine-all"),f=b("../internals/function-bind-context"),v=b("../internals/an-instance"),m=b("../internals/iterate"),c=b("../internals/define-iterator"),d=b("../internals/set-species"),g=b("../internals/descriptors"),y=b("../internals/internal-metadata").fastKey,b=b("../internals/internal-state"),p=b.set,h=b.getterFor;i.exports={getConstructor:function(w,_,j,E){function S(P,D,I){var U,N=A(P),B=C(P,D);return B?B.value=I:(N.last=B={index:U=y(D,!0),key:D,value:I,previous:D=N.last,next:void 0,removed:!1},N.first||(N.first=B),D&&(D.next=B),g?N.size++:P.size++,U!=="F"&&(N.index[U]=B)),P}function C(U,D){var I,U=A(U),N=y(D);if(N!=="F")return U.index[N];for(I=U.first;I;I=I.next)if(I.key==D)return I}var M=w(function(P,D){v(P,M,_),p(P,{type:_,index:u(null),first:void 0,last:void 0,size:0}),g||(P.size=0),D!=null&&m(D,P[E],P,j)}),A=h(_);return l(M.prototype,{clear:function(){for(var P=A(this),D=P.index,I=P.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=void 0),delete D[I.index],I=I.next;P.first=P.last=void 0,g?P.size=0:this.size=0},delete:function(N){var D,I,U=A(this),N=C(this,N);return N&&(D=N.next,I=N.previous,delete U.index[N.index],N.removed=!0,I&&(I.next=D),D&&(D.previous=I),U.first==N&&(U.first=D),U.last==N&&(U.last=I),g?U.size--:this.size--),!!N},forEach:function(P){for(var D,I=A(this),U=f(P,1<arguments.length?arguments[1]:void 0,3);D=D?D.next:I.first;)for(U(D.value,D.key,this);D&&D.removed;)D=D.previous},has:function(P){return!!C(this,P)}}),l(M.prototype,j?{get:function(P){return P=C(this,P),P&&P.value},set:function(P,D){return S(this,P===0?0:P,D)}}:{add:function(P){return S(this,P=P===0?0:P,P)}}),g&&s(M.prototype,"size",{get:function(){return A(this).size}}),M},setStrong:function(w,_,j){var E=_+" Iterator",S=h(_),C=h(E);c(w,_,function(M,A){p(this,{type:E,target:M,state:S(M),kind:A,last:void 0})},function(){for(var M=C(this),A=M.kind,P=M.last;P&&P.removed;)P=P.previous;return M.target&&(M.last=P=P?P.next:M.state.first)?A=="keys"?{value:P.key,done:!1}:A=="values"?{value:P.value,done:!1}:{value:[P.key,P.value],done:!1}:{value:M.target=void 0,done:!0}},j?"entries":"values",!j,!0),d(_)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(p,i,a){function s(S){return S.frozen||(S.frozen=new u)}function u(){this.entries=[]}function l(S,C){return _(S.entries,function(M){return M[0]===C})}var f=p("../internals/redefine-all"),v=p("../internals/internal-metadata").getWeakData,m=p("../internals/an-object"),c=p("../internals/is-object"),d=p("../internals/an-instance"),g=p("../internals/iterate"),y=p("../internals/array-iteration"),b=p("../internals/has"),p=p("../internals/internal-state"),h=p.set,w=p.getterFor,_=y.find,j=y.findIndex,E=0;u.prototype={get:function(S){if(S=l(this,S),S)return S[1]},has:function(S){return!!l(this,S)},set:function(S,C){var M=l(this,S);M?M[1]=C:this.entries.push([S,C])},delete:function(S){var C=j(this.entries,function(M){return M[0]===S});return~C&&this.entries.splice(C,1),!!~C}},i.exports={getConstructor:function(S,C,M,A){function P(U,N,B){var W=I(U),z=v(m(N),!0);return z===!0?s(W).set(N,B):z[W.id]=B,U}var D=S(function(U,N){d(U,D,C),h(U,{type:C,id:E++,frozen:void 0}),N!=null&&g(N,U[A],U,M)}),I=w(C);return f(D.prototype,{delete:function(U){var N,B=I(this);return!!c(U)&&((N=v(U))===!0?s(B).delete(U):N&&b(N,B.id)&&delete N[B.id])},has:function(U){var N,B=I(this);return!!c(U)&&((N=v(U))===!0?s(B).has(U):N&&b(N,B.id))}}),f(D.prototype,M?{get:function(U){var N,B=I(this);if(c(U))return(N=v(U))===!0?s(B).get(U):N?N[B.id]:void 0},set:function(U,N){return P(this,U,N)}}:{add:function(U){return P(this,U,!0)}}),D}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(t,i,a){var s=t("../internals/export"),u=t("../internals/global"),l=t("../internals/is-forced"),f=t("../internals/redefine"),v=t("../internals/internal-metadata"),m=t("../internals/iterate"),c=t("../internals/an-instance"),d=t("../internals/is-object"),g=t("../internals/fails"),y=t("../internals/check-correctness-of-iteration"),b=t("../internals/set-to-string-tag"),p=t("../internals/inherit-if-required");i.exports=function(h,w,_){function j(z){var V=N[z];f(N,z,z=="add"?function(X){return V.call(this,X===0?0:X),this}:z=="delete"?function(X){return!(D&&!d(X))&&V.call(this,X===0?0:X)}:z=="get"?function(X){return D&&!d(X)?void 0:V.call(this,X===0?0:X)}:z=="has"?function(X){return!(D&&!d(X))&&V.call(this,X===0?0:X)}:function(X,K){return V.call(this,X===0?0:X,K),this})}var E,S,C,M,A,P=h.indexOf("Map")!==-1,D=h.indexOf("Weak")!==-1,I=P?"set":"add",U=u[h],N=U&&U.prototype,B=U,W={};return l(h,typeof U!="function"||!(D||N.forEach&&!g(function(){new U().entries().next()})))?(B=_.getConstructor(w,h,P,I),v.REQUIRED=!0):l(h,!0)&&(S=(E=new B)[I](D?{}:-0,1)!=E,C=g(function(){E.has(1)}),M=y(function(z){new U(z)}),A=!D&&g(function(){for(var z=new U,V=5;V--;)z[I](V,V);return!z.has(-0)}),M||(((B=w(function(z,V){return c(z,B,h),z=p(new U,z,B),V!=null&&m(V,z[I],z,P),z})).prototype=N).constructor=B),(C||A)&&(j("delete"),j("has"),P&&j("get")),(A||S)&&j(I),D&&N.clear&&delete N.clear),W[h]=B,s({global:!0,forced:B!=U},W),b(B,h),D||_.setStrong(B,h,P),B}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(t,i,a){var s=t("../internals/has"),u=t("../internals/own-keys"),l=t("../internals/object-get-own-property-descriptor"),f=t("../internals/object-define-property");i.exports=function(v,m){for(var c=u(m),d=f.f,g=l.f,y=0;y<c.length;y++){var b=c[y];s(v,b)||d(v,b,g(m,b))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(t,i,a){var s=t("../internals/well-known-symbol")("match");i.exports=function(u){var l=/./;try{"/./"[u](l)}catch{try{return l[s]=!1,"/./"[u](l)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(t,i,a){t=t("../internals/fails"),i.exports=!t(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},{"../internals/fails":51}],36:[function(t,i,a){var s=t("../internals/require-object-coercible"),u=/"/g;i.exports=function(c,f,v,m){var c=String(s(c)),d="<"+f;return v!==""&&(d+=" "+v+'="'+String(m).replace(u,"&quot;")+'"'),d+">"+c+"</"+f+">"}},{"../internals/require-object-coercible":115}],37:[function(t,i,a){function s(){return this}var u=t("../internals/iterators-core").IteratorPrototype,l=t("../internals/object-create"),f=t("../internals/create-property-descriptor"),v=t("../internals/set-to-string-tag"),m=t("../internals/iterators");i.exports=function(c,d,g){return d+=" Iterator",c.prototype=l(u,{next:f(1,g)}),v(c,d,!1,!0),m[d]=s,c}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(t,i,a){var s=t("../internals/descriptors"),u=t("../internals/object-define-property"),l=t("../internals/create-property-descriptor");i.exports=s?function(f,v,m){return u.f(f,v,l(1,m))}:function(f,v,m){return f[v]=m,f}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(t,i,a){i.exports=function(s,u){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:u}}},{}],40:[function(t,i,a){var s=t("../internals/to-primitive"),u=t("../internals/object-define-property"),l=t("../internals/create-property-descriptor");i.exports=function(f,v,m){v=s(v),v in f?u.f(f,v,l(0,m)):f[v]=m}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(p,i,a){function s(){return this}var u=p("../internals/export"),l=p("../internals/create-iterator-constructor"),f=p("../internals/object-get-prototype-of"),v=p("../internals/object-set-prototype-of"),m=p("../internals/set-to-string-tag"),c=p("../internals/create-non-enumerable-property"),d=p("../internals/redefine"),g=p("../internals/well-known-symbol"),y=p("../internals/is-pure"),b=p("../internals/iterators"),p=p("../internals/iterators-core"),h=p.IteratorPrototype,w=p.BUGGY_SAFARI_ITERATORS,_=g("iterator"),j="values",E="entries";i.exports=function(S,C,M,W,P,D,I){l(M,C,W);function U(T){if(T===P&&K)return K;if(!w&&T in V)return V[T];switch(T){case"keys":case j:case E:return function(){return new M(this,T)}}return function(){return new M(this)}}var N,B,W=C+" Iterator",z=!1,V=S.prototype,X=V[_]||V["@@iterator"]||P&&V[P],K=!w&&X||U(P),re=C=="Array"&&V.entries||X;if(re&&(re=f(re.call(new S)),h!==Object.prototype&&re.next&&(y||f(re)===h||(v?v(re,h):typeof re[_]!="function"&&c(re,_,s)),m(re,W,!0,!0),y&&(b[W]=s))),P==j&&X&&X.name!==j&&(z=!0,K=function(){return X.call(this)}),y&&!I||V[_]===K||c(V,_,K),b[C]=K,P)if(N={values:U(j),keys:D?K:U("keys"),entries:U(E)},I)for(B in N)!w&&!z&&B in V||d(V,B,N[B]);else u({target:C,proto:!0,forced:w||z},N);return N}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(t,i,a){var s=t("../internals/path"),u=t("../internals/has"),l=t("../internals/well-known-symbol-wrapped"),f=t("../internals/object-define-property").f;i.exports=function(v){var m=s.Symbol||(s.Symbol={});u(m,v)||f(m,v,{value:l.f(v)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(t,i,a){t=t("../internals/fails"),i.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(u,i,a){var s=u("../internals/global"),u=u("../internals/is-object"),l=s.document,f=u(l)&&u(l.createElement);i.exports=function(v){return f?l.createElement(v):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(t,i,a){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,i,a){t=t("../internals/engine-user-agent"),i.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,i,a){t=t("../internals/get-built-in"),i.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(l,i,a){var s,u,f=l("../internals/global"),l=l("../internals/engine-user-agent"),f=f.process,f=f&&f.versions,f=f&&f.v8;f?u=(s=f.split("."))[0]+s[1]:l&&(!(s=l.match(/Edge\/(\d+)/))||74<=s[1])&&(s=l.match(/Chrome\/(\d+)/))&&(u=s[1]),i.exports=u&&+u},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(t,i,a){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,i,a){var s=t("../internals/global"),u=t("../internals/object-get-own-property-descriptor").f,l=t("../internals/create-non-enumerable-property"),f=t("../internals/redefine"),v=t("../internals/set-global"),m=t("../internals/copy-constructor-properties"),c=t("../internals/is-forced");i.exports=function(d,g){var y,b,p,h=d.target,w=d.global,_=d.stat,j=w?s:_?s[h]||v(h,{}):(s[h]||{}).prototype;if(j)for(y in g){if(b=g[y],p=d.noTargetGet?(p=u(j,y))&&p.value:j[y],!c(w?y:h+(_?".":"#")+y,d.forced)&&p!==void 0){if(typeof b==typeof p)continue;m(b,p)}(d.sham||p&&p.sham)&&l(b,"sham",!0),f(j,y,b,d)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(t,i,a){i.exports=function(s){try{return!!s()}catch{return!0}}},{}],52:[function(g,i,a){g("../modules/es.regexp.exec");var s=g("../internals/redefine"),u=g("../internals/fails"),l=g("../internals/well-known-symbol"),f=g("../internals/regexp-exec"),v=g("../internals/create-non-enumerable-property"),m=l("species"),c=!u(function(){var p=/./;return p.exec=function(){var h=[];return h.groups={a:"7"},h},"".replace(p,"$<a>")!=="7"}),d="a".replace(/./,"$0")==="$0",g=l("replace"),y=!!/./[g]&&/./[g]("a","$0")==="",b=!u(function(){var h=/(?:)/,p=h.exec,h=(h.exec=function(){return p.apply(this,arguments)},"ab".split(h));return h.length!==2||h[0]!=="a"||h[1]!=="b"});i.exports=function(p,h,w,_){var j,E,S=l(p),C=!u(function(){var A={};return A[S]=function(){return 7},""[p](A)!=7}),M=C&&!u(function(){var A=!1,P=/a/;return p==="split"&&((P={constructor:{}}).constructor[m]=function(){return P},P.flags="",P[S]=/./[S]),P.exec=function(){return A=!0,null},P[S](""),!A});C&&M&&(p!=="replace"||c&&d&&!y)&&(p!=="split"||b)||(j=/./[S],w=(M=w(S,""[p],function(A,P,D,I,U){return P.exec===f?C&&!U?{done:!0,value:j.call(P,D,I)}:{done:!0,value:A.call(D,P,I)}:{done:!1}},{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:y}))[0],E=M[1],s(String.prototype,p,w),s(RegExp.prototype,S,h==2?function(A,P){return E.call(A,this,P)}:function(A){return E.call(A,this)})),_&&v(RegExp.prototype[S],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(t,i,a){function s(v,m,c,d,g,y,b,p){for(var h,w=g,_=0,j=!!b&&f(b,p,3);_<d;){if(_ in c){if(h=j?j(c[_],_,m):c[_],0<y&&u(h))w=s(v,m,h,l(h.length),w,y-1)-1;else{if(9007199254740991<=w)throw TypeError("Exceed the acceptable array length");v[w]=h}w++}_++}return w}var u=t("../internals/is-array"),l=t("../internals/to-length"),f=t("../internals/function-bind-context");i.exports=s},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(t,i,a){t=t("../internals/fails"),i.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(t,i,a){var s=t("../internals/a-function");i.exports=function(u,l,f){if(s(u),l===void 0)return u;switch(f){case 0:return function(){return u.call(l)};case 1:return function(v){return u.call(l,v)};case 2:return function(v,m){return u.call(l,v,m)};case 3:return function(v,m,c){return u.call(l,v,m,c)}}return function(){return u.apply(l,arguments)}}},{"../internals/a-function":5}],56:[function(t,i,a){var s=t("../internals/a-function"),u=t("../internals/is-object"),l=[].slice,f={};i.exports=Function.bind||function(v){var m=s(this),c=l.call(arguments,1),d=function(){var g=c.concat(l.call(arguments));if(this instanceof d){var y=m,b=g.length,p=g;if(!(b in f)){for(var h=[],w=0;w<b;w++)h[w]="a["+w+"]";f[b]=Function("C,a","return new C("+h.join(",")+")")}return f[b](y,p)}return m.apply(v,g)};return u(m.prototype)&&(d.prototype=m.prototype),d}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(t,i,a){function s(f){return typeof f=="function"?f:void 0}var u=t("../internals/path"),l=t("../internals/global");i.exports=function(f,v){return arguments.length<2?s(u[f])||s(l[f]):u[f]&&u[f][v]||l[f]&&l[f][v]}},{"../internals/global":60,"../internals/path":106}],58:[function(t,i,a){var s=t("../internals/classof"),u=t("../internals/iterators"),l=t("../internals/well-known-symbol")("iterator");i.exports=function(f){if(f!=null)return f[l]||f["@@iterator"]||u[s(f)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(t,i,a){var s=t("../internals/an-object"),u=t("../internals/get-iterator-method");i.exports=function(l){var f=u(l);if(typeof f!="function")throw TypeError(String(l)+" is not iterable");return s(f.call(l))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(t,i,a){(function(s){function u(l){return l&&l.Math==Math&&l}i.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof s=="object"&&s)||Function("return this")()}).call(this,typeof Dr<"u"?Dr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(t,i,a){var s={}.hasOwnProperty;i.exports=function(u,l){return s.call(u,l)}},{}],62:[function(t,i,a){i.exports={}},{}],63:[function(t,i,a){var s=t("../internals/global");i.exports=function(u,l){var f=s.console;f&&f.error&&(arguments.length===1?f.error(u):f.error(u,l))}},{"../internals/global":60}],64:[function(t,i,a){t=t("../internals/get-built-in"),i.exports=t("document","documentElement")},{"../internals/get-built-in":57}],65:[function(t,i,a){var s=t("../internals/descriptors"),u=t("../internals/fails"),l=t("../internals/document-create-element");i.exports=!s&&!u(function(){return Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(t,i,a){var s=Math.abs,u=Math.pow,l=Math.floor,f=Math.log,v=Math.LN2;i.exports={pack:function(m,c,w){var g,y,b,p=new Array(w),h=8*w-c-1,w=(1<<h)-1,_=w>>1,j=c===23?u(2,-24)-u(2,-77):0,E=m<0||m===0&&1/m<0?1:0,S=0;for((m=s(m))!=m||m===1/0?(y=m!=m?1:0,g=w):(g=l(f(m)/v),m*(b=u(2,-g))<1&&(g--,b*=2),2<=(m+=1<=g+_?j/b:j*u(2,1-_))*b&&(g++,b/=2),w<=g+_?(y=0,g=w):1<=g+_?(y=(m*b-1)*u(2,c),g+=_):(y=m*u(2,_-1)*u(2,c),g=0));8<=c;p[S++]=255&y,y/=256,c-=8);for(g=g<<c|y,h+=c;0<h;p[S++]=255&g,g/=256,h-=8);return p[--S]|=128*E,p},unpack:function(m,c){var d,g=m.length,w=8*g-c-1,y=(1<<w)-1,b=y>>1,p=w-7,h=g-1,w=m[h--],_=127&w;for(w>>=7;0<p;_=256*_+m[h],h--,p-=8);for(d=_&(1<<-p)-1,_>>=-p,p+=c;0<p;d=256*d+m[h],h--,p-=8);if(_===0)_=1-b;else{if(_===y)return d?NaN:w?-1/0:1/0;d+=u(2,c),_-=b}return(w?-1:1)*d*u(2,_-c)}}},{}],67:[function(t,i,a){var s=t("../internals/fails"),u=t("../internals/classof-raw"),l="".split;i.exports=s(function(){return!Object("z").propertyIsEnumerable(0)})?function(f){return u(f)=="String"?l.call(f,""):Object(f)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(t,i,a){var s=t("../internals/is-object"),u=t("../internals/object-set-prototype-of");i.exports=function(l,f,v){return u&&typeof(f=f.constructor)=="function"&&f!==v&&s(f=f.prototype)&&f!==v.prototype&&u(l,f),l}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(s,i,a){var s=s("../internals/shared-store"),u=Function.toString;typeof s.inspectSource!="function"&&(s.inspectSource=function(l){return u.call(l)}),i.exports=s.inspectSource},{"../internals/shared-store":121}],70:[function(t,i,a){function s(p){v(p,d,{value:{objectID:"O"+ ++g,weakData:{}}})}var u=t("../internals/hidden-keys"),l=t("../internals/is-object"),f=t("../internals/has"),v=t("../internals/object-define-property").f,m=t("../internals/uid"),c=t("../internals/freezing"),d=m("meta"),g=0,y=Object.isExtensible||function(){return!0},b=i.exports={REQUIRED:!1,fastKey:function(p,h){if(!l(p))return typeof p=="symbol"?p:(typeof p=="string"?"S":"P")+p;if(!f(p,d)){if(!y(p))return"F";if(!h)return"E";s(p)}return p[d].objectID},getWeakData:function(p,h){if(!f(p,d)){if(!y(p))return!0;if(!h)return!1;s(p)}return p[d].weakData},onFreeze:function(p){return c&&b.REQUIRED&&y(p)&&!f(p,d)&&s(p),p}};u[d]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(w,i,a){var s,u,l,f,v,m,c,d,g=w("../internals/native-weak-map"),_=w("../internals/global"),y=w("../internals/is-object"),b=w("../internals/create-non-enumerable-property"),p=w("../internals/has"),h=w("../internals/shared-key"),w=w("../internals/hidden-keys"),_=_.WeakMap;c=g?(s=new _,u=s.get,l=s.has,f=s.set,v=function(j,E){return f.call(s,j,E),E},m=function(j){return u.call(s,j)||{}},function(j){return l.call(s,j)}):(w[d=h("state")]=!0,v=function(j,E){return b(j,d,E),E},m=function(j){return p(j,d)?j[d]:{}},function(j){return p(j,d)}),i.exports={set:v,get:m,has:c,enforce:function(j){return c(j)?m(j):v(j,{})},getterFor:function(j){return function(E){if(y(E)&&(E=m(E)).type===j)return E;throw TypeError("Incompatible receiver, "+j+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(t,i,a){var s=t("../internals/well-known-symbol"),u=t("../internals/iterators"),l=s("iterator"),f=Array.prototype;i.exports=function(v){return v!==void 0&&(u.Array===v||f[l]===v)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(t,i,a){var s=t("../internals/classof-raw");i.exports=Array.isArray||function(u){return s(u)=="Array"}},{"../internals/classof-raw":28}],74:[function(t,i,a){function s(d,g){return(d=v[f(d)])==c||d!=m&&(typeof g=="function"?u(g):!!g)}var u=t("../internals/fails"),l=/#|\.prototype\./,f=s.normalize=function(d){return String(d).replace(l,".").toLowerCase()},v=s.data={},m=s.NATIVE="N",c=s.POLYFILL="P";i.exports=s},{"../internals/fails":51}],75:[function(t,i,a){i.exports=function(s){return typeof s=="object"?s!==null:typeof s=="function"}},{}],76:[function(t,i,a){i.exports=!1},{}],77:[function(t,i,a){var s=t("../internals/is-object"),u=t("../internals/classof-raw"),l=t("../internals/well-known-symbol")("match");i.exports=function(f){var v;return s(f)&&((v=f[l])!==void 0?!!v:u(f)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(t,i,a){function s(d,g){this.stopped=d,this.result=g}var u=t("../internals/an-object"),l=t("../internals/is-array-iterator-method"),f=t("../internals/to-length"),v=t("../internals/function-bind-context"),m=t("../internals/get-iterator-method"),c=t("../internals/call-with-safe-iteration-closing");(i.exports=function(d,g,y,b,p){var h,w,_,j,E,S,C=v(g,y,b?2:1);if(p)h=d;else{if(typeof(g=m(d))!="function")throw TypeError("Target is not iterable");if(l(g)){for(w=0,_=f(d.length);w<_;w++)if((j=b?C(u(S=d[w])[0],S[1]):C(d[w]))&&j instanceof s)return j;return new s(!1)}h=g.call(d)}for(E=h.next;!(S=E.call(h)).done;)if(typeof(j=c(h,C,S.value,b))=="object"&&j&&j instanceof s)return j;return new s(!1)}).stop=function(d){return new s(!0,d)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(m,i,a){var s,u,l=m("../internals/object-get-prototype-of"),f=m("../internals/create-non-enumerable-property"),v=m("../internals/has"),c=m("../internals/well-known-symbol"),m=m("../internals/is-pure"),c=c("iterator"),d=!1;[].keys&&("next"in(u=[].keys())?(l=l(l(u)))!==Object.prototype&&(s=l):d=!0),s==null&&(s={}),m||v(s,c)||f(s,c,function(){return this}),i.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:d}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(t,i,a){i.exports={}},{}],81:[function(t,i,a){i.exports=Math.sign||function(s){return(s=+s)==0||s!=s?s:s<0?-1:1}},{}],82:[function(b,i,a){var s,u,l,f,v,m,c,d,g=b("../internals/global"),E=b("../internals/object-get-own-property-descriptor").f,j=b("../internals/classof-raw"),y=b("../internals/task").set,b=b("../internals/engine-is-ios"),p=g.MutationObserver||g.WebKitMutationObserver,h=g.process,w=g.Promise,_=j(h)=="process",j=E(g,"queueMicrotask"),E=j&&j.value;E||(s=function(){var S,C;for(_&&(S=h.domain)&&S.exit();u;){C=u.fn,u=u.next;try{C()}catch(M){throw u?f():l=void 0,M}}l=void 0,S&&S.enter()},f=_?function(){h.nextTick(s)}:p&&!b?(v=!0,m=document.createTextNode(""),new p(s).observe(m,{characterData:!0}),function(){m.data=v=!v}):w&&w.resolve?(c=w.resolve(void 0),d=c.then,function(){d.call(c,s)}):function(){y.call(g,s)}),i.exports=E||function(S){S={fn:S,next:void 0},l&&(l.next=S),u||(u=S,f()),l=S}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(t,i,a){t=t("../internals/global"),i.exports=t.Promise},{"../internals/global":60}],84:[function(t,i,a){t=t("../internals/fails"),i.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(t,i,a){var s=t("../internals/fails"),u=t("../internals/well-known-symbol"),l=t("../internals/is-pure"),f=u("iterator");i.exports=!s(function(){var v=new URL("b?a=1&b=2&c=3","http://a"),m=v.searchParams,c="";return v.pathname="c%20d",m.forEach(function(d,g){m.delete("b"),c+=g+d}),l&&!v.toJSON||!m.sort||v.href!=="http://a/c%20d?a=1&c=3"||m.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!m[f]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||c!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(s,i,a){var u=s("../internals/global"),s=s("../internals/inspect-source"),u=u.WeakMap;i.exports=typeof u=="function"&&/native code/.test(s(u))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(t,i,a){function s(l){var f,v;this.promise=new l(function(m,c){if(f!==void 0||v!==void 0)throw TypeError("Bad Promise constructor");f=m,v=c}),this.resolve=u(f),this.reject=u(v)}var u=t("../internals/a-function");i.exports.f=function(l){return new s(l)}},{"../internals/a-function":5}],88:[function(t,i,a){var s=t("../internals/is-regexp");i.exports=function(u){if(s(u))throw TypeError("The method doesn't accept regular expressions");return u}},{"../internals/is-regexp":77}],89:[function(t,i,a){var s=t("../internals/global").isFinite;i.exports=Number.isFinite||function(u){return typeof u=="number"&&s(u)}},{"../internals/global":60}],90:[function(t,i,a){var s=t("../internals/descriptors"),u=t("../internals/fails"),l=t("../internals/object-keys"),f=t("../internals/object-get-own-property-symbols"),v=t("../internals/object-property-is-enumerable"),m=t("../internals/to-object"),c=t("../internals/indexed-object"),d=Object.assign,g=Object.defineProperty;i.exports=!d||u(function(){var y,b,p,h;return!(!s||d({b:1},d(g({},"a",{enumerable:!0,get:function(){g(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(b={},h="abcdefghijklmnopqrst",(y={})[p=Symbol()]=7,h.split("").forEach(function(w){b[w]=w}),d({},y)[p]!=7||l(d({},b)).join("")!=h)})?function(y,b){for(var p=m(y),h=arguments.length,w=1,_=f.f,j=v.f;w<h;)for(var E,S=c(arguments[w++]),C=_?l(S).concat(_(S)):l(S),M=C.length,A=0;A<M;)E=C[A++],s&&!j.call(S,E)||(p[E]=S[E]);return p}:d},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(g,i,a){function s(){}var u,l=g("../internals/an-object"),f=g("../internals/object-define-properties"),v=g("../internals/enum-bug-keys"),m=g("../internals/hidden-keys"),c=g("../internals/html"),d=g("../internals/document-create-element"),g=g("../internals/shared-key"),y="prototype",b="script",p=g("IE_PROTO"),h=function(_){return"<"+b+">"+_+"</"+b+">"},w=function(){try{u=document.domain&&new ActiveXObject("htmlfile")}catch{}w=u?((_=u).write(h("")),_.close(),j=_.parentWindow.Object,_=null,j):(_=d("iframe"),j="java"+b+":",_.style.display="none",c.appendChild(_),_.src=String(j),(j=_.contentWindow.document).open(),j.write(h("document.F=Object")),j.close(),j.F);for(var _,j,E=v.length;E--;)delete w[y][v[E]];return w()};m[p]=!0,i.exports=Object.create||function(_,j){var E;return _!==null?(s[y]=l(_),E=new s,s[y]=null,E[p]=_):E=w(),j===void 0?E:f(E,j)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(t,i,a){var s=t("../internals/descriptors"),u=t("../internals/object-define-property"),l=t("../internals/an-object"),f=t("../internals/object-keys");i.exports=s?Object.defineProperties:function(v,m){l(v);for(var c,d=f(m),g=d.length,y=0;y<g;)u.f(v,c=d[y++],m[c]);return v}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(t,i,a){var s=t("../internals/descriptors"),u=t("../internals/ie8-dom-define"),l=t("../internals/an-object"),f=t("../internals/to-primitive"),v=Object.defineProperty;a.f=s?v:function(m,c,d){if(l(m),c=f(c,!0),l(d),u)try{return v(m,c,d)}catch{}if("get"in d||"set"in d)throw TypeError("Accessors not supported");return"value"in d&&(m[c]=d.value),m}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(t,i,a){var s=t("../internals/descriptors"),u=t("../internals/object-property-is-enumerable"),l=t("../internals/create-property-descriptor"),f=t("../internals/to-indexed-object"),v=t("../internals/to-primitive"),m=t("../internals/has"),c=t("../internals/ie8-dom-define"),d=Object.getOwnPropertyDescriptor;a.f=s?d:function(g,y){if(g=f(g),y=v(y,!0),c)try{return d(g,y)}catch{}if(m(g,y))return l(!u.f.call(g,y),g[y])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(t,i,a){var s=t("../internals/to-indexed-object"),u=t("../internals/object-get-own-property-names").f,l={}.toString,f=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];i.exports.f=function(v){if(!f||l.call(v)!="[object Window]")return u(s(v));try{return u(v)}catch{return f.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(t,i,a){var s=t("../internals/object-keys-internal"),u=t("../internals/enum-bug-keys").concat("length","prototype");a.f=Object.getOwnPropertyNames||function(l){return s(l,u)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(t,i,a){a.f=Object.getOwnPropertySymbols},{}],98:[function(f,i,a){var s=f("../internals/has"),u=f("../internals/to-object"),l=f("../internals/shared-key"),f=f("../internals/correct-prototype-getter"),v=l("IE_PROTO"),m=Object.prototype;i.exports=f?Object.getPrototypeOf:function(c){return c=u(c),s(c,v)?c[v]:typeof c.constructor=="function"&&c instanceof c.constructor?c.constructor.prototype:c instanceof Object?m:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(t,i,a){var s=t("../internals/has"),u=t("../internals/to-indexed-object"),l=t("../internals/array-includes").indexOf,f=t("../internals/hidden-keys");i.exports=function(v,m){var c,d=u(v),g=0,y=[];for(c in d)!s(f,c)&&s(d,c)&&y.push(c);for(;m.length>g;)!s(d,c=m[g++])||~l(y,c)||y.push(c);return y}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(t,i,a){var s=t("../internals/object-keys-internal"),u=t("../internals/enum-bug-keys");i.exports=Object.keys||function(l){return s(l,u)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(t,i,a){var s={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,l=u&&!s.call({1:2},1);a.f=l?function(f){return f=u(this,f),!!f&&f.enumerable}:s},{}],102:[function(t,i,a){var s=t("../internals/an-object"),u=t("../internals/a-possible-prototype");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l,f=!1,v={};try{(l=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(v,[]),f=v instanceof Array}catch{}return function(m,c){return s(m),u(c),f?l.call(m,c):m.__proto__=c,m}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(t,i,a){function s(m){return function(c){for(var d,g=f(c),y=l(g),b=y.length,p=0,h=[];p<b;)d=y[p++],u&&!v.call(g,d)||h.push(m?[d,g[d]]:g[d]);return h}}var u=t("../internals/descriptors"),l=t("../internals/object-keys"),f=t("../internals/to-indexed-object"),v=t("../internals/object-property-is-enumerable").f;i.exports={entries:s(!0),values:s(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(t,i,a){var s=t("../internals/to-string-tag-support"),u=t("../internals/classof");i.exports=s?{}.toString:function(){return"[object "+u(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(t,i,a){var s=t("../internals/get-built-in"),u=t("../internals/object-get-own-property-names"),l=t("../internals/object-get-own-property-symbols"),f=t("../internals/an-object");i.exports=s("Reflect","ownKeys")||function(v){var m=u.f(f(v)),c=l.f;return c?m.concat(c(v)):m}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(t,i,a){t=t("../internals/global"),i.exports=t},{"../internals/global":60}],107:[function(t,i,a){i.exports=function(s){try{return{error:!1,value:s()}}catch(u){return{error:!0,value:u}}}},{}],108:[function(t,i,a){var s=t("../internals/an-object"),u=t("../internals/is-object"),l=t("../internals/new-promise-capability");i.exports=function(f,v){return s(f),u(v)&&v.constructor===f?v:((0,(f=l.f(f)).resolve)(v),f.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(t,i,a){var s=t("../internals/redefine");i.exports=function(u,l,f){for(var v in l)s(u,v,l[v],f);return u}},{"../internals/redefine":110}],110:[function(m,i,a){var s=m("../internals/global"),u=m("../internals/create-non-enumerable-property"),l=m("../internals/has"),f=m("../internals/set-global"),v=m("../internals/inspect-source"),m=m("../internals/internal-state"),c=m.get,d=m.enforce,g=String(String).split("String");(i.exports=function(y,b,p,j){var w=!!j&&!!j.unsafe,_=!!j&&!!j.enumerable,j=!!j&&!!j.noTargetGet;typeof p=="function"&&(typeof b!="string"||l(p,"name")||u(p,"name",b),d(p).source=g.join(typeof b=="string"?b:"")),y===s?_?y[b]=p:f(b,p):(w?!j&&y[b]&&(_=!0):delete y[b],_?y[b]=p:u(y,b,p))})(Function.prototype,"toString",function(){return typeof this=="function"&&c(this).source||v(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(t,i,a){var s=t("./classof-raw"),u=t("./regexp-exec");i.exports=function(l,f){var v=l.exec;if(typeof v=="function"){if(v=v.call(l,f),typeof v!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return v}if(s(l)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return u.call(l,f)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(f,i,a){var s,u,l=f("./regexp-flags"),f=f("./regexp-sticky-helpers"),v=RegExp.prototype.exec,m=String.prototype.replace,c=v,d=(s=/a/,u=/b*/g,v.call(s,"a"),v.call(u,"a"),s.lastIndex!==0||u.lastIndex!==0),g=f.UNSUPPORTED_Y||f.BROKEN_CARET,y=/()??/.exec("")[1]!==void 0;i.exports=c=d||y||g?function(b){var p,h,w,_,j=this,E=g&&j.sticky,S=l.call(j),C=j.source,M=0,A=b;return E&&((S=S.replace("y","")).indexOf("g")===-1&&(S+="g"),A=String(b).slice(j.lastIndex),0<j.lastIndex&&(!j.multiline||j.multiline&&b[j.lastIndex-1]!==`
`)&&(C="(?: "+C+")",A=" "+A,M++),h=new RegExp("^(?:"+C+")",S)),y&&(h=new RegExp("^"+C+"$(?!\\s)",S)),d&&(p=j.lastIndex),w=v.call(E?h:j,A),E?w?(w.input=w.input.slice(M),w[0]=w[0].slice(M),w.index=j.lastIndex,j.lastIndex+=w[0].length):j.lastIndex=0:d&&w&&(j.lastIndex=j.global?w.index+w[0].length:p),y&&w&&1<w.length&&m.call(w[0],h,function(){for(_=1;_<arguments.length-2;_++)arguments[_]===void 0&&(w[_]=void 0)}),w}:c},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(t,i,a){var s=t("../internals/an-object");i.exports=function(){var u=s(this),l="";return u.global&&(l+="g"),u.ignoreCase&&(l+="i"),u.multiline&&(l+="m"),u.dotAll&&(l+="s"),u.unicode&&(l+="u"),u.sticky&&(l+="y"),l}},{"../internals/an-object":10}],114:[function(t,i,a){t=t("./fails");function s(u,l){return RegExp(u,l)}a.UNSUPPORTED_Y=t(function(){var u=s("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),a.BROKEN_CARET=t(function(){var u=s("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},{"./fails":51}],115:[function(t,i,a){i.exports=function(s){if(s==null)throw TypeError("Can't call method on "+s);return s}},{}],116:[function(t,i,a){i.exports=Object.is||function(s,u){return s===u?s!==0||1/s==1/u:s!=s&&u!=u}},{}],117:[function(t,i,a){var s=t("../internals/global"),u=t("../internals/create-non-enumerable-property");i.exports=function(l,f){try{u(s,l,f)}catch{s[l]=f}return f}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(t,i,a){var s=t("../internals/get-built-in"),u=t("../internals/object-define-property"),l=t("../internals/well-known-symbol"),f=t("../internals/descriptors"),v=l("species");i.exports=function(c){var c=s(c),d=u.f;f&&c&&!c[v]&&d(c,v,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(t,i,a){var s=t("../internals/object-define-property").f,u=t("../internals/has"),l=t("../internals/well-known-symbol")("toStringTag");i.exports=function(f,v,m){f&&!u(f=m?f:f.prototype,l)&&s(f,l,{configurable:!0,value:v})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(t,i,a){var s=t("../internals/shared"),u=t("../internals/uid"),l=s("keys");i.exports=function(f){return l[f]||(l[f]=u(f))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(s,i,a){var l=s("../internals/global"),s=s("../internals/set-global"),u="__core-js_shared__",l=l[u]||s(u,{});i.exports=l},{"../internals/global":60,"../internals/set-global":117}],122:[function(t,i,a){var s=t("../internals/is-pure"),u=t("../internals/shared-store");(i.exports=function(l,f){return u[l]||(u[l]=f!==void 0?f:{})})("versions",[]).push({version:"3.6.5",mode:s?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(t,i,a){var s=t("../internals/an-object"),u=t("../internals/a-function"),l=t("../internals/well-known-symbol")("species");i.exports=function(m,v){var m=s(m).constructor;return m===void 0||(m=s(m)[l])==null?v:u(m)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(t,i,a){var s=t("../internals/fails");i.exports=function(u){return s(function(){var l=""[u]('"');return l!==l.toLowerCase()||3<l.split('"').length})}},{"../internals/fails":51}],125:[function(t,i,a){function s(f){return function(d,g){var c,d=String(l(d)),g=u(g),y=d.length;return g<0||y<=g?f?"":void 0:(c=d.charCodeAt(g))<55296||56319<c||g+1===y||(y=d.charCodeAt(g+1))<56320||57343<y?f?d.charAt(g):c:f?d.slice(g,g+2):y-56320+(c-55296<<10)+65536}}var u=t("../internals/to-integer"),l=t("../internals/require-object-coercible");i.exports={codeAt:s(!1),charAt:s(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(t,i,a){t=t("../internals/engine-user-agent"),i.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],127:[function(t,i,a){function s(m){return function(y,h,p){var y=String(f(y)),b=y.length,p=p===void 0?" ":String(p),h=u(h);return h<=b||p==""?y:((b=l.call(p,v((h=h-b)/p.length))).length>h&&(b=b.slice(0,h)),m?y+b:b+y)}}var u=t("../internals/to-length"),l=t("../internals/string-repeat"),f=t("../internals/require-object-coercible"),v=Math.ceil;i.exports={start:s(!1),end:s(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(t,i,a){function s(w){return w+22+75*(w<26)}function u(w){var _,j=[],E=(w=function(X){for(var K=[],re=0,T=X.length;re<T;){var L,G=X.charCodeAt(re++);55296<=G&&G<=56319&&re<T?(64512&(L=X.charCodeAt(re++)))==56320?K.push(((1023&G)<<10)+(1023&L)+65536):(K.push(G),re--):K.push(G)}return K}(w)).length,S=128,C=0,M=72;for(I=0;I<w.length;I++)(_=w[I])<128&&j.push(h(_));var A=j.length,P=A;for(A&&j.push("-");P<E;){for(var D=l,I=0;I<w.length;I++)S<=(_=w[I])&&_<D&&(D=_);var U=P+1;if(D-S>p((l-C)/U))throw RangeError(y);for(C+=(D-S)*U,S=D,I=0;I<w.length;I++){if((_=w[I])<S&&++C>l)throw RangeError(y);if(_==S){for(var N=C,B=f;;B+=f){var W=B<=M?1:M+v<=B?v:B-M;if(N<W)break;var z=N-W,V=f-W;j.push(h(s(W+z%V))),N=p(z/V)}j.push(h(s(N))),M=function(X,K,re){var T=0;for(X=re?p(X/c):X>>1,X+=p(X/K);b*v>>1<X;T+=f)X=p(X/b);return p(T+(b+1)*X/(X+m))}(C,U,P==A),C=0,++P}}++C,++S}return j.join("")}var l=2147483647,f=36,v=26,m=38,c=700,d=/[^\0-\u007E]/,g=/[.\u3002\uFF0E\uFF61]/g,y="Overflow: input needs wider integers to process",b=f-1,p=Math.floor,h=String.fromCharCode;i.exports=function(w){for(var _,j=[],E=w.toLowerCase().replace(g,".").split("."),S=0;S<E.length;S++)_=E[S],j.push(d.test(_)?"xn--"+u(_):_);return j.join(".")}},{}],129:[function(t,i,a){var s=t("../internals/to-integer"),u=t("../internals/require-object-coercible");i.exports="".repeat||function(l){var f=String(u(this)),v="",m=s(l);if(m<0||m==1/0)throw RangeError("Wrong number of repetitions");for(;0<m;(m>>>=1)&&(f+=f))1&m&&(v+=f);return v}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(t,i,a){var s=t("../internals/fails"),u=t("../internals/whitespaces");i.exports=function(l){return s(function(){return!!u[l]()||"​᠎"[l]()!="​᠎"||u[l].name!==l})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(l,i,a){function s(m){return function(c){return c=String(u(c)),1&m&&(c=c.replace(f,"")),c=2&m?c.replace(v,""):c}}var u=l("../internals/require-object-coercible"),l="["+l("../internals/whitespaces")+"]",f=RegExp("^"+l+l+"*"),v=RegExp(l+l+"*$");i.exports={start:s(1),end:s(2),trim:s(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(b,i,a){function s(P){return function(){A(P)}}function u(P){A(P.data)}function l(P){v.postMessage(P+"",p.protocol+"//"+p.host)}var f,v=b("../internals/global"),m=b("../internals/fails"),c=b("../internals/classof-raw"),d=b("../internals/function-bind-context"),g=b("../internals/html"),y=b("../internals/document-create-element"),b=b("../internals/engine-is-ios"),p=v.location,h=v.setImmediate,w=v.clearImmediate,_=v.process,j=v.MessageChannel,E=v.Dispatch,S=0,C={},M="onreadystatechange",A=function(P){var D;C.hasOwnProperty(P)&&(D=C[P],delete C[P],D())};h&&w||(h=function(P){for(var D=[],I=1;I<arguments.length;)D.push(arguments[I++]);return C[++S]=function(){(typeof P=="function"?P:Function(P)).apply(void 0,D)},f(S),S},w=function(P){delete C[P]},c(_)=="process"?f=function(P){_.nextTick(s(P))}:E&&E.now?f=function(P){E.now(s(P))}:j&&!b?(b=(c=new j).port2,c.port1.onmessage=u,f=d(b.postMessage,b,1)):!v.addEventListener||typeof postMessage!="function"||v.importScripts||m(l)||p.protocol==="file:"?f=M in y("script")?function(P){g.appendChild(y("script"))[M]=function(){g.removeChild(this),A(P)}}:function(P){setTimeout(s(P),0)}:(f=l,v.addEventListener("message",u,!1))),i.exports={set:h,clear:w}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(t,i,a){var s=t("../internals/classof-raw");i.exports=function(u){if(typeof u!="number"&&s(u)!="Number")throw TypeError("Incorrect invocation");return+u}},{"../internals/classof-raw":28}],134:[function(t,i,a){var s=t("../internals/to-integer"),u=Math.max,l=Math.min;i.exports=function(f,v){return f=s(f),f<0?u(f+v,0):l(f,v)}},{"../internals/to-integer":137}],135:[function(t,i,a){var s=t("../internals/to-integer"),u=t("../internals/to-length");i.exports=function(f){if(f===void 0)return 0;var f=s(f),v=u(f);if(f!==v)throw RangeError("Wrong length or index");return v}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(t,i,a){var s=t("../internals/indexed-object"),u=t("../internals/require-object-coercible");i.exports=function(l){return s(u(l))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(t,i,a){var s=Math.ceil,u=Math.floor;i.exports=function(l){return isNaN(l=+l)?0:(0<l?u:s)(l)}},{}],138:[function(t,i,a){var s=t("../internals/to-integer"),u=Math.min;i.exports=function(l){return 0<l?u(s(l),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(t,i,a){var s=t("../internals/require-object-coercible");i.exports=function(u){return Object(s(u))}},{"../internals/require-object-coercible":115}],140:[function(t,i,a){var s=t("../internals/to-positive-integer");i.exports=function(u,l){if(u=s(u),u%l)throw RangeError("Wrong offset");return u}},{"../internals/to-positive-integer":141}],141:[function(t,i,a){var s=t("../internals/to-integer");i.exports=function(u){if(u=s(u),u<0)throw RangeError("The argument can't be less than 0");return u}},{"../internals/to-integer":137}],142:[function(t,i,a){var s=t("../internals/is-object");i.exports=function(u,l){if(!s(u))return u;var f,v;if(l&&typeof(f=u.toString)=="function"&&!s(v=f.call(u))||typeof(f=u.valueOf)=="function"&&!s(v=f.call(u))||!l&&typeof(f=u.toString)=="function"&&!s(v=f.call(u)))return v;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(t,i,a){var s={};s[t("../internals/well-known-symbol")("toStringTag")]="z",i.exports=String(s)==="[object z]"},{"../internals/well-known-symbol":150}],144:[function(t,i,a){function s(ge,ye){for(var _e=0,Le=ye.length,Ce=new(Z(ge))(Le);_e<Le;)Ce[_e]=ye[_e++];return Ce}function u(ge,ye){L(ge,ye,{get:function(){return re(this)[ye]}})}function l(ge){return ge instanceof ee||(ge=A(ge))=="ArrayBuffer"||ge=="SharedArrayBuffer"}function f(ge,ye){return ue(ge)&&typeof ye!="symbol"&&ye in ge&&String(+ye)==String(ye)}function v(ge,ye){return f(ge,ye=C(ye,!0))?w(2,ge[ye]):G(ge,ye)}function m(ge,ye,_e){return!(f(ge,ye=C(ye,!0))&&P(_e)&&M(_e,"value"))||M(_e,"get")||M(_e,"set")||_e.configurable||M(_e,"writable")&&!_e.writable||M(_e,"enumerable")&&!_e.enumerable?L(ge,ye,_e):(ge[ye]=_e.value,ge)}var c=t("../internals/export"),d=t("../internals/global"),g=t("../internals/descriptors"),y=t("../internals/typed-array-constructors-require-wrappers"),b=t("../internals/array-buffer-view-core"),p=t("../internals/array-buffer"),h=t("../internals/an-instance"),w=t("../internals/create-property-descriptor"),_=t("../internals/create-non-enumerable-property"),j=t("../internals/to-length"),E=t("../internals/to-index"),S=t("../internals/to-offset"),C=t("../internals/to-primitive"),M=t("../internals/has"),A=t("../internals/classof"),P=t("../internals/is-object"),D=t("../internals/object-create"),I=t("../internals/object-set-prototype-of"),U=t("../internals/object-get-own-property-names").f,N=t("../internals/typed-array-from"),B=t("../internals/array-iteration").forEach,W=t("../internals/set-species"),z=t("../internals/object-define-property"),V=t("../internals/object-get-own-property-descriptor"),X=t("../internals/internal-state"),K=t("../internals/inherit-if-required"),re=X.get,T=X.set,L=z.f,G=V.f,H=Math.round,J=d.RangeError,ee=p.ArrayBuffer,ie=p.DataView,fe=b.NATIVE_ARRAY_BUFFER_VIEWS,oe=b.TYPED_ARRAY_TAG,de=b.TypedArray,ae=b.TypedArrayPrototype,Z=b.aTypedArrayConstructor,ue=b.isTypedArray,pe="BYTES_PER_ELEMENT",we="Wrong length";g?(fe||(V.f=v,z.f=m,u(ae,"buffer"),u(ae,"byteOffset"),u(ae,"byteLength"),u(ae,"length")),c({target:"Object",stat:!0,forced:!fe},{getOwnPropertyDescriptor:v,defineProperty:m}),i.exports=function(xe,ye,_e){function Le(ke,Q){L(ke,Q,{get:function(){var ne=this,Y=Q;return(ne=re(ne)).view[$e](Y*Ce+ne.byteOffset,!0)},set:function(ne){var Y=this,se=Q;Y=re(Y),_e&&(ne=(ne=H(ne))<0?0:255<ne?255:255&ne),Y.view[ze](se*Ce+Y.byteOffset,ne,!0)},enumerable:!0})}var Ce=xe.match(/\d+$/)[0]/8,tt=xe+(_e?"Clamped":"")+"Array",$e="get"+xe,ze="set"+xe,Xe=d[tt],Ye=Xe,xe=Ye&&Ye.prototype,De={};fe?y&&(Ye=ye(function(ke,Q,ne,Y){return h(ke,Ye,tt),K(P(Q)?l(Q)?Y!==void 0?new Xe(Q,S(ne,Ce),Y):ne!==void 0?new Xe(Q,S(ne,Ce)):new Xe(Q):ue(Q)?s(Ye,Q):N.call(Ye,Q):new Xe(E(Q)),ke,Ye)}),I&&I(Ye,de),B(U(Xe),function(ke){ke in Ye||_(Ye,ke,Xe[ke])}),Ye.prototype=xe):(Ye=ye(function(ke,Q,ne,Y){h(ke,Ye,tt);var se,ve,Ee=0,Ae=0;if(P(Q)){if(!l(Q))return ue(Q)?s(Ye,Q):N.call(Ye,Q);var Be=Q,Ae=S(ne,Ce),ne=Q.byteLength;if(Y===void 0){if(ne%Ce||(se=ne-Ae)<0)throw J(we)}else if(ne<(se=j(Y)*Ce)+Ae)throw J(we);ve=se/Ce}else ve=E(Q),Be=new ee(se=ve*Ce);for(T(ke,{buffer:Be,byteOffset:Ae,byteLength:se,length:ve,view:new ie(Be)});Ee<ve;)Le(ke,Ee++)}),I&&I(Ye,de),xe=Ye.prototype=D(ae)),xe.constructor!==Ye&&_(xe,"constructor",Ye),oe&&_(xe,oe,tt),De[tt]=Ye,c({global:!0,forced:Ye!=Xe,sham:!fe},De),pe in Ye||_(Ye,pe,Ce),pe in xe||_(xe,pe,Ce),W(tt)}):i.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(f,i,a){var s=f("../internals/global"),u=f("../internals/fails"),l=f("../internals/check-correctness-of-iteration"),f=f("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,v=s.ArrayBuffer,m=s.Int8Array;i.exports=!f||!u(function(){m(1)})||!u(function(){new m(-1)})||!l(function(c){new m,new m(null),new m(1.5),new m(c)},!0)||u(function(){return new m(new v(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(t,i,a){var s=t("../internals/to-object"),u=t("../internals/to-length"),l=t("../internals/get-iterator-method"),f=t("../internals/is-array-iterator-method"),v=t("../internals/function-bind-context"),m=t("../internals/array-buffer-view-core").aTypedArrayConstructor;i.exports=function(c){var d,g,y,b,p,h,w=s(c),_=arguments.length,j=1<_?arguments[1]:void 0,E=j!==void 0,S=l(w);if(S!=null&&!f(S))for(h=(p=S.call(w)).next,w=[];!(b=h.call(p)).done;)w.push(b.value);for(E&&2<_&&(j=v(j,arguments[2],2)),g=u(w.length),y=new(m(this))(g),d=0;d<g;d++)y[d]=E?j(w[d],d):w[d];return y}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(t,i,a){var s=0,u=Math.random();i.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++s+u).toString(36)}},{}],148:[function(t,i,a){t=t("../internals/native-symbol"),i.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":84}],149:[function(t,i,a){t=t("../internals/well-known-symbol"),a.f=t},{"../internals/well-known-symbol":150}],150:[function(m,i,a){var s=m("../internals/global"),u=m("../internals/shared"),l=m("../internals/has"),f=m("../internals/uid"),v=m("../internals/native-symbol"),m=m("../internals/use-symbol-as-uid"),c=u("wks"),d=s.Symbol,g=m?d:d&&d.withoutSetter||f;i.exports=function(y){return l(c,y)||(v&&l(d,y)?c[y]=d[y]:c[y]=g("Symbol."+y)),c[y]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(t,i,a){i.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},{}],152:[function(l,i,a){var s=l("../internals/export"),u=l("../internals/global"),v=l("../internals/array-buffer"),l=l("../internals/set-species"),f="ArrayBuffer",v=v[f];s({global:!0,forced:u[f]!==v},{ArrayBuffer:v}),l(f)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(w,i,a){var s=w("../internals/export"),u=w("../internals/fails"),l=w("../internals/is-array"),f=w("../internals/is-object"),v=w("../internals/to-object"),m=w("../internals/to-length"),c=w("../internals/create-property"),d=w("../internals/array-species-create"),g=w("../internals/array-method-has-species-support"),h=w("../internals/well-known-symbol"),w=w("../internals/engine-v8-version"),y=h("isConcatSpreadable"),b=9007199254740991,p="Maximum allowed index exceeded",h=51<=w||!u(function(){var _=[];return _[y]=!1,_.concat()[0]!==_}),w=g("concat");s({target:"Array",proto:!0,forced:!h||!w},{concat:function(_){for(var j,E,S,C,M,A=v(this),P=d(A,0),D=0,I=-1,U=arguments.length;I<U;I++)if(M=void 0,!f(C=S=I===-1?A:arguments[I])||((M=C[y])!==void 0?!M:!l(C))){if(b<=D)throw TypeError(p);c(P,D++,S)}else{if(E=m(S.length),b<D+E)throw TypeError(p);for(j=0;j<E;j++,D++)j in S&&c(P,D,S[j])}return P.length=D,P}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(l,i,a){var s=l("../internals/export"),u=l("../internals/array-copy-within"),l=l("../internals/add-to-unscopables");s({target:"Array",proto:!0},{copyWithin:u}),l("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(f,i,a){var s=f("../internals/export"),u=f("../internals/array-iteration").every,l=f("../internals/array-method-is-strict"),f=f("../internals/array-method-uses-to-length"),l=l("every"),f=f("every");s({target:"Array",proto:!0,forced:!l||!f},{every:function(v){return u(this,v,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(l,i,a){var s=l("../internals/export"),u=l("../internals/array-fill"),l=l("../internals/add-to-unscopables");s({target:"Array",proto:!0},{fill:u}),l("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(f,i,a){var s=f("../internals/export"),u=f("../internals/array-iteration").filter,l=f("../internals/array-method-has-species-support"),f=f("../internals/array-method-uses-to-length"),l=l("filter"),f=f("filter");s({target:"Array",proto:!0,forced:!l||!f},{filter:function(v){return u(this,v,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(m,i,a){var s=m("../internals/export"),u=m("../internals/array-iteration").findIndex,l=m("../internals/add-to-unscopables"),m=m("../internals/array-method-uses-to-length"),f="findIndex",v=!0,m=m(f);f in[]&&Array(1)[f](function(){v=!1}),s({target:"Array",proto:!0,forced:v||!m},{findIndex:function(c){return u(this,c,1<arguments.length?arguments[1]:void 0)}}),l(f)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(t,i,a){var s=t("../internals/export"),u=t("../internals/flatten-into-array"),l=t("../internals/to-object"),f=t("../internals/to-length"),v=t("../internals/a-function"),m=t("../internals/array-species-create");s({target:"Array",proto:!0},{flatMap:function(c){var d,g=l(this),y=f(g.length);return v(c),(d=m(g,0)).length=u(d,g,g,y,0,1,c,1<arguments.length?arguments[1]:void 0),d}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(t,i,a){var s=t("../internals/export"),u=t("../internals/flatten-into-array"),l=t("../internals/to-object"),f=t("../internals/to-length"),v=t("../internals/to-integer"),m=t("../internals/array-species-create");s({target:"Array",proto:!0},{flat:function(){var c=arguments.length?arguments[0]:void 0,d=l(this),g=f(d.length),y=m(d,0);return y.length=u(y,d,d,g,0,c===void 0?1:v(c)),y}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(u,i,a){var s=u("../internals/export"),u=u("../internals/array-for-each");s({target:"Array",proto:!0,forced:[].forEach!=u},{forEach:u})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(t,i,a){var s=t("../internals/export"),u=t("../internals/array-from");s({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(l){Array.from(l)})},{from:u})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(t,i,a){var s=t("../internals/export"),u=t("../internals/array-includes").includes,l=t("../internals/add-to-unscopables");s({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(f){return u(this,f,1<arguments.length?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(m,i,a){var s=m("../internals/export"),u=m("../internals/array-includes").indexOf,v=m("../internals/array-method-is-strict"),m=m("../internals/array-method-uses-to-length"),l=[].indexOf,f=!!l&&1/[1].indexOf(1,-0)<0,v=v("indexOf"),m=m("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:f||!v||!m},{indexOf:function(c){return f?l.apply(this,arguments)||0:u(this,c,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(v,i,a){var s=v("../internals/to-indexed-object"),u=v("../internals/add-to-unscopables"),l=v("../internals/iterators"),f=v("../internals/internal-state"),v=v("../internals/define-iterator"),m="Array Iterator",c=f.set,d=f.getterFor(m);i.exports=v(Array,"Array",function(g,y){c(this,{type:m,target:s(g),index:0,kind:y})},function(){var g=d(this),y=g.target,b=g.kind,p=g.index++;return!y||p>=y.length?{value:g.target=void 0,done:!0}:b=="keys"?{value:p,done:!1}:b=="values"?{value:y[p],done:!1}:{value:[p,y[p]],done:!1}},"values"),l.Arguments=l.Array,u("keys"),u("values"),u("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(v,i,a){var s=v("../internals/export"),f=v("../internals/indexed-object"),u=v("../internals/to-indexed-object"),v=v("../internals/array-method-is-strict"),l=[].join,f=f!=Object,v=v("join",",");s({target:"Array",proto:!0,forced:f||!v},{join:function(m){return l.call(u(this),m===void 0?",":m)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(u,i,a){var s=u("../internals/export"),u=u("../internals/array-last-index-of");s({target:"Array",proto:!0,forced:u!==[].lastIndexOf},{lastIndexOf:u})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(f,i,a){var s=f("../internals/export"),u=f("../internals/array-iteration").map,l=f("../internals/array-method-has-species-support"),f=f("../internals/array-method-uses-to-length"),l=l("map"),f=f("map");s({target:"Array",proto:!0,forced:!l||!f},{map:function(v){return u(this,v,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(y,i,a){var s=y("../internals/export"),u=y("../internals/is-object"),l=y("../internals/is-array"),f=y("../internals/to-absolute-index"),v=y("../internals/to-length"),m=y("../internals/to-indexed-object"),c=y("../internals/create-property"),d=y("../internals/well-known-symbol"),g=y("../internals/array-method-has-species-support"),y=y("../internals/array-method-uses-to-length"),g=g("slice"),y=y("slice",{ACCESSORS:!0,0:0,1:2}),b=d("species"),p=[].slice,h=Math.max;s({target:"Array",proto:!0,forced:!g||!y},{slice:function(w,_){var j,E,S,C=m(this),M=v(C.length),A=f(w,M),P=f(_===void 0?M:_,M);if(l(C)&&((j=typeof(j=C.constructor)=="function"&&(j===Array||l(j.prototype))||u(j)&&(j=j[b])===null?void 0:j)===Array||j===void 0))return p.call(C,A,P);for(E=new(j===void 0?Array:j)(h(P-A,0)),S=0;A<P;A++,S++)A in C&&c(E,S,C[A]);return E.length=S,E}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(f,i,a){var s=f("../internals/export"),u=f("../internals/array-iteration").some,l=f("../internals/array-method-is-strict"),f=f("../internals/array-method-uses-to-length"),l=l("some"),f=f("some");s({target:"Array",proto:!0,forced:!l||!f},{some:function(v){return u(this,v,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(g,i,a){var s=g("../internals/export"),u=g("../internals/to-absolute-index"),l=g("../internals/to-integer"),f=g("../internals/to-length"),v=g("../internals/to-object"),m=g("../internals/array-species-create"),c=g("../internals/create-property"),d=g("../internals/array-method-has-species-support"),g=g("../internals/array-method-uses-to-length"),d=d("splice"),g=g("splice",{ACCESSORS:!0,0:0,1:2}),y=Math.max,b=Math.min;s({target:"Array",proto:!0,forced:!d||!g},{splice:function(D,h){var w,_,j,E,S,C,M=v(this),A=f(M.length),P=u(D,A),D=arguments.length;if(D===0?w=_=0:_=D===1?(w=0,A-P):(w=D-2,b(y(l(h),0),A-P)),9007199254740991<A+w-_)throw TypeError("Maximum allowed length exceeded");for(j=m(M,_),E=0;E<_;E++)(S=P+E)in M&&c(j,E,M[S]);if(w<(j.length=_)){for(E=P;E<A-_;E++)C=E+w,(S=E+_)in M?M[C]=M[S]:delete M[C];for(E=A;A-_+w<E;E--)delete M[E-1]}else if(_<w)for(E=A-_;P<E;E--)C=E+w-1,(S=E+_-1)in M?M[C]=M[S]:delete M[C];for(E=0;E<w;E++)M[E+P]=arguments[E+2];return M.length=A-_+w,j}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(t,i,a){t("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(t,i,a){t("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(u,i,a){var s=u("../internals/descriptors"),u=u("../internals/object-define-property").f,l=Function.prototype,f=l.toString,v=/^\s*function ([^ (]*)/;!s||"name"in l||u(l,"name",{configurable:!0,get:function(){try{return f.call(this).match(v)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(u,i,a){var s=u("../internals/collection"),u=u("../internals/collection-strong");i.exports=s("Map",function(l){return function(){return l(this,arguments.length?arguments[0]:void 0)}},u)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(s,i,a){var s=s("../internals/export"),u=Math.hypot,l=Math.abs,f=Math.sqrt;s({target:"Math",stat:!0,forced:!!u&&u(1/0,NaN)!==1/0},{hypot:function(v,m){for(var c,d,g=0,y=0,b=arguments.length,p=0;y<b;)p<(c=l(arguments[y++]))?(g=g*(d=p/c)*d+1,p=c):g+=0<c?(d=c/p)*d:c;return p===1/0?1/0:p*f(g)}})},{"../internals/export":50}],177:[function(s,i,a){var s=s("../internals/export"),u=Math.log,l=Math.LN2;s({target:"Math",stat:!0},{log2:function(f){return u(f)/l}})},{"../internals/export":50}],178:[function(t,i,a){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(t,i,a){function s(I){var U,N,B,W,z,V,X,K=g(I,!1);if(typeof K=="string"&&2<K.length){if((I=(K=_(K)).charCodeAt(0))===43||I===45){if((U=K.charCodeAt(2))===88||U===120)return NaN}else if(I===48){switch(K.charCodeAt(1)){case 66:case 98:N=2,B=49;break;case 79:case 111:N=8,B=55;break;default:return+K}for(z=(W=K.slice(2)).length,V=0;V<z;V++)if((X=W.charCodeAt(V))<48||B<X)return NaN;return parseInt(W,N)}}return+K}var u=t("../internals/descriptors"),l=t("../internals/global"),f=t("../internals/is-forced"),v=t("../internals/redefine"),m=t("../internals/has"),c=t("../internals/classof-raw"),d=t("../internals/inherit-if-required"),g=t("../internals/to-primitive"),y=t("../internals/fails"),b=t("../internals/object-create"),p=t("../internals/object-get-own-property-names").f,h=t("../internals/object-get-own-property-descriptor").f,w=t("../internals/object-define-property").f,_=t("../internals/string-trim").trim,j="Number",E=l[j],S=E.prototype,C=c(b(S))==j;if(f(j,!E(" 0o1")||!E("0b1")||E("+0x1"))){for(var M,A=function(U){var U=arguments.length<1?0:U,N=this;return N instanceof A&&(C?y(function(){S.valueOf.call(N)}):c(N)!=j)?d(new E(s(U)),N,A):s(U)},P=u?p(E):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),D=0;P.length>D;D++)m(E,M=P[D])&&!m(A,M)&&w(A,M,h(E,M));(A.prototype=S).constructor=A,v(l,j,A)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(t,i,a){t("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(t,i,a){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(m,i,a){function s(g,y,b){return y===0?b:y%2==1?s(g,y-1,b*g):s(g*g,y/2,b)}var u=m("../internals/export"),l=m("../internals/to-integer"),f=m("../internals/this-number-value"),v=m("../internals/string-repeat"),m=m("../internals/fails"),c=1 .toFixed,d=Math.floor;u({target:"Number",proto:!0,forced:c&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!m(function(){c.call({})})},{toFixed:function(j){function y(M,A){for(var P=-1,D=A;++P<6;)D+=M*E[P],E[P]=D%1e7,D=d(D/1e7)}function b(M){for(var A=6,P=0;0<=--A;)P+=E[A],E[A]=d(P/M),P=P%M*1e7}function p(){for(var M,A=6,P="";0<=--A;)P===""&&A!==0&&E[A]===0||(M=String(E[A]),P=P===""?M:P+v.call("0",7-M.length)+M);return P}var h,w,_=f(this),j=l(j),E=[0,0,0,0,0,0],S="",C="0";if(j<0||20<j)throw RangeError("Incorrect fraction digits");if(_!=_)return"NaN";if(_<=-1e21||1e21<=_)return String(_);if(_<0&&(S="-",_=-_),1e-21<_)if(_=(h=function(M){for(var A=0,P=M;4096<=P;)A+=12,P/=4096;for(;2<=P;)A+=1,P/=2;return A}(_*s(2,69,1))-69)<0?_*s(2,-h,1):_/s(2,h,1),_*=4503599627370496,0<(h=52-h)){for(y(0,_),w=j;7<=w;)y(1e7,0),w-=7;for(y(s(10,w,1),0),w=h-1;23<=w;)b(1<<23),w-=23;b(1<<w),y(1,1),b(2),C=p()}else y(0,_),y(1<<-h,0),C=p()+v.call("0",j);return C=0<j?S+((_=C.length)<=j?"0."+v.call("0",j-_)+C:C.slice(0,_-j)+"."+C.slice(_-j)):S+C}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(u,i,a){var s=u("../internals/export"),u=u("../internals/object-assign");s({target:"Object",stat:!0,forced:Object.assign!==u},{assign:u})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(t,i,a){var s=t("../internals/export"),u=t("../internals/object-to-array").entries;s({target:"Object",stat:!0},{entries:function(l){return u(l)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(t,i,a){var s=t("../internals/export"),u=t("../internals/iterate"),l=t("../internals/create-property");s({target:"Object",stat:!0},{fromEntries:function(f){var v={};return u(f,function(m,c){l(v,m,c)},void 0,!0),v}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(f,i,a){var s=f("../internals/export"),v=f("../internals/fails"),u=f("../internals/to-indexed-object"),l=f("../internals/object-get-own-property-descriptor").f,f=f("../internals/descriptors"),v=v(function(){l(1)});s({target:"Object",stat:!0,forced:!f||v,sham:!f},{getOwnPropertyDescriptor:function(m,c){return l(u(m),c)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(l,i,a){var s=l("../internals/export"),u=l("../internals/fails"),l=l("../internals/object-get-own-property-names-external").f;s({target:"Object",stat:!0,forced:u(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:l})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(v,i,a){var s=v("../internals/export"),u=v("../internals/fails"),l=v("../internals/to-object"),f=v("../internals/object-get-prototype-of"),v=v("../internals/correct-prototype-getter");s({target:"Object",stat:!0,forced:u(function(){f(1)}),sham:!v},{getPrototypeOf:function(m){return f(l(m))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(t,i,a){var s=t("../internals/export"),u=t("../internals/to-object"),l=t("../internals/object-keys");s({target:"Object",stat:!0,forced:t("../internals/fails")(function(){l(1)})},{keys:function(f){return l(u(f))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(l,i,a){var s=l("../internals/to-string-tag-support"),u=l("../internals/redefine"),l=l("../internals/object-to-string");s||u(Object.prototype,"toString",l,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(_e,i,a){var s,u,l,f,v=_e("../internals/export"),m=_e("../internals/is-pure"),c=_e("../internals/global"),d=_e("../internals/get-built-in"),g=_e("../internals/native-promise-constructor"),y=_e("../internals/redefine"),b=_e("../internals/redefine-all"),p=_e("../internals/set-to-string-tag"),h=_e("../internals/set-species"),w=_e("../internals/is-object"),_=_e("../internals/a-function"),j=_e("../internals/an-instance"),E=_e("../internals/classof-raw"),S=_e("../internals/inspect-source"),C=_e("../internals/iterate"),M=_e("../internals/check-correctness-of-iteration"),A=_e("../internals/species-constructor"),P=_e("../internals/task").set,D=_e("../internals/microtask"),I=_e("../internals/promise-resolve"),U=_e("../internals/host-report-errors"),N=_e("../internals/new-promise-capability"),B=_e("../internals/perform"),W=_e("../internals/internal-state"),z=_e("../internals/is-forced"),Le=_e("../internals/well-known-symbol"),V=_e("../internals/engine-v8-version"),X=Le("species"),K="Promise",re=W.get,T=W.set,L=W.getterFor(K),G=g,H=c.TypeError,J=c.document,ee=c.process,ie=d("fetch"),fe=N.f,oe=fe,de=E(ee)=="process",ae=!!(J&&J.createEvent&&c.dispatchEvent),Z="unhandledrejection",ue="rejectionhandled",pe=1,we=2,ge=1,ye=2,_e=z(K,function(){var De,ke;return S(G)===String(G)&&(V===66||!de&&typeof PromiseRejectionEvent!="function")?!0:!(!m||G.prototype.finally)||!(51<=V&&/native code/.test(G))&&(ke=function(Q){Q(function(){},function(){})},((De=G.resolve(1)).constructor={})[X]=ke,!(De.then(function(){})instanceof ke))}),Le=_e||!M(function(De){G.all(De).catch(function(){})}),Ce=function(De){var ke;return!(!w(De)||typeof(ke=De.then)!="function")&&ke},tt=function(De,ke,Q){var ne;ke.notified||(ke.notified=!0,ne=ke.reactions,D(function(){for(var Y,se,ve=ke.value,Ee=ke.state==pe,Ae=0;ne.length>Ae;){var Be,He,qe,Ze=ne[Ae++],ht=Ee?Ze.ok:Ze.fail,ct=Ze.resolve,nt=Ze.reject,ft=Ze.domain;try{ht?(Ee||(ke.rejection===ye&&function(ut,Rt){P.call(c,function(){de?ee.emit("rejectionHandled",ut):$e(ue,ut,Rt.value)})}(De,ke),ke.rejection=ge),ht===!0?Be=ve:(ft&&ft.enter(),Be=ht(ve),ft&&(ft.exit(),qe=!0)),Be===Ze.promise?nt(H("Promise-chain cycle")):(He=Ce(Be))?He.call(Be,ct,nt):ct(Be)):nt(ve)}catch(ut){ft&&!qe&&ft.exit(),nt(ut)}}ke.reactions=[],ke.notified=!1,Q&&!ke.rejection&&(Y=De,se=ke,P.call(c,function(){var ut=se.value,Rt=ze(se);if(Rt&&(Rt=B(function(){de?ee.emit("unhandledRejection",ut,Y):$e(Z,Y,ut)}),se.rejection=de||ze(se)?ye:ge,Rt.error))throw Rt.value}))}))},$e=function(De,ke,Q){var ne;ae?((ne=J.createEvent("Event")).promise=ke,ne.reason=Q,ne.initEvent(De,!1,!0),c.dispatchEvent(ne)):ne={promise:ke,reason:Q},(ke=c["on"+De])?ke(ne):De===Z&&U("Unhandled promise rejection",Q)},ze=function(De){return De.rejection!==ge&&!De.parent},Xe=function(De,ke,Q,ne){return function(Y){De(ke,Q,Y,ne)}},Ye=function(De,ke,Q,ne){ke.done||(ke.done=!0,(ke=ne||ke).value=Q,ke.state=we,tt(De,ke,!0))},xe=function(De,ke,Q,ne){if(!ke.done){ke.done=!0,ne&&(ke=ne);try{if(De===Q)throw H("Promise can't be resolved itself");var Y=Ce(Q);Y?D(function(){var se={done:!1};try{Y.call(Q,Xe(xe,De,se,ke),Xe(Ye,De,se,ke))}catch(ve){Ye(De,se,ve,ke)}}):(ke.value=Q,ke.state=pe,tt(De,ke,!1))}catch(se){Ye(De,{done:!1},se,ke)}}};_e&&(G=function(De){j(this,G,K),_(De),s.call(this);var ke=re(this);try{De(Xe(xe,this,ke),Xe(Ye,this,ke))}catch(Q){Ye(this,ke,Q)}},(s=function(De){T(this,{type:K,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=b(G.prototype,{then:function(De,ke){var Q=L(this),ne=fe(A(this,G));return ne.ok=typeof De!="function"||De,ne.fail=typeof ke=="function"&&ke,ne.domain=de?ee.domain:void 0,Q.parent=!0,Q.reactions.push(ne),Q.state!=0&&tt(this,Q,!1),ne.promise},catch:function(De){return this.then(void 0,De)}}),u=function(){var De=new s,ke=re(De);this.promise=De,this.resolve=Xe(xe,De,ke),this.reject=Xe(Ye,De,ke)},N.f=fe=function(De){return De===G||De===l?new u:oe(De)},m||typeof g!="function"||(f=g.prototype.then,y(g.prototype,"then",function(De,ke){var Q=this;return new G(function(ne,Y){f.call(Q,ne,Y)}).then(De,ke)},{unsafe:!0}),typeof ie=="function"&&v({global:!0,enumerable:!0,forced:!0},{fetch:function(De){return I(G,ie.apply(c,arguments))}}))),v({global:!0,wrap:!0,forced:_e},{Promise:G}),p(G,K,!1,!0),h(K),l=d(K),v({target:K,stat:!0,forced:_e},{reject:function(De){var ke=fe(this);return ke.reject.call(void 0,De),ke.promise}}),v({target:K,stat:!0,forced:m||_e},{resolve:function(De){return I(m&&this===l?G:this,De)}}),v({target:K,stat:!0,forced:Le},{all:function(De){var ke=this,Q=fe(ke),ne=Q.resolve,Y=Q.reject,se=B(function(){var ve=_(ke.resolve),Ee=[],Ae=0,Be=1;C(De,function(He){var qe=Ae++,Ze=!1;Ee.push(void 0),Be++,ve.call(ke,He).then(function(ht){Ze||(Ze=!0,Ee[qe]=ht,--Be||ne(Ee))},Y)}),--Be||ne(Ee)});return se.error&&Y(se.value),Q.promise},race:function(De){var ke=this,Q=fe(ke),ne=Q.reject,Y=B(function(){var se=_(ke.resolve);C(De,function(ve){se.call(ke,ve).then(Q.resolve,ne)})});return Y.error&&ne(Y.value),Q.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(c,i,a){var s=c("../internals/export"),b=c("../internals/get-built-in"),u=c("../internals/a-function"),l=c("../internals/an-object"),f=c("../internals/is-object"),v=c("../internals/object-create"),m=c("../internals/function-bind"),c=c("../internals/fails"),d=b("Reflect","construct"),g=c(function(){function p(){}return!(d(function(){},[],p)instanceof p)}),y=!c(function(){d(function(){})}),b=g||y;s({target:"Reflect",stat:!0,forced:b,sham:b},{construct:function(p,h){u(p),l(h);var w=arguments.length<3?p:u(arguments[2]);if(y&&!g)return d(p,h,w);if(p==w){switch(h.length){case 0:return new p;case 1:return new p(h[0]);case 2:return new p(h[0],h[1]);case 3:return new p(h[0],h[1],h[2]);case 4:return new p(h[0],h[1],h[2],h[3])}var _=[null];return _.push.apply(_,h),new(m.apply(p,_))}return _=w.prototype,w=v(f(_)?_:Object.prototype),_=Function.apply.call(p,w,h),f(_)?_:w}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(t,i,a){var s=t("../internals/export"),u=t("../internals/is-object"),l=t("../internals/an-object"),f=t("../internals/has"),v=t("../internals/object-get-own-property-descriptor"),m=t("../internals/object-get-prototype-of");s({target:"Reflect",stat:!0},{get:function c(d,g){var y,b=arguments.length<3?d:arguments[2];return l(d)===b?d[g]:(y=v.f(d,g))?f(y,"value")?y.value:y.get===void 0?void 0:y.get.call(b):u(y=m(d))?c(y,g,b):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(t,i,a){var s=t("../internals/descriptors"),u=t("../internals/global"),l=t("../internals/is-forced"),f=t("../internals/inherit-if-required"),v=t("../internals/object-define-property").f,m=t("../internals/object-get-own-property-names").f,c=t("../internals/is-regexp"),d=t("../internals/regexp-flags"),g=t("../internals/regexp-sticky-helpers"),y=t("../internals/redefine"),b=t("../internals/fails"),p=t("../internals/internal-state").set,h=t("../internals/set-species"),w=t("../internals/well-known-symbol")("match"),_=u.RegExp,j=_.prototype,E=/a/g,S=/a/g,C=new _(E)!==E,M=g.UNSUPPORTED_Y;if(s&&l("RegExp",!C||M||b(function(){return S[w]=!1,_(E)!=E||_(S)==S||_(E,"i")!="/a/i"}))){for(var A=function(I,U){var N,B=this instanceof A,W=c(I),z=U===void 0;return!B&&W&&I.constructor===A&&z?I:(C?W&&!z&&(I=I.source):I instanceof A&&(z&&(U=d.call(I)),I=I.source),M&&(N=!!U&&-1<U.indexOf("y"))&&(U=U.replace(/y/g,"")),W=f(C?new _(I,U):_(I,U),B?this:j,A),M&&N&&p(W,{sticky:N}),W)},P=m(_),D=0;P.length>D;)(function(I){I in A||v(A,I,{configurable:!0,get:function(){return _[I]},set:function(U){_[I]=U}})})(P[D++]);(j.constructor=A).prototype=j,y(u,"RegExp",A)}h("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(u,i,a){var s=u("../internals/export"),u=u("../internals/regexp-exec");s({target:"RegExp",proto:!0,forced:/./.exec!==u},{exec:u})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(f,i,a){var s=f("../internals/redefine"),u=f("../internals/an-object"),c=f("../internals/fails"),l=f("../internals/regexp-flags"),f="toString",v=RegExp.prototype,m=v[f],c=c(function(){return m.call({source:"a",flags:"b"})!="/a/b"}),d=m.name!=f;(c||d)&&s(RegExp.prototype,f,function(){var g=u(this),y=String(g.source),b=g.flags;return"/"+y+"/"+String(b===void 0&&g instanceof RegExp&&!("flags"in v)?l.call(g):b)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(u,i,a){var s=u("../internals/collection"),u=u("../internals/collection-strong");i.exports=s("Set",function(l){return function(){return l(this,arguments.length?arguments[0]:void 0)}},u)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(m,i,a){var s=m("../internals/export"),u=m("../internals/object-get-own-property-descriptor").f,l=m("../internals/to-length"),f=m("../internals/not-a-regexp"),v=m("../internals/require-object-coercible"),g=m("../internals/correct-is-regexp-logic"),m=m("../internals/is-pure"),c="".endsWith,d=Math.min,g=g("endsWith");s({target:"String",proto:!0,forced:!!(m||g||!(s=u(String.prototype,"endsWith"))||s.writable)&&!g},{endsWith:function(y){var b=String(v(this)),p=(f(y),1<arguments.length?arguments[1]:void 0),h=l(b.length),p=p===void 0?h:d(l(p),h),h=String(y);return c?c.call(b,h,p):b.slice(p-h.length,p)===h}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(t,i,a){var s=t("../internals/export"),u=t("../internals/not-a-regexp"),l=t("../internals/require-object-coercible");s({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(f){return!!~String(l(this)).indexOf(u(f),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(l,i,a){var s=l("../internals/string-multibyte").charAt,u=l("../internals/internal-state"),l=l("../internals/define-iterator"),f="String Iterator",v=u.set,m=u.getterFor(f);l(String,"String",function(c){v(this,{type:f,string:String(c),index:0})},function(){var c=m(this),d=c.string,g=c.index;return g>=d.length?{value:void 0,done:!0}:(d=s(d,g),c.index+=d.length,{value:d,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(t,i,a){var s=t("../internals/fix-regexp-well-known-symbol-logic"),u=t("../internals/an-object"),l=t("../internals/to-length"),f=t("../internals/require-object-coercible"),v=t("../internals/advance-string-index"),m=t("../internals/regexp-exec-abstract");s("match",1,function(c,d,g){return[function(y){var b=f(this),p=y==null?void 0:y[c];return p!==void 0?p.call(y,b):new RegExp(y)[c](String(b))},function(y){var b=g(d,y,this);if(b.done)return b.value;var p=u(y),h=String(this);if(!p.global)return m(p,h);for(var w=p.unicode,_=[],j=p.lastIndex=0;(E=m(p,h))!==null;){var E=String(E[0]);(_[j]=E)===""&&(p.lastIndex=v(h,l(p.lastIndex),w)),j++}return j===0?null:_}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(t,i,a){var s=t("../internals/export"),u=t("../internals/string-pad").start;s({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(l){return u(this,l,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(t,i,a){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(t,i,a){var s=t("../internals/fix-regexp-well-known-symbol-logic"),u=t("../internals/an-object"),l=t("../internals/to-object"),f=t("../internals/to-length"),v=t("../internals/to-integer"),m=t("../internals/require-object-coercible"),c=t("../internals/advance-string-index"),d=t("../internals/regexp-exec-abstract"),g=Math.max,y=Math.min,b=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g;s("replace",2,function(w,_,j,E){var S=E.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,C=E.REPLACE_KEEPS_$0,M=S?"$":"$0";return[function(A,P){var D=m(this),I=A==null?void 0:A[w];return I!==void 0?I.call(A,D,P):_.call(String(D),A,P)},function(A,P){if(!S&&C||typeof P=="string"&&P.indexOf(M)===-1){var D=j(_,A,this,P);if(D.done)return D.value}for(var I,U=u(A),N=String(this),B=typeof P=="function",W=(B||(P=String(P)),U.global),z=(W&&(I=U.unicode,U.lastIndex=0),[]);(T=d(U,N))!==null&&(z.push(T),W);)String(T[0])===""&&(U.lastIndex=c(N,f(U.lastIndex),I));for(var V,X="",K=0,re=0;re<z.length;re++){for(var T=z[re],L=String(T[0]),G=g(y(v(T.index),N.length),0),H=[],J=1;J<T.length;J++)H.push((V=T[J])===void 0?V:String(V));var ee=T.groups,ie=B?(ie=[L].concat(H,G,N),ee!==void 0&&ie.push(ee),String(P.apply(void 0,ie))):function(fe,oe,de,ae,Z,ue){var pe=de+fe.length,we=ae.length,ge=h;return Z!==void 0&&(Z=l(Z),ge=p),_.call(ue,ge,function(ye,_e){var Le;switch(_e.charAt(0)){case"$":return"$";case"&":return fe;case"`":return oe.slice(0,de);case"'":return oe.slice(pe);case"<":Le=Z[_e.slice(1,-1)];break;default:var Ce,tt=+_e;if(tt==0)return ye;if(we<tt)return(Ce=b(tt/10))!==0&&Ce<=we?ae[Ce-1]===void 0?_e.charAt(1):ae[Ce-1]+_e.charAt(1):ye;Le=ae[tt-1]}return Le===void 0?"":Le})}(L,N,G,H,ee,P);K<=G&&(X+=N.slice(K,G)+ie,K=G+L.length)}return X+N.slice(K)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(t,i,a){var s=t("../internals/fix-regexp-well-known-symbol-logic"),u=t("../internals/an-object"),l=t("../internals/require-object-coercible"),f=t("../internals/same-value"),v=t("../internals/regexp-exec-abstract");s("search",1,function(m,c,d){return[function(g){var y=l(this),b=g==null?void 0:g[m];return b!==void 0?b.call(g,y):new RegExp(g)[m](String(y))},function(g){var y,b=d(c,g,this);return b.done?b.value:(b=u(g),g=String(this),y=b.lastIndex,f(y,0)||(b.lastIndex=0),g=v(b,g),f(b.lastIndex,y)||(b.lastIndex=y),g===null?-1:g.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(y,i,a){var s=y("../internals/fix-regexp-well-known-symbol-logic"),u=y("../internals/is-regexp"),l=y("../internals/an-object"),f=y("../internals/require-object-coercible"),v=y("../internals/species-constructor"),m=y("../internals/advance-string-index"),c=y("../internals/to-length"),d=y("../internals/regexp-exec-abstract"),g=y("../internals/regexp-exec"),y=y("../internals/fails"),b=[].push,p=Math.min,h=4294967295,w=!y(function(){return!RegExp(h,"y")});s("split",2,function(_,j,E){var S="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(C,M){var A=String(f(this)),P=M===void 0?h:M>>>0;if(P==0)return[];if(C===void 0)return[A];if(!u(C))return j.call(A,C,P);for(var D,I,U,N=[],M=(C.ignoreCase?"i":"")+(C.multiline?"m":"")+(C.unicode?"u":"")+(C.sticky?"y":""),B=0,W=new RegExp(C.source,M+"g");(D=g.call(W,A))&&!(B<(I=W.lastIndex)&&(N.push(A.slice(B,D.index)),1<D.length&&D.index<A.length&&b.apply(N,D.slice(1)),U=D[0].length,B=I,N.length>=P));)W.lastIndex===D.index&&W.lastIndex++;return B===A.length?!U&&W.test("")||N.push(""):N.push(A.slice(B)),N.length>P?N.slice(0,P):N}:"0".split(void 0,0).length?function(C,M){return C===void 0&&M===0?[]:j.call(this,C,M)}:j;return[function(C,M){var A=f(this),P=C==null?void 0:C[_];return P!==void 0?P.call(C,A,M):S.call(String(A),C,M)},function(D,M){var A=E(S,D,this,M,S!==j);if(A.done)return A.value;var A=l(D),P=String(this),D=v(A,RegExp),I=A.unicode,U=(A.ignoreCase?"i":"")+(A.multiline?"m":"")+(A.unicode?"u":"")+(w?"y":"g"),N=new D(w?A:"^(?:"+A.source+")",U),B=M===void 0?h:M>>>0;if(B==0)return[];if(P.length===0)return d(N,P)===null?[P]:[];for(var W=0,z=0,V=[];z<P.length;){N.lastIndex=w?z:0;var X,K=d(N,w?P:P.slice(z));if(K===null||(X=p(c(N.lastIndex+(w?0:z)),P.length))===W)z=m(P,z,I);else{if(V.push(P.slice(W,z)),V.length===B)return V;for(var re=1;re<=K.length-1;re++)if(V.push(K[re]),V.length===B)return V;z=W=X}}return V.push(P.slice(W)),V}]},!w)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(m,i,a){var s=m("../internals/export"),u=m("../internals/object-get-own-property-descriptor").f,l=m("../internals/to-length"),f=m("../internals/not-a-regexp"),v=m("../internals/require-object-coercible"),g=m("../internals/correct-is-regexp-logic"),m=m("../internals/is-pure"),c="".startsWith,d=Math.min,g=g("startsWith");s({target:"String",proto:!0,forced:!!(m||g||!(s=u(String.prototype,"startsWith"))||s.writable)&&!g},{startsWith:function(h){var b=String(v(this)),p=(f(h),l(d(1<arguments.length?arguments[1]:void 0,b.length))),h=String(h);return c?c.call(b,h,p):b.slice(p,p+h.length)===h}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(t,i,a){var s=t("../internals/export"),u=t("../internals/create-html");s({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return u(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(t,i,a){var s=t("../internals/export"),u=t("../internals/string-trim").trim;s({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return u(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(p,i,a){var s,u,l,f,v,m=p("../internals/export"),c=p("../internals/descriptors"),d=p("../internals/global"),g=p("../internals/has"),y=p("../internals/is-object"),b=p("../internals/object-define-property").f,p=p("../internals/copy-constructor-properties"),h=d.Symbol;!c||typeof h!="function"||"description"in h.prototype&&h().description===void 0||(s={},p(u=function(){var w=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),_=this instanceof u?new h(w):w===void 0?h():h(w);return w===""&&(s[_]=!0),_},h),(d=u.prototype=h.prototype).constructor=u,l=d.toString,f=String(h("test"))=="Symbol(test)",v=/^Symbol\((.*)\)[^)]+$/,b(d,"description",{configurable:!0,get:function(){var w=y(this)?this.valueOf():this,_=l.call(w);return g(s,w)?"":(w=f?_.slice(7,-1):_.replace(v,"$1"))===""?void 0:w}}),m({global:!0,forced:!0},{Symbol:u}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(t,i,a){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(oe,i,a){function s(Y,se){var ve=Le[Y]=A(ue[fe]);return de(ve,{type:ie,tag:Y,description:se}),g||(ve.description=se),ve}function u(Y,Ee){j(Y);var ve=S(Ee),Ee=P(ve).concat(ne(ve));return J(Ee,function(Ae){g&&!Q.call(ve,Ae)||ke(Y,Ae,ve[Ae])}),Y}function l(Ee,Ae){var ve,Ee=S(Ee),Ae=C(Ae,!0);if(Ee!==Z||!h(Le,Ae)||h(Ce,Ae))return!(ve=we(Ee,Ae))||!h(Le,Ae)||h(Ee,ee)&&Ee[ee][Ae]||(ve.enumerable=!0),ve}function f(se){var se=ye(S(se)),ve=[];return J(se,function(Ee){h(Le,Ee)||h(K,Ee)||ve.push(Ee)}),ve}var v=oe("../internals/export"),m=oe("../internals/global"),c=oe("../internals/get-built-in"),d=oe("../internals/is-pure"),g=oe("../internals/descriptors"),y=oe("../internals/native-symbol"),b=oe("../internals/use-symbol-as-uid"),p=oe("../internals/fails"),h=oe("../internals/has"),w=oe("../internals/is-array"),_=oe("../internals/is-object"),j=oe("../internals/an-object"),E=oe("../internals/to-object"),S=oe("../internals/to-indexed-object"),C=oe("../internals/to-primitive"),M=oe("../internals/create-property-descriptor"),A=oe("../internals/object-create"),P=oe("../internals/object-keys"),D=oe("../internals/object-get-own-property-names"),I=oe("../internals/object-get-own-property-names-external"),U=oe("../internals/object-get-own-property-symbols"),N=oe("../internals/object-get-own-property-descriptor"),B=oe("../internals/object-define-property"),W=oe("../internals/object-property-is-enumerable"),z=oe("../internals/create-non-enumerable-property"),V=oe("../internals/redefine"),X=oe("../internals/shared"),ze=oe("../internals/shared-key"),K=oe("../internals/hidden-keys"),re=oe("../internals/uid"),T=oe("../internals/well-known-symbol"),L=oe("../internals/well-known-symbol-wrapped"),G=oe("../internals/define-well-known-symbol"),H=oe("../internals/set-to-string-tag"),Xe=oe("../internals/internal-state"),J=oe("../internals/array-iteration").forEach,ee=ze("hidden"),ie="Symbol",fe="prototype",oe=T("toPrimitive"),de=Xe.set,ae=Xe.getterFor(ie),Z=Object[fe],ue=m.Symbol,pe=c("JSON","stringify"),we=N.f,ge=B.f,ye=I.f,_e=W.f,Le=X("symbols"),Ce=X("op-symbols"),tt=X("string-to-symbol-registry"),$e=X("symbol-to-string-registry"),ze=X("wks"),Xe=m.QObject,Ye=!Xe||!Xe[fe]||!Xe[fe].findChild,xe=g&&p(function(){return A(ge({},"a",{get:function(){return ge(this,"a",{value:7}).a}})).a!=7})?function(Y,se,ve){var Ee=we(Z,se);Ee&&delete Z[se],ge(Y,se,ve),Ee&&Y!==Z&&ge(Z,se,Ee)}:ge,De=b?function(Y){return typeof Y=="symbol"}:function(Y){return Object(Y)instanceof ue},ke=function(Y,se,ve){return Y===Z&&ke(Ce,se,ve),j(Y),se=C(se,!0),j(ve),(h(Le,se)?(ve.enumerable?(h(Y,ee)&&Y[ee][se]&&(Y[ee][se]=!1),ve=A(ve,{enumerable:M(0,!1)})):(h(Y,ee)||ge(Y,ee,M(1,{})),Y[ee][se]=!0),xe):ge)(Y,se,ve)},Q=function(se){var se=C(se,!0),ve=_e.call(this,se);return!(this===Z&&h(Le,se)&&!h(Ce,se))&&(!(ve||!h(this,se)||!h(Le,se)||h(this,ee)&&this[ee][se])||ve)},ne=function(ve){var se=ve===Z,ve=ye(se?Ce:S(ve)),Ee=[];return J(ve,function(Ae){!h(Le,Ae)||se&&!h(Z,Ae)||Ee.push(Le[Ae])}),Ee};y||(V((ue=function(){if(this instanceof ue)throw TypeError("Symbol is not a constructor");var Y=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,se=re(Y),ve=function(Ee){this===Z&&ve.call(Ce,Ee),h(this,ee)&&h(this[ee],se)&&(this[ee][se]=!1),xe(this,se,M(1,Ee))};return g&&Ye&&xe(Z,se,{configurable:!0,set:ve}),s(se,Y)})[fe],"toString",function(){return ae(this).tag}),V(ue,"withoutSetter",function(Y){return s(re(Y),Y)}),W.f=Q,B.f=ke,N.f=l,D.f=I.f=f,U.f=ne,L.f=function(Y){return s(T(Y),Y)},g&&(ge(ue[fe],"description",{configurable:!0,get:function(){return ae(this).description}}),d||V(Z,"propertyIsEnumerable",Q,{unsafe:!0}))),v({global:!0,wrap:!0,forced:!y,sham:!y},{Symbol:ue}),J(P(ze),function(Y){G(Y)}),v({target:ie,stat:!0,forced:!y},{for:function(ve){var se,ve=String(ve);return h(tt,ve)?tt[ve]:(se=ue(ve),tt[ve]=se,$e[se]=ve,se)},keyFor:function(Y){if(!De(Y))throw TypeError(Y+" is not a symbol");if(h($e,Y))return $e[Y]},useSetter:function(){Ye=!0},useSimple:function(){Ye=!1}}),v({target:"Object",stat:!0,forced:!y,sham:!g},{create:function(Y,se){return se===void 0?A(Y):u(A(Y),se)},defineProperty:ke,defineProperties:u,getOwnPropertyDescriptor:l}),v({target:"Object",stat:!0,forced:!y},{getOwnPropertyNames:f,getOwnPropertySymbols:ne}),v({target:"Object",stat:!0,forced:p(function(){U.f(1)})},{getOwnPropertySymbols:function(Y){return U.f(E(Y))}}),pe&&v({target:"JSON",stat:!0,forced:!y||p(function(){var Y=ue();return pe([Y])!="[null]"||pe({a:Y})!="{}"||pe(Object(Y))!="{}"})},{stringify:function(Y,se,ve){for(var Ee,Ae=[Y],Be=1;Be<arguments.length;)Ae.push(arguments[Be++]);if((_(Ee=se)||Y!==void 0)&&!De(Y))return w(se)||(se=function(He,qe){if(typeof Ee=="function"&&(qe=Ee.call(this,He,qe)),!De(qe))return qe}),Ae[1]=se,pe.apply(null,Ae)}}),ue[fe][oe]||z(ue[fe],oe,ue[fe].valueOf),H(ue,ie),K[ee]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(t,i,a){var s=t("../internals/array-buffer-view-core"),u=t("../internals/array-copy-within"),l=s.aTypedArray;(0,s.exportTypedArrayMethod)("copyWithin",function(f,v){return u.call(l(this),f,v,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(t,i,a){var s=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").every,l=s.aTypedArray;(0,s.exportTypedArrayMethod)("every",function(f){return u(l(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(t,i,a){var s=t("../internals/array-buffer-view-core"),u=t("../internals/array-fill"),l=s.aTypedArray;(0,s.exportTypedArrayMethod)("fill",function(f){return u.apply(l(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(t,i,a){var s=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").filter,l=t("../internals/species-constructor"),f=s.aTypedArray,v=s.aTypedArrayConstructor;(0,s.exportTypedArrayMethod)("filter",function(m){for(var c=u(f(this),m,1<arguments.length?arguments[1]:void 0),m=l(this,this.constructor),d=0,g=c.length,y=new(v(m))(g);d<g;)y[d]=c[d++];return y})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(t,i,a){var s=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").findIndex,l=s.aTypedArray;(0,s.exportTypedArrayMethod)("findIndex",function(f){return u(l(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(t,i,a){var s=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").find,l=s.aTypedArray;(0,s.exportTypedArrayMethod)("find",function(f){return u(l(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(t,i,a){t("../internals/typed-array-constructor")("Float32",function(s){return function(u,l,f){return s(this,u,l,f)}})},{"../internals/typed-array-constructor":144}],220:[function(t,i,a){t("../internals/typed-array-constructor")("Float64",function(s){return function(u,l,f){return s(this,u,l,f)}})},{"../internals/typed-array-constructor":144}],221:[function(t,i,a){var s=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").forEach,l=s.aTypedArray;(0,s.exportTypedArrayMethod)("forEach",function(f){u(l(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(t,i,a){var s=t("../internals/array-buffer-view-core"),u=t("../internals/array-includes").includes,l=s.aTypedArray;(0,s.exportTypedArrayMethod)("includes",function(f){return u(l(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(t,i,a){var s=t("../internals/array-buffer-view-core"),u=t("../internals/array-includes").indexOf,l=s.aTypedArray;(0,s.exportTypedArrayMethod)("indexOf",function(f){return u(l(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(t,i,a){t("../internals/typed-array-constructor")("Int16",function(s){return function(u,l,f){return s(this,u,l,f)}})},{"../internals/typed-array-constructor":144}],225:[function(t,i,a){t("../internals/typed-array-constructor")("Int32",function(s){return function(u,l,f){return s(this,u,l,f)}})},{"../internals/typed-array-constructor":144}],226:[function(u,i,a){function s(){return l.call(m(this))}var g=u("../internals/global"),d=u("../internals/array-buffer-view-core"),c=u("../modules/es.array.iterator"),u=u("../internals/well-known-symbol")("iterator"),g=g.Uint8Array,l=c.values,f=c.keys,v=c.entries,m=d.aTypedArray,c=d.exportTypedArrayMethod,d=g&&g.prototype[u],g=!!d&&(d.name=="values"||d.name==null);c("entries",function(){return v.call(m(this))}),c("keys",function(){return f.call(m(this))}),c("values",s,!g),c(u,s,!g)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(u,i,a){var u=u("../internals/array-buffer-view-core"),s=u.aTypedArray,u=u.exportTypedArrayMethod,l=[].join;u("join",function(f){return l.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(t,i,a){var s=t("../internals/array-buffer-view-core"),u=t("../internals/array-last-index-of"),l=s.aTypedArray;(0,s.exportTypedArrayMethod)("lastIndexOf",function(f){return u.apply(l(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(t,i,a){var s=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").map,l=t("../internals/species-constructor"),f=s.aTypedArray,v=s.aTypedArrayConstructor;(0,s.exportTypedArrayMethod)("map",function(m){return u(f(this),m,1<arguments.length?arguments[1]:void 0,function(c,d){return new(v(l(c,c.constructor)))(d)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(t,i,a){var s=t("../internals/array-buffer-view-core"),u=t("../internals/array-reduce").right,l=s.aTypedArray;(0,s.exportTypedArrayMethod)("reduceRight",function(f){return u(l(this),f,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(t,i,a){var s=t("../internals/array-buffer-view-core"),u=t("../internals/array-reduce").left,l=s.aTypedArray;(0,s.exportTypedArrayMethod)("reduce",function(f){return u(l(this),f,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(u,i,a){var u=u("../internals/array-buffer-view-core"),s=u.aTypedArray,u=u.exportTypedArrayMethod,l=Math.floor;u("reverse",function(){for(var f,v=s(this).length,m=l(v/2),c=0;c<m;)f=this[c],this[c++]=this[--v],this[v]=f;return this})},{"../internals/array-buffer-view-core":12}],233:[function(v,i,a){var s=v("../internals/array-buffer-view-core"),u=v("../internals/to-length"),l=v("../internals/to-offset"),f=v("../internals/to-object"),v=v("../internals/fails"),m=s.aTypedArray;(0,s.exportTypedArrayMethod)("set",function(c){m(this);var d=l(1<arguments.length?arguments[1]:void 0,1),g=this.length,y=f(c),b=u(y.length),p=0;if(g<b+d)throw RangeError("Wrong length");for(;p<b;)this[d+p]=y[p++]},v(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(u,i,a){var v=u("../internals/array-buffer-view-core"),s=u("../internals/species-constructor"),u=u("../internals/fails"),l=v.aTypedArray,f=v.aTypedArrayConstructor,v=v.exportTypedArrayMethod,m=[].slice;v("slice",function(c,d){for(var g=m.call(l(this),c,d),c=s(this,this.constructor),y=0,b=g.length,p=new(f(c))(b);y<b;)p[y]=g[y++];return p},u(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(t,i,a){var s=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").some,l=s.aTypedArray;(0,s.exportTypedArrayMethod)("some",function(f){return u(l(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(u,i,a){var u=u("../internals/array-buffer-view-core"),s=u.aTypedArray,u=u.exportTypedArrayMethod,l=[].sort;u("sort",function(f){return l.call(s(this),f)})},{"../internals/array-buffer-view-core":12}],237:[function(t,i,a){var s=t("../internals/array-buffer-view-core"),u=t("../internals/to-length"),l=t("../internals/to-absolute-index"),f=t("../internals/species-constructor"),v=s.aTypedArray;(0,s.exportTypedArrayMethod)("subarray",function(y,c){var d=v(this),g=d.length,y=l(y,g);return new(f(d,d.constructor))(d.buffer,d.byteOffset+y*d.BYTES_PER_ELEMENT,u((c===void 0?g:l(c,g))-y))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(u,i,a){var v=u("../internals/global"),s=u("../internals/array-buffer-view-core"),u=u("../internals/fails"),l=v.Int8Array,f=s.aTypedArray,v=s.exportTypedArrayMethod,m=[].toLocaleString,c=[].slice,d=!!l&&u(function(){m.call(new l(1))});v("toLocaleString",function(){return m.apply(d?c.call(f(this)):f(this),arguments)},u(function(){return[1,2].toLocaleString()!=new l([1,2]).toLocaleString()})||!u(function(){l.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(u,i,a){var s=u("../internals/array-buffer-view-core").exportTypedArrayMethod,v=u("../internals/fails"),u=u("../internals/global").Uint8Array,u=u&&u.prototype||{},l=[].toString,f=[].join,v=(v(function(){l.call({})})&&(l=function(){return f.call(this)}),u.toString!=l);s("toString",l,v)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(t,i,a){t("../internals/typed-array-constructor")("Uint16",function(s){return function(u,l,f){return s(this,u,l,f)}})},{"../internals/typed-array-constructor":144}],241:[function(t,i,a){t("../internals/typed-array-constructor")("Uint32",function(s){return function(u,l,f){return s(this,u,l,f)}})},{"../internals/typed-array-constructor":144}],242:[function(t,i,a){t("../internals/typed-array-constructor")("Uint8",function(s){return function(u,l,f){return s(this,u,l,f)}})},{"../internals/typed-array-constructor":144}],243:[function(t,i,a){t("../internals/typed-array-constructor")("Uint8",function(s){return function(u,l,f){return s(this,u,l,f)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(h,j,a){function s(E){return function(){return E(this,arguments.length?arguments[0]:void 0)}}var u,l,f,v,m,w=h("../internals/global"),c=h("../internals/redefine-all"),d=h("../internals/internal-metadata"),g=h("../internals/collection"),y=h("../internals/collection-weak"),b=h("../internals/is-object"),p=h("../internals/internal-state").enforce,h=h("../internals/native-weak-map"),w=!w.ActiveXObject&&"ActiveXObject"in w,_=Object.isExtensible,j=j.exports=g("WeakMap",s,y);h&&w&&(u=y.getConstructor(s,"WeakMap",!0),d.REQUIRED=!0,g=j.prototype,l=g.delete,f=g.has,v=g.get,m=g.set,c(g,{delete:function(E){var S;return b(E)&&!_(E)?((S=p(this)).frozen||(S.frozen=new u),l.call(this,E)||S.frozen.delete(E)):l.call(this,E)},has:function(E){var S;return b(E)&&!_(E)?((S=p(this)).frozen||(S.frozen=new u),f.call(this,E)||S.frozen.has(E)):f.call(this,E)},get:function(E){var S;return!b(E)||_(E)||((S=p(this)).frozen||(S.frozen=new u),f.call(this,E))?v.call(this,E):S.frozen.get(E)},set:function(E,S){var C;return!b(E)||_(E)||((C=p(this)).frozen||(C.frozen=new u),f.call(this,E))?m.call(this,E,S):C.frozen.set(E,S),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(t,i,a){var s,u=t("../internals/global"),l=t("../internals/dom-iterables"),f=t("../internals/array-for-each"),v=t("../internals/create-non-enumerable-property");for(s in l){var m=u[s],m=m&&m.prototype;if(m&&m.forEach!==f)try{v(m,"forEach",f)}catch{m.forEach=f}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(m,i,a){var s,u=m("../internals/global"),l=m("../internals/dom-iterables"),f=m("../modules/es.array.iterator"),v=m("../internals/create-non-enumerable-property"),m=m("../internals/well-known-symbol"),c=m("iterator"),d=m("toStringTag"),g=f.values;for(s in l){var y=u[s],b=y&&y.prototype;if(b){if(b[c]!==g)try{v(b,c,g)}catch{b[c]=g}if(b[d]||v(b,d,s),l[s]){for(var p in f)if(b[p]!==f[p])try{v(b,p,f[p])}catch{b[p]=f[p]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(ee,i,a){ee("../modules/es.array.iterator");function s(ie){try{return decodeURIComponent(ie)}catch{return ie}}function u(ie){return G[ie]}function l(ie){return encodeURIComponent(ie).replace(L,u)}function f(ie){this.entries.length=0,H(this.entries,ie)}function v(ie,fe){if(ie<fe)throw TypeError("Not enough arguments")}function m(){w(this,m,B);var ie,fe,oe,de,ae,Z,ue,pe,we=0<arguments.length?arguments[0]:void 0,ge=[];if(z(this,{type:B,entries:ge,updateURL:function(){},updateSearchParams:f}),we!==void 0)if(C(we))if(typeof(ie=D(we))=="function")for(oe=(fe=ie.call(we)).next;!(de=oe.call(fe)).done;){if((Z=(ae=(de=P(S(de.value))).next).call(de)).done||(ue=ae.call(de)).done||!ae.call(de).done)throw TypeError("Expected sequence with length 2");ge.push({key:Z.value+"",value:ue.value+""})}else for(pe in we)_(we,pe)&&ge.push({key:pe,value:we[pe]+""});else H(ge,typeof we=="string"?we.charAt(0)==="?"?we.slice(1):we:we+"")}var c=ee("../internals/export"),N=ee("../internals/get-built-in"),d=ee("../internals/native-url"),g=ee("../internals/redefine"),y=ee("../internals/redefine-all"),b=ee("../internals/set-to-string-tag"),p=ee("../internals/create-iterator-constructor"),h=ee("../internals/internal-state"),w=ee("../internals/an-instance"),_=ee("../internals/has"),j=ee("../internals/function-bind-context"),E=ee("../internals/classof"),S=ee("../internals/an-object"),C=ee("../internals/is-object"),M=ee("../internals/object-create"),A=ee("../internals/create-property-descriptor"),P=ee("../internals/get-iterator"),D=ee("../internals/get-iterator-method"),ee=ee("../internals/well-known-symbol"),I=N("fetch"),U=N("Headers"),N=ee("iterator"),B="URLSearchParams",W=B+"Iterator",z=h.set,V=h.getterFor(B),X=h.getterFor(W),K=/\+/g,re=Array(4),T=function(ie){var fe,oe=ie.replace(K," "),de=4;try{return decodeURIComponent(oe)}catch{for(;de;)oe=oe.replace((fe=de--,re[fe-1]||(re[fe-1]=RegExp("((?:%[\\da-f]{2}){"+fe+"})","gi"))),s);return oe}},L=/[!'()~]|%20/g,G={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},H=function(ie,fe){if(fe)for(var oe,de=fe.split("&"),ae=0;ae<de.length;)(oe=de[ae++]).length&&(oe=oe.split("="),ie.push({key:T(oe.shift()),value:T(oe.join("="))}))},J=p(function(ie,fe){z(this,{type:W,iterator:P(V(ie).entries),kind:fe})},"Iterator",function(){var fe=X(this),ie=fe.kind,fe=fe.iterator.next(),oe=fe.value;return fe.done||(fe.value=ie==="keys"?oe.key:ie==="values"?oe.value:[oe.key,oe.value]),fe}),ee=m.prototype;y(ee,{append:function(ie,fe){v(arguments.length,2);var oe=V(this);oe.entries.push({key:ie+"",value:fe+""}),oe.updateURL()},delete:function(ie){v(arguments.length,1);for(var fe=V(this),oe=fe.entries,de=ie+"",ae=0;ae<oe.length;)oe[ae].key===de?oe.splice(ae,1):ae++;fe.updateURL()},get:function(ie){v(arguments.length,1);for(var fe=V(this).entries,oe=ie+"",de=0;de<fe.length;de++)if(fe[de].key===oe)return fe[de].value;return null},getAll:function(ie){v(arguments.length,1);for(var fe=V(this).entries,oe=ie+"",de=[],ae=0;ae<fe.length;ae++)fe[ae].key===oe&&de.push(fe[ae].value);return de},has:function(ie){v(arguments.length,1);for(var fe=V(this).entries,oe=ie+"",de=0;de<fe.length;)if(fe[de++].key===oe)return!0;return!1},set:function(ie,fe){v(arguments.length,1);for(var oe,de=V(this),ae=de.entries,Z=!1,ue=ie+"",pe=fe+"",we=0;we<ae.length;we++)(oe=ae[we]).key===ue&&(Z?ae.splice(we--,1):(Z=!0,oe.value=pe));Z||ae.push({key:ue,value:pe}),de.updateURL()},sort:function(){for(var ie,fe,oe=V(this),de=oe.entries,ae=de.slice(),Z=de.length=0;Z<ae.length;Z++){for(ie=ae[Z],fe=0;fe<Z;fe++)if(de[fe].key>ie.key){de.splice(fe,0,ie);break}fe===Z&&de.push(ie)}oe.updateURL()},forEach:function(ie){for(var fe,oe=V(this).entries,de=j(ie,1<arguments.length?arguments[1]:void 0,3),ae=0;ae<oe.length;)de((fe=oe[ae++]).value,fe.key,this)},keys:function(){return new J(this,"keys")},values:function(){return new J(this,"values")},entries:function(){return new J(this,"entries")}},{enumerable:!0}),g(ee,N,ee.entries),g(ee,"toString",function(){for(var ie,fe=V(this).entries,oe=[],de=0;de<fe.length;)ie=fe[de++],oe.push(l(ie.key)+"="+l(ie.value));return oe.join("&")},{enumerable:!0}),b(m,B),c({global:!0,forced:!d},{URLSearchParams:m}),d||typeof I!="function"||typeof U!="function"||c({global:!0,enumerable:!0,forced:!0},{fetch:function(ae){var fe,oe,de,ae=[ae];return 1<arguments.length&&(C(fe=arguments[1])&&(oe=fe.body,E(oe)===B&&((de=fe.headers?new U(fe.headers):new U).has("content-type")||de.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),fe=M(fe,{body:A(0,String(oe)),headers:A(0,de)}))),ae.push(fe)),I.apply(this,ae)}}),i.exports={URLSearchParams:m,getState:V}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(P,i,a){P("../modules/es.string.iterator");function s(me){var Ge,et,Fe,vt;if(typeof me=="number"){for(Ge=[],et=0;et<4;et++)Ge.unshift(me%256),me=W(me/256);return Ge.join(".")}if(typeof me!="object")return me;for(Ge="",Fe=ue(me),et=0;et<8;et++)vt&&me[et]===0||(vt=vt&&!1,Fe===et?(Ge+=et?":":"::",vt=!0):(Ge+=me[et].toString(16),et<7&&(Ge+=":")));return"["+Ge+"]"}function u(me){return!me.host||me.cannotBeABaseURL||me.scheme=="file"}function l(me,Ge,et,Fe){var vt,Ue,jt,Je=et||De,_t=0,Qe="",Qt=!1,ir=!1,Kt=!1;for(et||(me.scheme="",me.username="",me.password="",me.host=null,me.port=null,me.path=[],me.query=null,me.fragment=null,me.cannotBeABaseURL=!1,Ge=Ge.replace(de,"")),Ge=Ge.replace(ae,""),vt=E(Ge);_t<=vt.length;){switch(Ue=vt[_t],Je){case De:if(!Ue||!T.test(Ue)){if(et)return X;Je=Q;continue}Qe+=Ue.toLowerCase(),Je=ke;break;case ke:if(Ue&&(L.test(Ue)||Ue=="+"||Ue=="-"||Ue=="."))Qe+=Ue.toLowerCase();else{if(Ue!=":"){if(et)return X;Qe="",Je=Q,_t=0;continue}if(et&&(Ce(me)!=_(Le,Qe)||Qe=="file"&&(tt(me)||me.port!==null)||me.scheme=="file"&&!me.host))return;if(me.scheme=Qe,et)return void(Ce(me)&&Le[me.scheme]==me.port&&(me.port=null));Qe="",me.scheme=="file"?Je=ht:Ce(me)&&Fe&&Fe.scheme==me.scheme?Je=ne:Ce(me)?Je=Ee:vt[_t+1]=="/"?(Je=Y,_t++):(me.cannotBeABaseURL=!0,me.path.push(""),Je=Rt)}break;case Q:if(!Fe||Fe.cannotBeABaseURL&&Ue!="#")return X;if(Fe.cannotBeABaseURL&&Ue=="#"){me.scheme=Fe.scheme,me.path=Fe.path.slice(),me.query=Fe.query,me.fragment="",me.cannotBeABaseURL=!0,Je=rr;break}Je=Fe.scheme=="file"?ht:se;continue;case ne:if(Ue!="/"||vt[_t+1]!="/"){Je=se;continue}Je=Ae,_t++;break;case Y:if(Ue=="/"){Je=Be;break}Je=ut;continue;case se:if(me.scheme=Fe.scheme,Ue==m)me.username=Fe.username,me.password=Fe.password,me.host=Fe.host,me.port=Fe.port,me.path=Fe.path.slice(),me.query=Fe.query;else if(Ue=="/"||Ue=="\\"&&Ce(me))Je=ve;else if(Ue=="?")me.username=Fe.username,me.password=Fe.password,me.host=Fe.host,me.port=Fe.port,me.path=Fe.path.slice(),me.query="",Je=Pr;else{if(Ue!="#"){me.username=Fe.username,me.password=Fe.password,me.host=Fe.host,me.port=Fe.port,me.path=Fe.path.slice(),me.path.pop(),Je=ut;continue}me.username=Fe.username,me.password=Fe.password,me.host=Fe.host,me.port=Fe.port,me.path=Fe.path.slice(),me.query=Fe.query,me.fragment="",Je=rr}break;case ve:if(!Ce(me)||Ue!="/"&&Ue!="\\"){if(Ue!="/"){me.username=Fe.username,me.password=Fe.password,me.host=Fe.host,me.port=Fe.port,Je=ut;continue}Je=Be}else Je=Ae;break;case Ee:if(Je=Ae,Ue!="/"||Qe.charAt(_t+1)!="/")continue;_t++;break;case Ae:if(Ue=="/"||Ue=="\\")break;Je=Be;continue;case Be:if(Ue=="@"){Qt&&(Qe="%40"+Qe);for(var Qt=!0,hr=E(Qe),Fn=0;Fn<hr.length;Fn++){var en=hr[Fn];en!=":"||Kt?(en=_e(en,ye),Kt?me.password+=en:me.username+=en):Kt=!0}Qe=""}else if(Ue==m||Ue=="/"||Ue=="?"||Ue=="#"||Ue=="\\"&&Ce(me)){if(Qt&&Qe=="")return V;_t-=E(Qe).length+1,Qe="",Je=He}else Qe+=Ue;break;case He:case qe:if(et&&me.scheme=="file"){Je=nt;continue}if(Ue!=":"||ir){if(Ue==m||Ue=="/"||Ue=="?"||Ue=="#"||Ue=="\\"&&Ce(me)){if(Ce(me)&&Qe=="")return K;if(et&&Qe==""&&(tt(me)||me.port!==null))return;if(jt=Z(me,Qe))return jt;if(Qe="",Je=ft,et)return;continue}Ue=="["?ir=!0:Ue=="]"&&(ir=!1),Qe+=Ue}else{if(Qe=="")return K;if(jt=Z(me,Qe))return jt;if(Qe="",Je=Ze,et==qe)return}break;case Ze:if(!G.test(Ue)){if(Ue==m||Ue=="/"||Ue=="?"||Ue=="#"||Ue=="\\"&&Ce(me)||et){if(Qe!=""){var Bn=parseInt(Qe,10);if(65535<Bn)return re;me.port=Ce(me)&&Bn===Le[me.scheme]?null:Bn,Qe=""}if(et)return;Je=ft;continue}return re}Qe+=Ue;break;case ht:if(me.scheme="file",Ue=="/"||Ue=="\\")Je=ct;else{if(!Fe||Fe.scheme!="file"){Je=ut;continue}if(Ue==m)me.host=Fe.host,me.path=Fe.path.slice(),me.query=Fe.query;else if(Ue=="?")me.host=Fe.host,me.path=Fe.path.slice(),me.query="",Je=Pr;else{if(Ue!="#"){ze(vt.slice(_t).join(""))||(me.host=Fe.host,me.path=Fe.path.slice(),Xe(me)),Je=ut;continue}me.host=Fe.host,me.path=Fe.path.slice(),me.query=Fe.query,me.fragment="",Je=rr}}break;case ct:if(Ue=="/"||Ue=="\\"){Je=nt;break}Fe&&Fe.scheme=="file"&&!ze(vt.slice(_t).join(""))&&($e(Fe.path[0],!0)?me.path.push(Fe.path[0]):me.host=Fe.host),Je=ut;continue;case nt:if(Ue==m||Ue=="/"||Ue=="\\"||Ue=="?"||Ue=="#"){if(!et&&$e(Qe))Je=ut;else{if(Qe==""){if(me.host="",et)return}else{if(jt=Z(me,Qe))return jt;if(me.host=="localhost"&&(me.host=""),et)return;Qe=""}Je=ft}continue}Qe+=Ue;break;case ft:if(Ce(me)){if(Je=ut,Ue!="/"&&Ue!="\\")continue}else if(et||Ue!="?")if(et||Ue!="#"){if(Ue!=m&&(Je=ut,Ue!="/"))continue}else me.fragment="",Je=rr;else me.query="",Je=Pr;break;case ut:if(Ue==m||Ue=="/"||Ue=="\\"&&Ce(me)||!et&&(Ue=="?"||Ue=="#")){if(xe(Qe)?(Xe(me),Ue=="/"||Ue=="\\"&&Ce(me)||me.path.push("")):Ye(Qe)?Ue=="/"||Ue=="\\"&&Ce(me)||me.path.push(""):(me.scheme=="file"&&!me.path.length&&$e(Qe)&&(me.host&&(me.host=""),Qe=Qe.charAt(0)+":"),me.path.push(Qe)),Qe="",me.scheme=="file"&&(Ue==m||Ue=="?"||Ue=="#"))for(;1<me.path.length&&me.path[0]==="";)me.path.shift();Ue=="?"?(me.query="",Je=Pr):Ue=="#"&&(me.fragment="",Je=rr)}else Qe+=_e(Ue,ge);break;case Rt:Ue=="?"?(me.query="",Je=Pr):Ue=="#"?(me.fragment="",Je=rr):Ue!=m&&(me.path[0]+=_e(Ue,pe));break;case Pr:et||Ue!="#"?Ue!=m&&(Ue=="'"&&Ce(me)?me.query+="%27":me.query+=Ue=="#"?"%23":_e(Ue,pe)):(me.fragment="",Je=rr);break;case rr:Ue!=m&&(me.fragment+=_e(Ue,we))}_t++}}function f(Ue){var Ge,et,Fe=w(this,f,"URL"),vt=1<arguments.length?arguments[1]:void 0,Ue=String(Ue),jt=N(Fe,{type:"URL"});if(vt!==void 0){if(vt instanceof f)Ge=B(vt);else if(et=l(Ge={},String(vt)))throw TypeError(et)}if(et=l(jt,Ue,null,Ge))throw TypeError(et);var Je=jt.searchParams=new I;(vt=U(Je)).updateSearchParams(jt.query),vt.updateURL=function(){jt.query=String(Je)||null},y||(Fe.href=Ut.call(Fe),Fe.origin=xt.call(Fe),Fe.protocol=_r.call(Fe),Fe.username=fr.call(Fe),Fe.password=Ot.call(Fe),Fe.host=xr.call(Fe),Fe.hostname=Oi.call(Fe),Fe.port=Mi.call(Fe),Fe.pathname=Ii.call(Fe),Fe.search=yl.call(Fe),Fe.searchParams=Ai.call(Fe),Fe.hash=Ri.call(Fe))}function v(me,Ge){return{get:me,set:Ge,configurable:!0,enumerable:!0}}var m,c,d,g=P("../internals/export"),y=P("../internals/descriptors"),b=P("../internals/native-url"),kt=P("../internals/global"),p=P("../internals/object-define-properties"),h=P("../internals/redefine"),w=P("../internals/an-instance"),_=P("../internals/has"),j=P("../internals/object-assign"),E=P("../internals/array-from"),S=P("../internals/string-multibyte").codeAt,C=P("../internals/string-punycode-to-ascii"),M=P("../internals/set-to-string-tag"),A=P("../modules/web.url-search-params"),P=P("../internals/internal-state"),D=kt.URL,I=A.URLSearchParams,U=A.getState,N=P.set,B=P.getterFor("URL"),W=Math.floor,z=Math.pow,V="Invalid authority",X="Invalid scheme",K="Invalid host",re="Invalid port",T=/[A-Za-z]/,L=/[\d+-.A-Za-z]/,G=/\d/,H=/^(0x|0X)/,J=/^[0-7]+$/,ee=/^\d+$/,ie=/^[\dA-Fa-f]+$/,fe=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,oe=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,de=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,ae=/[\u0009\u000A\u000D]/g,Z=function(me,Ge){var et,Fe,vt;if(Ge.charAt(0)=="[")return Ge.charAt(Ge.length-1)=="]"&&(et=function(Ue){var jt=[0,0,0,0,0,0,0,0],Je=0,_t=null,Qe=0,Qt,ir,Kt,hr,Fn,en,Bn,pr=function(){return Ue.charAt(Qe)};if(pr()==":"){if(Ue.charAt(1)!=":")return;Qe+=2,Je++,_t=Je}for(;pr();){if(Je==8)return;if(pr()==":"){if(_t!==null)return;Qe++,Je++,_t=Je;continue}for(Qt=ir=0;ir<4&&ie.test(pr());)Qt=Qt*16+parseInt(pr(),16),Qe++,ir++;if(pr()=="."){if(ir==0||(Qe-=ir,Je>6))return;for(Kt=0;pr();){if(hr=null,Kt>0)if(pr()=="."&&Kt<4)Qe++;else return;if(!G.test(pr()))return;for(;G.test(pr());){if(Fn=parseInt(pr(),10),hr===null)hr=Fn;else{if(hr==0)return;hr=hr*10+Fn}if(hr>255)return;Qe++}jt[Je]=jt[Je]*256+hr,Kt++,(Kt==2||Kt==4)&&Je++}if(Kt!=4)return;break}else if(pr()==":"){if(Qe++,!pr())return}else if(pr())return;jt[Je++]=Qt}if(_t!==null)for(en=Je-_t,Je=7;Je!=0&&en>0;)Bn=jt[Je],jt[Je--]=jt[_t+en-1],jt[_t+--en]=Bn;else if(Je!=8)return;return jt}(Ge.slice(1,-1)))?void(me.host=et):K;if(Ce(me))return Ge=C(Ge),fe.test(Ge)||(et=function(Ue){var jt=Ue.split("."),Je,_t,Qe,Qt,ir,Kt,hr;if(jt.length&&jt[jt.length-1]==""&&jt.pop(),(Je=jt.length)>4)return Ue;for(_t=[],Qe=0;Qe<Je;Qe++){if(Qt=jt[Qe],Qt=="")return Ue;if(ir=10,Qt.length>1&&Qt.charAt(0)=="0"&&(ir=H.test(Qt)?16:8,Qt=Qt.slice(ir==8?1:2)),Qt==="")Kt=0;else{if(!(ir==10?ee:ir==8?J:ie).test(Qt))return Ue;Kt=parseInt(Qt,ir)}_t.push(Kt)}for(Qe=0;Qe<Je;Qe++)if(Kt=_t[Qe],Qe==Je-1){if(Kt>=z(256,5-Je))return null}else if(Kt>255)return null;for(hr=_t.pop(),Qe=0;Qe<_t.length;Qe++)hr+=_t[Qe]*z(256,3-Qe);return hr}(Ge))===null?K:void(me.host=et);if(oe.test(Ge))return K;for(et="",Fe=E(Ge),vt=0;vt<Fe.length;vt++)et+=_e(Fe[vt],pe);me.host=et},ue=function(me){for(var Ge=null,et=1,Fe=null,vt=0,Ue=0;Ue<8;Ue++)me[Ue]!==0?(et<vt&&(Ge=Fe,et=vt),Fe=null,vt=0):(Fe===null&&(Fe=Ue),++vt);return et<vt&&(Ge=Fe,et=vt),Ge},pe={},we=j({},pe,{" ":1,'"':1,"<":1,">":1,"`":1}),ge=j({},we,{"#":1,"?":1,"{":1,"}":1}),ye=j({},ge,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),_e=function(me,Ge){var et=S(me,0);return 32<et&&et<127&&!_(Ge,me)?me:encodeURIComponent(me)},Le={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ce=function(me){return _(Le,me.scheme)},tt=function(me){return me.username!=""||me.password!=""},$e=function(me,Ge){return me.length==2&&T.test(me.charAt(0))&&((me=me.charAt(1))==":"||!Ge&&me=="|")},ze=function(me){return 1<me.length&&$e(me.slice(0,2))&&(me.length==2||(me=me.charAt(2))==="/"||me==="\\"||me==="?"||me==="#")},Xe=function(me){var Ge=me.path,et=Ge.length;!et||me.scheme=="file"&&et==1&&$e(Ge[0],!0)||Ge.pop()},Ye=function(me){return me==="."||me.toLowerCase()==="%2e"},xe=function(me){return(me=me.toLowerCase())===".."||me==="%2e."||me===".%2e"||me==="%2e%2e"},De={},ke={},Q={},ne={},Y={},se={},ve={},Ee={},Ae={},Be={},He={},qe={},Ze={},ht={},ct={},nt={},ft={},ut={},Rt={},Pr={},rr={},kt=f.prototype,Ut=function(){var me=B(this),Ge=me.scheme,et=me.username,Fe=me.password,vt=me.host,Ue=me.port,jt=me.path,Je=me.query,_t=me.fragment,Qe=Ge+":";return vt!==null?(Qe+="//",tt(me)&&(Qe+=et+(Fe?":"+Fe:"")+"@"),Qe+=s(vt),Ue!==null&&(Qe+=":"+Ue)):Ge=="file"&&(Qe+="//"),Qe+=me.cannotBeABaseURL?jt[0]:jt.length?"/"+jt.join("/"):"",Je!==null&&(Qe+="?"+Je),_t!==null&&(Qe+="#"+_t),Qe},xt=function(){var me=B(this),Ge=me.scheme,et=me.port;if(Ge=="blob")try{return new URL(Ge.path[0]).origin}catch{return"null"}return Ge!="file"&&Ce(me)?Ge+"://"+s(me.host)+(et!==null?":"+et:""):"null"},_r=function(){return B(this).scheme+":"},fr=function(){return B(this).username},Ot=function(){return B(this).password},xr=function(){var Ge=B(this),me=Ge.host,Ge=Ge.port;return me===null?"":Ge===null?s(me):s(me)+":"+Ge},Oi=function(){var me=B(this).host;return me===null?"":s(me)},Mi=function(){var me=B(this).port;return me===null?"":String(me)},Ii=function(){var me=B(this),Ge=me.path;return me.cannotBeABaseURL?Ge[0]:Ge.length?"/"+Ge.join("/"):""},yl=function(){var me=B(this).query;return me?"?"+me:""},Ai=function(){return B(this).searchParams},Ri=function(){var me=B(this).fragment;return me?"#"+me:""};y&&p(kt,{href:v(Ut,function(et){var Ge=B(this),et=String(et),et=l(Ge,et);if(et)throw TypeError(et);U(Ge.searchParams).updateSearchParams(Ge.query)}),origin:v(xt),protocol:v(_r,function(me){var Ge=B(this);l(Ge,String(me)+":",De)}),username:v(fr,function(me){var Ge=B(this),et=E(String(me));if(!u(Ge)){Ge.username="";for(var Fe=0;Fe<et.length;Fe++)Ge.username+=_e(et[Fe],ye)}}),password:v(Ot,function(me){var Ge=B(this),et=E(String(me));if(!u(Ge)){Ge.password="";for(var Fe=0;Fe<et.length;Fe++)Ge.password+=_e(et[Fe],ye)}}),host:v(xr,function(me){var Ge=B(this);Ge.cannotBeABaseURL||l(Ge,String(me),He)}),hostname:v(Oi,function(me){var Ge=B(this);Ge.cannotBeABaseURL||l(Ge,String(me),qe)}),port:v(Mi,function(me){var Ge=B(this);u(Ge)||((me=String(me))==""?Ge.port=null:l(Ge,me,Ze))}),pathname:v(Ii,function(me){var Ge=B(this);Ge.cannotBeABaseURL||(Ge.path=[],l(Ge,me+"",ft))}),search:v(yl,function(me){var Ge=B(this);(me=String(me))==""?Ge.query=null:(me.charAt(0)=="?"&&(me=me.slice(1)),Ge.query="",l(Ge,me,Pr)),U(Ge.searchParams).updateSearchParams(Ge.query)}),searchParams:v(Ai),hash:v(Ri,function(me){var Ge=B(this);(me=String(me))==""?Ge.fragment=null:(me.charAt(0)=="#"&&(me=me.slice(1)),Ge.fragment="",l(Ge,me,rr))})}),h(kt,"toJSON",function(){return Ut.call(this)},{enumerable:!0}),h(kt,"toString",function(){return Ut.call(this)},{enumerable:!0}),D&&(c=D.createObjectURL,d=D.revokeObjectURL,c&&h(f,"createObjectURL",function(me){return c.apply(D,arguments)}),d&&h(f,"revokeObjectURL",function(me){return d.apply(D,arguments)})),M(f,"URL"),g({global:!0,forced:!b,sham:!y},{URL:f})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(t,i,a){i.exports=t("./").polyfill()},{"./":250}],250:[function(t,i,a){(function(s,u){var l,f;l=this,f=function(){function v(Z){return typeof Z=="function"}var m=Array.isArray||function(Z){return Object.prototype.toString.call(Z)==="[object Array]"},c=0,d=void 0,g=void 0,y=function(Z,ue){j[c]=Z,j[c+1]=ue,(c+=2)===2&&(g?g(E):I())},b=typeof window<"u"?window:void 0,p=b||{},p=p.MutationObserver||p.WebKitMutationObserver,h=typeof self>"u"&&s!==void 0&&{}.toString.call(s)==="[object process]",w=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function _(){var Z=setTimeout;return function(){return Z(E,1)}}var j=new Array(1e3);function E(){for(var Z=0;Z<c;Z+=2)(0,j[Z])(j[Z+1]),j[Z]=void 0,j[Z+1]=void 0;c=0}function S(){try{var Z=Function("return this")().require("vertx");return(d=Z.runOnLoop||Z.runOnContext)!==void 0?function(){d(E)}:_()}catch{return _()}}var C,M,A,I=void 0;function P(Z,ue){var pe,we=this,ge=new this.constructor(N),ye=(ge[U]===void 0&&ie(ge),we._state);return ye?(pe=arguments[ye-1],y(function(){return J(ye,ge,pe,we._result)})):G(we,ge,Z,ue),ge}function D(Z){var ue;return Z&&typeof Z=="object"&&Z.constructor===this?Z:(K(ue=new this(N),Z),ue)}var I=h?function(){return s.nextTick(E)}:p?(M=0,h=new p(E),A=document.createTextNode(""),h.observe(A,{characterData:!0}),function(){A.data=M=++M%2}):w?((C=new MessageChannel).port1.onmessage=E,function(){return C.port2.postMessage(0)}):(b===void 0&&typeof t=="function"?S:_)(),U=Math.random().toString(36).substring(2);function N(){}var B=void 0,W=1,z=2;function V(Z,ue,pe){y(function(we){var ge=!1,ye=function(_e,Le,Ce,tt){try{_e.call(Le,Ce,tt)}catch($e){return $e}}(pe,ue,function(_e){ge||(ge=!0,(ue!==_e?K:T)(we,_e))},function(_e){ge||(ge=!0,L(we,_e))},we._label);!ge&&ye&&(ge=!0,L(we,ye))},Z)}function X(Z,ue,pe){var we,ge;ue.constructor===Z.constructor&&pe===P&&ue.constructor.resolve===D?(we=Z,(ge=ue)._state===W?T(we,ge._result):ge._state===z?L(we,ge._result):G(ge,void 0,function(ye){return K(we,ye)},function(ye){return L(we,ye)})):pe!==void 0&&v(pe)?V(Z,ue,pe):T(Z,ue)}function K(Z,ue){if(Z===ue)L(Z,new TypeError("You cannot resolve a promise with itself"));else if(pe=typeof ue,ue===null||pe!="object"&&pe!="function")T(Z,ue);else{pe=void 0;try{pe=ue.then}catch(we){return void L(Z,we)}X(Z,ue,pe)}var pe}function re(Z){Z._onerror&&Z._onerror(Z._result),H(Z)}function T(Z,ue){Z._state===B&&(Z._result=ue,Z._state=W,Z._subscribers.length!==0&&y(H,Z))}function L(Z,ue){Z._state===B&&(Z._state=z,Z._result=ue,y(re,Z))}function G(Z,ue,pe,we){var ge=Z._subscribers,ye=ge.length;Z._onerror=null,ge[ye]=ue,ge[ye+W]=pe,ge[ye+z]=we,ye===0&&Z._state&&y(H,Z)}function H(Z){var ue=Z._subscribers,pe=Z._state;if(ue.length!==0){for(var we,ge=void 0,ye=Z._result,_e=0;_e<ue.length;_e+=3)we=ue[_e],ge=ue[_e+pe],we?J(pe,we,ge,ye):ge(ye);Z._subscribers.length=0}}function J(Z,ue,pe,we){var ge=v(pe),ye=void 0,_e=void 0,Le=!0;if(ge){try{ye=pe(we)}catch(Ce){Le=!1,_e=Ce}if(ue===ye)return void L(ue,new TypeError("A promises callback cannot return that same promise."))}else ye=we;ue._state===B&&(ge&&Le?K(ue,ye):Le===!1?L(ue,_e):Z===W?T(ue,ye):Z===z&&L(ue,ye))}var ee=0;function ie(Z){Z[U]=ee++,Z._state=void 0,Z._result=void 0,Z._subscribers=[]}oe.prototype._enumerate=function(Z){for(var ue=0;this._state===B&&ue<Z.length;ue++)this._eachEntry(Z[ue],ue)},oe.prototype._eachEntry=function(Z,ue){var pe=this._instanceConstructor,we=pe.resolve;if(we===D){var ge,ye=void 0,_e=void 0,Le=!1;try{ye=Z.then}catch(Ce){Le=!0,_e=Ce}ye===P&&Z._state!==B?this._settledAt(Z._state,ue,Z._result):typeof ye!="function"?(this._remaining--,this._result[ue]=Z):pe===de?(ge=new pe(N),Le?L(ge,_e):X(ge,Z,ye),this._willSettleAt(ge,ue)):this._willSettleAt(new pe(function(Ce){return Ce(Z)}),ue)}else this._willSettleAt(we(Z),ue)},oe.prototype._settledAt=function(Z,ue,pe){var we=this.promise;we._state===B&&(this._remaining--,Z===z?L(we,pe):this._result[ue]=pe),this._remaining===0&&T(we,this._result)},oe.prototype._willSettleAt=function(Z,ue){var pe=this;G(Z,void 0,function(we){return pe._settledAt(W,ue,we)},function(we){return pe._settledAt(z,ue,we)})};var fe=oe;function oe(Z,ue){this._instanceConstructor=Z,this.promise=new Z(N),this.promise[U]||ie(this.promise),m(ue)?(this.length=ue.length,this._remaining=ue.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(ue),this._remaining!==0)||T(this.promise,this._result)):L(this.promise,new Error("Array Methods must be provided an Array"))}ae.prototype.catch=function(Z){return this.then(null,Z)},ae.prototype.finally=function(Z){var ue=this.constructor;return v(Z)?this.then(function(pe){return ue.resolve(Z()).then(function(){return pe})},function(pe){return ue.resolve(Z()).then(function(){throw pe})}):this.then(Z,Z)};var de=ae;function ae(Z){if(this[U]=ee++,this._result=this._state=void 0,this._subscribers=[],N!==Z){if(typeof Z!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof ae))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var ue=this;try{Z(function(pe){K(ue,pe)},function(pe){L(ue,pe)})}catch(pe){L(ue,pe)}}}return de.prototype.then=P,de.all=function(Z){return new fe(this,Z).promise},de.race=function(Z){var ue=this;return m(Z)?new ue(function(pe,we){for(var ge=Z.length,ye=0;ye<ge;ye++)ue.resolve(Z[ye]).then(pe,we)}):new ue(function(pe,we){return we(new TypeError("You must pass an array to race."))})},de.resolve=D,de.reject=function(Z){var ue=new this(N);return L(ue,Z),ue},de._setScheduler=function(Z){g=Z},de._setAsap=function(Z){y=Z},de._asap=y,de.polyfill=function(){var Z=void 0;if(u!==void 0)Z=u;else if(typeof self<"u")Z=self;else try{Z=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ue=Z.Promise;if(ue){var pe=null;try{pe=Object.prototype.toString.call(ue.resolve())}catch{}if(pe==="[object Promise]"&&!ue.cast)return}Z.Promise=de},de.Promise=de},typeof a=="object"&&i!==void 0?i.exports=f():l.ES6Promise=f()}).call(this,t("_process"),typeof Dr<"u"?Dr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(t,i,a){var s,u;s=this,u=function(l,f){var v=5e3,m="callback";function c(g){try{delete window[g]}catch{window[g]=void 0}}function d(g){g=document.getElementById(g),g&&document.getElementsByTagName("head")[0].removeChild(g)}f.exports=function(g){var y=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],b=g,p=y.timeout||v,h=y.jsonpCallback||m,w=void 0;return new Promise(function(_,j){var E=y.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),S=h+"_"+E,C=(window[E]=function(M){_({ok:!0,json:function(){return Promise.resolve(M)}}),w&&clearTimeout(w),d(S),c(E)},b+=b.indexOf("?")===-1?"?":"&",document.createElement("script"));C.setAttribute("src",""+b+h+"="+E),y.charset&&C.setAttribute("charset",y.charset),C.id=S,document.getElementsByTagName("head")[0].appendChild(C),w=setTimeout(function(){j(new Error("JSONP request to "+g+" timed out")),c(E),d(S),window[E]=function(){c(E)}},p),C.onerror=function(){j(new Error("JSONP request to "+g+" failed")),c(E),d(S),w&&clearTimeout(w)}})}},a!==void 0&&i!==void 0?u(0,i):(u(u={exports:{}},u),s.fetchJsonp=u.exports)},{}],252:[function(t,i,a){var s=function(u){var l,f,v,m,c,d,g,y,b,p,h;if(!(u===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return h=u.document,l=function(){return u.URL||u.webkitURL||u},f=h.createElementNS("http://www.w3.org/1999/xhtml","a"),v="download"in f,m=/constructor/i.test(u.HTMLElement)||u.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent),d=function(w){(u.setImmediate||u.setTimeout)(function(){throw w},0)},g=4e4,y=function(w){setTimeout(function(){typeof w=="string"?l().revokeObjectURL(w):w.remove()},g)},b=function(w){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(w.type)?new Blob(["\uFEFF",w],{type:w.type}):w},h=(p=function(w,_,M){M||(w=b(w));var E,S,C=this,M=w.type==="application/octet-stream",A=function(){for(var P=C,D="writestart progress write writeend".split(" "),I=void 0,U=(D=[].concat(D)).length;U--;){var N=P["on"+D[U]];if(typeof N=="function")try{N.call(P,I||P)}catch(B){d(B)}}};C.readyState=C.INIT,v?(E=l().createObjectURL(w),setTimeout(function(){var P,D;f.href=E,f.download=_,P=f,D=new MouseEvent("click"),P.dispatchEvent(D),A(),y(E),C.readyState=C.DONE})):(c||M&&m)&&u.FileReader?((S=new FileReader).onloadend=function(){var P=c?S.result:S.result.replace(/^data:[^;]*;/,"data:attachment/file;");u.open(P,"_blank")||(u.location.href=P),P=void 0,C.readyState=C.DONE,A()},S.readAsDataURL(w),C.readyState=C.INIT):(E=E||l().createObjectURL(w),!M&&u.open(E,"_blank")||(u.location.href=E),C.readyState=C.DONE,A(),y(E))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(w,_,j){return _=_||w.name||"download",j||(w=b(w)),navigator.msSaveOrOpenBlob(w,_)}:(h.abort=function(){},h.readyState=h.INIT=0,h.WRITING=1,h.DONE=2,h.error=h.onwritestart=h.onprogress=h.onwrite=h.onabort=h.onerror=h.onwriteend=null,function(w,_,j){return new p(w,_||w.name||"download",j)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);i!==void 0&&i.exports?i.exports.saveAs=s:o!=null},{}],253:[function(t,i,a){var s,u=Object.defineProperty,l=(u(a,"__esModule",{value:!0}),a),f={GIFEncoder:()=>A,applyPalette:()=>function(B,W,z="rgb565"){if(!B||!B.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(B instanceof Uint8Array||B instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<W.length)throw new Error("applyPalette() only works with 256 colors or less");const V=new Uint32Array(B.buffer),X=V.length,K=z==="rgb444"?4096:65536,re=new Uint8Array(X),T=new Array(K);if(z==="rgba4444")for(let ae=0;ae<X;ae++){var J=V[ae],L=J>>24&255,G=J>>16&255,H=J>>8&255,J=255&J,ee=y(J,H,G,L),ee=ee in T?T[ee]:T[ee]=function(Z,ue,pe,we,ge){let ye=0,_e=1e100;for(let $e=0;$e<ge.length;$e++){var Le,Ce=ge[$e],tt=S(Ce[3]-we);tt>_e||(Le=Ce[0],(tt+=S(Le-Z))>_e||(Le=Ce[1],(tt+=S(Le-ue))>_e||(Le=Ce[2],(tt+=S(Le-pe))>_e||(_e=tt,ye=$e))))}return ye}(J,H,G,L,W);re[ae]=ee}else{const ae=z==="rgb444"?b:g;for(let Z=0;Z<X;Z++){var oe=V[Z],ie=oe>>16&255,fe=oe>>8&255,oe=255&oe,de=ae(oe,fe,ie),de=de in T?T[de]:T[de]=function(ue,pe,we,ge){let ye=0,_e=1e100;for(let $e=0;$e<ge.length;$e++){var Le,Ce=ge[$e],tt=S(Ce[0]-ue);tt>_e||(Le=Ce[1],(tt+=S(Le-pe))>_e||(Le=Ce[2],(tt+=S(Le-we))>_e||(_e=tt,ye=$e)))}return ye}(oe,fe,ie,W);re[Z]=de}}return re},default:()=>N,nearestColor:()=>function(B,W,z=j){return B[C(B,W,z)]},nearestColorIndex:()=>C,nearestColorIndexWithDistance:()=>M,prequantize:()=>function(B,{roundRGB:W=5,roundAlpha:z=10,oneBitAlpha:V=null}={}){const X=new Uint32Array(B.buffer);for(let G=0;G<X.length;G++){var L=X[G];let H=L>>24&255;var K,re=L>>16&255,T=L>>8&255,L=255&L;H=E(H,z),V&&(K=typeof V=="number"?V:127,H=H<=K?0:255),L=E(L,W),T=E(T,W),re=E(re,W),X[G]=H<<24|re<<16|T<<8|L<<0}},quantize:()=>function(B,W,z={}){var{format:V="rgb565",clearAlpha:X=!0,clearAlphaColor:K=0,clearAlphaThreshold:re=0,oneBitAlpha:T=!1}=z;if(!B||!B.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(B instanceof Uint8Array||B instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");B=new Uint32Array(B.buffer);let L=z.useSqrt!==!1;const G=V==="rgba4444",H=function(ze,Xe){const Ye=Xe==="rgb444"?4096:65536,xe=new Array(Ye),De=ze.length;if(Xe==="rgba4444")for(let ct=0;ct<De;++ct){var Y=ze[ct],ke=Y>>24&255,Q=Y>>16&255,ne=Y>>8&255,Y=255&Y,se=y(Y,ne,Q,ke);let nt=se in xe?xe[se]:xe[se]=_();nt.rc+=Y,nt.gc+=ne,nt.bc+=Q,nt.ac+=ke,nt.cnt++}else if(Xe==="rgb444")for(let ct=0;ct<De;++ct){var Ae=ze[ct],ve=Ae>>16&255,Ee=Ae>>8&255,Ae=255&Ae,Be=b(Ae,Ee,ve);let nt=Be in xe?xe[Be]:xe[Be]=_();nt.rc+=Ae,nt.gc+=Ee,nt.bc+=ve,nt.cnt++}else for(let ct=0;ct<De;++ct){var Ze=ze[ct],He=Ze>>16&255,qe=Ze>>8&255,Ze=255&Ze,ht=g(Ze,qe,He);let nt=ht in xe?xe[ht]:xe[ht]=_();nt.rc+=Ze,nt.gc+=qe,nt.bc+=He,nt.cnt++}return xe}(B,V),J=H.length,ee=J-1,ie=new Uint32Array(J+1);for(var fe=0,oe=0;oe<J;++oe){const ze=H[oe];ze!=null&&(Ce=1/ze.cnt,G&&(ze.ac*=Ce),ze.rc*=Ce,ze.gc*=Ce,ze.bc*=Ce,H[fe++]=ze)}h(W)/fe<.022&&(L=!1);for(var de,ae,Z,oe=0;oe<fe-1;++oe)H[oe].fw=oe+1,H[oe+1].bk=oe,L&&(H[oe].cnt=Math.sqrt(H[oe].cnt));for(L&&(H[oe].cnt=Math.sqrt(H[oe].cnt)),oe=0;oe<fe;++oe){w(H,oe);var ue=H[oe].err;for(ae=++ie[0];1<ae&&(Z=ae>>1,!(H[de=ie[Z]].err<=ue));ae=Z)ie[ae]=de;ie[ae]=oe}var pe,we=fe-W;for(oe=0;oe<we;){for(;;){var ge=ie[1];if((pe=H[ge]).tm>=pe.mtm&&H[pe.nn].mtm<=pe.tm)break;for(pe.mtm==ee?ge=ie[1]=ie[ie[0]--]:(w(H,ge),pe.tm=oe),ue=H[ge].err,ae=1;(Z=ae+ae)<=ie[0]&&(Z<ie[0]&&H[ie[Z]].err>H[ie[Z+1]].err&&Z++,!(ue<=H[de=ie[Z]].err));ae=Z)ie[ae]=de;ie[ae]=ge}var ye=H[pe.nn],_e=pe.cnt,Le=ye.cnt,Ce=1/(_e+Le);G&&(pe.ac=Ce*(_e*pe.ac+Le*ye.ac)),pe.rc=Ce*(_e*pe.rc+Le*ye.rc),pe.gc=Ce*(_e*pe.gc+Le*ye.gc),pe.bc=Ce*(_e*pe.bc+Le*ye.bc),pe.cnt+=ye.cnt,pe.mtm=++oe,H[ye.bk].fw=ye.fw,H[ye.fw].bk=ye.bk,ye.mtm=ee}let tt=[];for(oe=0;;0){let ze=p(Math.round(H[oe].rc),0,255),Xe=p(Math.round(H[oe].gc),0,255),Ye=p(Math.round(H[oe].bc),0,255),xe=255;G&&(xe=p(Math.round(H[oe].ac),0,255),T&&($e=typeof T=="number"?T:127,xe=xe<=$e?0:255),X&&xe<=re&&(ze=Xe=Ye=K,xe=0));var $e=G?[ze,Xe,Ye,xe]:[ze,Xe,Ye];if(function(De,ke){for(let Y=0;Y<De.length;Y++){var ne=De[Y],Q=ne[0]===ke[0]&&ne[1]===ke[1]&&ne[2]===ke[2],ne=!(4<=ne.length&&4<=ke.length)||ne[3]===ke[3];if(Q&&ne)return!0}return!1}(tt,$e)||tt.push($e),(oe=H[oe].fw)==0)break}return tt},snapColorsToPalette:()=>function(B,W,z=5){if(B.length&&W.length){var V=B.map(L=>L.slice(0,3)),X=z*z,K=B[0].length;for(let L=0;L<W.length;L++){let G=W[L];G=G.length<K?[G[0],G[1],G[2],255]:G.length>K?G.slice(0,3):G.slice();var T=M(V,G.slice(0,3),j),re=T[0],T=T[1];0<T&&T<=X&&(B[re]=G)}}}};for(s in f)u(l,s,{get:f[s],enumerable:!0});var v={trailer:59};function m(B=256){let W=0,z=new Uint8Array(B);return{get buffer(){return z.buffer},reset(){W=0},bytesView(){return z.subarray(0,W)},bytes(){return z.slice(0,W)},writeByte(X){V(W+1),z[W]=X,W++},writeBytes(X,K=0,re=X.length){V(W+re);for(let T=0;T<re;T++)z[W++]=X[T+K]},writeBytesView(X,K=0,re=X.byteLength){V(W+re),z.set(X.subarray(K,K+re),W),W+=re}};function V(X){var K=z.length;if(!(X<=K)){X=Math.max(X,K*(K<1048576?2:1.125)>>>0),K!=0&&(X=Math.max(X,256));const re=z;z=new Uint8Array(X),0<W&&z.set(re.subarray(0,W),0)}}}var c=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],d=function(B,W,z,G,X=m(512),K=new Uint8Array(256),re=new Int32Array(5003),T=new Int32Array(5003)){var L=re.length,G=Math.max(2,G);K.fill(0),T.fill(0),re.fill(-1);let H=0,J=0;var ee=G+1;const ie=ee;let fe=!1,oe=ie,de=(1<<oe)-1;var ae=1<<ee-1;const Z=1+ae;let ue=2+ae,pe=0,we=z[0],ge=0;for(let $e=L;$e<65536;$e*=2)++ge;ge=8-ge,X.writeByte(G),tt(ae);var ye=z.length;for(let $e=1;$e<ye;$e++)e:{var _e=z[$e],Le=(_e<<12)+we;let ze=_e<<ge^we;if(re[ze]===Le)we=T[ze];else{for(var Ce=ze===0?1:L-ze;0<=re[ze];)if((ze-=Ce)<0&&(ze+=L),re[ze]===Le){we=T[ze];break e}tt(we),we=_e,ue<4096?(T[ze]=ue++,re[ze]=Le):(re.fill(-1),ue=2+ae,fe=!0,tt(ae))}}return tt(we),tt(Z),X.writeByte(0),X.bytesView();function tt($e){for(H&=c[J],0<J?H|=$e<<J:H=$e,J+=oe;8<=J;)K[pe++]=255&H,254<=pe&&(X.writeByte(pe),X.writeBytesView(K,0,pe),pe=0),H>>=8,J-=8;if((ue>de||fe)&&(fe?(oe=ie,de=(1<<oe)-1,fe=!1):(++oe,de=oe===12?1<<oe:(1<<oe)-1)),$e==Z){for(;0<J;)K[pe++]=255&H,254<=pe&&(X.writeByte(pe),X.writeBytesView(K,0,pe),pe=0),H>>=8,J-=8;0<pe&&(X.writeByte(pe),X.writeBytesView(K,0,pe),pe=0)}}};function g(B,W,z){return B<<8&63488|W<<2&992|z>>3}function y(B,W,z,V){return B>>4|240&W|(240&z)<<4|(240&V)<<8}function b(B,W,z){return B>>4<<8|240&W|z>>4}function p(B,W,z){return B<W?W:z<B?z:B}function h(B){return B*B}function w(B,W,z){var V=0,X=1e100;const K=B[W];for(var re=K.cnt,T=K.ac,L=K.rc,G=K.gc,H=K.bc,J=K.fw;J!=0;J=B[J].fw){var ee,ie=B[J],fe=ie.cnt,fe=re*fe/(re+fe);X<=fe||(ee=0,X<=(ee+=fe*h(ie.rc-L))||X<=(ee+=fe*h(ie.gc-G))||X<=(ee+=fe*h(ie.bc-H))||(X=ee,V=J))}K.err=X,K.nn=V}function _(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function j(B,W){for(var z=0,V=0;V<B.length;V++){var X=B[V]-W[V];z+=X*X}return z}function E(B,W){return 1<W?Math.round(B/W)*W:B}function S(B){return B*B}function C(B,W,z=j){let V=1/0,X=-1;for(let re=0;re<B.length;re++){var K=z(W,B[re]);K<V&&(V=K,X=re)}return X}function M(B,W,z=j){let V=1/0,X=-1;for(let re=0;re<B.length;re++){var K=z(W,B[re]);K<V&&(V=K,X=re)}return[X,V]}function A(B={}){const{initialCapacity:W=4096,auto:z=!0}=B,V=m(W),X=new Uint8Array(256),K=new Int32Array(5003),re=new Int32Array(5003);let T=!1;return{reset(){V.reset(),T=!1},finish(){V.writeByte(v.trailer)},bytes(){return V.bytes()},bytesView(){return V.bytesView()},get buffer(){return V.buffer},get stream(){return V},writeHeader:L,writeFrame(G,H,J,we={}){var{transparent:ie=!1,transparentIndex:fe=0,delay:Ce=0,palette:oe=null,repeat:ye=0,colorDepth:de=8,dispose:ae=-1}=we;let Z=!1;if(z?T||(Z=!0,L(),T=!0):Z=!!we.first,H=Math.max(0,Math.floor(H)),J=Math.max(0,Math.floor(J)),Z){if(!oe)throw new Error("First frame must include a { palette } option");var[we,_e,pe,Le,ge=8]=[V,H,J,oe,de];Le=U(Le.length)-1,ge=128|ge-1<<4|Le,D(we,_e),D(we,pe),we.writeBytes([ge,0,0]),P(V,oe),0<=ye&&(Le=V,_e=ye,Le.writeByte(33),Le.writeByte(255),Le.writeByte(11),I(Le,"NETSCAPE2.0"),Le.writeByte(3),Le.writeByte(1),D(Le,_e),Le.writeByte(0))}var ue,pe=Math.round(Ce/10),we=V,ge=ae,ye=pe,_e=ie,Le=fe,Ce=(we.writeByte(33),we.writeByte(249),we.writeByte(4),Le<0&&(Le=0,_e=!1),_e=_e?(ue=1,2):ue=0,0<=ge&&(_e=7&ge),_e<<=2,we.writeByte(0|_e|ue),D(we,ye),we.writeByte(Le||0),we.writeByte(0),!!oe&&!Z);ae=V,ie=H,fe=J,ue=Ce?oe:null,ae.writeByte(44),D(ae,0),D(ae,0),D(ae,ie),D(ae,fe),ue?(ie=U(ue.length)-1,ae.writeByte(128|ie)):ae.writeByte(0),Ce&&P(V,oe),[ye,we,fe,ie,ae=8,Ce,oe,G]=[V,G,H,J,de,X,K,re],d(fe,ie,we,ae,ye,Ce,oe,G)}};function L(){I(V,"GIF89a")}}function P(B,W){var z=1<<U(W.length);for(let V=0;V<z;V++){let X=[0,0,0];V<W.length&&(X=W[V]),B.writeByte(X[0]),B.writeByte(X[1]),B.writeByte(X[2])}}function D(B,W){B.writeByte(255&W),B.writeByte(W>>8&255)}function I(B,W){for(var z=0;z<W.length;z++)B.writeByte(W.charCodeAt(z))}function U(B){return Math.max(Math.ceil(Math.log2(B)),1)}var N=A},{}],254:[function(t,i,a){a.read=function(s,u,l,f,w){var m,c,d=8*w-f-1,g=(1<<d)-1,y=g>>1,b=-7,p=l?w-1:0,h=l?-1:1,w=s[u+p];for(p+=h,m=w&(1<<-b)-1,w>>=-b,b+=d;0<b;m=256*m+s[u+p],p+=h,b-=8);for(c=m&(1<<-b)-1,m>>=-b,b+=f;0<b;c=256*c+s[u+p],p+=h,b-=8);if(m===0)m=1-y;else{if(m===g)return c?NaN:1/0*(w?-1:1);c+=Math.pow(2,f),m-=y}return(w?-1:1)*c*Math.pow(2,m-f)},a.write=function(s,u,l,f,v,_){var c,d,g=8*_-v-1,y=(1<<g)-1,b=y>>1,p=v===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=f?0:_-1,w=f?1:-1,_=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(d=isNaN(u)?1:0,c=y):(c=Math.floor(Math.log(u)/Math.LN2),u*(f=Math.pow(2,-c))<1&&(c--,f*=2),2<=(u+=1<=c+b?p/f:p*Math.pow(2,1-b))*f&&(c++,f/=2),y<=c+b?(d=0,c=y):1<=c+b?(d=(u*f-1)*Math.pow(2,v),c+=b):(d=u*Math.pow(2,b-1)*Math.pow(2,v),c=0));8<=v;s[l+h]=255&d,h+=w,d/=256,v-=8);for(c=c<<v|d,g+=v;0<g;s[l+h]=255&c,h+=w,c/=256,g-=8);s[l+h-w]|=128*_}},{}],255:[function(t,i,a){var s;function u(Q,ne){return Q.b===ne.b&&Q.a===ne.a}function l(Q,ne){return Q.b<ne.b||Q.b===ne.b&&Q.a<=ne.a}function f(Q,ne,Y){var se=ne.b-Q.b,ve=Y.b-ne.b;return 0<se+ve?se<ve?ne.a-Q.a+se/(se+ve)*(Q.a-Y.a):ne.a-Y.a+ve/(se+ve)*(Y.a-Q.a):0}function v(Q,ne,Y){var se=ne.b-Q.b,ve=Y.b-ne.b;return 0<se+ve?(ne.a-Y.a)*se+(ne.a-Q.a)*ve:0}function m(Q,ne){return Q.a<ne.a||Q.a===ne.a&&Q.b<=ne.b}function c(Q,ne,Y){var se=ne.a-Q.a,ve=Y.a-ne.a;return 0<se+ve?se<ve?ne.b-Q.b+se/(se+ve)*(Q.b-Y.b):ne.b-Y.b+ve/(se+ve)*(Y.b-Q.b):0}function d(Q,ne,Y){var se=ne.a-Q.a,ve=Y.a-ne.a;return 0<se+ve?(ne.b-Y.b)*se+(ne.b-Q.b)*ve:0}function g(Q,ne,Y,se){return(Q=Q<0?0:Q)<=(Y=Y<0?0:Y)?Y===0?(ne+se)/2:ne+Q/(Q+Y)*(se-ne):se+Y/(Q+Y)*(ne-se)}function y(Q){var ne=_(Q.b);return E(ne,Q.c),E(ne.b,Q.c),S(ne,Q.a),ne}function b(Q,ne){var Y=!1,se=!1;Q!==ne&&(ne.a!==Q.a&&(se=!0,M(ne.a,Q.a)),ne.d!==Q.d&&(Y=!0,A(ne.d,Q.d)),j(ne,Q),se||(E(ne,Q.a),Q.a.c=Q),Y||(S(ne,Q.d),Q.d.a=Q))}function p(Q){var ne=Q.b,Y=!1;Q.d!==Q.b.d&&(Y=!0,A(Q.d,Q.b.d)),Q.c===Q?M(Q.a,null):(Q.b.d.a=Q.b.e,Q.a.c=Q.c,j(Q,Q.b.e),Y||S(Q,Q.d)),ne.c===ne?(M(ne.a,null),A(ne.d,null)):(Q.d.a=ne.b.e,ne.a.c=ne.c,j(ne,ne.b.e)),C(Q)}function h(Q){var ne=_(Q),Y=ne.b;return j(ne,Q.e),ne.a=Q.b.a,E(Y,ne.a),ne.d=Y.d=Q.d,ne=ne.b,j(Q.b,Q.b.b.e),j(Q.b,ne),Q.b.a=ne.a,ne.b.a.c=ne.b,ne.b.d=Q.b.d,ne.f=Q.f,ne.b.f=Q.b.f,ne}function w(Q,ne){var Y=!1,se=_(Q),ve=se.b;return ne.d!==Q.d&&(Y=!0,A(ne.d,Q.d)),j(se,Q.e),j(ve,ne),se.a=Q.b.a,ve.a=ne.a,se.d=ve.d=Q.d,Q.d.a=ve,Y||S(se,Q.d),se}function _(Q){var ne=new pe,Y=new pe,se=Q.b.h;return(((Y.h=se).b.h=ne).h=Q).b.h=Y,ne.b=Y,((ne.c=ne).e=Y).b=ne,(Y.c=Y).e=ne}function j(Q,ne){var Y=Q.c,se=ne.c;Y.b.e=ne,(se.b.e=Q).c=se,ne.c=Y}function E(Q,ne){var Y=ne.f,se=new ge(ne,Y);for(Y.e=se,Y=(ne.f=se).c=Q;Y.a=se,(Y=Y.c)!==Q;);}function S(Q,ne){var Y=ne.d,se=new ue(ne,Y);for(Y.b=se,(ne.d=se).a=Q,se.c=ne.c,Y=Q;Y.d=se,(Y=Y.e)!==Q;);}function C(Q){var ne=Q.h;Q=Q.b.h,(ne.b.h=Q).b.h=ne}function M(Q,ne){for(var Y=Q.c,se=Y;se.a=ne,(se=se.c)!==Y;);Y=Q.f,((se=Q.e).f=Y).e=se}function A(Q,ne){for(var Y=Q.a,se=Y;se.d=ne,(se=se.e)!==Y;);Y=Q.d,((se=Q.b).d=Y).b=se}function P(Q){var ne=0;return Math.abs(Q[1])>Math.abs(Q[0])&&(ne=1),ne=Math.abs(Q[2])>Math.abs(Q[ne])?2:ne}function D(Q,ne){Q.f+=ne.f,Q.b.f+=ne.b.f}function I(Q,ne,Y){return Q=Q.a,ne=ne.a,Y=Y.a,ne.b.a===Q?Y.b.a===Q?l(ne.a,Y.a)?v(Y.b.a,ne.a,Y.a)<=0:0<=v(ne.b.a,Y.a,ne.a):v(Y.b.a,Q,Y.a)<=0:Y.b.a===Q?0<=v(ne.b.a,Q,ne.a):(ne=f(ne.b.a,Q,ne.a),(Q=f(Y.b.a,Q,Y.a))<=ne)}function U(Q){Q.a.i=null;var ne=Q.e;ne.a.c=ne.c,ne.c.a=ne.a,Q.e=null}function N(Q,ne){p(Q.a),Q.c=!1,(Q.a=ne).i=Q}function B(Q){for(var ne=Q.a.a;(Q=ke(Q)).a.a===ne;);return Q.c&&(N(Q,ne=w(De(Q).a.b,Q.a.e)),Q=ke(Q)),Q}function W(Q,ne,Y){var se=new xe;return se.a=Y,se.e=fe(Q.f,ne.e,se),Y.i=se}function z(Q,ne){switch(Q.s){case 100130:return(1&ne)!=0;case 100131:return ne!==0;case 100132:return 0<ne;case 100133:return ne<0;case 100134:return 2<=ne||ne<=-2}return!1}function V(Q){var ne=Q.a,Y=ne.d;Y.c=Q.d,Y.a=ne,U(Q)}function X(Q,ne,Y){for(ne=(Q=ne).a;Q!==Y;){Q.c=!1;var se=De(Q),ve=se.a;if(ve.a!==ne.a){if(!se.c){V(Q);break}N(se,ve=w(ne.c.b,ve.b))}ne.c!==ve&&(b(ve.b.e,ve),b(ne,ve)),V(Q),ne=se.a,Q=se}return ne}function K(Q,ne,Y,se,ve,Ee){for(var Ae=!0;W(Q,ne,Y.b),(Y=Y.c)!==se;);for(ve===null&&(ve=De(ne).a.b.c);(Y=(se=De(ne)).a.b).a===ve.a;)Y.c!==ve&&(b(Y.b.e,Y),b(ve.b.e,Y)),se.f=ne.f-Y.f,se.d=z(Q,se.f),ne.b=!0,!Ae&&G(Q,ne)&&(D(Y,ve),U(ne),p(ve)),Ae=!1,ne=se,ve=Y;ne.b=!0,Ee&&J(Q,ne)}function re(Q,ne,Y,se,ve){var Ee=[ne.g[0],ne.g[1],ne.g[2]];ne.d=null,ne.d=Q.o&&Q.o(Ee,Y,se,Q.c)||null,ne.d===null&&(ve?Q.n||(Z(Q,100156),Q.n=!0):ne.d=Y[0])}function T(Q,ne,Y){var se=[null,null,null,null];se[0]=ne.a.d,se[1]=Y.a.d,re(Q,ne.a,se,[.5,.5,0,0],!1),b(ne,Y)}function L(Q,ne,Y,se,ve){var Ee=Math.abs(ne.b-Q.b)+Math.abs(ne.a-Q.a),Ae=Math.abs(Y.b-Q.b)+Math.abs(Y.a-Q.a),Be=ve+1;se[ve]=.5*Ae/(Ee+Ae),se[Be]=.5*Ee/(Ee+Ae),Q.g[0]+=se[ve]*ne.g[0]+se[Be]*Y.g[0],Q.g[1]+=se[ve]*ne.g[1]+se[Be]*Y.g[1],Q.g[2]+=se[ve]*ne.g[2]+se[Be]*Y.g[2]}function G(Q,ne){var Y=De(ne),se=ne.a,ve=Y.a;if(l(se.a,ve.a)){if(0<v(ve.b.a,se.a,ve.a))return;if(u(se.a,ve.a)){if(se.a!==ve.a){var Y=Q.e,Ee=se.a.h;if(0<=Ee){var Ae=(Y=Y.b).d,Be=Y.e,He=Y.c,qe=He[Ee];Ae[qe]=Ae[Y.a],(He[Ae[qe]]=qe)<=--Y.a&&(qe<=1||l(Be[Ae[qe>>1]],Be[Ae[qe]])?Xe:Ye)(Y,qe),Be[Ee]=null,He[Ee]=Y.b,Y.b=Ee}else for(Y.c[-(Ee+1)]=null;0<Y.a&&Y.c[Y.d[Y.a-1]]===null;)--Y.a;T(Q,ve.b.e,se)}}else h(ve.b),b(se,ve.b.e),ne.b=Y.b=!0}else{if(v(se.b.a,ve.a,se.a)<0)return;ke(ne).b=ne.b=!0,h(se.b),b(ve.b.e,se)}return 1}function H(Q,ne){var Y=De(ne),se=ne.a,ve=Y.a,Ee=se.a,Ae=ve.a,Be=se.b.a,He=ve.b.a,qe=new ge;if(v(Be,Q.a,Ee),v(He,Q.a,Ae),!(Ee===Ae||Math.min(Ee.a,Be.a)>Math.max(Ae.a,He.a))){if(l(Ee,Ae)){if(0<v(He,Ee,Ae))return}else if(v(Be,Ae,Ee)<0)return;var Ze,ht,ct=Be,nt=Ee,ft=He,ut=Ae;if(l(ct,nt)||(Ze=ct,ct=nt,nt=Ze),l(ft,ut)||(Ze=ft,ft=ut,ut=Ze),l(ct,ft)||(Ze=ct,ct=ft,ft=Ze,Ze=nt,nt=ut,ut=Ze),l(ft,nt)?l(nt,ut)?((Ze=f(ct,ft,nt))+(ht=f(ft,nt,ut))<0&&(Ze=-Ze,ht=-ht),qe.b=g(Ze,ft.b,ht,nt.b)):((Ze=v(ct,ft,nt))+(ht=-v(ct,ut,nt))<0&&(Ze=-Ze,ht=-ht),qe.b=g(Ze,ft.b,ht,ut.b)):qe.b=(ft.b+nt.b)/2,m(ct,nt)||(Ze=ct,ct=nt,nt=Ze),m(ft,ut)||(Ze=ft,ft=ut,ut=Ze),m(ct,ft)||(Ze=ct,ct=ft,ft=Ze,Ze=nt,nt=ut,ut=Ze),m(ft,nt)?m(nt,ut)?((Ze=c(ct,ft,nt))+(ht=c(ft,nt,ut))<0&&(Ze=-Ze,ht=-ht),qe.a=g(Ze,ft.a,ht,nt.a)):((Ze=d(ct,ft,nt))+(ht=-d(ct,ut,nt))<0&&(Ze=-Ze,ht=-ht),qe.a=g(Ze,ft.a,ht,ut.a)):qe.a=(ft.a+nt.a)/2,l(qe,Q.a)&&(qe.b=Q.a.b,qe.a=Q.a.a),ct=l(Ee,Ae)?Ee:Ae,l(ct,qe)&&(qe.b=ct.b,qe.a=ct.a),u(qe,Ee)||u(qe,Ae))return G(Q,ne),0;if(!u(Be,Q.a)&&0<=v(Be,Q.a,qe)||!u(He,Q.a)&&v(He,Q.a,qe)<=0){if(He===Q.a)h(se.b),b(ve.b,se),se=De(ne=B(ne)).a,X(Q,De(ne),Y),K(Q,ne,se.b.e,se,se,!0);else{if(Be!==Q.a)return 0<=v(Be,Q.a,qe)&&(ke(ne).b=ne.b=!0,h(se.b),se.a.b=Q.a.b,se.a.a=Q.a.a),void(v(He,Q.a,qe)<=0&&(ne.b=Y.b=!0,h(ve.b),ve.a.b=Q.a.b,ve.a.a=Q.a.a));for(h(ve.b),b(se.e,ve.b.e),Ae=(Ee=Y=ne).a.b.a;(Ee=ke(Ee)).a.b.a===Ae;);Ee=De(ne=Ee).a.b.c,Y.a=ve.b.e,K(Q,ne,(ve=X(Q,Y,null)).c,se.b.c,Ee,!0)}return 1}h(se.b),h(ve.b),b(ve.b.e,se),se.a.b=qe.b,se.a.a=qe.a,se.a.h=_e(Q.e,se.a),se=se.a,ve=[0,0,0,0],qe=[Ee.d,Be.d,Ae.d,He.d],se.g[0]=se.g[1]=se.g[2]=0,L(se,Ee,Be,ve,0),L(se,Ae,He,ve,2),re(Q,se,qe,ve,!0),ke(ne).b=ne.b=Y.b=!0}}function J(Q,ne){for(var Y=De(ne);;){for(;Y.b;)Y=De(ne=Y);if(!ne.b&&((ne=ke(Y=ne))===null||!ne.b))break;ne.b=!1;var se=ne.a,ve=Y.a;if(Ee=se.b.a!==ve.b.a)e:{var Ee,Ae=De(Ee=ne),Be=Ee.a,He=Ae.a,qe=void 0;if(l(Be.b.a,He.b.a)){if(v(Be.b.a,He.b.a,Be.a)<0){Ee=!1;break e}ke(Ee).b=Ee.b=!0,qe=h(Be),b(He.b,qe),qe.d.c=Ee.d}else{if(0<v(He.b.a,Be.b.a,He.a)){Ee=!1;break e}Ee.b=Ae.b=!0,qe=h(He),b(Be.e,He.b),qe.b.d.c=Ee.d}Ee=!0}if(Ee&&(Y.c?(U(Y),p(ve),ve=(Y=De(ne)).a):ne.c&&(U(ne),p(se),se=(ne=ke(Y)).a)),se.a!==ve.a){if(se.b.a===ve.b.a||ne.c||Y.c||se.b.a!==Q.a&&ve.b.a!==Q.a)G(Q,ne);else if(H(Q,ne))break}se.a===ve.a&&se.b.a===ve.b.a&&(D(ve,se),U(ne),p(se),ne=ke(Y))}}function ee(Q,ne){var Y=new xe,se=y(Q.b);se.a.b=4e150,se.a.a=ne,se.b.a.b=-4e150,se.b.a.a=ne,Q.a=se.b.a,Y.a=se,Y.f=0,Y.d=!1,Y.c=!1,Y.h=!0,Y.b=!1,se=fe(se=Q.f,se.a,Y),Y.e=se}function ie(Q){this.a=new oe,this.b=Q,this.c=I}function fe(Q,ne,Y){for(;(ne=ne.c).b!==null&&!Q.c(Q.b,ne.b,Y););return Q=new oe(Y,ne.a,ne),ne.a.c=Q,ne.a=Q}function oe(Q,ne,Y){this.b=Q||null,this.a=ne||this,this.c=Y||this}function de(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function ae(Q,ne){if(Q.d!==ne)for(;Q.d!==ne;)if(Q.d<ne)switch(Q.d){case 0:Z(Q,100151),Q.u(null);break;case 1:Z(Q,100152),Q.t()}else switch(Q.d){case 2:Z(Q,100154),Q.v();break;case 1:Z(Q,100153),Q.w()}}function Z(Q,ne){Q.p&&Q.p(ne,Q.c)}function ue(Q,ne){this.b=Q||this,this.d=ne||this,this.a=null,this.c=!1}function pe(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function we(){this.c=new ge,this.a=new ue,this.b=new pe,this.d=new pe,this.b.b=this.d,this.d.b=this.b}function ge(Q,ne){this.e=Q||this,this.f=ne||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function ye(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Ce}function _e(Q,ne){var Y,se,ve;return Q.e?(2*(se=++(Y=Q.b).a)>Y.f&&(Y.f*=2,Y.c=tt(Y.c,Y.f+1)),Y.b===0?ve=se:(ve=Y.b,Y.b=Y.c[Y.b]),Y.e[ve]=ne,Y.c[ve]=se,Y.d[se]=ve,Y.h&&Ye(Y,se),ve):(Y=Q.a++,Q.c[Y]=ne,-(Y+1))}function Le(Q){if(Q.a===0)return ze(Q.b);var ne=Q.c[Q.d[Q.a-1]];if(Q.b.a!==0&&l($e(Q.b),ne))return ze(Q.b);for(;--Q.a,0<Q.a&&Q.c[Q.d[Q.a-1]]===null;);return ne}function Ce(){this.d=tt([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function tt(Q,ne){for(var Y=Array(ne),se=0;se<Q.length;se++)Y[se]=Q[se];for(;se<ne;se++)Y[se]=0;return Y}function $e(Q){return Q.e[Q.d[1]]}function ze(Q){var ne=Q.d,Y=Q.e,se=Q.c,ve=ne[1],Ee=Y[ve];return 0<Q.a&&(ne[1]=ne[Q.a],se[ne[1]]=1,Y[ve]=null,se[ve]=Q.b,Q.b=ve,0<--Q.a&&Xe(Q,1)),Ee}function Xe(Q,ne){for(var Y=Q.d,se=Q.e,ve=Q.c,Ee=ne,Ae=Y[Ee];;){var Be=Ee<<1,He=(Be<Q.a&&l(se[Y[Be+1]],se[Y[Be]])&&(Be+=1),Y[Be]);if(Be>Q.a||l(se[Ae],se[He])){ve[Y[Ee]=Ae]=Ee;break}ve[Y[Ee]=He]=Ee,Ee=Be}}function Ye(Q,ne){for(var Y=Q.d,se=Q.e,ve=Q.c,Ee=ne,Ae=Y[Ee];;){var Be=Ee>>1,He=Y[Be];if(Be==0||l(se[He],se[Ae])){ve[Y[Ee]=Ae]=Ee;break}ve[Y[Ee]=He]=Ee,Ee=Be}}function xe(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function De(Q){return Q.e.c.b}function ke(Q){return Q.e.a.b}(s=de.prototype).x=function(){ae(this,0)},s.B=function(Q,ne){switch(Q){case 100142:return;case 100140:switch(ne){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=ne)}break;case 100141:return void(this.m=!!ne);default:return void Z(this,100900)}Z(this,100901)},s.y=function(Q){switch(Q){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Z(this,100900)}return!1},s.A=function(Q,ne,Y){this.j[0]=Q,this.j[1]=ne,this.j[2]=Y},s.z=function(Q,ne){var Y=ne||null;switch(Q){case 100100:case 100106:this.h=Y;break;case 100104:case 100110:this.l=Y;break;case 100101:case 100107:this.k=Y;break;case 100102:case 100108:this.i=Y;break;case 100103:case 100109:this.p=Y;break;case 100105:case 100111:this.o=Y;break;case 100112:this.r=Y;break;default:Z(this,100900)}},s.C=function(Q,ne){var Y=!1,se=[0,0,0];ae(this,2);for(var ve=0;ve<3;++ve){var Ee=Q[ve];Ee<-1e150&&(Ee=-1e150,Y=!0),1e150<Ee&&(Ee=1e150,Y=!0),se[ve]=Ee}Y&&Z(this,100155),(Y=this.q)===null?b(Y=y(this.b),Y.b):(h(Y),Y=Y.e),Y.a.d=ne,Y.a.g[0]=se[0],Y.a.g[1]=se[1],Y.a.g[2]=se[2],Y.f=1,Y.b.f=-1,this.q=Y},s.u=function(Q){ae(this,0),this.d=1,this.b=new we,this.c=Q},s.t=function(){ae(this,1),this.d=2,this.q=null},s.v=function(){ae(this,2),this.d=1},s.w=function(){ae(this,1),this.d=0;var Q,ne,Y=this.j[0],se=this.j[1],ve=this.j[2],Ee=!1,Ae=[Y,se,ve];if(Y===0&&se===0&&ve===0){for(var se=[-2e150,-2e150,-2e150],Be=[2e150,2e150,2e150],ve=[],He=[],Y=(Ee=this.b.c).e;Y!==Ee;Y=Y.e)for(var qe=0;qe<3;++qe){var Ze=Y.g[qe];Ze<Be[qe]&&(Be[qe]=Ze,He[qe]=Y),Ze>se[qe]&&(se[qe]=Ze,ve[qe]=Y)}if(se[1]-Be[1]>se[Y=0]-Be[0]&&(Y=1),Be[Y=se[2]-Be[2]>se[Y]-Be[Y]?2:Y]>=se[Y])Ae[0]=0,Ae[1]=0,Ae[2]=1;else{for(Be=He[Y],ve=ve[Y],He=[se=0,0,0],Be=[Be.g[0]-ve.g[0],Be.g[1]-ve.g[1],Be.g[2]-ve.g[2]],qe=[0,0,0],Y=Ee.e;Y!==Ee;Y=Y.e)qe[0]=Y.g[0]-ve.g[0],qe[1]=Y.g[1]-ve.g[1],qe[2]=Y.g[2]-ve.g[2],He[0]=Be[1]*qe[2]-Be[2]*qe[1],He[1]=Be[2]*qe[0]-Be[0]*qe[2],He[2]=Be[0]*qe[1]-Be[1]*qe[0],se<(Ze=He[0]*He[0]+He[1]*He[1]+He[2]*He[2])&&(se=Ze,Ae[0]=He[0],Ae[1]=He[1],Ae[2]=He[2]);se<=0&&(Ae[0]=Ae[1]=Ae[2]=0,Ae[P(Be)]=1)}Ee=!0}for(He=P(Ae),Y=this.b.c,se=(He+1)%3,ve=(He+2)%3,He=0<Ae[He]?1:-1,Ae=Y.e;Ae!==Y;Ae=Ae.e)Ae.b=Ae.g[se],Ae.a=He*Ae.g[ve];if(Ee){for(Ae=0,Y=(Ee=this.b.a).b;Y!==Ee;Y=Y.b)if(!((se=Y.a).f<=0))for(;Ae+=(se.a.b-se.b.a.b)*(se.a.a+se.b.a.a),(se=se.e)!==Y.a;);if(Ae<0)for(Ee=(Ae=this.b.c).e;Ee!==Ae;Ee=Ee.e)Ee.a=-Ee.a}for(this.n=!1,Ae=this.b.b,Y=Ae.h;Y!==Ae;Y=Ee)Ee=Y.h,se=Y.e,u(Y.a,Y.b.a)&&Y.e.e!==Y&&(T(this,se,Y),p(Y),se=(Y=se).e),se.e===Y&&(se!==Y&&(se!==Ee&&se!==Ee.b||(Ee=Ee.h),p(se)),Y!==Ee&&Y!==Ee.b||(Ee=Ee.h),p(Y));for(this.e=Ae=new ye,Ee=this.b.c,Y=Ee.e;Y!==Ee;Y=Y.e)Y.h=_e(Ae,Y);var ht=Ae;ht.d=[];for(var ct=0;ct<ht.a;ct++)ht.d[ct]=ct;ht.d.sort(function(ut){return function(Rt,Pr){return l(ut[Rt],ut[Pr])?1:-1}}(ht.c)),ht.e=!0;for(var nt=ht.b,ft=nt.a;1<=ft;--ft)Xe(nt,ft);for(nt.h=!0,this.f=new ie(this),ee(this,-4e150),ee(this,4e150);(Ae=Le(this.e))!==null;){for(;;){e:if((Y=this.e).a===0)Ee=$e(Y.b);else if(Ee=Y.c[Y.d[Y.a-1]],Y.b.a!==0&&l(Y=$e(Y.b),Ee)){Ee=Y;break e}if(Ee===null||!u(Ee,Ae))break;Ee=Le(this.e),T(this,Ae.c,Ee.c)}(function ut(Rt,Pr){for(var rr,kt=(Rt.a=Pr).c;kt.i===null;)if((kt=kt.c)===Pr.c){var kt=Rt,Ut=Pr;(Ot=new xe).a=Ut.c.b;for(var xr=(xt=kt.f).a;(xr=xr.a).b!==null&&!xt.c(xt.b,Ot,xr.b););var xt,_r,fr=De(xt=xr.b),Ot=xt.a,xr=fr.a;return void(v(Ot.b.a,Ut,Ot.a)===0?u((Ot=xt.a).a,Ut)||u(Ot.b.a,Ut)||(h(Ot.b),xt.c&&(p(Ot.c),xt.c=!1),b(Ut.c,Ot),ut(kt,Ut)):(_r=l(xr.b.a,Ot.b.a)?xt:fr,fr=void 0,xt.d||_r.c?(fr=_r===xt?w(Ut.c.b,Ot.e):w(xr.b.c.b,Ut.c).b,_r.c?N(_r,fr):((xt=W(Ot=kt,xt,fr)).f=ke(xt).f+xt.a.f,xt.d=z(Ot,xt.f)),ut(kt,Ut)):K(kt,xt,Ut.c,Ut.c,null,!0)))}xt=(Ot=De(kt=B(kt.i))).a,(Ot=X(Rt,Ot,null)).c===xt?(Ot=(xt=Ot).c,xr=De(kt),fr=kt.a,_r=xr.a,rr=!1,fr.b.a!==_r.b.a&&H(Rt,kt),u(fr.a,Rt.a)&&(b(Ot.b.e,fr),Ot=De(kt=B(kt)).a,X(Rt,De(kt),xr),rr=!0),u(_r.a,Rt.a)&&(b(xt,_r.b.e),xt=X(Rt,xr,null),rr=!0),rr?K(Rt,kt,xt.c,Ot,Ot,!0):(Ut=l(_r.a,fr.a)?_r.b.e:fr,K(Rt,kt,Ut=w(xt.c.b,Ut),Ut.c,Ut.c,!1),Ut.b.i.c=!0,J(Rt,kt))):K(Rt,kt,Ot.c,xt,xt,!0)})(this,Ae)}for(this.a=this.f.a.a.b.a.a,Ae=0;(Ee=this.f.a.a.b)!==null;)Ee.h||++Ae,U(Ee);for(this.f=null,(Ae=this.e).b=null,Ae.d=null,this.e=Ae.c=null,Ae=this.b,Y=Ae.a.b;Y!==Ae.a;Y=Ee)Ee=Y.b,(Y=Y.a).e.e===Y&&(D(Y.c,Y),p(Y));if(!this.n){if(Ae=this.b,this.m)for(Y=Ae.b.h;Y!==Ae.b;Y=Ee)Ee=Y.h,Y.b.d.c!==Y.d.c?Y.f=Y.d.c?1:-1:p(Y);else for(Y=Ae.a.b;Y!==Ae.a;Y=Ee)if(Ee=Y.b,Y.c){for(Y=Y.a;l(Y.b.a,Y.a);Y=Y.c.b);for(;l(Y.a,Y.b.a);Y=Y.e);for(se=Y.c.b,ve=void 0;Y.e!==se;)if(l(Y.b.a,se.a)){for(;se.e!==Y&&(l((ne=se.e).b.a,ne.a)||v(se.a,se.b.a,se.e.b.a)<=0);)se=(ve=w(se.e,se)).b;se=se.c.b}else{for(;se.e!==Y&&(l((Q=Y.c.b).a,Q.b.a)||0<=v(Y.b.a,Y.a,Y.c.b.a));)Y=(ve=w(Y,Y.c.b)).b;Y=Y.e}for(;se.e.e!==Y;)ve=w(se.e,se),se=ve.b}if(this.h||this.i||this.k||this.l)if(this.m){for(Ee=(Ae=this.b).a.b;Ee!==Ae.a;Ee=Ee.b)if(Ee.c){for(this.h&&this.h(2,this.c),Y=Ee.a;this.k&&this.k(Y.a.d,this.c),(Y=Y.e)!==Ee.a;);this.i&&this.i(this.c)}}else{for(Ae=this.b,Ee=!!this.l,Y=!1,se=-1,ve=Ae.a.d;ve!==Ae.a;ve=ve.d)if(ve.c)for(Y||(this.h&&this.h(4,this.c),Y=!0),He=ve.a;Ee&&(Be=He.b.d.c?0:1,se!==Be&&(se=Be,this.l&&this.l(!!se,this.c))),this.k&&this.k(He.a.d,this.c),(He=He.e)!==ve.a;);Y&&this.i&&this.i(this.c)}if(this.r){for(Ae=this.b,Y=Ae.a.b;Y!==Ae.a;Y=Ee)if(Ee=Y.b,!Y.c){for(ve=(se=Y.a).e,He=void 0;ve=(He=ve).e,(He.d=null)===He.b.d&&(He.c===He?M(He.a,null):(He.a.c=He.c,j(He,He.b.e)),(Be=He.b).c===Be?M(Be.a,null):(Be.a.c=Be.c,j(Be,Be.b.e)),C(He)),He!==se;);se=Y.d,((Y=Y.b).d=se).b=Y}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:de,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},de.prototype.gluDeleteTess=de.prototype.x,de.prototype.gluTessProperty=de.prototype.B,de.prototype.gluGetTessProperty=de.prototype.y,de.prototype.gluTessNormal=de.prototype.A,de.prototype.gluTessCallback=de.prototype.z,de.prototype.gluTessVertex=de.prototype.C,de.prototype.gluTessBeginPolygon=de.prototype.u,de.prototype.gluTessBeginContour=de.prototype.t,de.prototype.gluTessEndContour=de.prototype.v,de.prototype.gluTessEndPolygon=de.prototype.w,i!==void 0&&(i.exports=this.libtess)},{}],256:[function(t,i,a){function s(l,f,v,m){var c=0,d=(m=m===void 0?{}:m).loop===void 0?null:m.loop,g=m.palette===void 0?null:m.palette;if(f<=0||v<=0||65535<f||65535<v)throw new Error("Width/Height invalid.");function y(S){if(S=S.length,S<2||256<S||S&S-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return S}l[c++]=71,l[c++]=73,l[c++]=70,l[c++]=56,l[c++]=57,l[c++]=97;var b=0,p=0;if(g!==null){for(var h=y(g);h>>=1;)++b;if(h=1<<b,--b,m.background!==void 0){if(h<=(p=m.background))throw new Error("Background index out of range.");if(p===0)throw new Error("Background index explicitly passed as 0.")}}if(l[c++]=255&f,l[c++]=f>>8&255,l[c++]=255&v,l[c++]=v>>8&255,l[c++]=(g!==null?128:0)|b,l[c++]=p,l[c++]=0,g!==null)for(var w=0,_=g.length;w<_;++w){var j=g[w];l[c++]=j>>16&255,l[c++]=j>>8&255,l[c++]=255&j}if(d!==null){if(d<0||65535<d)throw new Error("Loop count invalid.");l[c++]=33,l[c++]=255,l[c++]=11,l[c++]=78,l[c++]=69,l[c++]=84,l[c++]=83,l[c++]=67,l[c++]=65,l[c++]=80,l[c++]=69,l[c++]=50,l[c++]=46,l[c++]=48,l[c++]=3,l[c++]=1,l[c++]=255&d,l[c++]=d>>8&255,l[c++]=0}var E=!1;this.addFrame=function(S,C,M,A,P,D){if(E===!0&&(--c,E=!1),D=D===void 0?{}:D,S<0||C<0||65535<S||65535<C)throw new Error("x/y invalid.");if(M<=0||A<=0||65535<M||65535<A)throw new Error("Width/Height invalid.");if(P.length<M*A)throw new Error("Not enough pixels for the frame size.");var I=!0,U=D.palette;if(U==null&&(I=!1,U=g),U==null)throw new Error("Must supply either a local or global palette.");for(var B=y(U),N=0;B>>=1;)++N;var B=1<<N,W=D.delay===void 0?0:D.delay,z=D.disposal===void 0?0:D.disposal;if(z<0||3<z)throw new Error("Disposal out of range.");var V=!1,X=0;if(D.transparent!==void 0&&D.transparent!==null&&(V=!0,(X=D.transparent)<0||B<=X))throw new Error("Transparent color index.");if(z===0&&!V&&W===0||(l[c++]=33,l[c++]=249,l[c++]=4,l[c++]=z<<2|(V===!0?1:0),l[c++]=255&W,l[c++]=W>>8&255,l[c++]=X,l[c++]=0),l[c++]=44,l[c++]=255&S,l[c++]=S>>8&255,l[c++]=255&C,l[c++]=C>>8&255,l[c++]=255&M,l[c++]=M>>8&255,l[c++]=255&A,l[c++]=A>>8&255,l[c++]=I===!0?128|N-1:0,I===!0)for(var K=0,re=U.length;K<re;++K){var T=U[K];l[c++]=T>>16&255,l[c++]=T>>8&255,l[c++]=255&T}return c=function(L,G,H,J){L[G++]=H;var ee=G++,ie=1<<H,fe=ie-1,oe=1+ie,de=1+oe,ae=H+1,Z=0,ue=0;function pe(ze){for(;ze<=Z;)L[G++]=255&ue,ue>>=8,Z-=8,G===ee+256&&(L[ee]=255,ee=G++)}function we(ze){ue|=ze<<Z,Z+=ae,pe(8)}var ge=J[0]&fe,ye={};we(ie);for(var _e=1,Le=J.length;_e<Le;++_e){var Ce=J[_e]&fe,tt=ge<<8|Ce,$e=ye[tt];if($e===void 0){for(ue|=ge<<Z,Z+=ae;8<=Z;)L[G++]=255&ue,ue>>=8,Z-=8,G===ee+256&&(L[ee]=255,ee=G++);de===4096?(we(ie),de=1+oe,ae=H+1,ye={}):(1<<ae<=de&&++ae,ye[tt]=de++),ge=Ce}else ge=$e}return we(ge),we(oe),pe(1),ee+1===G?L[ee]=0:(L[ee]=G-ee-1,L[G++]=0),G}(l,c,N<2?2:N,P)},this.end=function(){return E===!1&&(l[c++]=59,E=!0),c},this.getOutputBuffer=function(){return l},this.setOutputBuffer=function(S){l=S},this.getOutputBufferPosition=function(){return c},this.setOutputBufferPosition=function(S){c=S}}function u(l,f,v,m){for(var c=l[f++],d=1<<c,g=1+d,y=1+g,b=c+1,p=(1<<b)-1,h=0,w=0,_=0,j=l[f++],E=new Int32Array(4096),S=null;;){for(;h<16&&j!==0;)w|=l[f++]<<h,h+=8,j===1?j=l[f++]:--j;if(h<b)break;var C=w&p;if(w>>=b,h-=b,C==d)y=1+g,p=(1<<(b=c+1))-1,S=null;else{if(C==g)break;for(var M=C<y?C:S,A=0,P=M;d<P;)P=E[P]>>8,++A;var D=P;if(m<_+A+(M!==C?1:0))return void console.log("Warning, gif stream longer than expected.");v[_++]=D;var I=_+=A;for(M!==C&&(v[_++]=D),P=M;A--;)P=E[P],v[--I]=255&P,P>>=8;S!==null&&y<4096&&(E[y++]=S<<8|D,p+1<=y&&b<12&&(++b,p=p<<1|1)),S=C}}_!==m&&console.log("Warning, gif stream shorter than expected.")}try{a.GifWriter=s,a.GifReader=function(l){var f=0;if(l[f++]!==71||l[f++]!==73||l[f++]!==70||l[f++]!==56||(l[f++]+1&253)!=56||l[f++]!==97)throw new Error("Invalid GIF 87a/89a header.");var v=l[f++]|l[f++]<<8,m=l[f++]|l[f++]<<8,c=l[f++],d=1<<1+(7&c),g=(l[f++],l[f++],null),y=null,b=(c>>7&&(g=f,f+=3*(y=d)),!0),p=[],h=0,w=null,_=0,j=null;for(this.width=v,this.height=m;b&&f<l.length;)switch(l[f++]){case 33:switch(l[f++]){case 255:if(l[f]!==11||l[f+1]==78&&l[f+2]==69&&l[f+3]==84&&l[f+4]==83&&l[f+5]==67&&l[f+6]==65&&l[f+7]==80&&l[f+8]==69&&l[f+9]==50&&l[f+10]==46&&l[f+11]==48&&l[f+12]==3&&l[f+13]==1&&l[f+16]==0)f+=14,j=l[f++]|l[f++]<<8,f++;else for(f+=12;;){if(!(0<=(S=l[f++])))throw Error("Invalid block size");if(S===0)break;f+=S}break;case 249:if(l[f++]!==4||l[f+4]!==0)throw new Error("Invalid graphics extension block.");var E=l[f++],h=l[f++]|l[f++]<<8,w=l[f++];!(1&E)&&(w=null),_=E>>2&7,f++;break;case 254:for(;;){if(!(0<=(S=l[f++])))throw Error("Invalid block size");if(S===0)break;f+=S}break;default:throw new Error("Unknown graphic control label: 0x"+l[f-1].toString(16))}break;case 44:var S,C=l[f++]|l[f++]<<8,M=l[f++]|l[f++]<<8,A=l[f++]|l[f++]<<8,P=l[f++]|l[f++]<<8,W=l[f++],D=W>>6&1,I=1<<1+(7&W),U=g,N=y,B=!1,W=(W>>7&&(B=!0,U=f,f+=3*(N=I)),f);for(f++;;){if(!(0<=(S=l[f++])))throw Error("Invalid block size");if(S===0)break;f+=S}p.push({x:C,y:M,width:A,height:P,has_local_palette:B,palette_offset:U,palette_size:N,data_offset:W,data_length:f-W,transparent_index:w,interlaced:!!D,delay:h,disposal:_});break;case 59:b=!1;break;default:throw new Error("Unknown gif block: 0x"+l[f-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return j},this.frameInfo=function(z){if(z<0||z>=p.length)throw new Error("Frame index out of range.");return p[z]},this.decodeAndBlitFrameBGRA=function(z,V){for(var z=this.frameInfo(z),X=z.width*z.height,K=new Uint8Array(X),re=(u(l,z.data_offset,K,X),z.palette_offset),T=z.transparent_index,L=(T===null&&(T=256),z.width),G=v-L,H=L,J=4*(z.y*v+z.x),ee=4*((z.y+z.height)*v+z.x),ie=J,fe=4*G,oe=(z.interlaced===!0&&(fe+=4*v*7),8),de=0,ae=K.length;de<ae;++de){var Z,ue,pe=K[de];H===0&&(H=L,ee<=(ie+=fe)&&(fe=4*G+4*v*(oe-1),ie=J+(L+G)*(oe<<1),oe>>=1)),pe===T?ie+=4:(Z=l[re+3*pe],ue=l[re+3*pe+1],pe=l[re+3*pe+2],V[ie++]=pe,V[ie++]=ue,V[ie++]=Z,V[ie++]=255),--H}},this.decodeAndBlitFrameRGBA=function(z,V){for(var z=this.frameInfo(z),X=z.width*z.height,K=new Uint8Array(X),re=(u(l,z.data_offset,K,X),z.palette_offset),T=z.transparent_index,L=(T===null&&(T=256),z.width),G=v-L,H=L,J=4*(z.y*v+z.x),ee=4*((z.y+z.height)*v+z.x),ie=J,fe=4*G,oe=(z.interlaced===!0&&(fe+=4*v*7),8),de=0,ae=K.length;de<ae;++de){var Z,ue,pe=K[de];H===0&&(H=L,ee<=(ie+=fe)&&(fe=4*G+4*v*(oe-1),ie=J+(L+G)*(oe<<1),oe>>=1)),pe===T?ie+=4:(Z=l[re+3*pe],ue=l[re+3*pe+1],pe=l[re+3*pe+2],V[ie++]=Z,V[ie++]=ue,V[ie++]=pe,V[ie++]=255),--H}}}}catch{}},{}],257:[function(t,i,a){(function(s){var u,l;u=this,l=function(f){function v(F){if(this==null)throw TypeError();var k,O=String(this),R=O.length,F=F?Number(F):0;if(!((F=F!=F?0:F)<0||R<=F))return 55296<=(k=O.charCodeAt(F))&&k<=56319&&F+1<R&&56320<=(R=O.charCodeAt(F+1))&&R<=57343?1024*(k-55296)+R-56320+65536:k}String.prototype.codePointAt||((m=function(){try{var x={},k=Object.defineProperty,O=k(x,x,x)&&k}catch{}return O}())?m(String.prototype,"codePointAt",{value:v,configurable:!0,writable:!0}):String.prototype.codePointAt=v);var m,c=0,d=-3;function g(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function y(x,k){this.source=x,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=k,this.destLen=0,this.ltree=new g,this.dtree=new g}var b=new g,p=new g,h=new Uint8Array(30),w=new Uint16Array(30),_=new Uint8Array(30),j=new Uint16Array(30),E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),S=new g,C=new Uint8Array(320);function M(x,k,O,R){for(var F,$=0;$<O;++$)x[$]=0;for($=0;$<30-O;++$)x[$+O]=$/O|0;for(F=R,$=0;$<30;++$)k[$]=F,F+=1<<x[$]}var A=new Uint16Array(16);function P(x,k,O,R){for(var F,$=0;$<16;++$)x.table[$]=0;for($=0;$<R;++$)x.table[k[O+$]]++;for($=F=x.table[0]=0;$<16;++$)A[$]=F,F+=x.table[$];for($=0;$<R;++$)k[O+$]&&(x.trans[A[k[O+$]]++]=$)}function D(x,k,O){if(!k)return O;for(;x.bitcount<24;)x.tag|=x.source[x.sourceIndex++]<<x.bitcount,x.bitcount+=8;var R=x.tag&65535>>>16-k;return x.tag>>>=k,x.bitcount-=k,R+O}function I(x,k){for(;x.bitcount<24;)x.tag|=x.source[x.sourceIndex++]<<x.bitcount,x.bitcount+=8;for(var O=0,R=0,F=0,$=x.tag;R=2*R+(1&$),$>>>=1,O+=k.table[++F],0<=(R-=k.table[F]););return x.tag=$,x.bitcount-=F,k.trans[O+R]}function U(x,k,O){for(;;){var R=I(x,k);if(R===256)return c;if(R<256)x.dest[x.destLen++]=R;else for(var F,$=D(x,h[R-=257],w[R]),R=I(x,O),q=F=x.destLen-D(x,_[R],j[R]);q<F+$;++q)x.dest[x.destLen++]=x.dest[q]}}for(var N=b,B=p,W=0;W<7;++W)N.table[W]=0;for(N.table[7]=24,N.table[8]=152,N.table[9]=112,W=0;W<24;++W)N.trans[W]=256+W;for(W=0;W<144;++W)N.trans[24+W]=W;for(W=0;W<8;++W)N.trans[168+W]=280+W;for(W=0;W<112;++W)N.trans[176+W]=144+W;for(W=0;W<5;++W)B.table[W]=0;for(B.table[5]=32,W=0;W<32;++W)B.trans[W]=W;M(h,w,4,3),M(_,j,2,1),h[28]=0,w[28]=258;var z=function(x,k){var O,R,F,$=new y(x,k);do{switch(F=void 0,(R=$).bitcount--||(R.tag=R.source[R.sourceIndex++],R.bitcount=7),F=1&R.tag,R.tag>>>=1,R=F,D($,2,0)){case 0:O=function(Oe){for(var st,pt;8<Oe.bitcount;)Oe.sourceIndex--,Oe.bitcount-=8;if((st=256*Oe.source[Oe.sourceIndex+1]+Oe.source[Oe.sourceIndex])!==(65535&~(256*Oe.source[Oe.sourceIndex+3]+Oe.source[Oe.sourceIndex+2])))return d;for(Oe.sourceIndex+=4,pt=st;pt;--pt)Oe.dest[Oe.destLen++]=Oe.source[Oe.sourceIndex++];return Oe.bitcount=0,c}($);break;case 1:O=U($,b,p);break;case 2:Re=Ie=Ne=Pe=q=he=Se=Te=be=le=ce=te=void 0;for(var q,te=$,ce=$.ltree,le=$.dtree,be=D(te,5,257),Te=D(te,5,1),Se=D(te,4,4),he=0;he<19;++he)C[he]=0;for(he=0;he<Se;++he){var Ne=D(te,3,0);C[E[he]]=Ne}for(P(S,C,0,19),q=0;q<be+Te;){var Ie=I(te,S);switch(Ie){case 16:for(var Re=C[q-1],Pe=D(te,2,3);Pe;--Pe)C[q++]=Re;break;case 17:for(Pe=D(te,3,3);Pe;--Pe)C[q++]=0;break;case 18:for(Pe=D(te,7,11);Pe;--Pe)C[q++]=0;break;default:C[q++]=Ie}}P(ce,C,0,be),P(le,C,be,Te),O=U($,$.ltree,$.dtree);break;default:O=d}if(O!==c)throw new Error("Data error")}while(!R);return $.destLen<$.dest.length?typeof $.dest.slice=="function"?$.dest.slice(0,$.destLen):$.dest.subarray(0,$.destLen):$.dest};function V(x,k,O,R,F){return Math.pow(1-F,3)*x+3*Math.pow(1-F,2)*F*k+3*(1-F)*Math.pow(F,2)*O+Math.pow(F,3)*R}function X(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function K(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function re(x){throw new Error(x)}function T(x,k){x||re(k)}X.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},X.prototype.addPoint=function(x,k){typeof x=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=x,this.x2=x),x<this.x1&&(this.x1=x),x>this.x2&&(this.x2=x)),typeof k=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=k,this.y2=k),k<this.y1&&(this.y1=k),k>this.y2&&(this.y2=k))},X.prototype.addX=function(x){this.addPoint(x,null)},X.prototype.addY=function(x){this.addPoint(null,x)},X.prototype.addBezier=function(x,k,O,R,F,$,q,te){var ce=[x,k],le=[O,R],be=[F,$],Te=[q,te];this.addPoint(x,k),this.addPoint(q,te);for(var Se=0;Se<=1;Se++){var he,Ne=6*ce[Se]-12*le[Se]+6*be[Se],Ie=-3*ce[Se]+9*le[Se]-9*be[Se]+3*Te[Se],Re=3*le[Se]-3*ce[Se];Ie==0?Ne==0||0<(he=-Re/Ne)&&he<1&&(Se===0&&this.addX(V(ce[Se],le[Se],be[Se],Te[Se],he)),Se===1&&this.addY(V(ce[Se],le[Se],be[Se],Te[Se],he))):(he=Math.pow(Ne,2)-4*Re*Ie)<0||(0<(Re=(-Ne+Math.sqrt(he))/(2*Ie))&&Re<1&&(Se===0&&this.addX(V(ce[Se],le[Se],be[Se],Te[Se],Re)),Se===1&&this.addY(V(ce[Se],le[Se],be[Se],Te[Se],Re))),0<(Re=(-Ne-Math.sqrt(he))/(2*Ie))&&Re<1&&(Se===0&&this.addX(V(ce[Se],le[Se],be[Se],Te[Se],Re)),Se===1&&this.addY(V(ce[Se],le[Se],be[Se],Te[Se],Re))))}},X.prototype.addQuad=function(x,k,O,R,F,$){O=x+2/3*(O-x),R=k+2/3*(R-k),this.addBezier(x,k,O,R,O+1/3*(F-x),R+1/3*($-k),F,$)},K.prototype.moveTo=function(x,k){this.commands.push({type:"M",x,y:k})},K.prototype.lineTo=function(x,k){this.commands.push({type:"L",x,y:k})},K.prototype.curveTo=K.prototype.bezierCurveTo=function(x,k,O,R,F,$){this.commands.push({type:"C",x1:x,y1:k,x2:O,y2:R,x:F,y:$})},K.prototype.quadTo=K.prototype.quadraticCurveTo=function(x,k,O,R){this.commands.push({type:"Q",x1:x,y1:k,x:O,y:R})},K.prototype.close=K.prototype.closePath=function(){this.commands.push({type:"Z"})},K.prototype.extend=function(x){var k;if(x.commands)x=x.commands;else if(x instanceof X)return k=x,this.moveTo(k.x1,k.y1),this.lineTo(k.x2,k.y1),this.lineTo(k.x2,k.y2),this.lineTo(k.x1,k.y2),void this.close();Array.prototype.push.apply(this.commands,x)},K.prototype.getBoundingBox=function(){for(var x=new X,k=0,O=0,R=0,F=0,$=0;$<this.commands.length;$++){var q=this.commands[$];switch(q.type){case"M":x.addPoint(q.x,q.y),k=R=q.x,O=F=q.y;break;case"L":x.addPoint(q.x,q.y),R=q.x,F=q.y;break;case"Q":x.addQuad(R,F,q.x1,q.y1,q.x,q.y),R=q.x,F=q.y;break;case"C":x.addBezier(R,F,q.x1,q.y1,q.x2,q.y2,q.x,q.y),R=q.x,F=q.y;break;case"Z":R=k,F=O;break;default:throw new Error("Unexpected path command "+q.type)}}return x.isEmpty()&&x.addPoint(0,0),x},K.prototype.draw=function(x){x.beginPath();for(var k=0;k<this.commands.length;k+=1){var O=this.commands[k];O.type==="M"?x.moveTo(O.x,O.y):O.type==="L"?x.lineTo(O.x,O.y):O.type==="C"?x.bezierCurveTo(O.x1,O.y1,O.x2,O.y2,O.x,O.y):O.type==="Q"?x.quadraticCurveTo(O.x1,O.y1,O.x,O.y):O.type==="Z"&&x.closePath()}this.fill&&(x.fillStyle=this.fill,x.fill()),this.stroke&&(x.strokeStyle=this.stroke,x.lineWidth=this.strokeWidth,x.stroke())},K.prototype.toPathData=function(x){function k(){for(var $=arguments,q="",te=0;te<arguments.length;te+=1){var ce=$[te];0<=ce&&0<te&&(q+=" "),q+=(ce=ce,Math.round(ce)===ce?""+Math.round(ce):ce.toFixed(x))}return q}x=x!==void 0?x:2;for(var O="",R=0;R<this.commands.length;R+=1){var F=this.commands[R];F.type==="M"?O+="M"+k(F.x,F.y):F.type==="L"?O+="L"+k(F.x,F.y):F.type==="C"?O+="C"+k(F.x1,F.y1,F.x2,F.y2,F.x,F.y):F.type==="Q"?O+="Q"+k(F.x1,F.y1,F.x,F.y):F.type==="Z"&&(O+="Z")}return O},K.prototype.toSVG=function(x){var k=(k='<path d="')+this.toPathData(x)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?k+=' fill="none"':k+=' fill="'+this.fill+'"'),this.stroke&&(k+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),k+="/>"},K.prototype.toDOMElement=function(k){var k=this.toPathData(k),O=document.createElementNS("http://www.w3.org/2000/svg","path");return O.setAttribute("d",k),O};var L={fail:re,argument:T,assert:T},G={},H={},J={};function ee(x){return function(){return x}}H.BYTE=function(x){return L.argument(0<=x&&x<=255,"Byte value should be between 0 and 255."),[x]},J.BYTE=ee(1),H.CHAR=function(x){return[x.charCodeAt(0)]},J.CHAR=ee(1),H.CHARARRAY=function(x){for(var k=[],O=0;O<x.length;O+=1)k[O]=x.charCodeAt(O);return k},J.CHARARRAY=function(x){return x.length},H.USHORT=function(x){return[x>>8&255,255&x]},J.USHORT=ee(2),H.SHORT=function(x){return[(x=32768<=x?-(65536-x):x)>>8&255,255&x]},J.SHORT=ee(2),H.UINT24=function(x){return[x>>16&255,x>>8&255,255&x]},J.UINT24=ee(3),H.ULONG=function(x){return[x>>24&255,x>>16&255,x>>8&255,255&x]},J.ULONG=ee(4),H.LONG=function(x){return[(x=2147483648<=x?-(4294967296-x):x)>>24&255,x>>16&255,x>>8&255,255&x]},J.LONG=ee(4),H.FIXED=H.ULONG,J.FIXED=J.ULONG,H.FWORD=H.SHORT,J.FWORD=J.SHORT,H.UFWORD=H.USHORT,J.UFWORD=J.USHORT,H.LONGDATETIME=function(x){return[0,0,0,0,x>>24&255,x>>16&255,x>>8&255,255&x]},J.LONGDATETIME=ee(8),H.TAG=function(x){return L.argument(x.length===4,"Tag should be exactly 4 ASCII characters."),[x.charCodeAt(0),x.charCodeAt(1),x.charCodeAt(2),x.charCodeAt(3)]},J.TAG=ee(4),H.Card8=H.BYTE,J.Card8=J.BYTE,H.Card16=H.USHORT,J.Card16=J.USHORT,H.OffSize=H.BYTE,J.OffSize=J.BYTE,H.SID=H.USHORT,J.SID=J.USHORT,H.NUMBER=function(x){return-107<=x&&x<=107?[x+139]:108<=x&&x<=1131?[247+((x-=108)>>8),255&x]:-1131<=x&&x<=-108?[251+((x=-x-108)>>8),255&x]:-32768<=x&&x<=32767?H.NUMBER16(x):H.NUMBER32(x)},J.NUMBER=function(x){return H.NUMBER(x).length},H.NUMBER16=function(x){return[28,x>>8&255,255&x]},J.NUMBER16=ee(3),H.NUMBER32=function(x){return[29,x>>24&255,x>>16&255,x>>8&255,255&x]},J.NUMBER32=ee(5),H.REAL=function(x){for(var k=x.toString(),O=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(k),R=(O&&(O=parseFloat("1e"+((O[2]?+O[2]:0)+O[1].length)),k=(Math.round(x*O)/O).toString()),""),F=0,$=k.length;F<$;F+=1){var q=k[F];R+=q==="e"?k[++F]==="-"?"c":"b":q==="."?"a":q==="-"?"e":q}for(var te=[30],ce=0,le=(R+=1&R.length?"f":"ff").length;ce<le;ce+=2)te.push(parseInt(R.substr(ce,2),16));return te},J.REAL=function(x){return H.REAL(x).length},H.NAME=H.CHARARRAY,J.NAME=J.CHARARRAY,H.STRING=H.CHARARRAY,J.STRING=J.CHARARRAY,G.UTF8=function(x,k,O){for(var R=[],F=O,$=0;$<F;$++,k+=1)R[$]=x.getUint8(k);return String.fromCharCode.apply(null,R)},G.UTF16=function(x,k,O){for(var R=[],F=O/2,$=0;$<F;$++,k+=2)R[$]=x.getUint16(k);return String.fromCharCode.apply(null,R)},H.UTF16=function(x){for(var k=[],O=0;O<x.length;O+=1){var R=x.charCodeAt(O);k[k.length]=R>>8&255,k[k.length]=255&R}return k},J.UTF16=function(x){return 2*x.length};var ie,fe={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"},oe=(G.MACSTRING=function(x,k,O,R){var F=fe[R];if(F!==void 0){for(var $="",q=0;q<O;q++){var te=x.getUint8(k+q);$+=te<=127?String.fromCharCode(te):F[127&te]}return $}},typeof WeakMap=="function"&&new WeakMap);function de(x){return-128<=x&&x<=127}H.MACSTRING=function(x,k){var O=function(q){if(!ie)for(var te in ie={},fe)ie[te]=new String(te);var ce=ie[q];if(ce!==void 0){if(oe){var le=oe.get(ce);if(le!==void 0)return le}var be=fe[q];if(be!==void 0){for(var Te={},Se=0;Se<be.length;Se++)Te[be.charCodeAt(Se)]=Se+128;return oe&&oe.set(ce,Te),Te}}}(k);if(O!==void 0){for(var R=[],F=0;F<x.length;F++){var $=x.charCodeAt(F);if(128<=$&&($=O[$])===void 0)return;R[F]=$}return R}},J.MACSTRING=function(x,k){return x=H.MACSTRING(x,k),x!==void 0?x.length:0},H.VARDELTAS=function(x){for(var R=0,k=[];R<x.length;)var O=x[R],R=(O===0?function(F,$,q){for(var te=0,ce=F.length;$<ce&&te<64&&F[$]===0;)++$,++te;return q.push(128|te-1),$}:-128<=O&&O<=127?function(F,$,q){for(var te=0,ce=F.length,le=$;le<ce&&te<64;){var be=F[le];if(!de(be)||be===0&&le+1<ce&&F[le+1]===0)break;++le,++te}q.push(te-1);for(var Te=$;Te<le;++Te)q.push(F[Te]+256&255);return le}:function(F,$,q){for(var te=0,ce=F.length,le=$;le<ce&&te<64;){var be=F[le];if(be===0||de(be)&&le+1<ce&&de(F[le+1]))break;++le,++te}q.push(64|te-1);for(var Te=$;Te<le;++Te){var Se=F[Te];q.push(Se+65536>>8&255,Se+256&255)}return le})(x,R,k);return k},H.INDEX=function(x){for(var k=1,O=[k],R=[],F=0;F<x.length;F+=1){var $=H.OBJECT(x[F]);Array.prototype.push.apply(R,$),k+=$.length,O.push(k)}if(R.length===0)return[0,0];for(var q=[],te=1+Math.floor(Math.log(k)/Math.log(2))/8|0,ce=[void 0,H.BYTE,H.USHORT,H.UINT24,H.ULONG][te],le=0;le<O.length;le+=1){var be=ce(O[le]);Array.prototype.push.apply(q,be)}return Array.prototype.concat(H.Card16(x.length),H.OffSize(te),q,R)},J.INDEX=function(x){return H.INDEX(x).length},H.DICT=function(x){for(var k=[],O=Object.keys(x),R=O.length,F=0;F<R;F+=1){var $=parseInt(O[F],0),q=x[$];k=(k=k.concat(H.OPERAND(q.value,q.type))).concat(H.OPERATOR($))}return k},J.DICT=function(x){return H.DICT(x).length},H.OPERATOR=function(x){return x<1200?[x]:[12,x-1200]},H.OPERAND=function(x,k){var O=[];if(Array.isArray(k))for(var R=0;R<k.length;R+=1)L.argument(x.length===k.length,"Not enough arguments given for type"+k),O=O.concat(H.OPERAND(x[R],k[R]));else if(k==="SID")O=O.concat(H.NUMBER(x));else if(k==="offset")O=O.concat(H.NUMBER32(x));else if(k==="number")O=O.concat(H.NUMBER(x));else{if(k!=="real")throw new Error("Unknown operand type "+k);O=O.concat(H.REAL(x))}return O},H.OP=H.BYTE,J.OP=J.BYTE;var ae=typeof WeakMap=="function"&&new WeakMap;function Z(x,k,O){for(var R=0;R<k.length;R+=1){var F=k[R];this[F.name]=F.value}if(this.tableName=x,this.fields=k,O)for(var $=Object.keys(O),q=0;q<$.length;q+=1){var te=$[q],ce=O[te];this[te]!==void 0&&(this[te]=ce)}}function ue(x,k,O){O===void 0&&(O=k.length);var R=new Array(k.length+1);R[0]={name:x+"Count",type:"USHORT",value:O};for(var F=0;F<k.length;F++)R[F+1]={name:x+F,type:"USHORT",value:k[F]};return R}function pe(x,k,O){var R=k.length,F=new Array(R+1);F[0]={name:x+"Count",type:"USHORT",value:R};for(var $=0;$<R;$++)F[$+1]={name:x+$,type:"TABLE",value:O(k[$],$)};return F}function we(x,k,O){var R=k.length,F=[];F[0]={name:x+"Count",type:"USHORT",value:R};for(var $=0;$<R;$++)F=F.concat(O(k[$],$));return F}function ge(x){x.format===1?Z.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(ue("glyph",x.glyphs))):L.assert(!1,"Can't create coverage table format 2 yet.")}function ye(x){Z.call(this,"scriptListTable",we("scriptRecord",x,function(k,O){var R=k.script,F=R.defaultLangSys;return L.assert(!!F,"Unable to write GSUB: script "+k.tag+" has no default language system."),[{name:"scriptTag"+O,type:"TAG",value:k.tag},{name:"script"+O,type:"TABLE",value:new Z("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Z("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:F.reqFeatureIndex}].concat(ue("featureIndex",F.featureIndexes)))}].concat(we("langSys",R.langSysRecords,function($,q){var te=$.langSys;return[{name:"langSysTag"+q,type:"TAG",value:$.tag},{name:"langSys"+q,type:"TABLE",value:new Z("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:te.reqFeatureIndex}].concat(ue("featureIndex",te.featureIndexes)))}]})))}]}))}function _e(x){Z.call(this,"featureListTable",we("featureRecord",x,function(k,O){var R=k.feature;return[{name:"featureTag"+O,type:"TAG",value:k.tag},{name:"feature"+O,type:"TABLE",value:new Z("featureTable",[{name:"featureParams",type:"USHORT",value:R.featureParams}].concat(ue("lookupListIndex",R.lookupListIndexes)))}]}))}function Le(x,k){Z.call(this,"lookupListTable",pe("lookup",x,function(O){var R=k[O.lookupType];return L.assert(!!R,"Unable to write GSUB lookup type "+O.lookupType+" tables."),new Z("lookupTable",[{name:"lookupType",type:"USHORT",value:O.lookupType},{name:"lookupFlag",type:"USHORT",value:O.lookupFlag}].concat(pe("subtable",O.subtables,R)))}))}H.CHARSTRING=function(x){if(ae){var k=ae.get(x);if(k!==void 0)return k}for(var $=[],O=x.length,R=0;R<O;R+=1)var F=x[R],$=$.concat(H[F.type](F.value));return ae&&ae.set(x,$),$},J.CHARSTRING=function(x){return H.CHARSTRING(x).length},H.OBJECT=function(x){var k=H[x.type];return L.argument(k!==void 0,"No encoding function for type "+x.type),k(x.value)},J.OBJECT=function(x){var k=J[x.type];return L.argument(k!==void 0,"No sizeOf function for type "+x.type),k(x.value)},H.TABLE=function(x){for(var k=[],O=x.fields.length,R=[],F=[],$=0;$<O;$+=1){var q=x.fields[$],ce=H[q.type],te=(L.argument(ce!==void 0,"No encoding function for field type "+q.type+" ("+q.name+")"),x[q.name]),ce=ce(te=te===void 0?q.value:te);q.type==="TABLE"?(F.push(k.length),k=k.concat([0,0]),R.push(ce)):k=k.concat(ce)}for(var le=0;le<R.length;le+=1){var be=F[le],Te=k.length;L.argument(Te<65536,"Table "+x.tableName+" too big."),k[be]=Te>>8,k[be+1]=255&Te,k=k.concat(R[le])}return k},J.TABLE=function(x){for(var k=0,O=x.fields.length,R=0;R<O;R+=1){var F=x.fields[R],$=J[F.type],q=(L.argument($!==void 0,"No sizeOf function for field type "+F.type+" ("+F.name+")"),x[F.name]);k+=$(q=q===void 0?F.value:q),F.type==="TABLE"&&(k+=2)}return k},H.RECORD=H.TABLE,J.RECORD=J.TABLE,H.LITERAL=function(x){return x},J.LITERAL=function(x){return x.length},Z.prototype.encode=function(){return H.TABLE(this)},Z.prototype.sizeOf=function(){return J.TABLE(this)};var Ce={Table:Z,Record:Z,Coverage:(ge.prototype=Object.create(Z.prototype)).constructor=ge,ScriptList:(ye.prototype=Object.create(Z.prototype)).constructor=ye,FeatureList:(_e.prototype=Object.create(Z.prototype)).constructor=_e,LookupList:(Le.prototype=Object.create(Z.prototype)).constructor=Le,ushortList:ue,tableList:pe,recordList:we};function tt(x,k){return x.getUint8(k)}function $e(x,k){return x.getUint16(k,!1)}function ze(x,k){return x.getUint32(k,!1)}function Xe(x,k){return x.getInt16(k,!1)+x.getUint16(k+2,!1)/65535}var Ye={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function xe(x,k){this.data=x,this.offset=k,this.relativeOffset=0}xe.prototype.parseByte=function(){var x=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,x},xe.prototype.parseChar=function(){var x=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,x},xe.prototype.parseCard8=xe.prototype.parseByte,xe.prototype.parseCard16=xe.prototype.parseUShort=function(){var x=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,x},xe.prototype.parseSID=xe.prototype.parseUShort,xe.prototype.parseOffset16=xe.prototype.parseUShort,xe.prototype.parseShort=function(){var x=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,x},xe.prototype.parseF2Dot14=function(){var x=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,x},xe.prototype.parseOffset32=xe.prototype.parseULong=function(){var x=ze(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,x},xe.prototype.parseFixed=function(){var x=Xe(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,x},xe.prototype.parseString=function(x){var k=this.data,O=this.offset+this.relativeOffset,R="";this.relativeOffset+=x;for(var F=0;F<x;F++)R+=String.fromCharCode(k.getUint8(O+F));return R},xe.prototype.parseTag=function(){return this.parseString(4)},xe.prototype.parseLongDateTime=function(){var x=ze(this.data,this.offset+this.relativeOffset+4);return x-=2082844800,this.relativeOffset+=8,x},xe.prototype.parseVersion=function(x){var k=$e(this.data,this.offset+this.relativeOffset),O=$e(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,k+O/(x=x===void 0?4096:x)/10},xe.prototype.skip=function(x,k){this.relativeOffset+=Ye[x]*(k=k===void 0?1:k)},xe.prototype.parseULongList=function(x){x===void 0&&(x=this.parseULong());for(var k=new Array(x),O=this.data,R=this.offset+this.relativeOffset,F=0;F<x;F++)k[F]=O.getUint32(R),R+=4;return this.relativeOffset+=4*x,k},xe.prototype.parseOffset16List=xe.prototype.parseUShortList=function(x){x===void 0&&(x=this.parseUShort());for(var k=new Array(x),O=this.data,R=this.offset+this.relativeOffset,F=0;F<x;F++)k[F]=O.getUint16(R),R+=2;return this.relativeOffset+=2*x,k},xe.prototype.parseShortList=function(x){for(var k=new Array(x),O=this.data,R=this.offset+this.relativeOffset,F=0;F<x;F++)k[F]=O.getInt16(R),R+=2;return this.relativeOffset+=2*x,k},xe.prototype.parseByteList=function(x){for(var k=new Array(x),O=this.data,R=this.offset+this.relativeOffset,F=0;F<x;F++)k[F]=O.getUint8(R++);return this.relativeOffset+=x,k},xe.prototype.parseList=function(x,k){k||(k=x,x=this.parseUShort());for(var O=new Array(x),R=0;R<x;R++)O[R]=k.call(this);return O},xe.prototype.parseList32=function(x,k){k||(k=x,x=this.parseULong());for(var O=new Array(x),R=0;R<x;R++)O[R]=k.call(this);return O},xe.prototype.parseRecordList=function(x,k){k||(k=x,x=this.parseUShort());for(var O=new Array(x),R=Object.keys(k),F=0;F<x;F++){for(var $={},q=0;q<R.length;q++){var te=R[q],ce=k[te];$[te]=ce.call(this)}O[F]=$}return O},xe.prototype.parseRecordList32=function(x,k){k||(k=x,x=this.parseULong());for(var O=new Array(x),R=Object.keys(k),F=0;F<x;F++){for(var $={},q=0;q<R.length;q++){var te=R[q],ce=k[te];$[te]=ce.call(this)}O[F]=$}return O},xe.prototype.parseStruct=function(x){if(typeof x=="function")return x.call(this);for(var k=Object.keys(x),O={},R=0;R<k.length;R++){var F=k[R],$=x[F];O[F]=$.call(this)}return O},xe.prototype.parseValueRecord=function(x){var k;if((x=x===void 0?this.parseUShort():x)!==0)return k={},1&x&&(k.xPlacement=this.parseShort()),2&x&&(k.yPlacement=this.parseShort()),4&x&&(k.xAdvance=this.parseShort()),8&x&&(k.yAdvance=this.parseShort()),16&x&&(k.xPlaDevice=void 0,this.parseShort()),32&x&&(k.yPlaDevice=void 0,this.parseShort()),64&x&&(k.xAdvDevice=void 0,this.parseShort()),128&x&&(k.yAdvDevice=void 0,this.parseShort()),k},xe.prototype.parseValueRecordList=function(){for(var x=this.parseUShort(),k=this.parseUShort(),O=new Array(k),R=0;R<k;R++)O[R]=this.parseValueRecord(x);return O},xe.prototype.parsePointer=function(x){var k=this.parseOffset16();if(0<k)return new xe(this.data,this.offset+k).parseStruct(x)},xe.prototype.parsePointer32=function(x){var k=this.parseOffset32();if(0<k)return new xe(this.data,this.offset+k).parseStruct(x)},xe.prototype.parseListOfLists=function(x){for(var k=this.parseOffset16List(),O=k.length,R=this.relativeOffset,F=new Array(O),$=0;$<O;$++){var q=k[$];if(q===0)F[$]=void 0;else if(this.relativeOffset=q,x){for(var te=this.parseOffset16List(),ce=new Array(te.length),le=0;le<te.length;le++)this.relativeOffset=q+te[le],ce[le]=x.call(this);F[$]=ce}else F[$]=this.parseUShortList()}return this.relativeOffset=R,F},xe.prototype.parseCoverage=function(){var x=this.offset+this.relativeOffset,k=this.parseUShort(),O=this.parseUShort();if(k===1)return{format:1,glyphs:this.parseUShortList(O)};if(k!==2)throw new Error("0x"+x.toString(16)+": Coverage format must be 1 or 2.");for(var R=new Array(O),F=0;F<O;F++)R[F]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:R}},xe.prototype.parseClassDef=function(){var x=this.offset+this.relativeOffset,k=this.parseUShort();if(k===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(k===2)return{format:2,ranges:this.parseRecordList({start:xe.uShort,end:xe.uShort,classId:xe.uShort})};throw new Error("0x"+x.toString(16)+": ClassDef format must be 1 or 2.")},xe.list=function(x,k){return function(){return this.parseList(x,k)}},xe.list32=function(x,k){return function(){return this.parseList32(x,k)}},xe.recordList=function(x,k){return function(){return this.parseRecordList(x,k)}},xe.recordList32=function(x,k){return function(){return this.parseRecordList32(x,k)}},xe.pointer=function(x){return function(){return this.parsePointer(x)}},xe.pointer32=function(x){return function(){return this.parsePointer32(x)}},xe.tag=xe.prototype.parseTag,xe.byte=xe.prototype.parseByte,xe.uShort=xe.offset16=xe.prototype.parseUShort,xe.uShortList=xe.prototype.parseUShortList,xe.uLong=xe.offset32=xe.prototype.parseULong,xe.uLongList=xe.prototype.parseULongList,xe.struct=xe.prototype.parseStruct,xe.coverage=xe.prototype.parseCoverage,xe.classDef=xe.prototype.parseClassDef;var De={reserved:xe.uShort,reqFeatureIndex:xe.uShort,featureIndexes:xe.uShortList},ke=(xe.prototype.parseScriptList=function(){return this.parsePointer(xe.recordList({tag:xe.tag,script:xe.pointer({defaultLangSys:xe.pointer(De),langSysRecords:xe.recordList({tag:xe.tag,langSys:xe.pointer(De)})})}))||[]},xe.prototype.parseFeatureList=function(){return this.parsePointer(xe.recordList({tag:xe.tag,feature:xe.pointer({featureParams:xe.offset16,lookupListIndexes:xe.uShortList})}))||[]},xe.prototype.parseLookupList=function(x){return this.parsePointer(xe.list(xe.pointer(function(){var k=this.parseUShort(),O=(L.argument(1<=k&&k<=9,"GPOS/GSUB lookup type "+k+" unknown."),this.parseUShort()),R=16&O;return{lookupType:k,lookupFlag:O,subtables:this.parseList(xe.pointer(x[k])),markFilteringSet:R?this.parseUShort():void 0}})))||[]},xe.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var x=this.parseUShort(),k=this.parseUShort();return L.argument(x===1&&k<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:xe.offset32,featureTableSubstitutionOffset:xe.offset32})})||[]},{getByte:tt,getCard8:tt,getUShort:$e,getCard16:$e,getShort:function(x,k){return x.getInt16(k,!1)},getULong:ze,getFixed:Xe,getTag:function(x,k){for(var O="",R=k;R<k+4;R+=1)O+=String.fromCharCode(x.getInt8(R));return O},getOffset:function(x,k,O){for(var R=0,F=0;F<O;F+=1)R=(R<<=8)+x.getUint8(k+F);return R},getBytes:function(x,k,O){for(var R=[],F=k;F<O;F+=1)R.push(x.getUint8(F));return R},bytesToString:function(x){for(var k="",O=0;O<x.length;O+=1)k+=String.fromCharCode(x[O]);return k},Parser:xe}),Q={parse:function(x,k){for(var O={},R=(O.version=ke.getUShort(x,k),L.argument(O.version===0,"cmap table version should be 0."),O.numTables=ke.getUShort(x,k+2),-1),F=O.numTables-1;0<=F;--F){var $=ke.getUShort(x,k+4+8*F),q=ke.getUShort(x,k+4+8*F+2);if($===3&&(q===0||q===1||q===10)||$===0&&(q===0||q===1||q===2||q===3||q===4)){R=ke.getULong(x,k+4+8*F+4);break}}if(R===-1)throw new Error("No valid cmap sub-tables found.");var te=new ke.Parser(x,k+R);if(O.format=te.parseUShort(),O.format===12){var ce,le=O,be=te;be.parseUShort(),le.length=be.parseULong(),le.language=be.parseULong(),le.groupCount=ce=be.parseULong(),le.glyphIndexMap={};for(var Te=0;Te<ce;Te+=1)for(var Se=be.parseULong(),he=be.parseULong(),Ne=be.parseULong(),Ie=Se;Ie<=he;Ie+=1)le.glyphIndexMap[Ie]=Ne,Ne++}else{if(O.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+O.format+").");var Re=O,Pe=x,Oe=k,st=R;Re.length=te.parseUShort(),Re.language=te.parseUShort(),Re.segCount=pt=te.parseUShort()>>1,te.skip("uShort",3),Re.glyphIndexMap={};for(var pt,it=new ke.Parser(Pe,Oe+st+14),at=new ke.Parser(Pe,Oe+st+16+2*pt),gt=new ke.Parser(Pe,Oe+st+16+4*pt),Lt=new ke.Parser(Pe,Oe+st+16+6*pt),Jt=Oe+st+16+8*pt,or=0;or<pt-1;or+=1)for(var Or=void 0,Mr=it.parseUShort(),kn=at.parseUShort(),It=gt.parseShort(),Ft=Lt.parseUShort(),Ct=kn;Ct<=Mr;Ct+=1)Ft!==0?(Jt=(Jt=Lt.offset+Lt.relativeOffset-2)+Ft+2*(Ct-kn),(Or=ke.getUShort(Pe,Jt))!==0&&(Or=Or+It&65535)):Or=Ct+It&65535,Re.glyphIndexMap[Ct]=Or}return O},make:function(x){for(var k=!0,O=x.length-1;0<O;--O)if(65535<x.get(O).unicode){console.log("Adding CMAP format 12 (needed!)"),k=!1;break}var R,F,$=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:k?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:k?12:20}],q=($=($=k?$:$.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Ce.Table("cmap",$));for(q.segments=[],O=0;O<x.length;O+=1){for(var te=x.get(O),ce=0;ce<te.unicodes.length;ce+=1)R=te.unicodes[ce],F=O,q.segments.push({end:R,start:R,delta:-(R-F),offset:0,glyphIndex:F});q.segments=q.segments.sort(function(Oe,st){return Oe.start-st.start})}q.segments.push({end:65535,start:65535,delta:1,offset:0});var le=q.segments.length,be=0,Te=[],Se=[],he=[],Ne=[],Ie=[],Re=[];for(O=0;O<le;O+=1){var Pe=q.segments[O];Pe.end<=65535&&Pe.start<=65535?(Te=Te.concat({name:"end_"+O,type:"USHORT",value:Pe.end}),Se=Se.concat({name:"start_"+O,type:"USHORT",value:Pe.start}),he=he.concat({name:"idDelta_"+O,type:"SHORT",value:Pe.delta}),Ne=Ne.concat({name:"idRangeOffset_"+O,type:"USHORT",value:Pe.offset}),Pe.glyphId!==void 0&&(Ie=Ie.concat({name:"glyph_"+O,type:"USHORT",value:Pe.glyphId}))):be+=1,k||Pe.glyphIndex===void 0||(Re=(Re=(Re=Re.concat({name:"cmap12Start_"+O,type:"ULONG",value:Pe.start})).concat({name:"cmap12End_"+O,type:"ULONG",value:Pe.end})).concat({name:"cmap12Glyph_"+O,type:"ULONG",value:Pe.glyphIndex}))}return q.segCountX2=2*(le-be),q.searchRange=2*Math.pow(2,Math.floor(Math.log(le-be)/Math.log(2))),q.entrySelector=Math.log(q.searchRange/2)/Math.log(2),q.rangeShift=q.segCountX2-q.searchRange,q.fields=q.fields.concat(Te),q.fields.push({name:"reservedPad",type:"USHORT",value:0}),q.fields=q.fields.concat(Se),q.fields=q.fields.concat(he),q.fields=q.fields.concat(Ne),q.fields=q.fields.concat(Ie),q.cmap4Length=14+2*Te.length+2+2*Se.length+2*he.length+2*Ne.length+2*Ie.length,k||($=16+4*Re.length,q.cmap12Offset=20+q.cmap4Length,q.fields=q.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:$},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Re.length/3}]),q.fields=q.fields.concat(Re)),q}},ne=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Y=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],se=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ve=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Ee(x){this.font=x}function Ae(x){this.cmap=x}function Be(x,k){this.encoding=x,this.charset=k}function He(x){switch(x.version){case 1:this.names=ve.slice();break;case 2:this.names=new Array(x.numberOfGlyphs);for(var k=0;k<x.numberOfGlyphs;k++)x.glyphNameIndex[k]<ve.length?this.names[k]=ve[x.glyphNameIndex[k]]:this.names[k]=x.names[x.glyphNameIndex[k]-ve.length];break;case 2.5:this.names=new Array(x.numberOfGlyphs);for(var O=0;O<x.numberOfGlyphs;O++)this.names[O]=ve[O+x.glyphNameIndex[O]];break;default:this.names=[]}}Ee.prototype.charToGlyphIndex=function(x){var k=x.codePointAt(0),O=this.font.glyphs;if(O){for(var R=0;R<O.length;R+=1)for(var F=O.get(R),$=0;$<F.unicodes.length;$+=1)if(F.unicodes[$]===k)return R}return null},Ae.prototype.charToGlyphIndex=function(x){return this.cmap.glyphIndexMap[x.codePointAt(0)]||0},Be.prototype.charToGlyphIndex=function(x){return x=x.codePointAt(0),x=this.encoding[x],this.charset.indexOf(x)},He.prototype.nameToGlyphIndex=function(x){return this.names.indexOf(x)},He.prototype.glyphIndexToName=function(x){return this.names[x]};var qe={line:function(x,k,O,R,F){x.beginPath(),x.moveTo(k,O),x.lineTo(R,F),x.stroke()}};function Ze(x){this.bindConstructorValues(x)}function ht(x,k,O){Object.defineProperty(x,k,{get:function(){return x.path,x[O]},set:function(R){x[O]=R},enumerable:!0,configurable:!0})}function ct(x,k){if(this.font=x,this.glyphs={},Array.isArray(k))for(var O=0;O<k.length;O++)this.glyphs[O]=k[O];this.length=k&&k.length||0}Ze.prototype.bindConstructorValues=function(x){var k;this.index=x.index||0,this.name=x.name||null,this.unicode=x.unicode||void 0,this.unicodes=x.unicodes||x.unicode!==void 0?[x.unicode]:[],x.xMin&&(this.xMin=x.xMin),x.yMin&&(this.yMin=x.yMin),x.xMax&&(this.xMax=x.xMax),x.yMax&&(this.yMax=x.yMax),x.advanceWidth&&(this.advanceWidth=x.advanceWidth),Object.defineProperty(this,"path",(x=x.path,k=x||new K,{configurable:!0,get:function(){return k=typeof k=="function"?k():k},set:function(O){k=O}}))},Ze.prototype.addUnicode=function(x){this.unicodes.length===0&&(this.unicode=x),this.unicodes.push(x)},Ze.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Ze.prototype.getPath=function(x,k,O,R,F){x=x!==void 0?x:0,k=k!==void 0?k:0,O=O!==void 0?O:72;for(var $,q,te=(R=R||{}).xScale,ce=R.yScale,le=(($=R.hinting&&F&&F.hinting?this.path&&F.hinting.exec(this,O):$)?(q=F.hinting.getCommands($),x=Math.round(x),k=Math.round(k),te=ce=1):(q=this.path.commands,R=1/this.path.unitsPerEm*O,te===void 0&&(te=R),ce===void 0&&(ce=R)),new K),be=0;be<q.length;be+=1){var Te=q[be];Te.type==="M"?le.moveTo(x+Te.x*te,k+-Te.y*ce):Te.type==="L"?le.lineTo(x+Te.x*te,k+-Te.y*ce):Te.type==="Q"?le.quadraticCurveTo(x+Te.x1*te,k+-Te.y1*ce,x+Te.x*te,k+-Te.y*ce):Te.type==="C"?le.curveTo(x+Te.x1*te,k+-Te.y1*ce,x+Te.x2*te,k+-Te.y2*ce,x+Te.x*te,k+-Te.y*ce):Te.type==="Z"&&le.closePath()}return le},Ze.prototype.getContours=function(){if(this.points===void 0)return[];for(var x=[],k=[],O=0;O<this.points.length;O+=1){var R=this.points[O];k.push(R),R.lastPointOfContour&&(x.push(k),k=[])}return L.argument(k.length===0,"There are still points left in the current contour."),x},Ze.prototype.getMetrics=function(){for(var x=this.path.commands,k=[],O=[],R=0;R<x.length;R+=1){var F=x[R];F.type!=="Z"&&(k.push(F.x),O.push(F.y)),F.type!=="Q"&&F.type!=="C"||(k.push(F.x1),O.push(F.y1)),F.type==="C"&&(k.push(F.x2),O.push(F.y2))}var $={xMin:Math.min.apply(null,k),yMin:Math.min.apply(null,O),xMax:Math.max.apply(null,k),yMax:Math.max.apply(null,O),leftSideBearing:this.leftSideBearing};return isFinite($.xMin)||($.xMin=0),isFinite($.xMax)||($.xMax=this.advanceWidth),isFinite($.yMin)||($.yMin=0),isFinite($.yMax)||($.yMax=0),$.rightSideBearing=this.advanceWidth-$.leftSideBearing-($.xMax-$.xMin),$},Ze.prototype.draw=function(x,k,O,R,F){this.getPath(k,O,R,F).draw(x)},Ze.prototype.drawPoints=function(x,k,O,R){function F(be,Te,Se,he){var Ne=2*Math.PI;x.beginPath();for(var Ie=0;Ie<be.length;Ie+=1)x.moveTo(Te+be[Ie].x*he,Se+be[Ie].y*he),x.arc(Te+be[Ie].x*he,Se+be[Ie].y*he,2,0,Ne,!1);x.closePath(),x.fill()}k=k!==void 0?k:0,O=O!==void 0?O:0;for(var R=1/this.path.unitsPerEm*(R=R!==void 0?R:24),$=[],q=[],te=this.path,ce=0;ce<te.commands.length;ce+=1){var le=te.commands[ce];le.x!==void 0&&$.push({x:le.x,y:-le.y}),le.x1!==void 0&&q.push({x:le.x1,y:-le.y1}),le.x2!==void 0&&q.push({x:le.x2,y:-le.y2})}x.fillStyle="blue",F($,k,O,R),x.fillStyle="red",F(q,k,O,R)},Ze.prototype.drawMetrics=function(x,k,O,R){k=k!==void 0?k:0,O=O!==void 0?O:0,R=1/this.path.unitsPerEm*(R=R!==void 0?R:24),x.lineWidth=1,x.strokeStyle="black",qe.line(x,k,-1e4,k,1e4),qe.line(x,-1e4,O,1e4,O);var F=this.xMin||0,$=this.yMin||0,q=this.xMax||0,te=this.yMax||0,ce=this.advanceWidth||0;x.strokeStyle="blue",qe.line(x,k+F*R,-1e4,k+F*R,1e4),qe.line(x,k+q*R,-1e4,k+q*R,1e4),qe.line(x,-1e4,O+-$*R,1e4,O+-$*R),qe.line(x,-1e4,O+-te*R,1e4,O+-te*R),x.strokeStyle="green",qe.line(x,k+ce*R,-1e4,k+ce*R,1e4)},ct.prototype.get=function(x){return typeof this.glyphs[x]=="function"&&(this.glyphs[x]=this.glyphs[x]()),this.glyphs[x]},ct.prototype.push=function(x,k){this.glyphs[x]=k,this.length++};var nt={GlyphSet:ct,glyphLoader:function(x,k){return new Ze({index:k,font:x})},ttfGlyphLoader:function(x,k,O,R,F,$){return function(){var q=new Ze({index:k,font:x});return q.path=function(){O(q,R,F);var te=$(x.glyphs,q);return te.unitsPerEm=x.unitsPerEm,te},ht(q,"xMin","_xMin"),ht(q,"xMax","_xMax"),ht(q,"yMin","_yMin"),ht(q,"yMax","_yMax"),q}},cffGlyphLoader:function(x,k,O,R){return function(){var F=new Ze({index:k,font:x});return F.path=function(){var $=O(x,F,R);return $.unitsPerEm=x.unitsPerEm,$},F}}};function ft(x){return x=x.length<1240?107:x.length<33900?1131:32768,x}function ut(x,k,O){var R,F=[],$=[],q=ke.getCard16(x,k);if(q!==0){for(var te=ke.getByte(x,k+2),ce=k+(q+1)*te+2,le=k+3,be=0;be<q+1;be+=1)F.push(ke.getOffset(x,le,te)),le+=te;R=ce+F[q]}else R=k+2;for(var Te=0;Te<F.length-1;Te+=1){var Se=ke.getBytes(x,ce+F[Te],ce+F[Te+1]);O&&(Se=O(Se)),$.push(Se)}return{objects:$,startOffset:k,endOffset:R}}function Rt(x,k){if(k===28)return x.parseByte()<<8|x.parseByte();if(k===29)return x.parseByte()<<24|x.parseByte()<<16|x.parseByte()<<8|x.parseByte();if(k===30){for(var O=x,R="",F=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var q=O.parseByte(),$=q>>4,q=15&q;if($==15||(R+=F[$],q==15))break;R+=F[q]}return parseFloat(R)}if(32<=k&&k<=246)return k-139;if(247<=k&&k<=250)return 256*(k-247)+x.parseByte()+108;if(251<=k&&k<=254)return 256*-(k-251)-x.parseByte()-108;throw new Error("Invalid b0 "+k)}function Pr(x,k,O){var R=new ke.Parser(x,k=k!==void 0?k:0),F=[],$=[];for(O=O!==void 0?O:x.length;R.relativeOffset<O;){var q=R.parseByte();q<=21?(q===12&&(q=1200+R.parseByte()),F.push([q,$]),$=[]):$.push(Rt(R,q))}for(var te=F,ce={},le=0;le<te.length;le+=1){var be=te[le][0],Te=te[le][1],Se=void 0,Se=Te.length===1?Te[0]:Te;if(ce.hasOwnProperty(be)&&!isNaN(ce[be]))throw new Error("Object "+ce+" already has key "+be);ce[be]=Se}return ce}function rr(x,k){return k=k<=390?ne[k]:x[k-391]}function kt(x,k,O){for(var R,F={},$=0;$<k.length;$+=1){var q=k[$];if(Array.isArray(q.type)){var te=[];te.length=q.type.length;for(var ce=0;ce<q.type.length;ce++)(R=x[q.op]!==void 0?x[q.op][ce]:void 0)===void 0&&(R=q.value!==void 0&&q.value[ce]!==void 0?q.value[ce]:null),q.type[ce]==="SID"&&(R=rr(O,R)),te[ce]=R;F[q.name]=te}else(R=x[q.op])===void 0&&(R=q.value!==void 0?q.value:null),q.type==="SID"&&(R=rr(O,R)),F[q.name]=R}return F}var Ut=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],xt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function _r(x,k,O,R){return kt(Pr(x,k,O),xt,R)}function fr(x,k,O,R){for(var F=[],$=0;$<O.length;$+=1){var q=new DataView(new Uint8Array(O[$]).buffer),q=(te=R,kt(Pr(q,0,q.byteLength),Ut,te)),te=(q._subrs=[],q._subrsBias=0,q.private[0]),ce=q.private[1];te!==0&&ce!==0&&(te=_r(x,ce+k,te,R),q._defaultWidthX=te.defaultWidthX,q._nominalWidthX=te.nominalWidthX,te.subrs!==0&&(ce=ut(x,ce+te.subrs+k),q._subrs=ce.objects,q._subrsBias=ft(q._subrs)),q._privateDict=te),F.push(q)}return F}function Ot(x,k,O){var R,F,$,q,te,ce,le,be,Te,Se=new K,he=[],Ne=0,Ie=!1,Re=!1,Pe=0,Oe=0,st=(Te=(x.isCIDFont?(te=x.tables.cff.topDict._fdSelect[k.index],te=x.tables.cff.topDict._fdArray[te],ce=te._subrs,le=te._subrsBias,be=te._defaultWidthX,te):(ce=x.tables.cff.topDict._subrs,le=x.tables.cff.topDict._subrsBias,be=x.tables.cff.topDict._defaultWidthX,x.tables.cff.topDict))._nominalWidthX,be);function pt(at,gt){Re&&Se.closePath(),Se.moveTo(at,gt),Re=!0}function it(){he.length%2==0||Ie||(st=he.shift()+Te),Ne+=he.length>>1,he.length=0,Ie=!0}return function at(gt){for(var Lt,Jt,or,Or,Mr,kn,It,Ft,Ct,Ir,Ht,jr,Bt=0;Bt<gt.length;){var mr=gt[Bt];switch(Bt+=1,mr){case 1:case 3:it();break;case 4:1<he.length&&!Ie&&(st=he.shift()+Te,Ie=!0),Oe+=he.pop(),pt(Pe,Oe);break;case 5:for(;0<he.length;)Pe+=he.shift(),Oe+=he.shift(),Se.lineTo(Pe,Oe);break;case 6:for(;0<he.length&&(Pe+=he.shift(),Se.lineTo(Pe,Oe),he.length!==0);)Oe+=he.shift(),Se.lineTo(Pe,Oe);break;case 7:for(;0<he.length&&(Oe+=he.shift(),Se.lineTo(Pe,Oe),he.length!==0);)Pe+=he.shift(),Se.lineTo(Pe,Oe);break;case 8:for(;0<he.length;)R=Pe+he.shift(),F=Oe+he.shift(),$=R+he.shift(),q=F+he.shift(),Pe=$+he.shift(),Oe=q+he.shift(),Se.curveTo(R,F,$,q,Pe,Oe);break;case 10:Mr=he.pop()+le,(kn=ce[Mr])&&at(kn);break;case 11:return;case 12:switch(mr=gt[Bt],Bt+=1,mr){case 35:R=Pe+he.shift(),F=Oe+he.shift(),$=R+he.shift(),q=F+he.shift(),It=$+he.shift(),Ft=q+he.shift(),Ct=It+he.shift(),Ir=Ft+he.shift(),Ht=Ct+he.shift(),jr=Ir+he.shift(),Pe=Ht+he.shift(),Oe=jr+he.shift(),he.shift(),Se.curveTo(R,F,$,q,It,Ft),Se.curveTo(Ct,Ir,Ht,jr,Pe,Oe);break;case 34:R=Pe+he.shift(),F=Oe,$=R+he.shift(),q=F+he.shift(),It=$+he.shift(),Ft=q,Ct=It+he.shift(),Ir=q,Ht=Ct+he.shift(),jr=Oe,Pe=Ht+he.shift(),Se.curveTo(R,F,$,q,It,Ft),Se.curveTo(Ct,Ir,Ht,jr,Pe,Oe);break;case 36:R=Pe+he.shift(),F=Oe+he.shift(),$=R+he.shift(),q=F+he.shift(),It=$+he.shift(),Ft=q,Ct=It+he.shift(),Ir=q,Ht=Ct+he.shift(),jr=Ir+he.shift(),Pe=Ht+he.shift(),Se.curveTo(R,F,$,q,It,Ft),Se.curveTo(Ct,Ir,Ht,jr,Pe,Oe);break;case 37:R=Pe+he.shift(),F=Oe+he.shift(),$=R+he.shift(),q=F+he.shift(),It=$+he.shift(),Ft=q+he.shift(),Ct=It+he.shift(),Ir=Ft+he.shift(),Ht=Ct+he.shift(),jr=Ir+he.shift(),Math.abs(Ht-Pe)>Math.abs(jr-Oe)?Pe=Ht+he.shift():Oe=jr+he.shift(),Se.curveTo(R,F,$,q,It,Ft),Se.curveTo(Ct,Ir,Ht,jr,Pe,Oe);break;default:console.log("Glyph "+k.index+": unknown operator 1200"+mr),he.length=0}break;case 14:0<he.length&&!Ie&&(st=he.shift()+Te,Ie=!0),Re&&(Se.closePath(),Re=!1);break;case 18:it();break;case 19:case 20:it(),Bt+=Ne+7>>3;break;case 21:2<he.length&&!Ie&&(st=he.shift()+Te,Ie=!0),Oe+=he.pop(),pt(Pe+=he.pop(),Oe);break;case 22:1<he.length&&!Ie&&(st=he.shift()+Te,Ie=!0),pt(Pe+=he.pop(),Oe);break;case 23:it();break;case 24:for(;2<he.length;)R=Pe+he.shift(),F=Oe+he.shift(),$=R+he.shift(),q=F+he.shift(),Pe=$+he.shift(),Oe=q+he.shift(),Se.curveTo(R,F,$,q,Pe,Oe);Pe+=he.shift(),Oe+=he.shift(),Se.lineTo(Pe,Oe);break;case 25:for(;6<he.length;)Pe+=he.shift(),Oe+=he.shift(),Se.lineTo(Pe,Oe);R=Pe+he.shift(),F=Oe+he.shift(),$=R+he.shift(),q=F+he.shift(),Pe=$+he.shift(),Oe=q+he.shift(),Se.curveTo(R,F,$,q,Pe,Oe);break;case 26:for(he.length%2&&(Pe+=he.shift());0<he.length;)R=Pe,F=Oe+he.shift(),$=R+he.shift(),q=F+he.shift(),Pe=$,Oe=q+he.shift(),Se.curveTo(R,F,$,q,Pe,Oe);break;case 27:for(he.length%2&&(Oe+=he.shift());0<he.length;)R=Pe+he.shift(),F=Oe,$=R+he.shift(),q=F+he.shift(),Pe=$+he.shift(),Oe=q,Se.curveTo(R,F,$,q,Pe,Oe);break;case 28:Lt=gt[Bt],Jt=gt[Bt+1],he.push((Lt<<24|Jt<<16)>>16),Bt+=2;break;case 29:Mr=he.pop()+x.gsubrsBias,(kn=x.gsubrs[Mr])&&at(kn);break;case 30:for(;0<he.length&&(R=Pe,F=Oe+he.shift(),$=R+he.shift(),q=F+he.shift(),Pe=$+he.shift(),Oe=q+(he.length===1?he.shift():0),Se.curveTo(R,F,$,q,Pe,Oe),he.length!==0);)R=Pe+he.shift(),F=Oe,$=R+he.shift(),q=F+he.shift(),Oe=q+he.shift(),Pe=$+(he.length===1?he.shift():0),Se.curveTo(R,F,$,q,Pe,Oe);break;case 31:for(;0<he.length&&(R=Pe+he.shift(),F=Oe,$=R+he.shift(),q=F+he.shift(),Oe=q+he.shift(),Pe=$+(he.length===1?he.shift():0),Se.curveTo(R,F,$,q,Pe,Oe),he.length!==0);)R=Pe,F=Oe+he.shift(),$=R+he.shift(),q=F+he.shift(),Pe=$+he.shift(),Oe=q+(he.length===1?he.shift():0),Se.curveTo(R,F,$,q,Pe,Oe);break;default:mr<32?console.log("Glyph "+k.index+": unknown operator "+mr):mr<247?he.push(mr-139):mr<251?(Lt=gt[Bt],Bt+=1,he.push(256*(mr-247)+Lt+108)):mr<255?(Lt=gt[Bt],Bt+=1,he.push(256*-(mr-251)-Lt-108)):(Lt=gt[Bt],Jt=gt[Bt+1],or=gt[Bt+2],Or=gt[Bt+3],Bt+=4,he.push((Lt<<24|Jt<<16|or<<8|Or)/65536))}}}(O),k.advanceWidth=st,Se}function xr(x,k){var O,R=ne.indexOf(x);return 0<=R&&(O=R),0<=(R=k.indexOf(x))?O=R+ne.length:(O=ne.length+k.length,k.push(x)),O}function Oi(x,k,O){for(var R={},F=0;F<x.length;F+=1){var $=x[F],q=k[$.name];q===void 0||function te(ce,le){if(ce===le)return 1;if(Array.isArray(ce)&&Array.isArray(le)&&ce.length===le.length){for(var be=0;be<ce.length;be+=1)if(!te(ce[be],le[be]))return;return 1}}(q,$.value)||($.type==="SID"&&(q=xr(q,O)),R[$.op]={name:$.name,type:$.type,value:q})}return R}function Mi(x,k){var O=new Ce.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return O.dict=Oi(Ut,x,k),O}function Ii(x){var k=new Ce.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return k.topDicts=[{name:"topDict_0",type:"TABLE",value:x}],k}function yl(x){for(var k=new Ce.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),O=0;O<x.length;O+=1){var R=x.get(O),F=function($){for(var q=[],te=$.path,ce=(q.push({name:"width",type:"NUMBER",value:$.advanceWidth}),0),le=0,be=0;be<te.commands.length;be+=1){var Te,Se,he,Ne,Ie=void 0,Re=void 0,Pe=te.commands[be];(Pe=Pe.type==="Q"?{type:"C",x:Pe.x,y:Pe.y,x1:1/3*ce+2/3*Pe.x1,y1:1/3*le+2/3*Pe.y1,x2:1/3*Pe.x+2/3*Pe.x1,y2:1/3*Pe.y+2/3*Pe.y1}:Pe).type==="M"?(Ie=Math.round(Pe.x-ce),Re=Math.round(Pe.y-le),q.push({name:"dx",type:"NUMBER",value:Ie}),q.push({name:"dy",type:"NUMBER",value:Re}),q.push({name:"rmoveto",type:"OP",value:21}),ce=Math.round(Pe.x),le=Math.round(Pe.y)):Pe.type==="L"?(Ie=Math.round(Pe.x-ce),Re=Math.round(Pe.y-le),q.push({name:"dx",type:"NUMBER",value:Ie}),q.push({name:"dy",type:"NUMBER",value:Re}),q.push({name:"rlineto",type:"OP",value:5}),ce=Math.round(Pe.x),le=Math.round(Pe.y)):Pe.type==="C"&&(Te=Math.round(Pe.x1-ce),Se=Math.round(Pe.y1-le),he=Math.round(Pe.x2-Pe.x1),Ne=Math.round(Pe.y2-Pe.y1),Ie=Math.round(Pe.x-Pe.x2),Re=Math.round(Pe.y-Pe.y2),q.push({name:"dx1",type:"NUMBER",value:Te}),q.push({name:"dy1",type:"NUMBER",value:Se}),q.push({name:"dx2",type:"NUMBER",value:he}),q.push({name:"dy2",type:"NUMBER",value:Ne}),q.push({name:"dx",type:"NUMBER",value:Ie}),q.push({name:"dy",type:"NUMBER",value:Re}),q.push({name:"rrcurveto",type:"OP",value:8}),ce=Math.round(Pe.x),le=Math.round(Pe.y))}return q.push({name:"endchar",type:"OP",value:14}),q}(R);k.charStrings.push({name:R.name,type:"CHARSTRING",value:F})}return k}var Ai={parse:function(x,k,O){O.tables.cff={},te=x,R=k,(F={}).formatMajor=ke.getCard8(te,R),F.formatMinor=ke.getCard8(te,R+1),F.size=ke.getCard8(te,R+2),F.offsetSize=ke.getCard8(te,R+3),F.startOffset=R,F.endOffset=R+4;var te=ut(x,F.endOffset,ke.bytesToString),R=ut(x,te.endOffset),F=ut(x,R.endOffset,ke.bytesToString),te=ut(x,F.endOffset);if(O.gsubrs=te.objects,O.gsubrsBias=ft(O.gsubrs),(te=fr(x,k,R.objects,F.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+te.length);if(R=te[0],(O.tables.cff.topDict=R)._privateDict&&(O.defaultWidthX=R._privateDict.defaultWidthX,O.nominalWidthX=R._privateDict.nominalWidthX),R.ros[0]!==void 0&&R.ros[1]!==void 0&&(O.isCIDFont=!0),O.isCIDFont){var te=R.fdArray,$=R.fdSelect;if(te===0||$===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");te=fr(x,k,ut(x,te+=k).objects,F.objects),R._fdArray=te,R._fdSelect=function(Se,he,Ne,Ie){var Re,Pe=[],Oe=new ke.Parser(Se,he);if((Se=Oe.parseCard8())===0)for(var st=0;st<Ne;st++){if(Ie<=(Re=Oe.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Re+" (FD count "+Ie+")");Pe.push(Re)}else{if(Se!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Se);var pt,it=Oe.parseCard16(),at=Oe.parseCard16();if(at!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+at);for(var gt=0;gt<it;gt++){if(Re=Oe.parseCard8(),pt=Oe.parseCard16(),Ie<=Re)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Re+" (FD count "+Ie+")");if(Ne<pt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+pt);for(;at<pt;at++)Pe.push(Re);at=pt}if(pt!==Ne)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+pt)}return Pe}(x,$+=k,O.numGlyphs,te.length)}var $=k+R.private[1],te=_r(x,$,R.private[0],F.objects),q=(O.defaultWidthX=te.defaultWidthX,O.nominalWidthX=te.nominalWidthX,te.subrs!==0?($=ut(x,$+te.subrs),O.subrs=$.objects,O.subrsBias=ft(O.subrs)):(O.subrs=[],O.subrsBias=0),ut(x,k+R.charStrings)),te=(O.nGlyphs=q.objects.length,function(be,Te,Se,he){var Ne=new ke.Parser(be,Te),Ie=(--Se,[".notdef"]);if((be=Ne.parseCard8())===0)for(var Re=0;Re<Se;Re+=1)Pe=Ne.parseSID(),Ie.push(rr(he,Pe));else if(be===1)for(;Ie.length<=Se;)for(var Pe=Ne.parseSID(),Oe=Ne.parseCard8(),st=0;st<=Oe;st+=1)Ie.push(rr(he,Pe)),Pe+=1;else{if(be!==2)throw new Error("Unknown charset format "+be);for(;Ie.length<=Se;){Pe=Ne.parseSID(),Oe=Ne.parseCard16();for(var pt=0;pt<=Oe;pt+=1)Ie.push(rr(he,Pe)),Pe+=1}}return Ie}(x,k+R.charset,O.nGlyphs,F.objects));R.encoding===0?O.cffEncoding=new Be(Y,te):R.encoding===1?O.cffEncoding=new Be(se,te):O.cffEncoding=function(be,Te,Se){var he={},Ne=new ke.Parser(be,Te);if((be=Ne.parseCard8())===0)for(var Ie=Ne.parseCard8(),Re=0;Re<Ie;Re+=1)he[Oe=Ne.parseCard8()]=Re;else{if(be!==1)throw new Error("Unknown encoding format "+be);for(var Pe=Ne.parseCard8(),Oe=1,st=0;st<Pe;st+=1)for(var pt=Ne.parseCard8(),it=Ne.parseCard8(),at=pt;at<=pt+it;at+=1)he[at]=Oe,Oe+=1}return new Be(he,Se)}(x,k+R.encoding,te),O.encoding=O.encoding||O.cffEncoding,O.glyphs=new nt.GlyphSet(O);for(var ce=0;ce<O.nGlyphs;ce+=1){var le=q.objects[ce];O.glyphs.push(ce,nt.cffGlyphLoader(O,ce,Ot,le))}},make:function(x,be){for(var O,R=new Ce.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),F=1/be.unitsPerEm,F={version:be.version,fullName:be.fullName,familyName:be.familyName,weight:be.weightName,fontBBox:be.fontBBox||[0,0,0,0],fontMatrix:[F,0,0,F,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},$=[],q=1;q<x.length;q+=1)O=x.get(q),$.push(O.name);var te,ce,le=[],be=(R.header=new Ce.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),R.nameIndex=function(Se){var he=new Ce.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);he.names=[];for(var Ne=0;Ne<Se.length;Ne+=1)he.names.push({name:"name_"+Ne,type:"NAME",value:Se[Ne]});return he}([be.postScriptName]),Mi(F,le)),Te=(R.topDictIndex=Ii(be),R.globalSubrIndex=new Ce.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),R.charsets=function(Se,he){for(var Ne=new Ce.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Ie=0;Ie<Se.length;Ie+=1){var Re=xr(Se[Ie],he);Ne.fields.push({name:"glyph_"+Ie,type:"SID",value:Re})}return Ne}($,le),R.charStringsIndex=yl(x),R.privateDict=(Te={},te=le,(ce=new Ce.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Oi(xt,Te,te),ce),R.stringIndex=function(Se){var he=new Ce.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);he.strings=[];for(var Ne=0;Ne<Se.length;Ne+=1)he.strings.push({name:"string_"+Ne,type:"STRING",value:Se[Ne]});return he}(le),R.header.sizeOf()+R.nameIndex.sizeOf()+R.topDictIndex.sizeOf()+R.stringIndex.sizeOf()+R.globalSubrIndex.sizeOf());return F.charset=Te,F.encoding=0,F.charStrings=F.charset+R.charsets.sizeOf(),F.private[1]=F.charStrings+R.charStringsIndex.sizeOf(),be=Mi(F,le),R.topDictIndex=Ii(be),R}},Ri={parse:function(R,k){var O={},R=new ke.Parser(R,k);return O.version=R.parseVersion(),O.fontRevision=Math.round(1e3*R.parseFixed())/1e3,O.checkSumAdjustment=R.parseULong(),O.magicNumber=R.parseULong(),L.argument(O.magicNumber===1594834165,"Font header has wrong magic number."),O.flags=R.parseUShort(),O.unitsPerEm=R.parseUShort(),O.created=R.parseLongDateTime(),O.modified=R.parseLongDateTime(),O.xMin=R.parseShort(),O.yMin=R.parseShort(),O.xMax=R.parseShort(),O.yMax=R.parseShort(),O.macStyle=R.parseUShort(),O.lowestRecPPEM=R.parseUShort(),O.fontDirectionHint=R.parseShort(),O.indexToLocFormat=R.parseShort(),O.glyphDataFormat=R.parseShort(),O},make:function(x){var k=Math.round(new Date().getTime()/1e3)+2082844800,O=k;return x.createdTimestamp&&(O=x.createdTimestamp+2082844800),new Ce.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:O},{name:"modified",type:"LONGDATETIME",value:k},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],x)}},me={parse:function(R,k){var O={},R=new ke.Parser(R,k);return O.version=R.parseVersion(),O.ascender=R.parseShort(),O.descender=R.parseShort(),O.lineGap=R.parseShort(),O.advanceWidthMax=R.parseUShort(),O.minLeftSideBearing=R.parseShort(),O.minRightSideBearing=R.parseShort(),O.xMaxExtent=R.parseShort(),O.caretSlopeRise=R.parseShort(),O.caretSlopeRun=R.parseShort(),O.caretOffset=R.parseShort(),R.relativeOffset+=8,O.metricDataFormat=R.parseShort(),O.numberOfHMetrics=R.parseUShort(),O},make:function(x){return new Ce.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],x)}},Ge={parse:function(x,k,O,R,F){for(var $,q,te=new ke.Parser(x,k),ce=0;ce<R;ce+=1){ce<O&&($=te.parseUShort(),q=te.parseShort());var le=F.get(ce);le.advanceWidth=$,le.leftSideBearing=q}},make:function(x){for(var k=new Ce.Table("hmtx",[]),O=0;O<x.length;O+=1){var F=x.get(O),R=F.advanceWidth||0,F=F.leftSideBearing||0;k.fields.push({name:"advanceWidth_"+O,type:"USHORT",value:R}),k.fields.push({name:"leftSideBearing_"+O,type:"SHORT",value:F})}return k}},et={make:function(x){for(var k=new Ce.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:x.length}]),O="",R=12+4*x.length,F=0;F<x.length;++F){var $=O.indexOf(x[F]);$<0&&($=O.length,O+=x[F]),k.fields.push({name:"offset "+F,type:"USHORT",value:R+$}),k.fields.push({name:"length "+F,type:"USHORT",value:x[F].length})}return k.fields.push({name:"stringPool",type:"CHARARRAY",value:O}),k},parse:function(x,k){for(var O=new ke.Parser(x,k),R=O.parseULong(),F=(L.argument(R===1,"Unsupported ltag table version."),O.skip("uLong",1),O.parseULong()),$=[],q=0;q<F;q++){for(var te="",ce=k+O.parseUShort(),le=O.parseUShort(),be=ce;be<ce+le;++be)te+=String.fromCharCode(x.getInt8(be));$.push(te)}return $}},Fe={parse:function(R,k){var O={},R=new ke.Parser(R,k);return O.version=R.parseVersion(),O.numGlyphs=R.parseUShort(),O.version===1&&(O.maxPoints=R.parseUShort(),O.maxContours=R.parseUShort(),O.maxCompositePoints=R.parseUShort(),O.maxCompositeContours=R.parseUShort(),O.maxZones=R.parseUShort(),O.maxTwilightPoints=R.parseUShort(),O.maxStorage=R.parseUShort(),O.maxFunctionDefs=R.parseUShort(),O.maxInstructionDefs=R.parseUShort(),O.maxStackElements=R.parseUShort(),O.maxSizeOfInstructions=R.parseUShort(),O.maxComponentElements=R.parseUShort(),O.maxComponentDepth=R.parseUShort()),O},make:function(x){return new Ce.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:x}])}},vt=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Ue={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},jt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Je={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},_t="utf-16",Qe={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Qt={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function ir(x,k,O){switch(x){case 0:return _t;case 1:return Qt[O]||Qe[k];case 3:if(k===1||k===10)return _t}}function Kt(x){var k,O={};for(k in x)O[x[k]]=parseInt(k);return O}function hr(x,k,O,R,F,$){return new Ce.Record("NameRecord",[{name:"platformID",type:"USHORT",value:x},{name:"encodingID",type:"USHORT",value:k},{name:"languageID",type:"USHORT",value:O},{name:"nameID",type:"USHORT",value:R},{name:"length",type:"USHORT",value:F},{name:"offset",type:"USHORT",value:$}])}function Fn(x,k){if((O=function($,q){var te=$.length,ce=q.length-te+1;e:for(var le=0;le<ce;le++)for(;le<ce;le++){for(var be=0;be<te;be++)if(q[le+be]!==$[be])continue e;return le}return-1}(x,k))<0)for(var O=k.length,R=0,F=x.length;R<F;++R)k.push(x[R]);return O}var en={parse:function(x,k,O){for(var R={},F=new ke.Parser(x,k),k=F.parseUShort(),$=F.parseUShort(),q=F.offset+F.parseUShort(),te=0;te<$;te++){var Ne=F.parseUShort(),ce=F.parseUShort(),le=F.parseUShort(),be=F.parseUShort(),be=vt[be]||be,Te=F.parseUShort(),Se=F.parseUShort(),he=function(Re,Pe,Oe){switch(Re){case 0:if(Pe===65535)return"und";if(Oe)return Oe[Pe];break;case 1:return Ue[Pe];case 3:return Je[Pe]}}(Ne,le,O),Ne=ir(Ne,ce,le);Ne!==void 0&&he!==void 0&&(ce=void 0,(ce=Ne===_t?G.UTF16(x,q+Se,Te):G.MACSTRING(x,q+Se,Te,Ne))&&((le=(le=R[be])===void 0?R[be]={}:le)[he]=ce))}return k===1&&F.parseUShort(),R},make:function(x,k){var O,R=[],F={},$=Kt(vt);for(O in x){var q=$[O];if(q===void 0&&(q=O),Se=parseInt(q),isNaN(Se))throw new Error('Name table entry "'+O+'" does not exist, see nameTableNames for complete list.');F[Se]=x[O],R.push(Se)}for(var te=Kt(Ue),ce=Kt(Je),le=[],be=[],Te=0;Te<R.length;Te++){var Se,he,Ne=F[Se=R[Te]];for(he in Ne){var Ie=Ne[he],pt=1,Re=te[he],Pe=jt[Re],Oe=ir(pt,Pe,Re),Oe=H.MACSTRING(Ie,Oe),st=(Oe===void 0&&(pt=0,(Re=k.indexOf(he))<0&&(Re=k.length,k.push(he)),Pe=4,Oe=H.UTF16(Ie)),Fn(Oe,be)),pt=(le.push(hr(pt,Pe,Re,Se,Oe.length,st)),ce[he]);pt!==void 0&&(Re=Fn(Pe=H.UTF16(Ie),be),le.push(hr(3,1,pt,Se,Pe.length,Re)))}}le.sort(function(gt,Lt){return gt.platformID-Lt.platformID||gt.encodingID-Lt.encodingID||gt.languageID-Lt.languageID||gt.nameID-Lt.nameID});for(var it=new Ce.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:le.length},{name:"stringOffset",type:"USHORT",value:6+12*le.length}]),at=0;at<le.length;at++)it.fields.push({name:"record_"+at,type:"RECORD",value:le[at]});return it.fields.push({name:"strings",type:"LITERAL",value:be}),it}},Bn=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],pr={parse:function(x,k){var O={},R=new ke.Parser(x,k);O.version=R.parseUShort(),O.xAvgCharWidth=R.parseShort(),O.usWeightClass=R.parseUShort(),O.usWidthClass=R.parseUShort(),O.fsType=R.parseUShort(),O.ySubscriptXSize=R.parseShort(),O.ySubscriptYSize=R.parseShort(),O.ySubscriptXOffset=R.parseShort(),O.ySubscriptYOffset=R.parseShort(),O.ySuperscriptXSize=R.parseShort(),O.ySuperscriptYSize=R.parseShort(),O.ySuperscriptXOffset=R.parseShort(),O.ySuperscriptYOffset=R.parseShort(),O.yStrikeoutSize=R.parseShort(),O.yStrikeoutPosition=R.parseShort(),O.sFamilyClass=R.parseShort(),O.panose=[];for(var F=0;F<10;F++)O.panose[F]=R.parseByte();return O.ulUnicodeRange1=R.parseULong(),O.ulUnicodeRange2=R.parseULong(),O.ulUnicodeRange3=R.parseULong(),O.ulUnicodeRange4=R.parseULong(),O.achVendID=String.fromCharCode(R.parseByte(),R.parseByte(),R.parseByte(),R.parseByte()),O.fsSelection=R.parseUShort(),O.usFirstCharIndex=R.parseUShort(),O.usLastCharIndex=R.parseUShort(),O.sTypoAscender=R.parseShort(),O.sTypoDescender=R.parseShort(),O.sTypoLineGap=R.parseShort(),O.usWinAscent=R.parseUShort(),O.usWinDescent=R.parseUShort(),1<=O.version&&(O.ulCodePageRange1=R.parseULong(),O.ulCodePageRange2=R.parseULong()),2<=O.version&&(O.sxHeight=R.parseShort(),O.sCapHeight=R.parseShort(),O.usDefaultChar=R.parseUShort(),O.usBreakChar=R.parseUShort(),O.usMaxContent=R.parseUShort()),O},make:function(x){return new Ce.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],x)},unicodeRanges:Bn,getUnicodeRange:function(x){for(var k=0;k<Bn.length;k+=1){var O=Bn[k];if(x>=O.begin&&x<O.end)return k}return-1}},Pm={parse:function(x,k){var O={},R=new ke.Parser(x,k);switch(O.version=R.parseVersion(),O.italicAngle=R.parseFixed(),O.underlinePosition=R.parseShort(),O.underlineThickness=R.parseShort(),O.isFixedPitch=R.parseULong(),O.minMemType42=R.parseULong(),O.maxMemType42=R.parseULong(),O.minMemType1=R.parseULong(),O.maxMemType1=R.parseULong(),O.version){case 1:O.names=ve.slice();break;case 2:O.numberOfGlyphs=R.parseUShort(),O.glyphNameIndex=new Array(O.numberOfGlyphs);for(var F=0;F<O.numberOfGlyphs;F++)O.glyphNameIndex[F]=R.parseUShort();O.names=[];for(var $,q=0;q<O.numberOfGlyphs;q++)O.glyphNameIndex[q]>=ve.length&&($=R.parseChar(),O.names.push(R.parseString($)));break;case 2.5:O.numberOfGlyphs=R.parseUShort(),O.offset=new Array(O.numberOfGlyphs);for(var te=0;te<O.numberOfGlyphs;te++)O.offset[te]=R.parseChar()}return O},make:function(){return new Ce.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Sn=new Array(9),Ss=(Sn[1]=function(){var x=this.offset+this.relativeOffset,k=this.parseUShort();return k===1?{substFormat:1,coverage:this.parsePointer(xe.coverage),deltaGlyphId:this.parseUShort()}:k===2?{substFormat:2,coverage:this.parsePointer(xe.coverage),substitute:this.parseOffset16List()}:void L.assert(!1,"0x"+x.toString(16)+": lookup type 1 format must be 1 or 2.")},Sn[2]=function(){var x=this.parseUShort();return L.argument(x===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(xe.coverage),sequences:this.parseListOfLists()}},Sn[3]=function(){var x=this.parseUShort();return L.argument(x===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(xe.coverage),alternateSets:this.parseListOfLists()}},Sn[4]=function(){var x=this.parseUShort();return L.argument(x===1,"GSUB ligature table identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(xe.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:xe.uShort,lookupListIndex:xe.uShort});Sn[5]=function(){var x,k,O=this.offset+this.relativeOffset,R=this.parseUShort();return R===1?{substFormat:R,coverage:this.parsePointer(xe.coverage),ruleSets:this.parseListOfLists(function(){var F=this.parseUShort(),$=this.parseUShort();return{input:this.parseUShortList(F-1),lookupRecords:this.parseRecordList($,Ss)}})}:R===2?{substFormat:R,coverage:this.parsePointer(xe.coverage),classDef:this.parsePointer(xe.classDef),classSets:this.parseListOfLists(function(){var F=this.parseUShort(),$=this.parseUShort();return{classes:this.parseUShortList(F-1),lookupRecords:this.parseRecordList($,Ss)}})}:R===3?(x=this.parseUShort(),k=this.parseUShort(),{substFormat:R,coverages:this.parseList(x,xe.pointer(xe.coverage)),lookupRecords:this.parseRecordList(k,Ss)}):void L.assert(!1,"0x"+O.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Sn[6]=function(){var x=this.offset+this.relativeOffset,k=this.parseUShort();return k===1?{substFormat:1,coverage:this.parsePointer(xe.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Ss)}})}:k===2?{substFormat:2,coverage:this.parsePointer(xe.coverage),backtrackClassDef:this.parsePointer(xe.classDef),inputClassDef:this.parsePointer(xe.classDef),lookaheadClassDef:this.parsePointer(xe.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Ss)}})}:k===3?{substFormat:3,backtrackCoverage:this.parseList(xe.pointer(xe.coverage)),inputCoverage:this.parseList(xe.pointer(xe.coverage)),lookaheadCoverage:this.parseList(xe.pointer(xe.coverage)),lookupRecords:this.parseRecordList(Ss)}:void L.assert(!1,"0x"+x.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Sn[7]=function(){var x=this.parseUShort(),x=(L.argument(x===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),k=new xe(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:x,extension:Sn[x].call(k)}},Sn[8]=function(){var x=this.parseUShort();return L.argument(x===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(xe.coverage),backtrackCoverage:this.parseList(xe.pointer(xe.coverage)),lookaheadCoverage:this.parseList(xe.pointer(xe.coverage)),substitutes:this.parseUShortList()}};var vl=new Array(9);vl[1]=function(x){return x.substFormat===1?new Ce.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ce.Coverage(x.coverage)},{name:"deltaGlyphID",type:"USHORT",value:x.deltaGlyphId}]):new Ce.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Ce.Coverage(x.coverage)}].concat(Ce.ushortList("substitute",x.substitute)))},vl[3]=function(x){return L.assert(x.substFormat===1,"Lookup type 3 substFormat must be 1."),new Ce.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ce.Coverage(x.coverage)}].concat(Ce.tableList("altSet",x.alternateSets,function(k){return new Ce.Table("alternateSetTable",Ce.ushortList("alternate",k))})))},vl[4]=function(x){return L.assert(x.substFormat===1,"Lookup type 4 substFormat must be 1."),new Ce.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ce.Coverage(x.coverage)}].concat(Ce.tableList("ligSet",x.ligatureSets,function(k){return new Ce.Table("ligatureSetTable",Ce.tableList("ligature",k,function(O){return new Ce.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:O.ligGlyph}].concat(Ce.ushortList("component",O.components,O.components.length+1)))}))})))};var Om={parse:function(x,k){return k=(x=new xe(x,k=k||0)).parseVersion(1),L.argument(k===1||k===1.1,"Unsupported GSUB table version."),k===1?{version:k,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(Sn)}:{version:k,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(Sn),variations:x.parseFeatureVariationsList()}},make:function(x){return new Ce.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ce.ScriptList(x.scripts)},{name:"features",type:"TABLE",value:new Ce.FeatureList(x.features)},{name:"lookups",type:"TABLE",value:new Ce.LookupList(x.lookups,vl)}])}},Mm={parse:function(x,k){for(var O=new ke.Parser(x,k),R=O.parseULong(),F=(L.argument(R===1,"Unsupported META table version."),O.parseULong(),O.parseULong(),O.parseULong()),$={},q=0;q<F;q++){var te=O.parseTag(),le=O.parseULong(),ce=O.parseULong(),le=G.UTF8(x,k+le,ce);$[te]=le}return $},make:function(x){var k,O=Object.keys(x).length,R="",F=16+12*O,$=new Ce.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:F},{name:"numTags",type:"ULONG",value:O}]);for(k in x){var q=R.length;R+=x[k],$.fields.push({name:"tag "+k,type:"TAG",value:k}),$.fields.push({name:"offset "+k,type:"ULONG",value:F+q}),$.fields.push({name:"length "+k,type:"ULONG",value:x[k].length})}return $.fields.push({name:"stringPool",type:"CHARARRAY",value:R}),$}};function Im(x){return Math.log(x)/Math.log(2)|0}function td(x){for(;x.length%4!=0;)x.push(0);for(var k=0,O=0;O<x.length;O+=4)k+=(x[O]<<24)+(x[O+1]<<16)+(x[O+2]<<8)+x[O+3];return k%=Math.pow(2,32)}function Am(x,k,O,R){return new Ce.Record("Table Record",[{name:"tag",type:"TAG",value:x!==void 0?x:""},{name:"checkSum",type:"ULONG",value:k!==void 0?k:0},{name:"offset",type:"ULONG",value:O!==void 0?O:0},{name:"length",type:"ULONG",value:R!==void 0?R:0}])}function Rm(x){for(var k=new Ce.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),O=(k.tables=x,k.numTables=x.length,Math.pow(2,Im(k.numTables))),R=(k.searchRange=16*O,k.entrySelector=Im(O),k.rangeShift=16*k.numTables-k.searchRange,[]),F=[],$=k.sizeOf()+Am().sizeOf()*k.numTables;$%4!=0;)$+=1,F.push({name:"padding",type:"BYTE",value:0});for(var q=0;q<x.length;q+=1){var te=x[q],ce=(L.argument(te.tableName.length===4,"Table name"+te.tableName+" is invalid."),te.sizeOf()),le=Am(te.tableName,td(te.encode()),$,ce);for(R.push({name:le.tag+" Table Record",type:"RECORD",value:le}),F.push({name:te.tableName+" table",type:"RECORD",value:te}),$+=ce,L.argument(!isNaN($),"Something went wrong calculating the offset.");$%4!=0;)$+=1,F.push({name:"padding",type:"BYTE",value:0})}return R.sort(function(be,Te){return be.value.tag>Te.value.tag?1:-1}),k.fields=k.fields.concat(R),k.fields=k.fields.concat(F),k}function Lm(x,k,O){for(var R=0;R<k.length;R+=1){var F=x.charToGlyphIndex(k[R]);if(0<F)return x.glyphs.get(F).getMetrics()}return O}var yx={make:Rm,fontToTable:function(x){for(var k,O=[],R=[],F=[],$=[],q=[],te=[],ce=[],le=0,be=0,Te=0,Se=0,he=0,Ne=0;Ne<x.glyphs.length;Ne+=1){var Ie=x.glyphs.get(Ne),Re=0|Ie.unicode;if(isNaN(Ie.advanceWidth))throw new Error("Glyph "+Ie.name+" ("+Ne+"): advanceWidth is not a number.");(Re<k||k===void 0)&&0<Re&&(k=Re),le<Re&&(le=Re);var Re=pr.getUnicodeRange(Re);if(Re<32)be|=1<<Re;else if(Re<64)Te|=1<<Re-32;else if(Re<96)Se|=1<<Re-64;else{if(!(Re<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");he|=1<<Re-96}Ie.name!==".notdef"&&(Re=Ie.getMetrics(),O.push(Re.xMin),R.push(Re.yMin),F.push(Re.xMax),$.push(Re.yMax),te.push(Re.leftSideBearing),ce.push(Re.rightSideBearing),q.push(Ie.advanceWidth))}var Pe,Oe={xMin:Math.min.apply(null,O),yMin:Math.min.apply(null,R),xMax:Math.max.apply(null,F),yMax:Math.max.apply(null,$),advanceWidthMax:Math.max.apply(null,q),advanceWidthAvg:function(mr){for(var Ui=0,Cs=0;Cs<mr.length;Cs+=1)Ui+=mr[Cs];return Ui/mr.length}(q),minLeftSideBearing:Math.min.apply(null,te),maxLeftSideBearing:Math.max.apply(null,te),minRightSideBearing:Math.min.apply(null,ce)},st=(Oe.ascender=x.ascender,Oe.descender=x.descender,Ri.make({flags:3,unitsPerEm:x.unitsPerEm,xMin:Oe.xMin,yMin:Oe.yMin,xMax:Oe.xMax,yMax:Oe.yMax,lowestRecPPEM:3,createdTimestamp:x.createdTimestamp})),pt=me.make({ascender:Oe.ascender,descender:Oe.descender,advanceWidthMax:Oe.advanceWidthMax,minLeftSideBearing:Oe.minLeftSideBearing,minRightSideBearing:Oe.minRightSideBearing,xMaxExtent:Oe.maxLeftSideBearing+(Oe.xMax-Oe.xMin),numberOfHMetrics:x.glyphs.length}),it=Fe.make(x.glyphs.length),at=pr.make({xAvgCharWidth:Math.round(Oe.advanceWidthAvg),usWeightClass:x.tables.os2.usWeightClass,usWidthClass:x.tables.os2.usWidthClass,usFirstCharIndex:k,usLastCharIndex:le,ulUnicodeRange1:be,ulUnicodeRange2:Te,ulUnicodeRange3:Se,ulUnicodeRange4:he,fsSelection:x.tables.os2.fsSelection,sTypoAscender:Oe.ascender,sTypoDescender:Oe.descender,sTypoLineGap:0,usWinAscent:Oe.yMax,usWinDescent:Math.abs(Oe.yMin),ulCodePageRange1:1,sxHeight:Lm(x,"xyvw",{yMax:Math.round(Oe.ascender/2)}).yMax,sCapHeight:Lm(x,"HIKLEFJMNTZBDPRAGOQSUVWXY",Oe).yMax,usDefaultChar:x.hasChar(" ")?32:0,usBreakChar:x.hasChar(" ")?32:0}),gt=Ge.make(x.glyphs),Lt=Q.make(x.glyphs),Ft=x.getEnglishName("fontFamily"),Ct=x.getEnglishName("fontSubfamily"),It=Ft+" "+Ct,Jt=(Jt=x.getEnglishName("postScriptName"))||Ft.replace(/\s/g,"")+"-"+Ct,or={};for(Pe in x.names)or[Pe]=x.names[Pe];or.uniqueID||(or.uniqueID={en:x.getEnglishName("manufacturer")+":"+It}),or.postScriptName||(or.postScriptName={en:Jt}),or.preferredFamily||(or.preferredFamily=x.names.fontFamily),or.preferredSubfamily||(or.preferredSubfamily=x.names.fontSubfamily);var Mr=[],Or=en.make(or,Mr),Mr=0<Mr.length?et.make(Mr):void 0,kn=Pm.make(),It=Ai.make(x.glyphs,{version:x.getEnglishName("version"),fullName:It,familyName:Ft,weightName:Ct,postScriptName:Jt,unitsPerEm:x.unitsPerEm,fontBBox:[0,Oe.yMin,Oe.ascender,Oe.advanceWidthMax]}),Ft=x.metas&&0<Object.keys(x.metas).length?Mm.make(x.metas):void 0,Ct=[st,pt,it,at,Or,Lt,kn,It,gt];Mr&&Ct.push(Mr),x.tables.gsub&&Ct.push(Om.make(x.tables.gsub)),Ft&&Ct.push(Ft);for(var Ir=td((Jt=Rm(Ct)).encode()),Ht=Jt.fields,jr=!1,Bt=0;Bt<Ht.length;Bt+=1)if(Ht[Bt].name==="head table"){Ht[Bt].value.checkSumAdjustment=2981146554-Ir,jr=!0;break}if(jr)return Jt;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:td};function rd(x,k){for(var O=0,R=x.length-1;O<=R;){var F=O+R>>>1,$=x[F].tag;if($===k)return F;$<k?O=1+F:R=F-1}return-O-1}function Dm(x,k){for(var O=0,R=x.length-1;O<=R;){var F=O+R>>>1,$=x[F];if($===k)return F;$<k?O=1+F:R=F-1}return-O-1}function Nm(x,k){for(var O=0,R=x.length-1;O<=R;){var F,$=O+R>>>1,q=(F=x[$]).start;if(q===k)return F;q<k?O=1+$:R=$-1}if(0<O)return k>(F=x[O-1]).end?0:F}function bl(x,k){this.font=x,this.tableName=k}function wl(x){bl.call(this,x,"gpos")}function Gn(x){bl.call(this,x,"gsub")}function Um(x,k,O){for(var R=x.subtables,F=0;F<R.length;F++){var $=R[F];if($.substFormat===k)return $}if(O)return R.push(O),O}function Fm(x){for(var k=new ArrayBuffer(x.length),O=new Uint8Array(k),R=0;R<x.length;++R)O[R]=x[R];return k}function Es(x,k){if(!x)throw k}function Bm(x,k,O,R,F){var $=0<(k&R)?($=x.parseByte(),O+($=k&F?$:-$)):0<(k&F)?O:O+x.parseShort();return $}function vx(x,k,O){var R,F=new ke.Parser(k,O);if(x.numberOfContours=F.parseShort(),x._xMin=F.parseShort(),x._yMin=F.parseShort(),x._xMax=F.parseShort(),x._yMax=F.parseShort(),0<x.numberOfContours){for(var $=x.endPointIndices=[],q=0;q<x.numberOfContours;q+=1)$.push(F.parseUShort());x.instructionLength=F.parseUShort(),x.instructions=[];for(var te=0;te<x.instructionLength;te+=1)x.instructions.push(F.parseByte());for(var ce=$[$.length-1]+1,le=[],be=0;be<ce;be+=1)if(R=F.parseByte(),le.push(R),0<(8&R))for(var Te=F.parseByte(),Se=0;Se<Te;Se+=1)le.push(R),be+=1;if(L.argument(le.length===ce,"Bad flags."),0<$.length){var he,Ne=[];if(0<ce){for(var Ie=0;Ie<ce;Ie+=1)R=le[Ie],(he={}).onCurve=!!(1&R),he.lastPointOfContour=0<=$.indexOf(Ie),Ne.push(he);for(var Re=0,Pe=0;Pe<ce;Pe+=1)R=le[Pe],(he=Ne[Pe]).x=Bm(F,R,Re,2,16),Re=he.x;for(var Oe=0,st=0;st<ce;st+=1)R=le[st],(he=Ne[st]).y=Bm(F,R,Oe,4,32),Oe=he.y}x.points=Ne}else x.points=[]}else if(x.numberOfContours===0)x.points=[];else{x.isComposite=!0,x.points=[],x.components=[];for(var pt=!0;pt;){le=F.parseUShort();var it={glyphIndex:F.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&le)?0<(2&le)?(it.dx=F.parseShort(),it.dy=F.parseShort()):it.matchedPoints=[F.parseUShort(),F.parseUShort()]:0<(2&le)?(it.dx=F.parseChar(),it.dy=F.parseChar()):it.matchedPoints=[F.parseByte(),F.parseByte()],0<(8&le)?it.xScale=it.yScale=F.parseF2Dot14():0<(64&le)?(it.xScale=F.parseF2Dot14(),it.yScale=F.parseF2Dot14()):0<(128&le)&&(it.xScale=F.parseF2Dot14(),it.scale01=F.parseF2Dot14(),it.scale10=F.parseF2Dot14(),it.yScale=F.parseF2Dot14()),x.components.push(it),pt=!!(32&le)}if(256&le){x.instructionLength=F.parseUShort(),x.instructions=[];for(var at=0;at<x.instructionLength;at+=1)x.instructions.push(F.parseByte())}}}function nd(x,k){for(var O=[],R=0;R<x.length;R+=1){var F=x[R],F={x:k.xScale*F.x+k.scale01*F.y+k.dx,y:k.scale10*F.x+k.yScale*F.y+k.dy,onCurve:F.onCurve,lastPointOfContour:F.lastPointOfContour};O.push(F)}return O}function Gm(x){var k=new K;if(x)for(var O=function(Te){for(var Se=[],he=[],Ne=0;Ne<Te.length;Ne+=1){var Ie=Te[Ne];he.push(Ie),Ie.lastPointOfContour&&(Se.push(he),he=[])}return L.argument(he.length===0,"There are still points left in the current contour."),Se}(x),R=0;R<O.length;++R){var F,$=O[R],q=$[$.length-1],te=$[0];q.onCurve?k.moveTo(q.x,q.y):te.onCurve?k.moveTo(te.x,te.y):(F={x:.5*(q.x+te.x),y:.5*(q.y+te.y)},k.moveTo(F.x,F.y));for(var ce=0;ce<$.length;++ce){var le,be=q,q=te,te=$[(ce+1)%$.length];q.onCurve?k.lineTo(q.x,q.y):(le=te,be.onCurve||(q.x,be.x,q.y,be.y),te.onCurve||(le={x:.5*(q.x+te.x),y:.5*(q.y+te.y)}),k.quadraticCurveTo(q.x,q.y,le.x,le.y))}k.closePath()}return k}function bx(x,k){if(k.isComposite)for(var O=0;O<k.components.length;O+=1){var R=k.components[O],F=x.get(R.glyphIndex);if(F.getPath(),F.points){var $=void 0;if(R.matchedPoints===void 0)$=nd(F.points,R);else{if(R.matchedPoints[0]>k.points.length-1||R.matchedPoints[1]>F.points.length-1)throw Error("Matched points out of range in "+k.name);var q=k.points[R.matchedPoints[0]],te=F.points[R.matchedPoints[1]],R={xScale:R.xScale,scale01:R.scale01,scale10:R.scale10,yScale:R.yScale,dx:0,dy:0},te=nd([te],R)[0];R.dx=q.x-te.x,R.dy=q.y-te.y,$=nd(F.points,R)}k.points=k.points.concat($)}}return Gm(k.points)}(wl.prototype=bl.prototype={searchTag:rd,binSearch:Dm,getTable:function(x){var k=this.font.tables[this.tableName];return k=!k&&x?this.font.tables[this.tableName]=this.createDefaultTable():k},getScriptNames:function(){var x=this.getTable();return x?x.scripts.map(function(k){return k.tag}):[]},getDefaultScriptName:function(){var x=this.getTable();if(x){for(var k=!1,O=0;O<x.scripts.length;O++){var R=x.scripts[O].tag;if(R==="DFLT")return R;R==="latn"&&(k=!0)}return k?"latn":void 0}},getScriptTable:function(x,k){var O,R=this.getTable(k);if(R)return O=R.scripts,0<=(R=rd(R.scripts,x=x||"DFLT"))?O[R].script:k?(O.splice(-1-R,0,k={tag:x,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),k.script):void 0},getLangSysTable:function(F,k,O){var R,F=this.getScriptTable(F,O);if(F)return k&&k!=="dflt"&&k!=="DFLT"?0<=(R=rd(F.langSysRecords,k))?F.langSysRecords[R].langSys:O?(F.langSysRecords.splice(-1-R,0,O={tag:k,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),O.langSys):void 0:F.defaultLangSys},getFeatureTable:function(x,k,O,R){if(x=this.getLangSysTable(x,k,R),x){for(var F,$=x.featureIndexes,q=this.font.tables[this.tableName].features,te=0;te<$.length;te++)if((F=q[$[te]]).tag===O)return F.feature;if(R)return k=q.length,L.assert(k===0||O>=q[k-1].tag,"Features must be added in alphabetical order."),q.push(F={tag:O,feature:{params:0,lookupListIndexes:[]}}),$.push(k),F.feature}},getLookupTables:function($,k,O,R,F){var $=this.getFeatureTable($,k,O,F),q=[];if($){for(var te,ce=$.lookupListIndexes,le=this.font.tables[this.tableName].lookups,be=0;be<ce.length;be++)(te=le[ce[be]]).lookupType===R&&q.push(te);if(q.length===0&&F)return k=le.length,le.push(te={lookupType:R,lookupFlag:0,subtables:[],markFilteringSet:void 0}),ce.push(k),[te]}return q},getGlyphClass:function(x,k){switch(x.format){case 1:return x.startGlyph<=k&&k<x.startGlyph+x.classes.length?x.classes[k-x.startGlyph]:0;case 2:var O=Nm(x.ranges,k);return O?O.classId:0}},getCoverageIndex:function(x,k){switch(x.format){case 1:var O=Dm(x.glyphs,k);return 0<=O?O:-1;case 2:return O=Nm(x.ranges,k),O?O.index+k-O.start:-1}},expandCoverage:function(x){if(x.format===1)return x.glyphs;for(var k=[],O=x.ranges,R=0;R<O.length;R++)for(var F=O[R],$=F.start,q=F.end,te=$;te<=q;te++)k.push(te);return k}}).init=function(){var x=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(x)},wl.prototype.getKerningValue=function(x,k,O){for(var R=0;R<x.length;R++)for(var F=x[R].subtables,$=0;$<F.length;$++){var q=F[$],te=this.getCoverageIndex(q.coverage,k);if(!(te<0))switch(q.posFormat){case 1:for(var ce=q.pairSets[te],le=0;le<ce.length;le++){var be=ce[le];if(be.secondGlyph===O)return be.value1&&be.value1.xAdvance||0}break;case 2:var Se=this.getGlyphClass(q.classDef1,k),Te=this.getGlyphClass(q.classDef2,O),Se=q.classRecords[Se][Te];return Se.value1&&Se.value1.xAdvance||0}}return 0},wl.prototype.getKerningTables=function(x,k){if(this.font.tables.gpos)return this.getLookupTables(x,k,"kern",2)},(Gn.prototype=bl.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Gn.prototype.getSingle=function(x,k,O){for(var R=[],F=this.getLookupTables(k,O,x,1),$=0;$<F.length;$++)for(var q=F[$].subtables,te=0;te<q.length;te++){var ce=q[te],le=this.expandCoverage(ce.coverage),be=void 0;if(ce.substFormat===1)for(var Te=ce.deltaGlyphId,be=0;be<le.length;be++){var Se=le[be];R.push({sub:Se,by:Se+Te})}else{var he=ce.substitute;for(be=0;be<le.length;be++)R.push({sub:le[be],by:he[be]})}}return R},Gn.prototype.getAlternates=function(x,k,O){for(var R=[],F=this.getLookupTables(k,O,x,3),$=0;$<F.length;$++)for(var q=F[$].subtables,te=0;te<q.length;te++)for(var ce=q[te],le=this.expandCoverage(ce.coverage),be=ce.alternateSets,Te=0;Te<le.length;Te++)R.push({sub:le[Te],by:be[Te]});return R},Gn.prototype.getLigatures=function(x,k,O){for(var R=[],F=this.getLookupTables(k,O,x,4),$=0;$<F.length;$++)for(var q=F[$].subtables,te=0;te<q.length;te++)for(var ce=q[te],le=this.expandCoverage(ce.coverage),be=ce.ligatureSets,Te=0;Te<le.length;Te++)for(var Se=le[Te],he=be[Te],Ne=0;Ne<he.length;Ne++){var Ie=he[Ne];R.push({sub:[Se].concat(Ie.components),by:Ie.ligGlyph})}return R},Gn.prototype.addSingle=function(x,k,O,R){O=Um(this.getLookupTables(O,R,x,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),L.assert(O.coverage.format===1,"Ligature: unable to modify coverage table format "+O.coverage.format),R=k.sub,x=this.binSearch(O.coverage.glyphs,R),x<0&&(O.coverage.glyphs.splice(x=-1-x,0,R),O.substitute.splice(x,0,0)),O.substitute[x]=k.by},Gn.prototype.addAlternate=function(x,k,O,R){O=Um(this.getLookupTables(O,R,x,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),L.assert(O.coverage.format===1,"Ligature: unable to modify coverage table format "+O.coverage.format),R=k.sub,x=this.binSearch(O.coverage.glyphs,R),x<0&&(O.coverage.glyphs.splice(x=-1-x,0,R),O.alternateSets.splice(x,0,0)),O.alternateSets[x]=k.by},Gn.prototype.addLigature=function($,ce,te,F){var te=this.getLookupTables(te,F,$,4,!0)[0],F=te.subtables[0],$=(F||(te.subtables[0]=F={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),L.assert(F.coverage.format===1,"Ligature: unable to modify coverage table format "+F.coverage.format),ce.sub[0]),q=ce.sub.slice(1),te={ligGlyph:ce.by,components:q},ce=this.binSearch(F.coverage.glyphs,$);if(0<=ce){for(var le=F.ligatureSets[ce],be=0;be<le.length;be++)if(function(Te,Se){var he=Te.length;if(he===Se.length){for(var Ne=0;Ne<he;Ne++)if(Te[Ne]!==Se[Ne])return;return 1}}(le[be].components,q))return;le.push(te)}else F.coverage.glyphs.splice(ce=-1-ce,0,$),F.ligatureSets.splice(ce,0,[te])},Gn.prototype.getFeature=function(x,k,O){if(/ss\d\d/.test(x))return this.getSingle(x,k,O);switch(x){case"aalt":case"salt":return this.getSingle(x,k,O).concat(this.getAlternates(x,k,O));case"dlig":case"liga":case"rlig":return this.getLigatures(x,k,O)}},Gn.prototype.add=function(x,k,O,R){if(/ss\d\d/.test(x))return this.addSingle(x,k,O,R);switch(x){case"aalt":case"salt":return typeof k.by=="number"?this.addSingle(x,k,O,R):this.addAlternate(x,k,O,R);case"dlig":case"liga":case"rlig":return this.addLigature(x,k,O,R)}};var zm={getPath:Gm,parse:function(x,k,O,R){for(var F=new nt.GlyphSet(R),$=0;$<O.length-1;$+=1){var q=O[$];q!==O[$+1]?F.push($,nt.ttfGlyphLoader(R,$,vx,x,k+q,bx)):F.push($,nt.glyphLoader(R,$))}return F}};function Vm(x){this.font=x,this.getCommands=function(k){return zm.getPath(k).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function wx(x){return x}function Wm(x){return Math.sign(x)*Math.round(Math.abs(x))}function _x(x){return Math.sign(x)*Math.round(Math.abs(2*x))/2}function xx(x){return Math.sign(x)*(Math.round(Math.abs(x)+.5)-.5)}function jx(x){return Math.sign(x)*Math.ceil(Math.abs(x))}function Sx(x){return Math.sign(x)*Math.floor(Math.abs(x))}function Hm(x){var k=this.srPeriod,O=this.srPhase,R=1;return x<0&&(x=-x,R=-1),x+=this.srThreshold-O,x=Math.trunc(x/k)*k,(x+=O)<0?O*R:x*R}var zn={x:1,y:0,axis:"x",distance:function(x,k,O,R){return(O?x.xo:x.x)-(R?k.xo:k.x)},interpolate:function(x,k,O,R){var F,$,q,te,ce,le,be;if(!R||R===this)return F=x.xo-k.xo,$=x.xo-O.xo,ce=k.x-k.xo,le=O.x-O.xo,(be=(q=Math.abs(F))+(te=Math.abs($)))===0?void(x.x=x.xo+(ce+le)/2):void(x.x=x.xo+(ce*te+le*q)/be);F=R.distance(x,k,!0,!0),$=R.distance(x,O,!0,!0),ce=R.distance(k,k,!1,!0),le=R.distance(O,O,!1,!0),(be=(q=Math.abs(F))+(te=Math.abs($)))===0?zn.setRelative(x,x,(ce+le)/2,R,!0):zn.setRelative(x,x,(ce*te+le*q)/be,R,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(x,k,O,R,F){var $,q;R&&R!==this?($=F?k.xo:k.x,q=F?k.yo:k.y,$+=O*R.x,q+=O*R.y,x.x=$+(x.y-q)/R.normalSlope):x.x=(F?k.xo:k.x)+O},slope:0,touch:function(x){x.xTouched=!0},touched:function(x){return x.xTouched},untouch:function(x){x.xTouched=!1}},Jn={x:0,y:1,axis:"y",distance:function(x,k,O,R){return(O?x.yo:x.y)-(R?k.yo:k.y)},interpolate:function(x,k,O,R){var F,$,q,te,ce,le,be;if(!R||R===this)return F=x.yo-k.yo,$=x.yo-O.yo,ce=k.y-k.yo,le=O.y-O.yo,(be=(q=Math.abs(F))+(te=Math.abs($)))===0?void(x.y=x.yo+(ce+le)/2):void(x.y=x.yo+(ce*te+le*q)/be);F=R.distance(x,k,!0,!0),$=R.distance(x,O,!0,!0),ce=R.distance(k,k,!1,!0),le=R.distance(O,O,!1,!0),(be=(q=Math.abs(F))+(te=Math.abs($)))===0?Jn.setRelative(x,x,(ce+le)/2,R,!0):Jn.setRelative(x,x,(ce*te+le*q)/be,R,!0)},normalSlope:0,setRelative:function(x,k,O,R,F){var $,q;R&&R!==this?($=F?k.xo:k.x,q=F?k.yo:k.y,$+=O*R.x,q+=O*R.y,x.y=q+R.normalSlope*(x.x-$)):x.y=(F?k.yo:k.y)+O},slope:Number.POSITIVE_INFINITY,touch:function(x){x.yTouched=!0},touched:function(x){return x.yTouched},untouch:function(x){x.yTouched=!1}};function Li(x,k){this.x=x,this.y=k,this.axis=void 0,this.slope=k/x,this.normalSlope=-x/k,Object.freeze(this)}function Di(x,k){var O=Math.sqrt(x*x+k*k);return k/=O,(x/=O)===1&&k===0?zn:x===0&&k===1?Jn:new Li(x,k)}function Zn(x,k,O,R){this.x=this.xo=Math.round(64*x)/64,this.y=this.yo=Math.round(64*k)/64,this.lastPointOfContour=O,this.onCurve=R,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(zn),Object.freeze(Jn),Li.prototype.distance=function(x,k,O,R){return this.x*zn.distance(x,k,O,R)+this.y*Jn.distance(x,k,O,R)},Li.prototype.interpolate=function(x,F,$,R){var q=R.distance(x,F,!0,!0),te=R.distance(x,$,!0,!0),F=R.distance(F,F,!1,!0),$=R.distance($,$,!1,!0),q=Math.abs(q),te=Math.abs(te),ce=q+te;ce===0?this.setRelative(x,x,(F+$)/2,R,!0):this.setRelative(x,x,(F*te+$*q)/ce,R,!0)},Li.prototype.setRelative=function(x,$,ce,le,te){var q=te?$.xo:$.x,te=te?$.yo:$.y,$=q+ce*(le=le||this).x,q=te+ce*le.y,te=le.normalSlope,ce=this.slope,le=x.x,be=x.y;x.x=(ce*le-te*$+q-be)/(ce-te),x.y=ce*(x.x-le)+be},Li.prototype.touch=function(x){x.xTouched=!0,x.yTouched=!0},Zn.prototype.nextTouched=function(x){for(var k=this.nextPointOnContour;!x.touched(k)&&k!==this;)k=k.nextPointOnContour;return k},Zn.prototype.prevTouched=function(x){for(var k=this.prevPointOnContour;!x.touched(k)&&k!==this;)k=k.prevPointOnContour;return k};var Ni=Object.freeze(new Zn(0,0)),Ex={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function mo(x,k){switch(this.env=x,this.stack=[],this.prog=k,x){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=zn,this.round=Wm}}function _l(x){for(var k=x.tZone=new Array(x.gZone.length),O=0;O<k.length;O++)k[O]=new Zn(0,0)}function $m(x,k){var O,R=x.prog,F=x.ip,$=1;do if((O=R[++F])===88)$++;else if(O===89)$--;else if(O===64)F+=R[F+1]+1;else if(O===65)F+=2*R[F+1]+1;else if(176<=O&&O<=183)F+=O-176+1;else if(184<=O&&O<=191)F+=2*(O-184+1);else if(k&&$===1&&O===27)break;while(0<$);x.ip=F}function qm(x,k){f.DEBUG&&console.log(k.step,"SVTCA["+x.axis+"]"),k.fv=k.pv=k.dpv=x}function Xm(x,k){f.DEBUG&&console.log(k.step,"SPVTCA["+x.axis+"]"),k.pv=k.dpv=x}function Ym(x,k){f.DEBUG&&console.log(k.step,"SFVTCA["+x.axis+"]"),k.fv=x}function Km(x,k){var O,F=k.stack,R=F.pop(),F=F.pop(),$=k.z2[R],q=k.z1[F];f.DEBUG&&console.log("SPVTL["+x+"]",R,F),R=x?(O=$.y-q.y,q.x-$.x):(O=q.x-$.x,q.y-$.y),k.pv=k.dpv=Di(O,R)}function Jm(x,k){var O,F=k.stack,R=F.pop(),F=F.pop(),$=k.z2[R],q=k.z1[F];f.DEBUG&&console.log("SFVTL["+x+"]",R,F),R=x?(O=$.y-q.y,q.x-$.x):(O=q.x-$.x,q.y-$.y),k.fv=Di(O,R)}function od(x){f.DEBUG&&console.log(x.step,"POP[]"),x.stack.pop()}function Zm(x,k){var O=k.stack.pop(),R=k.z0[O],F=k.fv,$=k.pv,q=(f.DEBUG&&console.log(k.step,"MDAP["+x+"]",O),$.distance(R,Ni));x&&(q=k.round(q)),F.setRelative(R,Ni,q,$),F.touch(R),k.rp0=k.rp1=O}function Qm(x,k){var O,R,F,$=k.z2,q=$.length-2;f.DEBUG&&console.log(k.step,"IUP["+x.axis+"]");for(var te=0;te<q;te++)O=$[te],x.touched(O)||(R=O.prevTouched(x))!==O&&(R===(F=O.nextTouched(x))&&x.setRelative(O,O,x.distance(R,R,!1,!0),x,!0),x.interpolate(O,R,F,x))}function eg(x,k){for(var O=k.stack,R=x?k.rp1:k.rp2,F=(x?k.z0:k.z1)[R],$=k.fv,q=k.pv,te=k.loop,ce=k.z2;te--;){var le=O.pop(),be=ce[le],Te=q.distance(F,F,!1,!0);$.setRelative(be,be,Te,q),$.touch(be),f.DEBUG&&console.log(k.step,(1<k.loop?"loop "+(k.loop-te)+": ":"")+"SHP["+(x?"rp1":"rp2")+"]",le)}k.loop=1}function tg(x,k){for(var O=k.stack,q=x?k.rp1:k.rp2,R=(x?k.z0:k.z1)[q],F=k.fv,$=k.pv,q=O.pop(),te=k.z2[k.contours[q]],ce=te,le=(f.DEBUG&&console.log(k.step,"SHC["+x+"]",q),$.distance(R,R,!1,!0));ce!==R&&F.setRelative(ce,ce,le,$),(ce=ce.nextPointOnContour)!==te;);}function rg(x,k){var O,R,te=k.stack,F=x?k.rp1:k.rp2,F=(x?k.z0:k.z1)[F],$=k.fv,q=k.pv,te=te.pop();switch(f.DEBUG&&console.log(k.step,"SHZ["+x+"]",te),te){case 0:O=k.tZone;break;case 1:O=k.gZone;break;default:throw new Error("Invalid zone")}for(var ce=q.distance(F,F,!1,!0),le=O.length-2,be=0;be<le;be++)R=O[be],$.setRelative(R,R,ce,q)}function ng(x,k){var R=k.stack,O=R.pop()/64,R=R.pop(),F=k.z1[R],$=k.z0[k.rp0],q=k.fv,te=k.pv;q.setRelative(F,$,O,te),q.touch(F),f.DEBUG&&console.log(k.step,"MSIRP["+x+"]",O,R),k.rp1=k.rp0,k.rp2=R,x&&(k.rp0=R)}function og(x,k){var O=k.stack,te=O.pop(),O=O.pop(),R=k.z0[O],F=k.fv,$=k.pv,q=k.cvt[te],te=(f.DEBUG&&console.log(k.step,"MIAP["+x+"]",te,"(",q,")",O),$.distance(R,Ni));x&&(Math.abs(te-q)<k.cvCutIn&&(te=q),te=k.round(te)),F.setRelative(R,Ni,te,$),k.zp0===0&&(R.xo=R.x,R.yo=R.y),F.touch(R),k.rp0=k.rp1=O}function sg(x,k){var O=k.stack,R=O.pop(),F=k.z2[R];f.DEBUG&&console.log(k.step,"GC["+x+"]",R),O.push(64*k.dpv.distance(F,Ni,x,!1))}function ig(x,k){var R=k.stack,O=R.pop(),R=R.pop(),F=k.z1[O],$=k.z0[R],$=k.dpv.distance($,F,x,x);f.DEBUG&&console.log(k.step,"MD["+x+"]",O,R,"->",$),k.stack.push(Math.round(64*$))}function sd(x,k){var O=k.stack,R=O.pop(),F=k.fv,$=k.pv,q=k.ppem,te=k.deltaBase+16*(x-1),ce=k.deltaShift,le=k.z0;f.DEBUG&&console.log(k.step,"DELTAP["+x+"]",R,O);for(var be=0;be<R;be++){var Te=O.pop(),Se=O.pop();te+((240&Se)>>4)===q&&(0<=(Se=(15&Se)-8)&&Se++,f.DEBUG&&console.log(k.step,"DELTAPFIX",Te,"by",Se*ce),Te=le[Te],F.setRelative(Te,Te,Se*ce,$))}}function xl(x,k){var O=k.stack,R=O.pop();f.DEBUG&&console.log(k.step,"ROUND[]"),O.push(64*k.round(R/64))}function id(x,k){var O=k.stack,R=O.pop(),F=k.ppem,$=k.deltaBase+16*(x-1),q=k.deltaShift;f.DEBUG&&console.log(k.step,"DELTAC["+x+"]",R,O);for(var te=0;te<R;te++){var ce=O.pop(),le=O.pop();$+((240&le)>>4)===F&&(0<=(le=(15&le)-8)&&le++,le=le*q,f.DEBUG&&console.log(k.step,"DELTACFIX",ce,"by",le),k.cvt[ce]+=le)}}function ag(x,k){var O,F=k.stack,R=F.pop(),F=F.pop(),$=k.z2[R],q=k.z1[F];f.DEBUG&&console.log(k.step,"SDPVTL["+x+"]",R,F),R=x?(O=$.y-q.y,q.x-$.x):(O=q.x-$.x,q.y-$.y),k.dpv=Di(O,R)}function go(x,k){var O=k.stack,R=k.prog,F=k.ip;f.DEBUG&&console.log(k.step,"PUSHB["+x+"]");for(var $=0;$<x;$++)O.push(R[++F]);k.ip=F}function yo(x,k){var O=k.ip,R=k.prog,F=k.stack;f.DEBUG&&console.log(k.ip,"PUSHW["+x+"]");for(var $=0;$<x;$++){var q=R[++O]<<8|R[++O];32768&q&&(q=-(1+(65535^q))),F.push(q)}k.ip=O}function ot(x,k,O,R,F,$){var q,te,le=$.stack,ce=x&&le.pop(),le=le.pop(),be=$.rp0,be=$.z0[be],Te=$.z1[le],Se=$.minDis,he=$.fv,Ne=$.dpv,Ie=q=Ne.distance(Te,be,!0,!0),Re=0<=Ie?1:-1;Ie=Math.abs(Ie),x&&(te=$.cvt[ce],R&&Math.abs(Ie-te)<$.cvCutIn&&(Ie=te)),O&&Ie<Se&&(Ie=Se),R&&(Ie=$.round(Ie)),he.setRelative(Te,be,Re*Ie,Ne),he.touch(Te),f.DEBUG&&console.log($.step,(x?"MIRP[":"MDRP[")+(k?"M":"m")+(O?">":"_")+(R?"R":"_")+(F===0?"Gr":F===1?"Bl":F===2?"Wh":"")+"]",x?ce+"("+$.cvt[ce]+","+te+")":"",le,"(d =",q,"->",Re*Ie,")"),$.rp1=$.rp0,$.rp2=le,k&&($.rp0=le)}Vm.prototype.exec=function(x,k){if(typeof k!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var O=this.font,R=this._prepState;if(!R||R.ppem!==k){var F=this._fpgmState;if(!F){mo.prototype=Ex,(F=this._fpgmState=new mo("fpgm",O.tables.fpgm)).funcs=[],F.font=O,f.DEBUG&&(console.log("---EXEC FPGM---"),F.step=-1);try{ks(F)}catch(le){return console.log("Hinting error in FPGM:"+le),void(this._errorState=3)}}mo.prototype=F,(R=this._prepState=new mo("prep",O.tables.prep)).ppem=k;var $=O.tables.cvt;if($)for(var q=R.cvt=new Array($.length),te=k/O.unitsPerEm,ce=0;ce<$.length;ce++)q[ce]=$[ce]*te;else R.cvt=[];f.DEBUG&&(console.log("---EXEC PREP---"),R.step=-1);try{ks(R)}catch(le){this._errorState<2&&console.log("Hinting error in PREP:"+le),this._errorState=2}}if(!(1<this._errorState))try{return kx(x,R)}catch(le){this._errorState<1&&(console.log("Hinting error:"+le),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var kx=function(x,k){var O=k.ppem/k.font.unitsPerEm,R=O,F=x.components;if(mo.prototype=k,F){for(var $=k.font,q=[],te=[],ce=0;ce<F.length;ce++){var le=F[ce],be=$.glyphs.get(le.glyphIndex),Te=new mo("glyf",be.instructions);f.DEBUG&&(console.log("---EXEC COMP "+ce+"---"),Te.step=-1),lg(be,Te,O,R);for(var Se=Math.round(le.dx*O),he=Math.round(le.dy*R),Ne=Te.gZone,Ie=Te.contours,Re=0;Re<Ne.length;Re++){var Pe=Ne[Re];Pe.xTouched=Pe.yTouched=!1,Pe.xo=Pe.x=Pe.x+Se,Pe.yo=Pe.y=Pe.y+he}var Oe=q.length;q.push.apply(q,Ne);for(var st=0;st<Ie.length;st++)te.push(Ie[st]+Oe)}x.instructions&&!Te.inhibitGridFit&&((Te=new mo("glyf",x.instructions)).gZone=Te.z0=Te.z1=Te.z2=q,Te.contours=te,q.push(new Zn(0,0),new Zn(Math.round(x.advanceWidth*O),0)),f.DEBUG&&(console.log("---EXEC COMPOSITE---"),Te.step=-1),ks(Te),q.length-=2)}else Te=new mo("glyf",x.instructions),f.DEBUG&&(console.log("---EXEC GLYPH---"),Te.step=-1),lg(x,Te,O,R),q=Te.gZone;return q},lg=function(x,k,O,R){for(var F,$,q,te=x.points||[],ce=te.length,le=k.gZone=k.z0=k.z1=k.z2=[],be=k.contours=[],Te=0;Te<ce;Te++)F=te[Te],le[Te]=new Zn(F.x*O,F.y*R,F.lastPointOfContour,F.onCurve);for(var Se=0;Se<ce;Se++)F=le[Se],$||($=F,be.push(Se)),F.lastPointOfContour?((F.nextPointOnContour=$).prevPointOnContour=F,$=void 0):(q=le[Se+1],(F.nextPointOnContour=q).prevPointOnContour=F);if(!k.inhibitGridFit){if(f.DEBUG){console.log("PROCESSING GLYPH",k.stack);for(var he=0;he<ce;he++)console.log(he,le[he].x,le[he].y)}if(le.push(new Zn(0,0),new Zn(Math.round(x.advanceWidth*O),0)),ks(k),le.length-=2,f.DEBUG){console.log("FINISHED GLYPH",k.stack);for(var Ne=0;Ne<ce;Ne++)console.log(Ne,le[Ne].x,le[Ne].y)}}},ks=function(x){var k=x.prog;if(k){var O,R=k.length;for(x.ip=0;x.ip<R;x.ip++){if(f.DEBUG&&x.step++,!(O=Cx[k[x.ip]]))throw new Error("unknown instruction: 0x"+Number(k[x.ip]).toString(16));O(x)}}},Cx=[qm.bind(void 0,Jn),qm.bind(void 0,zn),Xm.bind(void 0,Jn),Xm.bind(void 0,zn),Ym.bind(void 0,Jn),Ym.bind(void 0,zn),Km.bind(void 0,0),Km.bind(void 0,1),Jm.bind(void 0,0),Jm.bind(void 0,1),function(x){var k=(O=x.stack).pop(),O=O.pop();f.DEBUG&&console.log(x.step,"SPVFS[]",k,O),x.pv=x.dpv=Di(O,k)},function(x){var k=(O=x.stack).pop(),O=O.pop();f.DEBUG&&console.log(x.step,"SPVFS[]",k,O),x.fv=Di(O,k)},function(x){var k=x.stack,O=x.pv;f.DEBUG&&console.log(x.step,"GPV[]"),k.push(16384*O.x),k.push(16384*O.y)},function(x){var k=x.stack,O=x.fv;f.DEBUG&&console.log(x.step,"GFV[]"),k.push(16384*O.x),k.push(16384*O.y)},function(x){x.fv=x.pv,f.DEBUG&&console.log(x.step,"SFVTPV[]")},function(k){var O=(q=k.stack).pop(),R=q.pop(),F=q.pop(),$=q.pop(),q=q.pop(),ce=k.z0,be=k.z1,te=ce[O],ce=ce[R],le=be[F],be=be[$],k=k.z2[q],O=(f.DEBUG&&console.log("ISECT[], ",O,R,F,$,q),te.x),R=te.y,F=ce.x,$=ce.y,q=le.x,te=le.y,ce=be.x,le=be.y,be=(O-F)*(te-le)-(R-$)*(q-ce),Te=O*$-R*F,Se=q*le-te*ce;k.x=(Te*(q-ce)-Se*(O-F))/be,k.y=(Te*(te-le)-Se*(R-$))/be},function(x){x.rp0=x.stack.pop(),f.DEBUG&&console.log(x.step,"SRP0[]",x.rp0)},function(x){x.rp1=x.stack.pop(),f.DEBUG&&console.log(x.step,"SRP1[]",x.rp1)},function(x){x.rp2=x.stack.pop(),f.DEBUG&&console.log(x.step,"SRP2[]",x.rp2)},function(x){var k=x.stack.pop();switch(f.DEBUG&&console.log(x.step,"SZP0[]",k),x.zp0=k){case 0:x.tZone||_l(x),x.z0=x.tZone;break;case 1:x.z0=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){var k=x.stack.pop();switch(f.DEBUG&&console.log(x.step,"SZP1[]",k),x.zp1=k){case 0:x.tZone||_l(x),x.z1=x.tZone;break;case 1:x.z1=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){var k=x.stack.pop();switch(f.DEBUG&&console.log(x.step,"SZP2[]",k),x.zp2=k){case 0:x.tZone||_l(x),x.z2=x.tZone;break;case 1:x.z2=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){var k=x.stack.pop();switch(f.DEBUG&&console.log(x.step,"SZPS[]",k),x.zp0=x.zp1=x.zp2=k){case 0:x.tZone||_l(x),x.z0=x.z1=x.z2=x.tZone;break;case 1:x.z0=x.z1=x.z2=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){x.loop=x.stack.pop(),f.DEBUG&&console.log(x.step,"SLOOP[]",x.loop)},function(x){f.DEBUG&&console.log(x.step,"RTG[]"),x.round=Wm},function(x){f.DEBUG&&console.log(x.step,"RTHG[]"),x.round=xx},function(x){var k=x.stack.pop();f.DEBUG&&console.log(x.step,"SMD[]",k),x.minDis=k/64},function(x){f.DEBUG&&console.log(x.step,"ELSE[]"),$m(x,!1)},function(x){var k=x.stack.pop();f.DEBUG&&console.log(x.step,"JMPR[]",k),x.ip+=k-1},function(x){var k=x.stack.pop();f.DEBUG&&console.log(x.step,"SCVTCI[]",k),x.cvCutIn=k/64},void 0,void 0,function(x){var k=x.stack;f.DEBUG&&console.log(x.step,"DUP[]"),k.push(k[k.length-1])},od,function(x){f.DEBUG&&console.log(x.step,"CLEAR[]"),x.stack.length=0},function(x){var k=x.stack,O=k.pop(),R=k.pop();f.DEBUG&&console.log(x.step,"SWAP[]"),k.push(O),k.push(R)},function(x){var k=x.stack;f.DEBUG&&console.log(x.step,"DEPTH[]"),k.push(k.length)},function(x){var k=x.stack,O=k.pop();f.DEBUG&&console.log(x.step,"CINDEX[]",O),k.push(k[k.length-O])},function(x){var k=x.stack,O=k.pop();f.DEBUG&&console.log(x.step,"MINDEX[]",O),k.push(k.splice(k.length-O,1)[0])},void 0,void 0,void 0,function(x){var k=(R=x.stack).pop(),O=R.pop(),R=(f.DEBUG&&console.log(x.step,"LOOPCALL[]",k,O),x.ip),F=x.prog;x.prog=x.funcs[k];for(var $=0;$<O;$++)ks(x),f.DEBUG&&console.log(++x.step,$+1<O?"next loopcall":"done loopcall",$);x.ip=R,x.prog=F},function(x){var k=x.stack.pop(),O=(f.DEBUG&&console.log(x.step,"CALL[]",k),x.ip),R=x.prog;x.prog=x.funcs[k],ks(x),x.ip=O,x.prog=R,f.DEBUG&&console.log(++x.step,"returning from",k)},function(x){if(x.env!=="fpgm")throw new Error("FDEF not allowed here");var R=x.stack,k=x.prog,O=x.ip,R=R.pop(),F=O;for(f.DEBUG&&console.log(x.step,"FDEF[]",R);k[++O]!==45;);x.ip=O,x.funcs[R]=k.slice(F+1,O)},void 0,Zm.bind(void 0,0),Zm.bind(void 0,1),Qm.bind(void 0,Jn),Qm.bind(void 0,zn),eg.bind(void 0,0),eg.bind(void 0,1),tg.bind(void 0,0),tg.bind(void 0,1),rg.bind(void 0,0),rg.bind(void 0,1),function(x){for(var k=x.stack,O=x.loop,R=x.fv,F=k.pop()/64,$=x.z2;O--;){var q=k.pop(),te=$[q];f.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-O)+": ":"")+"SHPIX[]",q,F),R.setRelative(te,te,F),R.touch(te)}x.loop=1},function(x){for(var k=x.stack,O=x.rp1,R=x.rp2,F=x.loop,$=x.z0[O],q=x.z1[R],te=x.fv,ce=x.dpv,le=x.z2;F--;){var be=k.pop(),Te=le[be];f.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-F)+": ":"")+"IP[]",be,O,"<->",R),te.interpolate(Te,$,q,ce),te.touch(Te)}x.loop=1},ng.bind(void 0,0),ng.bind(void 0,1),function(x){for(var k=x.stack,O=x.rp0,R=x.z0[O],F=x.loop,$=x.fv,q=x.pv,te=x.z1;F--;){var ce=k.pop(),le=te[ce];f.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-F)+": ":"")+"ALIGNRP[]",ce),$.setRelative(le,R,0,q),$.touch(le)}x.loop=1},function(x){f.DEBUG&&console.log(x.step,"RTDG[]"),x.round=_x},og.bind(void 0,0),og.bind(void 0,1),function(x){var k=x.prog,O=x.ip,R=x.stack,F=k[++O];f.DEBUG&&console.log(x.step,"NPUSHB[]",F);for(var $=0;$<F;$++)R.push(k[++O]);x.ip=O},function(x){var k=x.ip,O=x.prog,R=x.stack,F=O[++k];f.DEBUG&&console.log(x.step,"NPUSHW[]",F);for(var $=0;$<F;$++){var q=O[++k]<<8|O[++k];32768&q&&(q=-(1+(65535^q))),R.push(q)}x.ip=k},function(x){var R=x.stack,k=(k=x.store)||(x.store=[]),O=R.pop(),R=R.pop();f.DEBUG&&console.log(x.step,"WS",O,R),k[R]=O},function(F){var k=F.stack,O=F.store,R=k.pop(),F=(f.DEBUG&&console.log(F.step,"RS",R),O&&O[R]||0);k.push(F)},function(x){var k=(O=x.stack).pop(),O=O.pop();f.DEBUG&&console.log(x.step,"WCVTP",k,O),x.cvt[O]=k/64},function(x){var k=x.stack,O=k.pop();f.DEBUG&&console.log(x.step,"RCVT",O),k.push(64*x.cvt[O])},sg.bind(void 0,0),sg.bind(void 0,1),void 0,ig.bind(void 0,0),ig.bind(void 0,1),function(x){f.DEBUG&&console.log(x.step,"MPPEM[]"),x.stack.push(x.ppem)},void 0,function(x){f.DEBUG&&console.log(x.step,"FLIPON[]"),x.autoFlip=!0},void 0,void 0,function(x){var k=x.stack,O=k.pop(),R=k.pop();f.DEBUG&&console.log(x.step,"LT[]",O,R),k.push(R<O?1:0)},function(x){var k=x.stack,O=k.pop(),R=k.pop();f.DEBUG&&console.log(x.step,"LTEQ[]",O,R),k.push(R<=O?1:0)},function(x){var k=x.stack,O=k.pop(),R=k.pop();f.DEBUG&&console.log(x.step,"GT[]",O,R),k.push(O<R?1:0)},function(x){var k=x.stack,O=k.pop(),R=k.pop();f.DEBUG&&console.log(x.step,"GTEQ[]",O,R),k.push(O<=R?1:0)},function(x){var k=x.stack,O=k.pop(),R=k.pop();f.DEBUG&&console.log(x.step,"EQ[]",O,R),k.push(O===R?1:0)},function(x){var k=x.stack,O=k.pop(),R=k.pop();f.DEBUG&&console.log(x.step,"NEQ[]",O,R),k.push(O!==R?1:0)},function(x){var k=x.stack,O=k.pop();f.DEBUG&&console.log(x.step,"ODD[]",O),k.push(Math.trunc(O)%2?1:0)},function(x){var k=x.stack,O=k.pop();f.DEBUG&&console.log(x.step,"EVEN[]",O),k.push(Math.trunc(O)%2?0:1)},function(x){var k=x.stack.pop();f.DEBUG&&console.log(x.step,"IF[]",k),k||($m(x,!0),f.DEBUG&&console.log(x.step,"EIF[]"))},function(x){f.DEBUG&&console.log(x.step,"EIF[]")},function(x){var k=x.stack,O=k.pop(),R=k.pop();f.DEBUG&&console.log(x.step,"AND[]",O,R),k.push(O&&R?1:0)},function(x){var k=x.stack,O=k.pop(),R=k.pop();f.DEBUG&&console.log(x.step,"OR[]",O,R),k.push(O||R?1:0)},function(x){var k=x.stack,O=k.pop();f.DEBUG&&console.log(x.step,"NOT[]",O),k.push(O?0:1)},sd.bind(void 0,1),function(x){var k=x.stack.pop();f.DEBUG&&console.log(x.step,"SDB[]",k),x.deltaBase=k},function(x){var k=x.stack.pop();f.DEBUG&&console.log(x.step,"SDS[]",k),x.deltaShift=Math.pow(.5,k)},function(x){var k=x.stack,O=k.pop(),R=k.pop();f.DEBUG&&console.log(x.step,"ADD[]",O,R),k.push(R+O)},function(x){var k=x.stack,O=k.pop(),R=k.pop();f.DEBUG&&console.log(x.step,"SUB[]",O,R),k.push(R-O)},function(x){var k=x.stack,O=k.pop(),R=k.pop();f.DEBUG&&console.log(x.step,"DIV[]",O,R),k.push(64*R/O)},function(x){var k=x.stack,O=k.pop(),R=k.pop();f.DEBUG&&console.log(x.step,"MUL[]",O,R),k.push(R*O/64)},function(x){var k=x.stack,O=k.pop();f.DEBUG&&console.log(x.step,"ABS[]",O),k.push(Math.abs(O))},function(x){var k=x.stack,O=k.pop();f.DEBUG&&console.log(x.step,"NEG[]",O),k.push(-O)},function(x){var k=x.stack,O=k.pop();f.DEBUG&&console.log(x.step,"FLOOR[]",O),k.push(64*Math.floor(O/64))},function(x){var k=x.stack,O=k.pop();f.DEBUG&&console.log(x.step,"CEILING[]",O),k.push(64*Math.ceil(O/64))},xl.bind(void 0,0),xl.bind(void 0,1),xl.bind(void 0,2),xl.bind(void 0,3),void 0,void 0,void 0,void 0,function(x){var k=(O=x.stack).pop(),O=O.pop();f.DEBUG&&console.log(x.step,"WCVTF[]",k,O),x.cvt[O]=k*x.ppem/x.font.unitsPerEm},sd.bind(void 0,2),sd.bind(void 0,3),id.bind(void 0,1),id.bind(void 0,2),id.bind(void 0,3),function(x){var k,O=x.stack.pop();switch(f.DEBUG&&console.log(x.step,"SROUND[]",O),x.round=Hm,192&O){case 0:k=.5;break;case 64:k=1;break;case 128:k=2;break;default:throw new Error("invalid SROUND value")}switch(x.srPeriod=k,48&O){case 0:x.srPhase=0;break;case 16:x.srPhase=.25*k;break;case 32:x.srPhase=.5*k;break;case 48:x.srPhase=.75*k;break;default:throw new Error("invalid SROUND value")}x.srThreshold=(O&=15)===0?0:(O/8-.5)*k},function(x){var k,O=x.stack.pop();switch(f.DEBUG&&console.log(x.step,"S45ROUND[]",O),x.round=Hm,192&O){case 0:k=Math.sqrt(2)/2;break;case 64:k=Math.sqrt(2);break;case 128:k=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(x.srPeriod=k,48&O){case 0:x.srPhase=0;break;case 16:x.srPhase=.25*k;break;case 32:x.srPhase=.5*k;break;case 48:x.srPhase=.75*k;break;default:throw new Error("invalid S45ROUND value")}x.srThreshold=(O&=15)===0?0:(O/8-.5)*k},void 0,void 0,function(x){f.DEBUG&&console.log(x.step,"ROFF[]"),x.round=wx},void 0,function(x){f.DEBUG&&console.log(x.step,"RUTG[]"),x.round=jx},function(x){f.DEBUG&&console.log(x.step,"RDTG[]"),x.round=Sx},od,od,void 0,void 0,void 0,void 0,void 0,function(x){var k=x.stack.pop();f.DEBUG&&console.log(x.step,"SCANCTRL[]",k)},ag.bind(void 0,0),ag.bind(void 0,1),function(x){var k=x.stack,O=k.pop(),R=0;f.DEBUG&&console.log(x.step,"GETINFO[]",O),1&O&&(R=35),32&O&&(R|=4096),k.push(R)},void 0,function(x){var k=x.stack,O=k.pop(),R=k.pop(),F=k.pop();f.DEBUG&&console.log(x.step,"ROLL[]"),k.push(R),k.push(O),k.push(F)},function(x){var k=x.stack,O=k.pop(),R=k.pop();f.DEBUG&&console.log(x.step,"MAX[]",O,R),k.push(Math.max(R,O))},function(x){var k=x.stack,O=k.pop(),R=k.pop();f.DEBUG&&console.log(x.step,"MIN[]",O,R),k.push(Math.min(R,O))},function(x){var k=x.stack.pop();f.DEBUG&&console.log(x.step,"SCANTYPE[]",k)},function(x){var k=x.stack.pop(),O=x.stack.pop();switch(f.DEBUG&&console.log(x.step,"INSTCTRL[]",k,O),k){case 1:return void(x.inhibitGridFit=!!O);case 2:return void(x.ignoreCvt=!!O);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,go.bind(void 0,1),go.bind(void 0,2),go.bind(void 0,3),go.bind(void 0,4),go.bind(void 0,5),go.bind(void 0,6),go.bind(void 0,7),go.bind(void 0,8),yo.bind(void 0,1),yo.bind(void 0,2),yo.bind(void 0,3),yo.bind(void 0,4),yo.bind(void 0,5),yo.bind(void 0,6),yo.bind(void 0,7),yo.bind(void 0,8),ot.bind(void 0,0,0,0,0,0),ot.bind(void 0,0,0,0,0,1),ot.bind(void 0,0,0,0,0,2),ot.bind(void 0,0,0,0,0,3),ot.bind(void 0,0,0,0,1,0),ot.bind(void 0,0,0,0,1,1),ot.bind(void 0,0,0,0,1,2),ot.bind(void 0,0,0,0,1,3),ot.bind(void 0,0,0,1,0,0),ot.bind(void 0,0,0,1,0,1),ot.bind(void 0,0,0,1,0,2),ot.bind(void 0,0,0,1,0,3),ot.bind(void 0,0,0,1,1,0),ot.bind(void 0,0,0,1,1,1),ot.bind(void 0,0,0,1,1,2),ot.bind(void 0,0,0,1,1,3),ot.bind(void 0,0,1,0,0,0),ot.bind(void 0,0,1,0,0,1),ot.bind(void 0,0,1,0,0,2),ot.bind(void 0,0,1,0,0,3),ot.bind(void 0,0,1,0,1,0),ot.bind(void 0,0,1,0,1,1),ot.bind(void 0,0,1,0,1,2),ot.bind(void 0,0,1,0,1,3),ot.bind(void 0,0,1,1,0,0),ot.bind(void 0,0,1,1,0,1),ot.bind(void 0,0,1,1,0,2),ot.bind(void 0,0,1,1,0,3),ot.bind(void 0,0,1,1,1,0),ot.bind(void 0,0,1,1,1,1),ot.bind(void 0,0,1,1,1,2),ot.bind(void 0,0,1,1,1,3),ot.bind(void 0,1,0,0,0,0),ot.bind(void 0,1,0,0,0,1),ot.bind(void 0,1,0,0,0,2),ot.bind(void 0,1,0,0,0,3),ot.bind(void 0,1,0,0,1,0),ot.bind(void 0,1,0,0,1,1),ot.bind(void 0,1,0,0,1,2),ot.bind(void 0,1,0,0,1,3),ot.bind(void 0,1,0,1,0,0),ot.bind(void 0,1,0,1,0,1),ot.bind(void 0,1,0,1,0,2),ot.bind(void 0,1,0,1,0,3),ot.bind(void 0,1,0,1,1,0),ot.bind(void 0,1,0,1,1,1),ot.bind(void 0,1,0,1,1,2),ot.bind(void 0,1,0,1,1,3),ot.bind(void 0,1,1,0,0,0),ot.bind(void 0,1,1,0,0,1),ot.bind(void 0,1,1,0,0,2),ot.bind(void 0,1,1,0,0,3),ot.bind(void 0,1,1,0,1,0),ot.bind(void 0,1,1,0,1,1),ot.bind(void 0,1,1,0,1,2),ot.bind(void 0,1,1,0,1,3),ot.bind(void 0,1,1,1,0,0),ot.bind(void 0,1,1,1,0,1),ot.bind(void 0,1,1,1,0,2),ot.bind(void 0,1,1,1,0,3),ot.bind(void 0,1,1,1,1,0),ot.bind(void 0,1,1,1,1,1),ot.bind(void 0,1,1,1,1,2),ot.bind(void 0,1,1,1,1,3)],Tx=Array.from||function(x){return x.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Mt(x){(x=x||{}).empty||(Es(x.familyName,"When creating a new Font object, familyName is required."),Es(x.styleName,"When creating a new Font object, styleName is required."),Es(x.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Es(x.ascender,"When creating a new Font object, ascender is required."),Es(x.descender,"When creating a new Font object, descender is required."),Es(x.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:x.familyName||" "},fontSubfamily:{en:x.styleName||" "},fullName:{en:x.fullName||x.familyName+" "+x.styleName},postScriptName:{en:x.postScriptName||(x.familyName+x.styleName).replace(/\s/g,"")},designer:{en:x.designer||" "},designerURL:{en:x.designerURL||" "},manufacturer:{en:x.manufacturer||" "},manufacturerURL:{en:x.manufacturerURL||" "},license:{en:x.license||" "},licenseURL:{en:x.licenseURL||" "},version:{en:x.version||"Version 0.1"},description:{en:x.description||" "},copyright:{en:x.copyright||" "},trademark:{en:x.trademark||" "}},this.unitsPerEm=x.unitsPerEm||1e3,this.ascender=x.ascender,this.descender=x.descender,this.createdTimestamp=x.createdTimestamp,this.tables={os2:{usWeightClass:x.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:x.widthClass||this.usWidthClasses.MEDIUM,fsSelection:x.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new nt.GlyphSet(this,x.glyphs||[]),this.encoding=new Ee(this),this.position=new wl(this),this.substitution=new Gn(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new Vm(this):void 0)}})}function ug(x,k){var O,R=JSON.stringify(x),F=256;for(O in k){var $=parseInt(O);if($&&!($<256)){if(JSON.stringify(k[O])===R)return $;F<=$&&(F=$+1)}}return k[F]=x,F}Mt.prototype.hasChar=function(x){return this.encoding.charToGlyphIndex(x)!==null},Mt.prototype.charToGlyphIndex=function(x){return this.encoding.charToGlyphIndex(x)},Mt.prototype.charToGlyph=function(x){return x=this.charToGlyphIndex(x),this.glyphs.get(x)||this.glyphs.get(0)},Mt.prototype.stringToGlyphs=function(x,k){k=k||this.defaultRenderOptions;for(var O=Tx(x),R=[],F=0;F<O.length;F+=1){var $=O[F];R.push(this.charToGlyphIndex($))}var q=R.length;if(k.features){var x=k.script||this.substitution.getDefaultScriptName(),te=[];k.features.liga&&(te=te.concat(this.substitution.getFeature("liga",x,k.language))),k.features.rlig&&(te=te.concat(this.substitution.getFeature("rlig",x,k.language)));for(var ce=0;ce<q;ce+=1)for(var le=0;le<te.length;le++){for(var be=te[le],Te=be.sub,Se=Te.length,he=0;he<Se&&Te[he]===R[ce+he];)he++;he===Se&&(R.splice(ce,Se,be.by),q=q-Se+1)}}for(var Ne=new Array(q),Ie=this.glyphs.get(0),Re=0;Re<q;Re+=1)Ne[Re]=this.glyphs.get(R[Re])||Ie;return Ne},Mt.prototype.nameToGlyphIndex=function(x){return this.glyphNames.nameToGlyphIndex(x)},Mt.prototype.nameToGlyph=function(x){return x=this.nameToGlyphIndex(x),this.glyphs.get(x)||this.glyphs.get(0)},Mt.prototype.glyphIndexToName=function(x){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(x):""},Mt.prototype.getKerningValue=function(x,k){x=x.index||x,k=k.index||k;var O=this.position.defaultKerningTables;return O?this.position.getKerningValue(O,x,k):this.kerningPairs[x+","+k]||0},Mt.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Mt.prototype.forEachGlyph=function(x,k,O,R,F,$){k=k!==void 0?k:0,O=O!==void 0?O:0,F=F||this.defaultRenderOptions;var q,te=1/this.unitsPerEm*(R=R!==void 0?R:72),ce=this.stringToGlyphs(x,F);F.kerning&&(x=F.script||this.position.getDefaultScriptName(),q=this.position.getKerningTables(x,F.language));for(var le=0;le<ce.length;le+=1){var be=ce[le];$.call(this,be,k,O,R,F),be.advanceWidth&&(k+=be.advanceWidth*te),F.kerning&&le<ce.length-1&&(k+=(q?this.position.getKerningValue(q,be.index,ce[le+1].index):this.getKerningValue(be,ce[le+1]))*te),F.letterSpacing?k+=F.letterSpacing*R:F.tracking&&(k+=F.tracking/1e3*R)}return k},Mt.prototype.getPath=function(x,k,O,R,F){var $=new K;return this.forEachGlyph(x,k,O,R,F,function(q,te,ce,le){q=q.getPath(te,ce,le,F,this),$.extend(q)}),$},Mt.prototype.getPaths=function(x,k,O,R,F){var $=[];return this.forEachGlyph(x,k,O,R,F,function(q,te,ce,le){q=q.getPath(te,ce,le,F,this),$.push(q)}),$},Mt.prototype.getAdvanceWidth=function(x,k,O){return this.forEachGlyph(x,0,0,k,O,function(){})},Mt.prototype.draw=function(x,k,O,R,F,$){this.getPath(k,O,R,F,$).draw(x)},Mt.prototype.drawPoints=function(x,k,O,R,F,$){this.forEachGlyph(k,O,R,F,$,function(q,te,ce,le){q.drawPoints(x,te,ce,le)})},Mt.prototype.drawMetrics=function(x,k,O,R,F,$){this.forEachGlyph(k,O,R,F,$,function(q,te,ce,le){q.drawMetrics(x,te,ce,le)})},Mt.prototype.getEnglishName=function(x){if(x=this.names[x],x)return x.en},Mt.prototype.validate=function(){var x=this;function k(O){O=x.getEnglishName(O),O&&O.trim().length}k("fontFamily"),k("weightName"),k("manufacturer"),k("copyright"),k("version"),this.unitsPerEm},Mt.prototype.toTables=function(){return yx.fontToTable(this)},Mt.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Mt.prototype.toArrayBuffer=function(){for(var x=this.toTables().encode(),k=new ArrayBuffer(x.length),O=new Uint8Array(k),R=0;R<x.length;R++)O[R]=x[R];return k},Mt.prototype.download=function(x){var k=this.getEnglishName("fontFamily"),O=this.getEnglishName("fontSubfamily"),R=(x=x||k.replace(/\s/g,"")+"-"+O+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,R.byteLength,function(F){F.root.getFile(x,{create:!0},function($){$.createWriter(function(q){var te=new DataView(R),te=new Blob([te],{type:"font/opentype"});q.write(te),q.addEventListener("writeend",function(){location.href=$.toURL()},!1)})})},function(F){throw new Error(F.name+": "+F.message)})):(k=t("fs"),O=function(F){for(var $=new s(F.byteLength),q=new Uint8Array(F),te=0;te<$.length;++te)$[te]=q[te];return $}(R),k.writeFileSync(x,O))},Mt.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Mt.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Mt.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Px={make:function(x,k){var O=new Ce.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:x.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:x.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*x.axes.length}]);O.offsetToData=O.sizeOf();for(var R,F,$,q=0;q<x.axes.length;q++)O.fields=O.fields.concat((R=q,F=x.axes[q],$=k,$=ug(F.name,k),[{name:"tag_"+R,type:"TAG",value:F.tag},{name:"minValue_"+R,type:"FIXED",value:F.minValue<<16},{name:"defaultValue_"+R,type:"FIXED",value:F.defaultValue<<16},{name:"maxValue_"+R,type:"FIXED",value:F.maxValue<<16},{name:"flags_"+R,type:"USHORT",value:0},{name:"nameID_"+R,type:"USHORT",value:$}]));for(var te=0;te<x.instances.length;te++)O.fields=O.fields.concat(function(ce,le,be,Te){for(var Se=[{name:"nameID_"+ce,type:"USHORT",value:ug(le.name,Te)},{name:"flags_"+ce,type:"USHORT",value:0}],he=0;he<be.length;++he){var Ne=be[he].tag;Se.push({name:"axis_"+ce+" "+Ne,type:"FIXED",value:le.coordinates[Ne]<<16})}return Se}(te,x.instances[te],x.axes,k));return O},parse:function(x,k,O){for(var R,F,$,q,te=new ke.Parser(x,k),ce=te.parseULong(),le=(L.argument(ce===65536,"Unsupported fvar table version."),te.parseOffset16()),be=(te.skip("uShort",1),te.parseUShort()),Te=te.parseUShort(),Se=te.parseUShort(),he=te.parseUShort(),Ne=[],Ie=0;Ie<be;Ie++)Ne.push((R=x,F=k+le+Ie*Te,$=O,q={},R=new ke.Parser(R,F),q.tag=R.parseTag(),q.minValue=R.parseFixed(),q.defaultValue=R.parseFixed(),q.maxValue=R.parseFixed(),R.skip("uShort",1),q.name=$[R.parseUShort()]||{},q));for(var Re=[],Pe=k+le+be*Te,Oe=0;Oe<Se;Oe++)Re.push(function(st,pt,it,at){var gt={},Lt=new ke.Parser(st,pt);gt.name=at[Lt.parseUShort()]||{},Lt.skip("uShort",1),gt.coordinates={};for(var Jt=0;Jt<it.length;++Jt)gt.coordinates[it[Jt].tag]=Lt.parseFixed();return gt}(x,Pe+Oe*he,Ne,O));return{axes:Ne,instances:Re}}},En=new Array(10);En[1]=function(){var x=this.offset+this.relativeOffset,k=this.parseUShort();return k===1?{posFormat:1,coverage:this.parsePointer(xe.coverage),value:this.parseValueRecord()}:k===2?{posFormat:2,coverage:this.parsePointer(xe.coverage),values:this.parseValueRecordList()}:void L.assert(!1,"0x"+x.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},En[2]=function(){var x,k,O,R,$=this.offset+this.relativeOffset,F=this.parseUShort(),$=(L.assert(F===1||F===2,"0x"+$.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(xe.coverage)),q=this.parseUShort(),te=this.parseUShort();return F===1?{posFormat:F,coverage:$,valueFormat1:q,valueFormat2:te,pairSets:this.parseList(xe.pointer(xe.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(q),value2:this.parseValueRecord(te)}})))}:F===2?(x=this.parsePointer(xe.classDef),k=this.parsePointer(xe.classDef),O=this.parseUShort(),R=this.parseUShort(),{posFormat:F,coverage:$,valueFormat1:q,valueFormat2:te,classDef1:x,classDef2:k,class1Count:O,class2Count:R,classRecords:this.parseList(O,xe.list(R,function(){return{value1:this.parseValueRecord(q),value2:this.parseValueRecord(te)}}))}):void 0},En[3]=function(){return{error:"GPOS Lookup 3 not supported"}},En[4]=function(){return{error:"GPOS Lookup 4 not supported"}},En[5]=function(){return{error:"GPOS Lookup 5 not supported"}},En[6]=function(){return{error:"GPOS Lookup 6 not supported"}},En[7]=function(){return{error:"GPOS Lookup 7 not supported"}},En[8]=function(){return{error:"GPOS Lookup 8 not supported"}},En[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Ox=new Array(10),Mx={parse:function(x,k){return k=(x=new xe(x,k=k||0)).parseVersion(1),L.argument(k===1||k===1.1,"Unsupported GPOS table version "+k),k===1?{version:k,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(En)}:{version:k,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(En),variations:x.parseFeatureVariationsList()}},make:function(x){return new Ce.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ce.ScriptList(x.scripts)},{name:"features",type:"TABLE",value:new Ce.FeatureList(x.features)},{name:"lookups",type:"TABLE",value:new Ce.LookupList(x.lookups,Ox)}])}},Ix={parse:function(x,k){if(x=new ke.Parser(x,k),(k=x.parseUShort())===0){var O=x,R={},Te=(O.skip("uShort"),O.parseUShort()),F=(L.argument(Te===0,"Unsupported kern sub-table version."),O.skip("uShort",2),O.parseUShort());O.skip("uShort",3);for(var $=0;$<F;$+=1){var q=O.parseUShort(),te=O.parseUShort(),ce=O.parseShort();R[q+","+te]=ce}return R}if(k!==1)throw new Error("Unsupported kern table version ("+k+").");var le=x,be={},Te=(le.skip("uShort"),1<le.parseULong()&&console.warn("Only the first kern subtable is supported."),le.skip("uLong"),255&le.parseUShort());if(le.skip("uShort"),Te==0){var Se=le.parseUShort();le.skip("uShort",3);for(var he=0;he<Se;he+=1){var Ne=le.parseUShort(),Ie=le.parseUShort(),Re=le.parseShort();be[Ne+","+Ie]=Re}}return be}},Ax={parse:function(x,k,O,R){for(var F=new ke.Parser(x,k),$=R?F.parseUShort:F.parseULong,q=[],te=0;te<O+1;te+=1){var ce=$.call(F);R&&(ce*=2),q.push(ce)}return q}};function Rx(x,k){t("fs").readFile(x,function(O,R){if(O)return k(O.message);k(null,Fm(R))})}function Lx(x,k){var O=new XMLHttpRequest;O.open("get",x,!0),O.responseType="arraybuffer",O.onload=function(){return O.response?k(null,O.response):k("Font could not be loaded: "+O.statusText)},O.onerror=function(){k("Font could not be loaded")},O.send()}function cg(x,k){for(var O=[],R=12,F=0;F<k;F+=1){var $=ke.getTag(x,R),q=ke.getULong(x,R+4),te=ke.getULong(x,R+8),ce=ke.getULong(x,R+12);O.push({tag:$,checksum:q,offset:te,length:ce,compression:!1}),R+=16}return O}function nr(O,k){if(k.compression!=="WOFF")return{data:O,offset:k.offset};var O=new Uint8Array(O.buffer,k.offset+2,k.compressedLength-2),R=new Uint8Array(k.length);if(z(O,R),R.byteLength!==k.length)throw new Error("Decompression error: "+k.tag+" decompressed length doesn't match recorded length");return{data:new DataView(R.buffer,0),offset:0}}function ad(Oe){var k,O,R,F,$,q,te,ce,le,be,Te,Se,he,Ne,Ie=new Mt({empty:!0}),Re=new DataView(Oe,0),Pe=[],Oe=ke.getTag(Re,0);if(Oe==="\0\0\0"||Oe==="true"||Oe==="typ1")Ie.outlinesFormat="truetype",Pe=cg(Re,R=ke.getUShort(Re,4));else if(Oe==="OTTO")Ie.outlinesFormat="cff",Pe=cg(Re,R=ke.getUShort(Re,4));else{if(Oe!=="wOFF")throw new Error("Unsupported OpenType signature "+Oe);var st=ke.getTag(Re,4);if(st==="\0\0\0")Ie.outlinesFormat="truetype";else{if(st!=="OTTO")throw new Error("Unsupported OpenType flavor "+Oe);Ie.outlinesFormat="cff"}Pe=function(Ft,Ct){for(var Ir=[],Ht=44,jr=0;jr<Ct;jr+=1){var Bt=ke.getTag(Ft,Ht),mr=ke.getULong(Ft,Ht+4),Ui=ke.getULong(Ft,Ht+8),Cs=ke.getULong(Ft,Ht+12),dg=void 0,dg=Ui<Cs&&"WOFF";Ir.push({tag:Bt,offset:mr,compression:dg,compressedLength:Ui,length:Cs}),Ht+=20}return Ir}(Re,R=ke.getUShort(Re,12))}for(var pt=0;pt<R;pt+=1){var it=Pe[pt],at=void 0;switch(it.tag){case"cmap":at=nr(Re,it),Ie.tables.cmap=Q.parse(at.data,at.offset),Ie.encoding=new Ae(Ie.tables.cmap);break;case"cvt ":at=nr(Re,it),Ne=new ke.Parser(at.data,at.offset),Ie.tables.cvt=Ne.parseShortList(it.length/2);break;case"fvar":$=it;break;case"fpgm":at=nr(Re,it),Ne=new ke.Parser(at.data,at.offset),Ie.tables.fpgm=Ne.parseByteList(it.length);break;case"head":at=nr(Re,it),Ie.tables.head=Ri.parse(at.data,at.offset),Ie.unitsPerEm=Ie.tables.head.unitsPerEm,k=Ie.tables.head.indexToLocFormat;break;case"hhea":at=nr(Re,it),Ie.tables.hhea=me.parse(at.data,at.offset),Ie.ascender=Ie.tables.hhea.ascender,Ie.descender=Ie.tables.hhea.descender,Ie.numberOfHMetrics=Ie.tables.hhea.numberOfHMetrics;break;case"hmtx":le=it;break;case"ltag":at=nr(Re,it),O=et.parse(at.data,at.offset);break;case"maxp":at=nr(Re,it),Ie.tables.maxp=Fe.parse(at.data,at.offset),Ie.numGlyphs=Ie.tables.maxp.numGlyphs;break;case"name":Se=it;break;case"OS/2":at=nr(Re,it),Ie.tables.os2=pr.parse(at.data,at.offset);break;case"post":at=nr(Re,it),Ie.tables.post=Pm.parse(at.data,at.offset),Ie.glyphNames=new He(Ie.tables.post);break;case"prep":at=nr(Re,it),Ne=new ke.Parser(at.data,at.offset),Ie.tables.prep=Ne.parseByteList(it.length);break;case"glyf":q=it;break;case"loca":Te=it;break;case"CFF ":F=it;break;case"kern":be=it;break;case"GPOS":te=it;break;case"GSUB":ce=it;break;case"meta":he=it}}if(st=nr(Re,Se),Ie.tables.name=en.parse(st.data,st.offset,O),Ie.names=Ie.tables.name,q&&Te)Oe=k===0,st=nr(Re,Te),st=Ax.parse(st.data,st.offset,Ie.numGlyphs,Oe),Oe=nr(Re,q),Ie.glyphs=zm.parse(Oe.data,Oe.offset,st,Ie);else{if(!F)throw new Error("Font doesn't contain TrueType or CFF outlines.");Oe=nr(Re,F),Ai.parse(Oe.data,Oe.offset,Ie)}for(var st=nr(Re,le),gt=(Ge.parse(st.data,st.offset,Ie.numberOfHMetrics,Ie.numGlyphs,Ie.glyphs),Ie),Lt=gt.tables.cmap.glyphIndexMap,Jt=Object.keys(Lt),or=0;or<Jt.length;or+=1){var Or,Mr=Jt[or],kn=Lt[Mr];(Or=gt.glyphs.get(kn)).addUnicode(parseInt(Mr))}for(var It=0;It<gt.glyphs.length;It+=1)Or=gt.glyphs.get(It),gt.cffEncoding?gt.isCIDFont?Or.name="gid"+It:Or.name=gt.cffEncoding.charset[It]:gt.glyphNames.names&&(Or.name=gt.glyphNames.glyphIndexToName(It));return be?(Oe=nr(Re,be),Ie.kerningPairs=Ix.parse(Oe.data,Oe.offset)):Ie.kerningPairs={},te&&(st=nr(Re,te),Ie.tables.gpos=Mx.parse(st.data,st.offset),Ie.position.init()),ce&&(Oe=nr(Re,ce),Ie.tables.gsub=Om.parse(Oe.data,Oe.offset)),$&&(st=nr(Re,$),Ie.tables.fvar=Px.parse(st.data,st.offset,Ie.names)),he&&(Oe=nr(Re,he),Ie.tables.meta=Mm.parse(Oe.data,Oe.offset),Ie.metas=Ie.tables.meta),Ie}f.Font=Mt,f.Glyph=Ze,f.Path=K,f.BoundingBox=X,f._parse=ke,f.parse=ad,f.load=function(x,k){(typeof window>"u"?Rx:Lx)(x,function(O,R){if(O)return k(O);var F;try{F=ad(R)}catch($){return k($,null)}return k(null,F)})},f.loadSync=function(x){return ad(Fm(t("fs").readFileSync(x)))},Object.defineProperty(f,"__esModule",{value:!0})},l(typeof a=="object"&&i!==void 0?a:u.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],258:[function(t,i,a){(function(s){function u(v,m){for(var c=0,d=v.length-1;0<=d;d--){var g=v[d];g==="."?v.splice(d,1):g===".."?(v.splice(d,1),c++):c&&(v.splice(d,1),c--)}if(m)for(;c--;)v.unshift("..");return v}function l(v,m){if(v.filter)return v.filter(m);for(var c=[],d=0;d<v.length;d++)m(v[d],d,v)&&c.push(v[d]);return c}a.resolve=function(){for(var v="",m=!1,c=arguments.length-1;-1<=c&&!m;c--){var d=0<=c?arguments[c]:s.cwd();if(typeof d!="string")throw new TypeError("Arguments to path.resolve must be strings");d&&(v=d+"/"+v,m=d.charAt(0)==="/")}return(m?"/":"")+(v=u(l(v.split("/"),function(g){return!!g}),!m).join("/"))||"."},a.normalize=function(v){var m=a.isAbsolute(v),c=f(v,-1)==="/";return(v=(v=u(l(v.split("/"),function(d){return!!d}),!m).join("/"))||m?v:".")&&c&&(v+="/"),(m?"/":"")+v},a.isAbsolute=function(v){return v.charAt(0)==="/"},a.join=function(){var v=Array.prototype.slice.call(arguments,0);return a.normalize(l(v,function(m,c){if(typeof m!="string")throw new TypeError("Arguments to path.join must be strings");return m}).join("/"))},a.relative=function(v,m){function c(w){for(var _=0;_<w.length&&w[_]==="";_++);for(var j=w.length-1;0<=j&&w[j]==="";j--);return j<_?[]:w.slice(_,j-_+1)}v=a.resolve(v).substr(1),m=a.resolve(m).substr(1);for(var d=c(v.split("/")),g=c(m.split("/")),y=Math.min(d.length,g.length),b=y,p=0;p<y;p++)if(d[p]!==g[p]){b=p;break}for(var h=[],p=b;p<d.length;p++)h.push("..");return(h=h.concat(g.slice(b))).join("/")},a.sep="/",a.delimiter=":",a.dirname=function(v){if(typeof v!="string"&&(v+=""),v.length===0)return".";for(var m=v.charCodeAt(0)===47,c=-1,d=!0,g=v.length-1;1<=g;--g)if(v.charCodeAt(g)===47){if(!d){c=g;break}}else d=!1;return c===-1?m?"/":".":m&&c===1?"/":v.slice(0,c)},a.basename=function(v,m){return v=function(c){typeof c!="string"&&(c+="");for(var d=0,g=-1,y=!0,b=c.length-1;0<=b;--b)if(c.charCodeAt(b)===47){if(!y){d=b+1;break}}else g===-1&&(y=!1,g=b+1);return g===-1?"":c.slice(d,g)}(v),v=m&&v.substr(-1*m.length)===m?v.substr(0,v.length-m.length):v},a.extname=function(v){typeof v!="string"&&(v+="");for(var m=-1,c=0,d=-1,g=!0,y=0,b=v.length-1;0<=b;--b){var p=v.charCodeAt(b);if(p===47){if(g)continue;c=b+1;break}d===-1&&(g=!1,d=b+1),p===46?m===-1?m=b:y!==1&&(y=1):m!==-1&&(y=-1)}return m===-1||d===-1||y===0||y===1&&m===d-1&&m===c+1?"":v.slice(m,d)};var f="ab".substr(-1)==="b"?function(v,m,c){return v.substr(m,c)}:function(v,m,c){return m<0&&(m=v.length+m),v.substr(m,c)}}).call(this,t("_process"))},{_process:259}],259:[function(t,l,a){var s,u,l=l.exports={};function f(){throw new Error("setTimeout has not been defined")}function v(){throw new Error("clearTimeout has not been defined")}try{s=typeof setTimeout=="function"?setTimeout:f}catch{s=f}try{u=typeof clearTimeout=="function"?clearTimeout:v}catch{u=v}function m(_){if(s===setTimeout)return setTimeout(_,0);if((s===f||!s)&&setTimeout)return(s=setTimeout)(_,0);try{return s(_,0)}catch{try{return s.call(null,_,0)}catch{return s.call(this,_,0)}}}var c,d=[],g=!1,y=-1;function b(){g&&c&&(g=!1,c.length?d=c.concat(d):y=-1,d.length&&p())}function p(){if(!g){for(var _=m(b),j=(g=!0,d.length);j;){for(c=d,d=[];++y<j;)c&&c[y].run();y=-1,j=d.length}c=null,g=!1,function(E){if(u===clearTimeout)return clearTimeout(E);if((u===v||!u)&&clearTimeout)return(u=clearTimeout)(E);try{u(E)}catch{try{return u.call(null,E)}catch{return u.call(this,E)}}}(_)}}function h(_,j){this.fun=_,this.array=j}function w(){}l.nextTick=function(_){var j=new Array(arguments.length-1);if(1<arguments.length)for(var E=1;E<arguments.length;E++)j[E-1]=arguments[E];d.push(new h(_,j)),d.length!==1||g||m(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=w,l.addListener=w,l.once=w,l.off=w,l.removeListener=w,l.removeAllListeners=w,l.emit=w,l.prependListener=w,l.prependOnceListener=w,l.listeners=function(_){return[]},l.binding=function(_){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(_){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],260:[function(t,i,a){i=function(s){var u,l=Object.prototype,f=l.hasOwnProperty,S=typeof Symbol=="function"?Symbol:{},v=S.iterator||"@@iterator",m=S.asyncIterator||"@@asyncIterator",c=S.toStringTag||"@@toStringTag";function d(W,G,V,H){var K,re,T,L,G=G&&G.prototype instanceof _?G:_,G=Object.create(G.prototype),H=new U(H||[]);return G._invoke=(K=W,re=V,T=H,L=y,function(J,ee){if(L===p)throw new Error("Generator is already running");if(L===h){if(J==="throw")throw ee;return B()}for(T.method=J,T.arg=ee;;){var ie=T.delegate;if(ie&&(ie=function fe(oe,de){var ae=oe.iterator[de.method];if(ae===u){if(de.delegate=null,de.method==="throw"){if(oe.iterator.return&&(de.method="return",de.arg=u,fe(oe,de),de.method==="throw"))return w;de.method="throw",de.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}if(ae=g(ae,oe.iterator,de.arg),ae.type==="throw")return de.method="throw",de.arg=ae.arg,de.delegate=null,w;if(ae=ae.arg,!ae)return de.method="throw",de.arg=new TypeError("iterator result is not an object"),de.delegate=null,w;{if(!ae.done)return ae;de[oe.resultName]=ae.value,de.next=oe.nextLoc,de.method!=="return"&&(de.method="next",de.arg=u)}return de.delegate=null,w}(ie,T),ie)){if(ie===w)continue;return ie}if(T.method==="next")T.sent=T._sent=T.arg;else if(T.method==="throw"){if(L===y)throw L=h,T.arg;T.dispatchException(T.arg)}else T.method==="return"&&T.abrupt("return",T.arg);if(L=p,ie=g(K,re,T),ie.type==="normal"){if(L=T.done?h:b,ie.arg!==w)return{value:ie.arg,done:T.done}}else ie.type==="throw"&&(L=h,T.method="throw",T.arg=ie.arg)}}),G}function g(W,z,V){try{return{type:"normal",arg:W.call(z,V)}}catch(X){return{type:"throw",arg:X}}}s.wrap=d;var y="suspendedStart",b="suspendedYield",p="executing",h="completed",w={};function _(){}function j(){}function E(){}var S={},C=(S[v]=function(){return this},Object.getPrototypeOf),C=C&&C(C(N([]))),M=(C&&C!==l&&f.call(C,v)&&(S=C),E.prototype=_.prototype=Object.create(S));function A(W){["next","throw","return"].forEach(function(z){W[z]=function(V){return this._invoke(z,V)}})}function P(W){var z;this._invoke=function(V,X){function K(){return new Promise(function(re,T){(function L(fe,H,J,ee){var ie,fe=g(W[fe],W,H);if(fe.type!=="throw")return(H=(ie=fe.arg).value)&&typeof H=="object"&&f.call(H,"__await")?Promise.resolve(H.__await).then(function(oe){L("next",oe,J,ee)},function(oe){L("throw",oe,J,ee)}):Promise.resolve(H).then(function(oe){ie.value=oe,J(ie)},function(oe){return L("throw",oe,J,ee)});ee(fe.arg)})(V,X,re,T)})}return z=z?z.then(K,K):K()}}function D(W){var z={tryLoc:W[0]};1 in W&&(z.catchLoc=W[1]),2 in W&&(z.finallyLoc=W[2],z.afterLoc=W[3]),this.tryEntries.push(z)}function I(W){var z=W.completion||{};z.type="normal",delete z.arg,W.completion=z}function U(W){this.tryEntries=[{tryLoc:"root"}],W.forEach(D,this),this.reset(!0)}function N(W){if(W){var z,V=W[v];if(V)return V.call(W);if(typeof W.next=="function")return W;if(!isNaN(W.length))return z=-1,(V=function X(){for(;++z<W.length;)if(f.call(W,z))return X.value=W[z],X.done=!1,X;return X.value=u,X.done=!0,X}).next=V}return{next:B}}function B(){return{value:u,done:!0}}return(j.prototype=M.constructor=E).constructor=j,E[c]=j.displayName="GeneratorFunction",s.isGeneratorFunction=function(W){return W=typeof W=="function"&&W.constructor,!!W&&(W===j||(W.displayName||W.name)==="GeneratorFunction")},s.mark=function(W){return Object.setPrototypeOf?Object.setPrototypeOf(W,E):(W.__proto__=E,c in W||(W[c]="GeneratorFunction")),W.prototype=Object.create(M),W},s.awrap=function(W){return{__await:W}},A(P.prototype),P.prototype[m]=function(){return this},s.AsyncIterator=P,s.async=function(W,z,V,X){var K=new P(d(W,z,V,X));return s.isGeneratorFunction(z)?K:K.next().then(function(re){return re.done?re.value:K.next()})},A(M),M[c]="Generator",M[v]=function(){return this},M.toString=function(){return"[object Generator]"},s.keys=function(W){var z,V=[];for(z in W)V.push(z);return V.reverse(),function X(){for(;V.length;){var K=V.pop();if(K in W)return X.value=K,X.done=!1,X}return X.done=!0,X}},s.values=N,U.prototype={constructor:U,reset:function(W){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(I),!W)for(var z in this)z.charAt(0)==="t"&&f.call(this,z)&&!isNaN(+z.slice(1))&&(this[z]=u)},stop:function(){this.done=!0;var W=this.tryEntries[0].completion;if(W.type==="throw")throw W.arg;return this.rval},dispatchException:function(W){if(this.done)throw W;var z=this;function V(G,H){return re.type="throw",re.arg=W,z.next=G,H&&(z.method="next",z.arg=u),!!H}for(var X=this.tryEntries.length-1;0<=X;--X){var K=this.tryEntries[X],re=K.completion;if(K.tryLoc==="root")return V("end");if(K.tryLoc<=this.prev){var T=f.call(K,"catchLoc"),L=f.call(K,"finallyLoc");if(T&&L){if(this.prev<K.catchLoc)return V(K.catchLoc,!0);if(this.prev<K.finallyLoc)return V(K.finallyLoc)}else if(T){if(this.prev<K.catchLoc)return V(K.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<K.finallyLoc)return V(K.finallyLoc)}}}},abrupt:function(W,z){for(var V=this.tryEntries.length-1;0<=V;--V){var X=this.tryEntries[V];if(X.tryLoc<=this.prev&&f.call(X,"finallyLoc")&&this.prev<X.finallyLoc){var K=X;break}}var re=(K=K&&(W==="break"||W==="continue")&&K.tryLoc<=z&&z<=K.finallyLoc?null:K)?K.completion:{};return re.type=W,re.arg=z,K?(this.method="next",this.next=K.finallyLoc,w):this.complete(re)},complete:function(W,z){if(W.type==="throw")throw W.arg;return W.type==="break"||W.type==="continue"?this.next=W.arg:W.type==="return"?(this.rval=this.arg=W.arg,this.method="return",this.next="end"):W.type==="normal"&&z&&(this.next=z),w},finish:function(W){for(var z=this.tryEntries.length-1;0<=z;--z){var V=this.tryEntries[z];if(V.finallyLoc===W)return this.complete(V.completion,V.afterLoc),I(V),w}},catch:function(W){for(var z=this.tryEntries.length-1;0<=z;--z){var V,X,K=this.tryEntries[z];if(K.tryLoc===W)return(V=K.completion).type==="throw"&&(X=V.arg,I(K)),X}throw new Error("illegal catch attempt")},delegateYield:function(W,z,V){return this.delegate={iterator:N(W),resultName:z,nextLoc:V},this.method==="next"&&(this.arg=u),w}},s}(typeof i=="object"?i.exports:{});try{regeneratorRuntime=i}catch{Function("r","regeneratorRuntime = r")(i)}},{}],261:[function(t,i,a){(function(s){var u,l,f,v,m,c,d,g,y,b;function p(I){if(typeof I!="string"&&(I=String(I)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(I))throw new TypeError("Invalid character in header field name");return I.toLowerCase()}function h(I){return I=typeof I!="string"?String(I):I}function w(I){var U={next:function(){var N=I.shift();return{done:N===void 0,value:N}}};return l&&(U[Symbol.iterator]=function(){return U}),U}function _(I){this.map={},I instanceof _?I.forEach(function(U,N){this.append(N,U)},this):Array.isArray(I)?I.forEach(function(U){this.append(U[0],U[1])},this):I&&Object.getOwnPropertyNames(I).forEach(function(U){this.append(U,I[U])},this)}function j(I){if(I.bodyUsed)return Promise.reject(new TypeError("Already read"));I.bodyUsed=!0}function E(I){return new Promise(function(U,N){I.onload=function(){U(I.result)},I.onerror=function(){N(I.error)}})}function S(I){var U=new FileReader,N=E(U);return U.readAsArrayBuffer(I),N}function C(I){var U;return I.slice?I.slice(0):((U=new Uint8Array(I.byteLength)).set(new Uint8Array(I)),U.buffer)}function M(){return this.bodyUsed=!1,this._initBody=function(I){if(this._bodyInit=I)if(typeof I=="string")this._bodyText=I;else if(f&&Blob.prototype.isPrototypeOf(I))this._bodyBlob=I;else if(v&&FormData.prototype.isPrototypeOf(I))this._bodyFormData=I;else if(u&&URLSearchParams.prototype.isPrototypeOf(I))this._bodyText=I.toString();else if(m&&f&&d(I))this._bodyArrayBuffer=C(I.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m||!ArrayBuffer.prototype.isPrototypeOf(I)&&!g(I))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=C(I)}else this._bodyText="";this.headers.get("content-type")||(typeof I=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u&&URLSearchParams.prototype.isPrototypeOf(I)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f&&(this.blob=function(){var I=j(this);if(I)return I;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?j(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(S)}),this.text=function(){var I,U,N=j(this);if(N)return N;if(this._bodyBlob)return N=this._bodyBlob,I=new FileReader,U=E(I),I.readAsText(N),U;if(this._bodyArrayBuffer)return Promise.resolve(function(B){for(var W=new Uint8Array(B),z=new Array(W.length),V=0;V<W.length;V++)z[V]=String.fromCharCode(W[V]);return z.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v&&(this.formData=function(){return this.text().then(P)}),this.json=function(){return this.text().then(JSON.parse)},this}function A(I,U){var N,B=(U=U||{}).body;if(I instanceof A){if(I.bodyUsed)throw new TypeError("Already read");this.url=I.url,this.credentials=I.credentials,U.headers||(this.headers=new _(I.headers)),this.method=I.method,this.mode=I.mode,B||I._bodyInit==null||(B=I._bodyInit,I.bodyUsed=!0)}else this.url=String(I);if(this.credentials=U.credentials||this.credentials||"omit",!U.headers&&this.headers||(this.headers=new _(U.headers)),this.method=(I=U.method||this.method||"GET",N=I.toUpperCase(),-1<y.indexOf(N)?N:I),this.mode=U.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&B)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(B)}function P(I){var U=new FormData;return I.trim().split("&").forEach(function(N){var B;N&&(B=(N=N.split("=")).shift().replace(/\+/g," "),N=N.join("=").replace(/\+/g," "),U.append(decodeURIComponent(B),decodeURIComponent(N)))}),U}function D(I,U){U=U||{},this.type="default",this.status=U.status===void 0?200:U.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in U?U.statusText:"OK",this.headers=new _(U.headers),this.url=U.url||"",this._initBody(I)}s.fetch||(u="URLSearchParams"in s,l="Symbol"in s&&"iterator"in Symbol,f="FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),v="FormData"in s,(m="ArrayBuffer"in s)&&(c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=function(I){return I&&DataView.prototype.isPrototypeOf(I)},g=ArrayBuffer.isView||function(I){return I&&-1<c.indexOf(Object.prototype.toString.call(I))}),_.prototype.append=function(I,U){I=p(I),U=h(U);var N=this.map[I];this.map[I]=N?N+","+U:U},_.prototype.delete=function(I){delete this.map[p(I)]},_.prototype.get=function(I){return I=p(I),this.has(I)?this.map[I]:null},_.prototype.has=function(I){return this.map.hasOwnProperty(p(I))},_.prototype.set=function(I,U){this.map[p(I)]=h(U)},_.prototype.forEach=function(I,U){for(var N in this.map)this.map.hasOwnProperty(N)&&I.call(U,this.map[N],N,this)},_.prototype.keys=function(){var I=[];return this.forEach(function(U,N){I.push(N)}),w(I)},_.prototype.values=function(){var I=[];return this.forEach(function(U){I.push(U)}),w(I)},_.prototype.entries=function(){var I=[];return this.forEach(function(U,N){I.push([N,U])}),w(I)},l&&(_.prototype[Symbol.iterator]=_.prototype.entries),y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],A.prototype.clone=function(){return new A(this,{body:this._bodyInit})},M.call(A.prototype),M.call(D.prototype),D.prototype.clone=function(){return new D(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},D.error=function(){var I=new D(null,{status:0,statusText:""});return I.type="error",I},b=[301,302,303,307,308],D.redirect=function(I,U){if(b.indexOf(U)===-1)throw new RangeError("Invalid status code");return new D(null,{status:U,headers:{location:I}})},s.Headers=_,s.Request=A,s.Response=D,s.fetch=function(I,U){return new Promise(function(N,B){var W=new A(I,U),z=new XMLHttpRequest;z.onload=function(){var V,X={status:z.status,statusText:z.statusText,headers:(X=z.getAllResponseHeaders()||"",V=new _,X.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(T){var T=T.split(":"),L=T.shift().trim();L&&(T=T.join(":").trim(),V.append(L,T))}),V)},K=(X.url="responseURL"in z?z.responseURL:X.headers.get("X-Request-URL"),"response"in z?z.response:z.responseText);N(new D(K,X))},z.onerror=function(){B(new TypeError("Network request failed"))},z.ontimeout=function(){B(new TypeError("Network request failed"))},z.open(W.method,W.url,!0),W.credentials==="include"?z.withCredentials=!0:W.credentials==="omit"&&(z.withCredentials=!1),"responseType"in z&&f&&(z.responseType="blob"),W.headers.forEach(function(V,X){z.setRequestHeader(X,V)}),z.send(W._bodyInit===void 0?null:W._bodyInit)})},s.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],262:[function(t,i,a){t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s,u=f(t("../core/main")),l=f(t("../color/color_conversion"));function f(c){return c&&c.__esModule?c:{default:c}}var v=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],m=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];u.default.prototype._rgbColorName=function(y){var d,g,y=l.default._rgbaToHSBA(y),b=[(s=y)[0],y[1],y[2]];b[0]!==0&&(b[0]=Math.round(100*b[0]),(y=b[0].toString().split(""))[g=y.length-1]=parseInt(y[g]),y[g]<2.5?y[g]=0:2.5<=y[g]&&y[g]<7.5&&(y[g]=5),y.length===2?(y[0]=parseInt(y[0]),7.5<=y[g]&&(y[g]=0,y[0]=y[0]+1),b[0]=10*y[0]+y[1]):7.5<=y[g]?b[0]=10:b[0]=y[g]),b[2]=b[2]/255;for(var p=b.length-1;1<=p;p--)b[p]<=.25?b[p]=0:.25<b[p]&&b[p]<.75?b[p]=.5:b[p]=1;if(b[0]===0&&b[1]===0&&b[2]===1){for(var h=2;0<=h;h--)s[h]=Math.round(1e4*s[h])/1e4;for(var w=0;w<v.length;w++){if(v[w].h===s[0]&&v[w].s===s[1]&&v[w].b===s[2]){d=v[w].name;break}d="white"}}else for(var _=0;_<m.length;_++)if(m[_].h===b[0]&&m[_].s===b[1]&&m[_].b===b[2]){d=m[_].name;break}return d},t=u.default,a.default=t},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(t,i,a){t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t},u="_Description",l="_fallbackDesc",f="_fallbackTable",v="_Label",m="_labelDesc",c="_labelTable";function d(g){if(g==="label"||g==="fallback")throw new Error("description should not be LABEL or FALLBACK");return g.endsWith(".")||g.endsWith(";")||g.endsWith(",")||g.endsWith("?")||g.endsWith("!")||(g+="."),g}s.default.prototype.describe=function(g,y){var b;s.default._validateParameters("describe",arguments),typeof g=="string"&&(b=this.canvas.id,g=d(g),this.dummyDOM||(this.dummyDOM=document.getElementById(b).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==g&&(this.descriptions.fallback.innerHTML=g):this._describeHTML("fallback",g),y===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==g&&(this.descriptions.label.innerHTML=g):this._describeHTML("label",g)))},s.default.prototype.describeElement=function(g,y,b){var p,h;s.default._validateParameters("describeElement",arguments),typeof y=="string"&&typeof g=="string"&&(p=this.canvas.id,y=d(y),h=function(w){if(w==="label"||w==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return w.endsWith(".")||w.endsWith(";")||w.endsWith(",")?w=w.replace(/.$/,":"):w.endsWith(":")||(w+=":"),w}(g),g=g.replace(/[^a-zA-Z0-9]/g,""),h='<th scope="row">'.concat(h,"</th><td>").concat(y,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(p).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[g]?this.descriptions.fallbackElements[g].innerHTML!==h&&(this.descriptions.fallbackElements[g].innerHTML=h):this._describeElementHTML("fallback",g,h),b===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[g]?this.descriptions.labelElements[g].innerHTML!==h&&(this.descriptions.labelElements[g].innerHTML=h):this._describeElementHTML("label",g,h)))},s.default.prototype._describeHTML=function(g,y){var b,p=this.canvas.id;g==="fallback"?(this.dummyDOM.querySelector("#".concat(p+u))?this.dummyDOM.querySelector("#"+p+f).insertAdjacentHTML("beforebegin",'<p id="'.concat(p+l,'"></p>')):(b='<div id="'.concat(p).concat(u,'" role="region" aria-label="Canvas Description"><p id="').concat(p).concat(l,'"></p></div>'),this.dummyDOM.querySelector("#".concat(p,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(p,"accessibleOutput")).insertAdjacentHTML("beforebegin",b):this.dummyDOM.querySelector("#".concat(p)).innerHTML=b),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(p).concat(l)),this.descriptions.fallback.innerHTML=y):g==="label"&&(this.dummyDOM.querySelector("#".concat(p+v))?this.dummyDOM.querySelector("#".concat(p+c))&&this.dummyDOM.querySelector("#".concat(p+c)).insertAdjacentHTML("beforebegin",'<p id="'.concat(p).concat(m,'"></p>')):(b='<div id="'.concat(p).concat(v,'" class="p5Label"><p id="').concat(p).concat(m,'"></p></div>'),this.dummyDOM.querySelector("#".concat(p,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(p,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",b):this.dummyDOM.querySelector("#"+p).insertAdjacentHTML("afterend",b)),this.descriptions.label=this.dummyDOM.querySelector("#"+p+m),this.descriptions.label.innerHTML=y)},s.default.prototype._describeElementHTML=function(g,y,b){var p,h=this.canvas.id;g==="fallback"?(this.dummyDOM.querySelector("#".concat(h+u))?this.dummyDOM.querySelector("#"+h+f)||this.dummyDOM.querySelector("#"+h+l).insertAdjacentHTML("afterend",'<table id="'.concat(h).concat(f,'"><caption>Canvas elements and their descriptions</caption></table>')):(p='<div id="'.concat(h).concat(u,'" role="region" aria-label="Canvas Description"><table id="').concat(h).concat(f,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(h,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(h,"accessibleOutput")).insertAdjacentHTML("beforebegin",p):this.dummyDOM.querySelector("#"+h).innerHTML=p),(p=document.createElement("tr")).id=h+"_fte_"+y,this.dummyDOM.querySelector("#"+h+f).appendChild(p),this.descriptions.fallbackElements[y]=this.dummyDOM.querySelector("#".concat(h).concat("_fte_").concat(y)),this.descriptions.fallbackElements[y].innerHTML=b):g==="label"&&(this.dummyDOM.querySelector("#".concat(h+v))?this.dummyDOM.querySelector("#".concat(h+c))||this.dummyDOM.querySelector("#"+h+m).insertAdjacentHTML("afterend",'<table id="'.concat(h+c,'"></table>')):(p='<div id="'.concat(h).concat(v,'" class="p5Label"><table id="').concat(h).concat(c,'"></table></div>'),this.dummyDOM.querySelector("#".concat(h,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(h,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",p):this.dummyDOM.querySelector("#"+h).insertAdjacentHTML("afterend",p)),(g=document.createElement("tr")).id=h+"_lte_"+y,this.dummyDOM.querySelector("#"+h+c).appendChild(g),this.descriptions.labelElements[y]=this.dummyDOM.querySelector("#".concat(h).concat("_lte_").concat(y)),this.descriptions.labelElements[y].innerHTML=b)},t=s.default,a.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(t,i,a){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(s){var u,l,f,v;this.dummyDOM.querySelector("#".concat(s,"_summary"))&&(u=this._accessibleOutputs[s],f=function(m,c,d,g){return c="".concat(c," canvas, ").concat(d," by ").concat(g," pixels, contains ").concat(m[0]),c=(m[0]===1?"".concat(c," shape: "):"".concat(c," shapes: ")).concat(m[1]),c}((l=function(m,c){var d,g="",y="",b=0;for(d in c){var p,h=0;for(p in c[d]){var w='<li id="'.concat(m,"shape").concat(b,'">').concat(c[d][p].color," ").concat(d,",");d==="line"?w+=" location = ".concat(c[d][p].pos,", length = ").concat(c[d][p].length," pixels"):(w+=" location = ".concat(c[d][p].pos),d!=="point"&&(w+=", area = ".concat(c[d][p].area," %")),w+="</li>"),g+=w,h++,b++}y=1<h?"".concat(y," ").concat(h," ").concat(d,"s"):"".concat(y," ").concat(h," ").concat(d)}return{numShapes:[b,y],details:g}}(s,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),v=function(m,c){var d,g,y=0,b="",p=Array.from(Array(10),function(){return Array(10)});for(d in c)for(var h in c[d]){var w=void 0;w=d!=="line"?'<a href="#'.concat(m,"shape").concat(y,'">').concat(c[d][h].color," ").concat(d,"</a>"):'<a href="#'.concat(m,"shape").concat(y,'">').concat(c[d][h].color," ").concat(d," midpoint</a>"),c[d][h].loc.locY<p.length&&c[d][h].loc.locX<p[c[d][h].loc.locY].length&&(p[c[d][h].loc.locY][c[d][h].loc.locX]?p[c[d][h].loc.locY][c[d][h].loc.locX]=p[c[d][h].loc.locY][c[d][h].loc.locX]+"  "+w:p[c[d][h].loc.locY][c[d][h].loc.locX]=w,y++)}for(g in p){var _,j="<tr>";for(_ in p[g])j+="<td>",p[g][_]!==void 0&&(j+=p[g][_]),j+="</td>";b=b+j+"</tr>"}return b}(s,this.ingredients.shapes),f!==u.summary.innerHTML&&(u.summary.innerHTML=f),v!==u.map.innerHTML&&(u.map.innerHTML=v),l.details!==u.shapeDetails.innerHTML&&(u.shapeDetails.innerHTML=l.details),this._accessibleOutputs[s]=u)},t=t.default,a.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(t,i,a){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(f){return function(v){if(Array.isArray(v)){for(var m=0,c=new Array(v.length);m<v.length;m++)c[m]=v[m];return c}}(f)||function(v){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]")return Array.from(v)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(d,v,m){var c=d[0],d=d[1];return c<0||v<=c||d<0||m<=d?null:((c=Math.floor(c/v*10))===10&&(c-=1),(v=Math.floor(d/m*10))===10&&(v-=1),{locX:c,locY:v})}s.default.prototype.textOutput=function(f){s.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),f===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},s.default.prototype.gridOutput=function(f){s.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),f===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},s.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},s.default.prototype._createOutput=function(f,v){var m,c,d,g=this.canvas.id,y=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(g).parentNode),"");v==="Fallback"?(m=g+f,this.dummyDOM.querySelector("#".concat(c=g+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(g,"_Description"))?this.dummyDOM.querySelector("#".concat(g,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(c,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(g)).innerHTML='<div id="'.concat(c,'" role="region" aria-label="Canvas Outputs"></div>'))):v==="Label"&&(m=g+f+(y=v),this.dummyDOM.querySelector("#".concat(c=g+"accessibleOutput"+v))||(this.dummyDOM.querySelector("#".concat(g,"_Label"))?this.dummyDOM.querySelector("#".concat(g,"_Label")):this.dummyDOM.querySelector("#".concat(g))).insertAdjacentHTML("afterend",'<div id="'.concat(c,'"></div>'))),this._accessibleOutputs[m]={},f==="textOutput"?(y="#".concat(g,"gridOutput").concat(y),d='<div id="'.concat(m,'">Text Output<div id="').concat(m,'Summary" aria-label="text output summary"><p id="').concat(m,'_summary"></p><ul id="').concat(m,'_list"></ul></div><table id="').concat(m,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(y)?this.dummyDOM.querySelector(y).insertAdjacentHTML("beforebegin",d):this.dummyDOM.querySelector("#".concat(c)).innerHTML=d,this._accessibleOutputs[m].list=this.dummyDOM.querySelector("#".concat(m,"_list"))):f==="gridOutput"&&(y="#".concat(g,"textOutput").concat(y),d='<div id="'.concat(m,'">Grid Output<p id="').concat(m,'_summary" aria-label="grid output summary"><table id="').concat(m,'_map" summary="grid output content"></table><ul id="').concat(m,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(y)?this.dummyDOM.querySelector(y).insertAdjacentHTML("afterend",d):this.dummyDOM.querySelector("#".concat(c)).innerHTML=d,this._accessibleOutputs[m].map=this.dummyDOM.querySelector("#".concat(m,"_map"))),this._accessibleOutputs[m].shapeDetails=this.dummyDOM.querySelector("#".concat(m,"_shapeDetails")),this._accessibleOutputs[m].summary=this.dummyDOM.querySelector("#".concat(m,"_summary"))},s.default.prototype._updateAccsOutput=function(){var f=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(f+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(f+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(f+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(f+"gridOutputLabel"))},s.default.prototype._accsBackground=function(f){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==f&&(this.ingredients.colors.backgroundRGBA=f,this.ingredients.colors.background=this._rgbColorName(f))},s.default.prototype._accsCanvasColors=function(f,v){f==="fill"?this.ingredients.colors.fillRGBA!==v&&(this.ingredients.colors.fillRGBA=v,this.ingredients.colors.fill=this._rgbColorName(v)):f==="stroke"&&this.ingredients.colors.strokeRGBA!==v&&(this.ingredients.colors.strokeRGBA=v,this.ingredients.colors.stroke=this._rgbColorName(v))},s.default.prototype._accsOutput=function(f,v){f==="ellipse"&&v[2]===v[3]?f="circle":f==="rectangle"&&v[2]===v[3]&&(f="square");var m,c,d={},g=!0,y=function(p,h){var w;return p=p==="rectangle"||p==="ellipse"||p==="arc"||p==="circle"||p==="square"?(w=Math.round(h[0]+h[2]/2),Math.round(h[1]+h[3]/2)):p==="triangle"?(w=(h[0]+h[2]+h[4])/3,(h[1]+h[3]+h[5])/3):p==="quadrilateral"?(w=(h[0]+h[2]+h[4]+h[6])/4,(h[1]+h[3]+h[5]+h[7])/4):p==="line"?(w=(h[0]+h[2])/2,(h[1]+h[3])/2):(w=h[0],h[1]),[w,p]}(f,v);if(f==="line"?(d.color=this.ingredients.colors.stroke,d.length=Math.round(this.dist(v[0],v[1],v[2],v[3])),m=this._getPos(v[0],[1]),c=this._getPos(v[2],[3]),d.loc=l(y,this.width,this.height),d.pos=m===c?"at ".concat(m):"from ".concat(m," to ").concat(c)):(f==="point"?d.color=this.ingredients.colors.stroke:(d.color=this.ingredients.colors.fill,d.area=this._getArea(f,v)),d.pos=this._getPos.apply(this,u(y)),d.loc=l(y,this.width,this.height)),this.ingredients.shapes[f]){if(this.ingredients.shapes[f]!==[d]){for(var b in this.ingredients.shapes[f])JSON.stringify(this.ingredients.shapes[f][b])===JSON.stringify(d)&&(g=!1);g===!0&&this.ingredients.shapes[f].push(d)}}else this.ingredients.shapes[f]=[d]},s.default.prototype._getPos=function(c,m){var c=new DOMPointReadOnly(c,m),m=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),c=c.matrixTransform(m),m=c.x,c=c.y,d=this.width*this._pixelDensity,g=this.height*this._pixelDensity;return m<.4*d?c<.4*g?"top left":.6*g<c?"bottom left":"mid left":.6*d<m?c<.4*g?"top right":.6*g<c?"bottom right":"mid right":c<.4*g?"top middle":.6*g<c?"bottom middle":"middle"},s.default.prototype._getArea=function(f,v){var m,c,d=0,g=(f==="arc"?(d=(m=((v[5]-v[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*v[2]*v[3]/8,v[6]!=="open"&&v[6]!=="chord"||(c=v[0],h=v[1],g=v[0]+v[2]/2*Math.cos(v[4]).toFixed(2),w=v[1]+v[3]/2*Math.sin(v[4]).toFixed(2),b=v[0]+v[2]/2*Math.cos(v[5]).toFixed(2),y=v[1]+v[3]/2*Math.sin(v[5]).toFixed(2),c=Math.abs(c*(w-y)+g*(y-h)+b*(h-w))/2,m>Math.PI?d+=c:d-=c)):f==="ellipse"||f==="circle"?d=3.14*v[2]/2*v[3]/2:f==="line"||f==="point"?d=0:f==="quadrilateral"?d=Math.abs((v[6]+v[0])*(v[7]-v[1])+(v[0]+v[2])*(v[1]-v[3])+(v[2]+v[4])*(v[3]-v[5])+(v[4]+v[6])*(v[5]-v[7]))/2:f==="rectangle"||f==="square"?d=v[2]*v[3]:f==="triangle"&&(d=Math.abs(v[0]*(v[3]-v[5])+v[2]*(v[5]-v[1])+v[4]*(v[1]-v[3]))/2),this.width*this._pixelDensity),y=this.height*this._pixelDensity,b=[new DOMPoint(0,0),new DOMPoint(g,0),new DOMPoint(g,y),new DOMPoint(0,y)],p=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),h=b.map(function(_){return _.matrixTransform(p)}),w=Math.abs((h[3].x+h[0].x)*(h[3].y-h[0].y)+(h[0].x+h[1].x)*(h[0].y-h[1].y)+(h[1].x+h[2].x)*(h[1].y-h[2].y)+(h[2].x+h[3].x)*(h[2].y-h[3].y))/2;return Math.round(100*d/w)},t=s.default,a.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(t,i,a){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(s){var u,l,f,v;this.dummyDOM.querySelector("#".concat(s,"_summary"))&&(u=this._accessibleOutputs[s],f=function(m,c,d,g){return d="Your output is a, ".concat(d," by ").concat(g," pixels, ").concat(c," canvas containing the following"),d=m===1?"".concat(d," shape:"):"".concat(d," ").concat(m," shapes:"),d}((l=function(m,c){var d,g="",y=0;for(d in c)for(var b in c[d]){var p='<li><a href="#'.concat(m,"shape").concat(y,'">').concat(c[d][b].color," ").concat(d,"</a>");d==="line"?p+=", ".concat(c[d][b].pos,", ").concat(c[d][b].length," pixels long.</li>"):(p+=", at ".concat(c[d][b].pos),d!=="point"&&(p+=", covering ".concat(c[d][b].area,"% of the canvas")),p+=".</li>"),g+=p,y++}return{numShapes:y,listShapes:g}}(s,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),v=function(m,c){var d,g="",y=0;for(d in c)for(var b in c[d]){var p='<tr id="'.concat(m,"shape").concat(y,'"><th>').concat(c[d][b].color," ").concat(d,"</th>");d==="line"?p+="<td>location = ".concat(c[d][b].pos,"</td><td>length = ").concat(c[d][b].length," pixels</td></tr>"):(p+="<td>location = ".concat(c[d][b].pos,"</td>"),d!=="point"&&(p+="<td> area = ".concat(c[d][b].area,"%</td>")),p+="</tr>"),g+=p,y++}return g}(s,this.ingredients.shapes),f!==u.summary.innerHTML&&(u.summary.innerHTML=f),l.listShapes!==u.list.innerHTML&&(u.list.innerHTML=l.listShapes),v!==u.shapeDetails.innerHTML&&(u.shapeDetails.innerHTML=v),this._accessibleOutputs[s]=u)},t=t.default,a.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(t,i,a){var s=(s=t("./core/main"))&&s.__esModule?s:{default:s};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.DataArray"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.Quat"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),i.exports=s.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(t,i,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={_hsbaToHSLA:function(s){var u=s[0],l=s[1],f=s[2],v=(2-l)*f/2;return v!=0&&(v==1?l=0:v<.5?l/=2-l:l=l*f/(2-2*v)),[u,l,v,s[3]]},_hsbaToRGBA:function(s){var u,l,f,v,m,c=6*s[0],d=s[1],g=s[2];return d===0?[g,g,g,s[3]]:(l=g*(1-d),f=g*(1-d*(c-(u=Math.floor(c)))),d=g*(1-d*(1+u-c)),c=u===1?(v=f,m=g,l):u===2?(v=l,m=g,d):u===3?(v=l,m=f,g):u===4?(v=d,m=l,g):u===5?(v=g,m=l,f):(v=g,m=d,l),[v,m,c,s[3]])},_hslaToHSBA:function(s){var u=s[0],l=s[1],f=s[2],v=f<.5?(1+l)*f:f+l-f*l;return[u,l=2*(v-f)/v,v,s[3]]},_hslaToRGBA:function(s){var u,l=6*s[0],f=s[1],v=s[2];return f===0?[v,v,v,s[3]]:[(u=function(m,c,d){return m<0?m+=6:6<=m&&(m-=6),m<1?c+(d-c)*m:m<3?d:m<4?c+(d-c)*(4-m):c})(2+l,f=2*v-(v=v<.5?(1+f)*v:v+f-v*f),v),u(l,f,v),u(l-2,f,v),s[3]]},_rgbaToHSBA:function(s){var u,l,f=s[0],v=s[1],m=s[2],c=Math.max(f,v,m),d=c-Math.min(f,v,m);return d==0?l=u=0:(l=d/c,f===c?u=(v-m)/d:v===c?u=2+(m-f)/d:m===c&&(u=4+(f-v)/d),u<0?u+=6:6<=u&&(u-=6)),[u/6,l,c,s[3]]},_rgbaToHSLA:function(s){var u,l,f=s[0],v=s[1],m=s[2],c=Math.max(f,v,m),g=Math.min(f,v,m),d=c+g,g=c-g;return g==0?l=u=0:(l=d<1?g/d:g/(2-d),f===c?u=(v-m)/g:v===c?u=2+(m-f)/g:m===c&&(u=4+(f-v)/g),u<0?u+=6:6<=u&&(u-=6)),[u/6,l,d/2,s[3]]}},t=t.default.ColorConversion,a.default=t},{"../core/main":283}],269:[function(t,i,a){function s(c){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function u(c){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(d){return s(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":s(d)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=(m=t("../core/main"))&&m.__esModule?m:{default:m},f=function(c){if(c&&c.__esModule)return c;if(c===null||u(c)!=="object"&&typeof c!="function")return{default:c};var d=v();if(d&&d.has(c))return d.get(c);var g,y={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in c){var p;Object.prototype.hasOwnProperty.call(c,g)&&((p=b?Object.getOwnPropertyDescriptor(c,g):null)&&(p.get||p.set)?Object.defineProperty(y,g,p):y[g]=c[g])}return y.default=c,d&&d.set(c,y),y}(t("../core/constants"));function v(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,v=function(){return c},c)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),l.default.prototype.alpha=function(c){return l.default._validateParameters("alpha",arguments),this.color(c)._getAlpha()},l.default.prototype.blue=function(c){return l.default._validateParameters("blue",arguments),this.color(c)._getBlue()},l.default.prototype.brightness=function(c){return l.default._validateParameters("brightness",arguments),this.color(c)._getBrightness()},l.default.prototype.color=function(){for(var c,d=arguments.length,g=new Array(d),y=0;y<d;y++)g[y]=arguments[y];return l.default._validateParameters("color",g),g[0]instanceof l.default.Color?g[0]:(c=Array.isArray(g[0])?g[0]:g,new l.default.Color(this,c))},l.default.prototype.green=function(c){return l.default._validateParameters("green",arguments),this.color(c)._getGreen()},l.default.prototype.hue=function(c){return l.default._validateParameters("hue",arguments),this.color(c)._getHue()},l.default.prototype.lerpColor=function(c,d,g){l.default._validateParameters("lerpColor",arguments),c instanceof l.default.Color||(c=color(c)),d instanceof l.default.Color||(d=color(d));var y,b,p,h=this._colorMode,w=this._colorMaxes;if(h===f.RGB)b=c.levels.map(function(_){return _/255}),p=d.levels.map(function(_){return _/255});else if(h===f.HSB)c._getBrightness(),d._getBrightness(),b=c.hsba,p=d.hsba;else{if(h!==f.HSL)throw new Error("".concat(h," cannot be used for interpolation."));c._getLightness(),d._getLightness(),b=c.hsla,p=d.hsla}return g=Math.max(Math.min(g,1),0),this.lerp===void 0&&(this.lerp=function(_,j,E){return E*(j-_)+_}),h===f.RGB?y=this.lerp(b[0],p[0],g):(.5<Math.abs(b[0]-p[0])&&(b[0]>p[0]?p[0]+=1:b[0]+=1),1<=(y=this.lerp(b[0],p[0],g))&&--y),c=this.lerp(b[1],p[1],g),d=this.lerp(b[2],p[2],g),b=this.lerp(b[3],p[3],g),y*=w[h][0],c*=w[h][1],d*=w[h][2],b*=w[h][3],this.color(y,c,d,b)},l.default.prototype.paletteLerp=function(c,d){var g=c[0];if(d<g[1])return this.color(g[0]);for(var y=1;y<c.length;y++){var b,p=c[y];if(d<p[1])return b=c[y-1],this.lerpColor(this.color(b[0]),this.color(p[0]),(d-b[1])/(p[1]-b[1]))}return this.color(c[c.length-1][0])},l.default.prototype.lightness=function(c){return l.default._validateParameters("lightness",arguments),this.color(c)._getLightness()},l.default.prototype.red=function(c){return l.default._validateParameters("red",arguments),this.color(c)._getRed()},l.default.prototype.saturation=function(c){return l.default._validateParameters("saturation",arguments),this.color(c)._getSaturation()};var m=l.default;a.default=m},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(y,i,a){function s(_){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(_)}function u(_){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(j){return s(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":s(j)})(_)}y("core-js/modules/es.symbol"),y("core-js/modules/es.symbol.description"),y("core-js/modules/es.symbol.iterator"),y("core-js/modules/es.array.includes"),y("core-js/modules/es.array.iterator"),y("core-js/modules/es.array.join"),y("core-js/modules/es.array.map"),y("core-js/modules/es.array.slice"),y("core-js/modules/es.object.get-own-property-descriptor"),y("core-js/modules/es.object.to-string"),y("core-js/modules/es.regexp.constructor"),y("core-js/modules/es.regexp.exec"),y("core-js/modules/es.regexp.to-string"),y("core-js/modules/es.string.includes"),y("core-js/modules/es.string.iterator"),y("core-js/modules/es.string.trim"),y("core-js/modules/es.weak-map"),y("core-js/modules/web.dom-collections.iterator"),y("core-js/modules/es.array.includes"),y("core-js/modules/es.array.join"),y("core-js/modules/es.array.map"),y("core-js/modules/es.array.slice"),y("core-js/modules/es.object.to-string"),y("core-js/modules/es.regexp.constructor"),y("core-js/modules/es.regexp.exec"),y("core-js/modules/es.regexp.to-string"),y("core-js/modules/es.string.includes"),y("core-js/modules/es.string.trim"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=c(y("../core/main")),f=function(_){if(_&&_.__esModule)return _;if(_===null||u(_)!=="object"&&typeof _!="function")return{default:_};var j=m();if(j&&j.has(_))return j.get(_);var E,S={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(E in _){var M;Object.prototype.hasOwnProperty.call(_,E)&&((M=C?Object.getOwnPropertyDescriptor(_,E):null)&&(M.get||M.set)?Object.defineProperty(S,E,M):S[E]=_[E])}return S.default=_,j&&j.set(_,S),S}(y("../core/constants")),v=c(y("./color_conversion"));function m(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,m=function(){return _},_)}function c(_){return _&&_.__esModule?_:{default:_}}function d(_,j){for(var E=0;E<j.length;E++){var S=j[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}var g={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},y=/\s*/,w=/(\d{1,3})/,b=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,p=new RegExp("".concat(b.source,"%")),h={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",w.source,",",w.source,",",w.source,"\\)$"].join(y.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",p.source,",",p.source,",",p.source,"\\)$"].join(y.source),"i"),RGBA:new RegExp(["^rgba\\(",w.source,",",w.source,",",w.source,",",b.source,"\\)$"].join(y.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",p.source,",",p.source,",",p.source,",",b.source,"\\)$"].join(y.source),"i"),HSL:new RegExp(["^hsl\\(",w.source,",",p.source,",",p.source,"\\)$"].join(y.source),"i"),HSLA:new RegExp(["^hsla\\(",w.source,",",p.source,",",p.source,",",b.source,"\\)$"].join(y.source),"i"),HSB:new RegExp(["^hsb\\(",w.source,",",p.source,",",p.source,"\\)$"].join(y.source),"i"),HSBA:new RegExp(["^hsba\\(",w.source,",",p.source,",",p.source,",",b.source,"\\)$"].join(y.source),"i")},w=(l.default.Color=function(){function _(C,M){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(C._colorMode,C._colorMaxes),![f.RGB,f.HSL,f.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=_._parseInputs.apply(this,M),this._calculateLevels()}var j,E,S;return j=_,S=[{key:"_parseInputs",value:function(C,M,A,P){var D,I=arguments.length,U=this.mode,N=this.maxes[U],B=[];if(3<=I){for(B[0]=C/N[0],B[1]=M/N[1],B[2]=A/N[2],B[3]=typeof P=="number"?P/N[3]:1,D=B.length-1;0<=D;--D){var W=B[D];W<0?B[D]=0:1<W&&(B[D]=1)}return U===f.HSL?v.default._hslaToRGBA(B):U===f.HSB?v.default._hsbaToRGBA(B):B}if(I===1&&typeof C=="string"){if(A=C.trim().toLowerCase(),g[A])return _._parseInputs.call(this,g[A]);if(h.HEX3.test(A))return(B=h.HEX3.exec(A).slice(1).map(function(z){return parseInt(z+z,16)/255}))[3]=1,B;if(h.HEX6.test(A))return(B=h.HEX6.exec(A).slice(1).map(function(z){return parseInt(z,16)/255}))[3]=1,B;if(h.HEX4.test(A))return B=h.HEX4.exec(A).slice(1).map(function(z){return parseInt(z+z,16)/255});if(h.HEX8.test(A))return B=h.HEX8.exec(A).slice(1).map(function(z){return parseInt(z,16)/255});if(h.RGB.test(A))return(B=h.RGB.exec(A).slice(1).map(function(z){return z/255}))[3]=1,B;if(h.RGB_PERCENT.test(A))return(B=h.RGB_PERCENT.exec(A).slice(1).map(function(z){return parseFloat(z)/100}))[3]=1,B;if(h.RGBA.test(A))return B=h.RGBA.exec(A).slice(1).map(function(z,V){return V===3?parseFloat(z):z/255});if(h.RGBA_PERCENT.test(A))return B=h.RGBA_PERCENT.exec(A).slice(1).map(function(z,V){return V===3?parseFloat(z):parseFloat(z)/100});if(h.HSL.test(A)?(B=h.HSL.exec(A).slice(1).map(function(z,V){return V===0?parseInt(z,10)/360:parseInt(z,10)/100}))[3]=1:h.HSLA.test(A)&&(B=h.HSLA.exec(A).slice(1).map(function(z,V){return V===0?parseInt(z,10)/360:V===3?parseFloat(z):parseInt(z,10)/100})),(B=B.map(function(z){return Math.max(Math.min(z,1),0)})).length)return v.default._hslaToRGBA(B);if(h.HSB.test(A)?(B=h.HSB.exec(A).slice(1).map(function(z,V){return V===0?parseInt(z,10)/360:parseInt(z,10)/100}))[3]=1:h.HSBA.test(A)&&(B=h.HSBA.exec(A).slice(1).map(function(z,V){return V===0?parseInt(z,10)/360:V===3?parseFloat(z):parseInt(z,10)/100})),B.length){for(D=B.length-1;0<=D;--D)B[D]=Math.max(Math.min(B[D],1),0);return v.default._hsbaToRGBA(B)}B=[1,1,1,1]}else{if(I!==1&&I!==2||typeof C!="number")throw new Error("".concat(arguments,"is not a valid color representation."));B[0]=C/N[2],B[1]=C/N[2],B[2]=C/N[2],B[3]=typeof M=="number"?M/N[3]:1,B=B.map(function(z){return Math.max(Math.min(z,1),0)})}return B}}],(E=[{key:"toString",value:function(C){var M=this.levels,A=this._array,P=A[3];switch(C){case"#rrggbb":return"#".concat(M[0]<16?"0".concat(M[0].toString(16)):M[0].toString(16),M[1]<16?"0".concat(M[1].toString(16)):M[1].toString(16),M[2]<16?"0".concat(M[2].toString(16)):M[2].toString(16));case"#rrggbbaa":return"#".concat(M[0]<16?"0".concat(M[0].toString(16)):M[0].toString(16),M[1]<16?"0".concat(M[1].toString(16)):M[1].toString(16),M[2]<16?"0".concat(M[2].toString(16)):M[2].toString(16),M[3]<16?"0".concat(M[3].toString(16)):M[3].toString(16));case"#rgb":return"#".concat(Math.round(15*A[0]).toString(16),Math.round(15*A[1]).toString(16),Math.round(15*A[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*A[0]).toString(16),Math.round(15*A[1]).toString(16),Math.round(15*A[2]).toString(16),Math.round(15*A[3]).toString(16));case"rgb":return"rgb(".concat(M[0],", ",M[1],", ",M[2],")");case"rgb%":return"rgb(".concat((100*A[0]).toPrecision(3),"%, ",(100*A[1]).toPrecision(3),"%, ",(100*A[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*A[0]).toPrecision(3),"%, ",(100*A[1]).toPrecision(3),"%, ",(100*A[2]).toPrecision(3),"%, ",(100*A[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=v.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[f.HSB][0],", ",this.hsba[1]*this.maxes[f.HSB][1],", ",this.hsba[2]*this.maxes[f.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=v.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=v.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[f.HSB][0],", ",this.hsba[1]*this.maxes[f.HSB][1],", ",this.hsba[2]*this.maxes[f.HSB][2],", ",P,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=v.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*P).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=v.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[f.HSL][0],", ",this.hsla[1]*this.maxes[f.HSL][1],", ",this.hsla[2]*this.maxes[f.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=v.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=v.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[f.HSL][0],", ",this.hsla[1]*this.maxes[f.HSL][1],", ",this.hsla[2]*this.maxes[f.HSL][2],", ",P,")");case"hsla%":return this.hsla||(this.hsla=v.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*P).toPrecision(3),"%)");default:return"rgba(".concat(M[0],",",M[1],",",M[2],",",P,")")}}},{key:"setRed",value:function(C){this._array[0]=C/this.maxes[f.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(C){this._array[1]=C/this.maxes[f.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(C){this._array[2]=C/this.maxes[f.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(C){this._array[3]=C/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var C=this._array,M=this.levels=new Array(C.length),A=C.length-1;0<=A;--A)M[A]=Math.round(255*C[A]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(C,M){this.mode=C,this.maxes=M}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[f.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=v.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[f.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[f.RGB][1]}},{key:"_getHue",value:function(){return this.mode===f.HSB?(this.hsba||(this.hsba=v.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[f.HSB][0]):(this.hsla||(this.hsla=v.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[f.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=v.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[f.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[f.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===f.HSB?(this.hsba||(this.hsba=v.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[f.HSB][1]):(this.hsla||(this.hsla=v.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[f.HSL][1])}}])&&d(j.prototype,E),S&&d(j,S),_}(),l.default.Color);a.default=w},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(t,i,a){function s(c){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function u(c){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(d){return s(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":s(d)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=(m=t("../core/main"))&&m.__esModule?m:{default:m},f=function(c){if(c&&c.__esModule)return c;if(c===null||u(c)!=="object"&&typeof c!="function")return{default:c};var d=v();if(d&&d.has(c))return d.get(c);var g,y={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in c){var p;Object.prototype.hasOwnProperty.call(c,g)&&((p=b?Object.getOwnPropertyDescriptor(c,g):null)&&(p.get||p.set)?Object.defineProperty(y,g,p):y[g]=c[g])}return y.default=c,d&&d.set(c,y),y}(t("../core/constants"));function v(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,v=function(){return c},c)}t("./p5.Color"),l.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},l.default.prototype.endClip=function(){this._renderer.endClip()},l.default.prototype.clip=function(c,d){this._renderer.beginClip(d),c(),this._renderer.endClip(d)},l.default.prototype.background=function(){var c;return(c=this._renderer).background.apply(c,arguments),this},l.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},l.default.prototype.colorMode=function(c,d,g,y,b){return l.default._validateParameters("colorMode",arguments),c!==f.RGB&&c!==f.HSB&&c!==f.HSL||(this._colorMode=c,c=this._colorMaxes[c],arguments.length===2?(c[0]=d,c[1]=d,c[2]=d,c[3]=d):arguments.length===4?(c[0]=d,c[1]=g,c[2]=y):arguments.length===5&&(c[0]=d,c[1]=g,c[2]=y,c[3]=b)),this},l.default.prototype.fill=function(){var c;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(c=this._renderer).fill.apply(c,arguments),this},l.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},l.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},l.default.prototype.stroke=function(){var c;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(c=this._renderer).stroke.apply(c,arguments),this},l.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},l.default.prototype.noErase=function(){return this._renderer.noErase(),this};var m=l.default;a.default=m},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(t,i,a){Object.defineProperty(a,"__esModule",{value:!0}),a.QUADRATIC=a.LINEAR=a._CTX_MIDDLE=a._DEFAULT_LEADMULT=a._DEFAULT_TEXT_FILL=a.WORD=a.CHAR=a.BOLDITALIC=a.BOLD=a.ITALIC=a.NORMAL=a.BLUR=a.ERODE=a.DILATE=a.POSTERIZE=a.INVERT=a.OPAQUE=a.GRAY=a.THRESHOLD=a.BURN=a.DODGE=a.SOFT_LIGHT=a.HARD_LIGHT=a.OVERLAY=a.REPLACE=a.SCREEN=a.MULTIPLY=a.EXCLUSION=a.SUBTRACT=a.DIFFERENCE=a.LIGHTEST=a.DARKEST=a.ADD=a.REMOVE=a.BLEND=a.UP_ARROW=a.TAB=a.SHIFT=a.RIGHT_ARROW=a.RETURN=a.OPTION=a.LEFT_ARROW=a.ESCAPE=a.ENTER=a.DOWN_ARROW=a.DELETE=a.CONTROL=a.BACKSPACE=a.ALT=a.AUTO=a.HSL=a.HSB=a.RGB=a.MITER=a.BEVEL=a.ROUND=a.SQUARE=a.PROJECT=a.PIE=a.CHORD=a.OPEN=a.CLOSE=a.TESS=a.QUAD_STRIP=a.QUADS=a.TRIANGLE_STRIP=a.TRIANGLE_FAN=a.TRIANGLES=a.LINE_LOOP=a.LINE_STRIP=a.LINES=a.POINTS=a.BASELINE=a.BOTTOM=a.TOP=a.CENTER=a.LEFT=a.RIGHT=a.RADIUS=a.CORNERS=a.CORNER=a.RAD_TO_DEG=a.DEG_TO_RAD=a.RADIANS=a.DEGREES=a.TWO_PI=a.TAU=a.QUARTER_PI=a.PI=a.HALF_PI=a.WAIT=a.TEXT=a.MOVE=a.HAND=a.CROSS=a.ARROW=a.WEBGL2=a.WEBGL=a.P2D=a.VERSION=void 0,a.RGBA=a.HALF_FLOAT=a.FLOAT=a.UNSIGNED_INT=a.UNSIGNED_BYTE=a.COVER=a.CONTAIN=a.FALLBACK=a.LABEL=a.AXES=a.GRID=a._DEFAULT_FILL=a._DEFAULT_STROKE=a.PORTRAIT=a.LANDSCAPE=a.SMOOTH=a.FLAT=a.MIRROR=a.CLAMP=a.REPEAT=a.NEAREST=a.IMAGE=a.IMMEDIATE=a.TEXTURE=a.FILL=a.STROKE=a.CURVE=a.BEZIER=void 0;var s=Math.PI,u=(a.VERSION="1.11.9",a.P2D="p2d",a.WEBGL="webgl",a.WEBGL2="webgl2",a.ARROW="default",a.CROSS="crosshair",a.HAND="pointer",a.MOVE="move",a.TEXT="text",a.WAIT="wait",s/2),u=(a.HALF_PI=u,s),u=(a.PI=u,s/4),u=(a.QUARTER_PI=u,2*s),u=(a.TAU=u,2*s),u=(a.TWO_PI=u,a.DEGREES="degrees",a.RADIANS="radians",s/180),u=(a.DEG_TO_RAD=u,180/s);a.RAD_TO_DEG=u,a.CORNER="corner",a.CORNERS="corners",a.RADIUS="radius",a.RIGHT="right",a.LEFT="left",a.CENTER="center",a.TOP="top",a.BOTTOM="bottom",a.BASELINE="alphabetic",a.POINTS=0,a.LINES=1,a.LINE_STRIP=3,a.LINE_LOOP=2,a.TRIANGLES=4,a.TRIANGLE_FAN=6,a.TRIANGLE_STRIP=5,a.QUADS="quads",a.QUAD_STRIP="quad_strip",a.TESS="tess",a.CLOSE="close",a.OPEN="open",a.CHORD="chord",a.PIE="pie",a.PROJECT="square",a.SQUARE="butt",a.ROUND="round",a.BEVEL="bevel",a.MITER="miter",a.RGB="rgb",a.HSB="hsb",a.HSL="hsl",a.AUTO="auto",a.ALT=18,a.BACKSPACE=8,a.CONTROL=17,a.DELETE=46,a.DOWN_ARROW=40,a.ENTER=13,a.ESCAPE=27,a.LEFT_ARROW=37,a.OPTION=18,a.RETURN=13,a.RIGHT_ARROW=39,a.SHIFT=16,a.TAB=9,a.UP_ARROW=38,a.BLEND="source-over",a.REMOVE="destination-out",a.ADD="lighter",a.DARKEST="darken",a.LIGHTEST="lighten",a.DIFFERENCE="difference",a.SUBTRACT="subtract",a.EXCLUSION="exclusion",a.MULTIPLY="multiply",a.SCREEN="screen",a.REPLACE="copy",a.OVERLAY="overlay",a.HARD_LIGHT="hard-light",a.SOFT_LIGHT="soft-light",a.DODGE="color-dodge",a.BURN="color-burn",a.THRESHOLD="threshold",a.GRAY="gray",a.OPAQUE="opaque",a.INVERT="invert",a.POSTERIZE="posterize",a.DILATE="dilate",a.ERODE="erode",a.BLUR="blur",a.NORMAL="normal",a.ITALIC="italic",a.BOLD="bold",a.BOLDITALIC="bold italic",a.CHAR="CHAR",a.WORD="WORD",a._DEFAULT_TEXT_FILL="#000000",a._DEFAULT_LEADMULT=1.25,a._CTX_MIDDLE="middle",a.LINEAR="linear",a.QUADRATIC="quadratic",a.BEZIER="bezier",a.CURVE="curve",a.STROKE="stroke",a.FILL="fill",a.TEXTURE="texture",a.IMMEDIATE="immediate",a.IMAGE="image",a.NEAREST="nearest",a.REPEAT="repeat",a.CLAMP="clamp",a.MIRROR="mirror",a.FLAT="flat",a.SMOOTH="smooth",a.LANDSCAPE="landscape",a.PORTRAIT="portrait",a._DEFAULT_STROKE="#000000",a._DEFAULT_FILL="#FFFFFF",a.GRID="grid",a.AXES="axes",a.LABEL="label",a.FALLBACK="fallback",a.CONTAIN="contain",a.COVER="cover",a.UNSIGNED_BYTE="unsigned-byte",a.UNSIGNED_INT="unsigned-int",a.FLOAT="float",a.HALF_FLOAT="half-float",a.RGBA="rgba"},{}],273:[function(t,i,a){function s(b){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(b)}function u(b){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(p){return s(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":s(p)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=(f=t("./main"))&&f.__esModule?f:{default:f},f=function(b){if(b&&b.__esModule)return b;if(b===null||u(b)!=="object"&&typeof b!="function")return{default:b};var p=v();if(p&&p.has(b))return p.get(b);var h,w={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in b){var j;Object.prototype.hasOwnProperty.call(b,h)&&((j=_?Object.getOwnPropertyDescriptor(b,h):null)&&(j.get||j.set)?Object.defineProperty(w,h,j):w[h]=b[h])}return w.default=b,p&&p.set(b,w),w}(t("./constants"));function v(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,v=function(){return b},b)}var m=[f.ARROW,f.CROSS,f.HAND,f.MOVE,f.TEXT,f.WAIT],c=(l.default.prototype._frameRate=0,l.default.prototype._lastFrameTime=window.performance.now(),l.default.prototype._targetFrameRate=60,window.print),d=!1;function g(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function y(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}l.default.prototype.print=function(){var b;arguments.length?(b=console).log.apply(b,arguments):d||(c(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(d=!0))},l.default.prototype.frameCount=0,l.default.prototype.deltaTime=0,l.default.prototype.focused=document.hasFocus(),l.default.prototype.cursor=function(b,p,h){var w,_="auto",j=this._curElement.elt;m.includes(b)?_=b:typeof b=="string"&&(w="",p&&h&&typeof p=="number"&&typeof h=="number"&&(w="".concat(p," ").concat(h)),_=b.substring(0,7)==="http://"||b.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(b)?"url(".concat(b,") ").concat(w,", auto"):b),j.style.cursor=_},l.default.prototype.frameRate=function(b){return l.default._validateParameters("frameRate",arguments),typeof b!="number"||b<0?this._frameRate:(this._setProperty("_targetFrameRate",b),b===0&&this._setProperty("_frameRate",b),this)},l.default.prototype.getFrameRate=function(){return this.frameRate()},l.default.prototype.setFrameRate=function(b){return this.frameRate(b)},l.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},l.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},l.default.prototype.webglVersion=f.P2D,l.default.prototype.displayWidth=screen.width,l.default.prototype.displayHeight=screen.height,l.default.prototype.windowWidth=0,l.default.prototype.windowHeight=0,l.default.prototype._onresize=function(b){this._setProperty("windowWidth",g()),this._setProperty("windowHeight",y());var p=this._isGlobal?window:this;typeof p.windowResized!="function"||(p=p.windowResized(b))===void 0||p||b.preventDefault()},l.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",g()),this._setProperty("windowHeight",y())},l.default.prototype.width=0,l.default.prototype.height=0,l.default.prototype.fullscreen=function(b){if(l.default._validateParameters("fullscreen",arguments),b===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(b){if(b=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");b.requestFullscreen?b.requestFullscreen():b.mozRequestFullScreen?b.mozRequestFullScreen():b.webkitRequestFullscreen?b.webkitRequestFullscreen():b.msRequestFullscreen&&b.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},l.default.prototype.pixelDensity=function(b){var p;return l.default._validateParameters("pixelDensity",arguments),typeof b=="number"?(b!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=b),(p=this).resizeCanvas(this.width,this.height,!0)):p=this._pixelDensity,p},l.default.prototype.displayDensity=function(){return window.devicePixelRatio},l.default.prototype.getURL=function(){return location.href},l.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(b){return b!==""})},l.default.prototype.getURLParams=function(){for(var b,p=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,h={};(b=p.exec(location.search))!=null;)b.index===p.lastIndex&&p.lastIndex++,h[b[1]]=b[2];return h},t=l.default,a.default=t},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(t,i,a){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(m=t("../main"))&&m.__esModule?m:{default:m};t("../internationalization");function u(c,d){d=d||console.log.bind(console),l||v(),l.some(function(g){var y;if(c.message&&c.message.match("\\W?".concat(g.name,"\\W"))!==null)return y=g.type==="function"?"".concat(g.name,"()"):g.name,d("Did you just try to use p5.js's ".concat(y," ").concat(g.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(f)),!0})}var l=null,v=null,f=(s.default._friendlyError=s.default._checkForUserDefinedFunctions=s.default._fesErrorMonitor=function(){},l=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),v=function(){function c(g){return Object.getOwnPropertyNames(g).filter(function(y){return y[0]!=="_"&&!(y in d)&&(d[y]=!0)}).map(function(y){var b=typeof g[y]=="function"?"function":y===y.toUpperCase()?"constant":"variable";return{name:y,type:b}})}var d={};(l=[].concat(c(s.default.prototype),c(t("../constants")))).sort(function(g,y){return y.name.length-g.name.length})},m=(s.default.prototype._helpForMisusedAtTopLevelCode=u,document.readyState!=="complete"&&(window.addEventListener("error",u,!1),window.addEventListener("load",function(){window.removeEventListener("error",u,!1)})),s.default);a.default=m},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(t,i,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(s=t("../main"))&&s.__esModule?s:{default:s};t("../internationalization"),s.default._friendlyFileLoadError=function(){},t=s.default,a.default=t},{"../internationalization":281,"../main":283}],276:[function(t,i,a){function s(d){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(d)}function u(d){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(g){return s(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":s(g)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=m(t("../main"));t("../internationalization"),v(t("../constants"));function f(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,f=function(){return d},d)}function v(d){if(d&&d.__esModule)return d;if(d===null||u(d)!=="object"&&typeof d!="function")return{default:d};var g=f();if(g&&g.has(d))return g.get(d);var y,b,p={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in d)Object.prototype.hasOwnProperty.call(d,y)&&((b=h?Object.getOwnPropertyDescriptor(d,y):null)&&(b.get||b.set)?Object.defineProperty(p,y,b):p[y]=d[y]);return p.default=d,g&&g.set(d,p),p}function m(d){return d&&d.__esModule?d:{default:d}}l.default._fesCodeReader=function(){};var c=l.default;a.default=c},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(t,i,a){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function s(){var u=/(^|@)\S+:\d+/,l=/^\s*at .*(\S+:\d+|\(native\))/m,f=/^(eval@)?(\[native code])?$/;return{parse:function(v){return v.stacktrace!==void 0||v["opera#sourceloc"]!==void 0?this.parseOpera(v):v.stack&&v.stack.match(l)?this.parseV8OrIE(v):v.stack?this.parseFFOrSafari(v):void 0},extractLocation:function(v){return v.indexOf(":")===-1?[v]:[(v=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(v.replace(/[()]/g,"")))[1],v[2]||void 0,v[3]||void 0]},parseV8OrIE:function(v){return v.stack.split(`
`).filter(function(m){return!!m.match(l)},this).map(function(m){var c=(m=-1<m.indexOf("(eval ")?m.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):m).replace(/^\s+/,"").replace(/\(eval code/g,"("),d=c.match(/ (\((.+):(\d+):(\d+)\)$)/),c=(c=d?c.replace(d[0],""):c).split(/\s+/).slice(1),d=this.extractLocation(d?d[1]:c.pop());return{functionName:c.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(d[0])?void 0:d[0],lineNumber:d[1],columnNumber:d[2],source:m}},this)},parseFFOrSafari:function(v){return v.stack.split(`
`).filter(function(m){return!m.match(f)},this).map(function(m){var c,d;return(m=-1<m.indexOf(" > eval")?m.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):m).indexOf("@")===-1&&m.indexOf(":")===-1?{functionName:m}:{functionName:(d=m.match(c=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&d[1]?d[1]:void 0,fileName:(d=this.extractLocation(m.replace(c,"")))[0],lineNumber:d[1],columnNumber:d[2],source:m}},this)},parseOpera:function(v){return!v.stacktrace||-1<v.message.indexOf(`
`)&&v.message.split(`
`).length>v.stacktrace.split(`
`).length?this.parseOpera9(v):v.stack?this.parseOpera11(v):this.parseOpera10(v)},parseOpera9:function(v){for(var m=/Line (\d+).*script (?:in )?(\S+)/i,c=v.message.split(`
`),d=[],g=2,y=c.length;g<y;g+=2){var b=m.exec(c[g]);b&&d.push({fileName:b[2],lineNumber:b[1],source:c[g]})}return d},parseOpera10:function(v){for(var m=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,c=v.stacktrace.split(`
`),d=[],g=0,y=c.length;g<y;g+=2){var b=m.exec(c[g]);b&&d.push({functionName:b[3]||void 0,fileName:b[2],lineNumber:b[1],source:c[g]})}return d},parseOpera11:function(v){return v.stack.split(`
`).filter(function(m){return!!m.match(u)&&!m.match(/^Error created at/)},this).map(function(m){var c,g=m.split("@"),d=this.extractLocation(g.pop()),g=g.shift()||"";return{functionName:g.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(c=g.match(/\(([^)]*)\)/)?g.replace(/^[^(]+\(([^)]*)\)$/,"$1"):c)===void 0||c==="[arguments not available]"?void 0:c.split(","),fileName:d[0],lineNumber:d[1],columnNumber:d[2],source:m}},this)}}}t.default._getErrorStackParser=function(){return new s},t=t.default,a.default=t},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(t,i,a){function s(v){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var u=(u=t("../main"))&&u.__esModule?u:{default:u};(function(v){if(!(v&&v.__esModule)&&!(v===null||f(v)!=="object"&&typeof v!="function")){var m=l();if(m&&m.has(v))return m.get(v);var c,d={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in v){var y;Object.prototype.hasOwnProperty.call(v,c)&&((y=g?Object.getOwnPropertyDescriptor(v,c):null)&&(y.get||y.set)?Object.defineProperty(d,c,y):d[c]=v[c])}d.default=v,m&&m.set(v,d)}})(t("../constants")),t("../internationalization");function l(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,l=function(){return v},v)}function f(v){return(f=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(m){return s(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":s(m)})(v)}u.default._validateParameters=u.default._clearValidateParamsCache=function(){},t=u.default,a.default=t},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(t,i,a){function s(v){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function u(v){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(m){return s(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":s(m)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=function(v){if(v&&v.__esModule)return v;if(v===null||u(v)!=="object"&&typeof v!="function")return{default:v};var m=f();if(m&&m.has(v))return m.get(v);var c,d={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in v){var y;Object.prototype.hasOwnProperty.call(v,c)&&((y=g?Object.getOwnPropertyDescriptor(v,c):null)&&(y.get||y.set)?Object.defineProperty(d,c,y):d[c]=v[c])}return d.default=v,m&&m.set(v,d),d}(t("./constants"));function f(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,f=function(){return v},v)}a.default={modeAdjust:function(v,m,c,d,g){var y;return g===l.CORNER?y={x:v,y:m,w:Math.abs(c),h:Math.abs(d)}:g===l.CORNERS?y={x:Math.min(v,c),y:Math.min(m,d),w:Math.abs(c-v),h:Math.abs(d-m)}:g===l.RADIUS?y={x:v-(c=Math.abs(c)),y:m-(d=Math.abs(d)),w:2*c,h:2*d}:g===l.CENTER&&(y={x:v-.5*(c=Math.abs(c)),y:m-.5*(d=Math.abs(d)),w:c,h:d}),y}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(t,i,a){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var s=(u=t("../core/main"))&&u.__esModule?u:{default:u};t("./internationalization");var u=Promise.resolve();Promise.all([new Promise(function(l,f){document.readyState==="complete"?l():window.addEventListener("load",l,!1)}),u]).then(function(){var l;window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(l=new Event("p5Ready"),window.dispatchEvent(l),(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!s.default.instance&&new s.default)})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(t,i,a){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.setTranslatorLanguage=a.currentTranslatorLanguage=a.availableTranslatorLanguages=a.initialize=a.translator=void 0;var s,u,l=v(t("i18next")),f=v(t("i18next-browser-languagedetector"));function v(d){return d&&d.__esModule?d:{default:d}}function m(d,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}}var c=function(){function d(b,p){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.init(b,p)}var g,y;return g=d,(y=[{key:"fetchWithTimeout",value:function(b,p){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(b,p),new Promise(function(w,_){return setTimeout(function(){return _(new Error("timeout"))},h)})])}},{key:"init",value:function(b){var p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=b,this.options=p}},{key:"read",value:function(b,p,h){var w=this.options.loadPath;b===this.options.fallback?h(null,s[b][p]):u.includes(b)?(w=this.services.interpolator.interpolate(w,{lng:b,ns:p}),this.loadUrl(w,h)):h("Not found",!1)}},{key:"loadUrl",value:function(b,p){this.fetchWithTimeout(b).then(function(h){if(h.ok)return h.json();throw new Error("failed loading ".concat(b))},function(){throw new Error("failed loading ".concat(b))}).then(function(h){return p(null,h)}).catch(p)}}])&&m(g.prototype,y),d}();c.type="backend",a.translator=function(d,g){console.debug("p5.js translator called before translations were loaded"),l.default.t(d,g)},a.initialize=function(){return l.default.use(f.default).use(c).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:s}).then(function(d){a.translator=d},function(d){return console.debug("Translations failed to load (".concat(d,")"))})},a.availableTranslatorLanguages=function(){return l.default.languages},a.currentTranslatorLanguage=function(d){return l.default.language},a.setTranslatorLanguage=function(d){return l.default.changeLanguage(d||void 0,function(g){return console.debug("Translations failed to load (".concat(g,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(t,i,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,a.default=t},{"./main":283}],283:[function(t,i,a){function s(d){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(d)}function u(d){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(g){return s(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":s(g)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("./shim");var l=function(d){if(d&&d.__esModule)return d;if(d===null||u(d)!=="object"&&typeof d!="function")return{default:d};var g=f();if(g&&g.has(d))return g.get(d);var y,b={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in d){var h;Object.prototype.hasOwnProperty.call(d,y)&&((h=p?Object.getOwnPropertyDescriptor(d,y):null)&&(h.get||h.set)?Object.defineProperty(b,y,h):b[y]=d[y])}return b.default=d,g&&g.set(d,b),b}(t("./constants"));function f(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,f=function(){return d},d)}function v(d,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}}var m,c=function(){function d(b,w){var h=this;if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this._isGlobal=!b,this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=w,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var w=Object.getOwnPropertyNames(d.prototype._registeredMethods),_=!0,j=!1,E=void 0;try{for(var S,C=w[Symbol.iterator]();!(_=(S=C.next()).done);_=!0){var M=S.value;this._registeredMethods[M]=d.prototype._registeredMethods[M].slice()}}catch(z){j=!0,E=z}finally{try{_||C.return==null||C.return()}finally{if(j)throw E}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),d.prototype.callRegisteredHooksFor=function(z){var V=this||d.prototype,X=this._isGlobal?window:this;if(V._registeredMethods.hasOwnProperty(z)){var V=V._registeredMethods[z],K=!0,z=!1,re=void 0;try{for(var T,L=V[Symbol.iterator]();!(K=(T=L.next()).done);K=!0){var G=T.value;typeof G=="function"&&G.call(X)}}catch(ee){z=!0,re=ee}finally{try{K||L.return==null||L.return()}finally{if(z)throw re}}}},this._start=function(){h._userNode&&typeof h._userNode=="string"&&(h._userNode=document.getElementById(h._userNode));var z=h._isGlobal?window:h;if(z.preload){h.callRegisteredHooksFor("beforePreload");var V,X=document.getElementById(h._loadingScreenId),K=(X||((X=document.createElement("div")).innerHTML="Loading...",X.style.position="absolute",X.id=h._loadingScreenId,(h._userNode||document.body).appendChild(X)),h._preloadMethods);for(V in K){K[V]=K[V]||d;var re=K[V];re!==d.prototype&&re!==d||(h._isGlobal&&(window[V]=h._wrapPreload(h,V)),re=h),h._registeredPreloadMethods[V]=re[V],re[V]=h._wrapPreload(re,V)}z.preload(),h._runIfPreloadsAreDone()}else h._setup(),h._recording||h._draw()},this._runIfPreloadsAreDone=function(){var z,V=this._isGlobal?window:this;V._preloadCount===0&&((z=document.getElementById(V._loadingScreenId))&&z.parentNode.removeChild(z),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),V._setup(),this._recording||V._draw()))},this._decrementPreload=function(){var z=this._isGlobal?window:this;z._preloadDone||typeof z.preload!="function"||(z._setProperty("_preloadCount",z._preloadCount-1),z._runIfPreloadsAreDone())},this._wrapPreload=function(z,V){var X=this;return function(){X._incrementPreload();for(var K=arguments.length,re=new Array(K),T=0;T<K;T++)re[T]=arguments[T];return X._registeredPreloadMethods[V].apply(z,re)}},this._incrementPreload=function(){var z=this._isGlobal?window:this;z._preloadDone||z._setProperty("_preloadCount",z._preloadCount+1)},this._setup=function(){h.callRegisteredHooksFor("beforeSetup"),h.createCanvas(h._defaultCanvasSize.width,h._defaultCanvasSize.height,"p2d");var z=h._isGlobal?window:h;if(typeof z.preload=="function")for(var V in h._preloadMethods)z[V]=h._preloadMethods[V][V],z[V]&&h&&(z[V]=z[V].bind(h));h._millisStart=window.performance.now(),z._preloadDone=!0,typeof z.setup=="function"&&z.setup();var X=document.getElementsByTagName("canvas"),K=!0,re=!1,T=void 0;try{for(var L,G=X[Symbol.iterator]();!(K=(L=G.next()).done);K=!0){var H=L.value;H.dataset.hidden==="true"&&(H.style.visibility="",delete H.dataset.hidden)}}catch(J){re=!0,T=J}finally{try{K||G.return==null||G.return()}finally{if(re)throw T}}h._lastTargetFrameTime=window.performance.now(),h._lastRealFrameTime=window.performance.now(),h._setupDone=!0,(h._accessibleOutputs.grid||h._accessibleOutputs.text)&&h._updateAccsOutput(),h.callRegisteredHooksFor("afterSetup")},this._draw=function(V){var V=V||window.performance.now(),X=V-h._lastTargetFrameTime,K=1e3/h._targetFrameRate;(!h._loop||K-5<=X)&&(h.deltaTime=V-h._lastRealFrameTime,h._setProperty("deltaTime",h.deltaTime),h._frameRate=1e3/h.deltaTime,h.redraw(),h._lastTargetFrameTime=Math.max(h._lastTargetFrameTime+K,V),h._lastRealFrameTime=V,h._updateMouseCoords!==void 0&&(h._updateMouseCoords(),h._setProperty("movedX",0),h._setProperty("movedY",0))),h._loop&&(h._requestAnimId=window.requestAnimationFrame(h._draw))},this._setProperty=function(z,V){h[z]=V,h._isGlobal&&(window[z]=V)},this.remove=function(){h._startListener&&window.removeEventListener("load",h._startListener,!1);var z=document.getElementById(h._loadingScreenId);if(z&&(z.parentNode.removeChild(z),h._incrementPreload()),h._curElement){for(var V in h._loop=!1,h._requestAnimId&&window.cancelAnimationFrame(h._requestAnimId),h._events)window.removeEventListener(V,h._events[V]);var X=!0,z=!1,K=void 0;try{for(var re,T=h._elements[Symbol.iterator]();!(X=(re=T.next()).done);X=!0){var L,G=re.value;for(L in G.elt&&G.elt.parentNode&&G.elt.parentNode.removeChild(G.elt),G._events)G.elt.removeEventListener(L,G._events[L])}}catch(fe){z=!0,K=fe}finally{try{X||T.return==null||T.return()}finally{if(z)throw K}}var H=h;h._registeredMethods.remove.forEach(function(fe){fe!==void 0&&fe.call(H)})}if(h._isGlobal){for(var J in d.prototype)try{delete window[J]}catch{window[J]=void 0}for(var ee in h)if(h.hasOwnProperty(ee))try{delete window[ee]}catch{window[ee]=void 0}d.instance=null}};var A,P,D=this._createFriendlyGlobalFunctionBinder();if(this._isGlobal){for(var I in d.instance=this,d.prototype)typeof d.prototype[I]=="function"?(A=I.substring(2),this._events.hasOwnProperty(A)||(Math.hasOwnProperty(I)&&Math[I]===d.prototype[I]?D(I,d.prototype[I]):D(I,d.prototype[I].bind(this)))):D(I,d.prototype[I]);for(var U in this)this.hasOwnProperty(U)&&D(U,this[U])}else b(this),d._checkForUserDefinedFunctions(this);for(P in this._updateWindowSize(),this.callRegisteredHooksFor("init"),this._setupPromisePreloads(),this._events){var N=this["_on".concat(P)];N&&(N=N.bind(this),window.addEventListener(P,N,{passive:!1}),this._events[P]=N)}function B(){h._setProperty("focused",!0)}function W(){h._setProperty("focused",!1)}window.addEventListener("focus",B),window.addEventListener("blur",W),this.registerMethod("remove",function(){window.removeEventListener("focus",B),window.removeEventListener("blur",W)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var g,y;return g=d,(y=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=l.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(b,p){d.prototype._preloadMethods.hasOwnProperty(b)||(d.prototype._preloadMethods[b]=p)}},{key:"registerMethod",value:function(b,p){var h=this||d.prototype;h._registeredMethods.hasOwnProperty(b)||(h._registeredMethods[b]=[]),h._registeredMethods[b].push(p)}},{key:"unregisterMethod",value:function(b,p){var h=this||d.prototype;if(h._registeredMethods.hasOwnProperty(b)){for(var w=h._registeredMethods[b],_=[],j=0;j<w.length;j++)w[j]===p&&_.push(j);for(var E=_.length-1;0<=E;E--)w.splice(_[E],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},p=b.globalObject||window;return b.log||console.log.bind(console),function(h,w){d.disableFriendlyErrors,p[h]=w}}}])&&v(g.prototype,y),d}();for(m in c.instance=null,c.disableFriendlyErrors=!1,l)c.prototype[m]=l[m];c.VERSION=l.VERSION,c.prototype._preloadMethods={loadJSON:c.prototype,loadImage:c.prototype,loadStrings:c.prototype,loadXML:c.prototype,loadBytes:c.prototype,loadTable:c.prototype,loadFont:c.prototype,loadModel:c.prototype,loadShader:c.prototype},c.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},c.prototype._registeredPreloadMethods={},a.default=c},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(t,i,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(t=t("./main"))&&t.__esModule?t:{default:t};function u(l,f){for(var v=0;v<f.length;v++){var m=f[v];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(l,m.key,m)}}s.default.Element=function(){function l(c,d){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.elt=c,this._pInst=this._pixelsState=d,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var f,v,m;return f=l,m=[{key:"_adjustListener",value:function(c,d,g){return d===!1?s.default.Element._detachListener(c,g):s.default.Element._attachListener(c,d,g),this}},{key:"_attachListener",value:function(c,d,g){g._events[c]&&s.default.Element._detachListener(c,g),d=d.bind(g),g.elt.addEventListener(c,d,!1),g._events[c]=d}},{key:"_detachListener",value:function(c,d){var g=d._events[c];d.elt.removeEventListener(c,g,!1),d._events[c]=null}}],(v=[{key:"parent",value:function(c){return c===void 0?this.elt.parentNode:(typeof c=="string"?(c[0]==="#"&&(c=c.substring(1)),c=document.getElementById(c)):c instanceof s.default.Element&&(c=c.elt),c.appendChild(this.elt),this)}},{key:"id",value:function(c){return c===void 0?this.elt.id:(this.elt.id=c,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(c){return c===void 0?this.elt.className:(this.elt.className=c,this)}},{key:"mousePressed",value:function(c){return s.default.Element._adjustListener("mousedown",function(d){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(d),c.call(this,d)},this),this}},{key:"doubleClicked",value:function(c){return s.default.Element._adjustListener("dblclick",c,this),this}},{key:"mouseWheel",value:function(c){return s.default.Element._adjustListener("wheel",c,this),this}},{key:"mouseReleased",value:function(c){return s.default.Element._adjustListener("mouseup",c,this),this}},{key:"mouseClicked",value:function(c){return s.default.Element._adjustListener("click",c,this),this}},{key:"mouseMoved",value:function(c){return s.default.Element._adjustListener("mousemove",c,this),this}},{key:"mouseOver",value:function(c){return s.default.Element._adjustListener("mouseover",c,this),this}},{key:"mouseOut",value:function(c){return s.default.Element._adjustListener("mouseout",c,this),this}},{key:"touchStarted",value:function(c){return s.default.Element._adjustListener("touchstart",c,this),this}},{key:"touchMoved",value:function(c){return s.default.Element._adjustListener("touchmove",c,this),this}},{key:"touchEnded",value:function(c){return s.default.Element._adjustListener("touchend",c,this),this}},{key:"dragOver",value:function(c){return s.default.Element._adjustListener("dragover",c,this),this}},{key:"dragLeave",value:function(c){return s.default.Element._adjustListener("dragleave",c,this),this}},{key:"_setProperty",value:function(c,d){this[c]=d}}])&&u(f.prototype,v),m&&u(f,m),l}(),t=s.default.Element,a.default=t},{"./main":283}],285:[function(t,i,a){function s(h){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(h)}function u(h){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(w){return s(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":s(w)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=(p=t("./main"))&&p.__esModule?p:{default:p},f=function(h){if(h&&h.__esModule)return h;if(h===null||u(h)!=="object"&&typeof h!="function")return{default:h};var w=v();if(w&&w.has(h))return w.get(h);var _,j={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in h){var S;Object.prototype.hasOwnProperty.call(h,_)&&((S=E?Object.getOwnPropertyDescriptor(h,_):null)&&(S.get||S.set)?Object.defineProperty(j,_,S):j[_]=h[_])}return j.default=h,w&&w.set(h,j),j}(t("./constants"));function v(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,v=function(){return h},h)}function m(h,w){for(var _=0;_<w.length;_++){var j=w[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(h,j.key,j)}}function c(h,w){return(c=Object.setPrototypeOf||function(_,j){return _.__proto__=j,_})(h,w)}function d(h){return function(){var w,_=b(h);return g(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(w=b(this).constructor,Reflect.construct(_,arguments,w)):_.apply(this,arguments))}}function g(h,w){return!w||u(w)!=="object"&&typeof w!="function"?y(h):w}function y(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function b(h){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)})(h)}l.default.Graphics=function(h){var w=j;if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(h&&h.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),h&&c(w,h);var _=d(j);function j(E,S,U,M,A){var P;if(!(this instanceof j))throw new TypeError("Cannot call a class as a function");I=A||document.createElement("canvas"),(P=_.call(this,I,M)).canvas=I;var D,I=U||f.P2D,U=M._userNode||document.body;for(D in A||U.appendChild(P.canvas),l.default.prototype)P[D]||(typeof l.default.prototype[D]=="function"?P[D]=l.default.prototype[D].bind(y(P)):P[D]=l.default.prototype[D]);return l.default.prototype._initializeInstanceVariables.apply(y(P)),P.width=E,P.height=S,P._pixelDensity=M._pixelDensity,I===f.WEBGL?(P._renderer=new l.default.RendererGL(P.canvas,y(P),!1),E=(A=P._renderer._adjustDimensions(E,S)).adjustedWidth,S=A.adjustedHeight):P._renderer=new l.default.Renderer2D(P.canvas,y(P),!1),M._elements.push(y(P)),Object.defineProperty(y(P),"deltaTime",{get:function(){return this._pInst.deltaTime}}),P._renderer.resize(E,S),P._renderer._applyDefaults(),g(P,y(P))}return w=j,(h=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var E,S=this._pInst._elements.indexOf(this);for(E in S!==-1&&this._pInst._elements.splice(S,1),this._events)this.elt.removeEventListener(E,this._events[E]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(E){return new l.default.Framebuffer(this,E)}}])&&m(w.prototype,h),j}(l.default.Element);var p=l.default.Graphics;a.default=p},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(t,i,a){function s(h){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var u=(b=t("./main"))&&b.__esModule?b:{default:b},l=function(h){if(h&&h.__esModule)return h;if(h===null||v(h)!=="object"&&typeof h!="function")return{default:h};var w=f();if(w&&w.has(h))return w.get(h);var _,j={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in h){var S;Object.prototype.hasOwnProperty.call(h,_)&&((S=E?Object.getOwnPropertyDescriptor(h,_):null)&&(S.get||S.set)?Object.defineProperty(j,_,S):j[_]=h[_])}return j.default=h,w&&w.set(h,j),j}(t("../core/constants"));function f(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,f=function(){return h},h)}function v(h){return(v=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(w){return s(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":s(w)})(h)}function m(h,w){for(var _=0;_<w.length;_++){var j=w[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(h,j.key,j)}}function c(h,w){return(c=Object.setPrototypeOf||function(_,j){return _.__proto__=j,_})(h,w)}function d(h){return function(){var w,_,j=y(h);return w=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(w=y(this).constructor,Reflect.construct(j,arguments,w)):j.apply(this,arguments),j=this,!(_=w)||v(_)!=="object"&&typeof _!="function"?g(j):_}}function g(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function y(h){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)})(h)}var b=function(h){var w=j;if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(h&&h.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),h&&c(w,h);var _=d(j);function j(E,S,C){var M;if(this instanceof j)return(M=_.call(this,E,S)).canvas=E,M._pixelsState=S,C?(M._isMainCanvas=!0,M._pInst._setProperty("_curElement",g(M)),M._pInst._setProperty("canvas",M.canvas),M._pInst._setProperty("width",M.width),M._pInst._setProperty("height",M.height)):(M.canvas.style.display="none",M._styles=[]),M._clipping=!1,M._clipInvert=!1,M._textSize=12,M._textLeading=15,M._textFont="sans-serif",M._textStyle=l.NORMAL,M._textAscent=null,M._textDescent=null,M._textAlign=l.LEFT,M._textBaseline=l.BASELINE,M._textWrap=l.WORD,M._rectMode=l.CORNER,M._ellipseMode=l.CENTER,M._curveTightness=0,M._imageMode=l.CORNER,M._tint=null,M._doStroke=!0,M._doFill=!0,M._strokeSet=!1,M._fillSet=!1,M._leadingSet=!1,M._pushPopDepth=0,M;throw new TypeError("Cannot call a class as a function")}return w=j,(h=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(E){this._pushPopDepth--,E.properties&&Object.assign(this,E.properties)}},{key:"beginClip",value:function(){var E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=E.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(E,S){this.width=E,this.height=S,this.elt.width=E*this._pInst._pixelDensity,this.elt.height=S*this._pInst._pixelDensity,this.elt.style.width="".concat(E,"px"),this.elt.style.height="".concat(S,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(E,S,C,M){var A=this._pixelsState,P=A._pixelDensity,D=this.canvas;if(E===void 0&&S===void 0)E=S=0,C=A.width,M=A.height;else if(E*=P,S*=P,C===void 0&&M===void 0)return E<0||S<0||E>=D.width||S>=D.height?[0,0,0,0]:this._getPixel(E,S);return A=new u.default.Image(C*P,M*P),A.pixelDensity(P),A.canvas.getContext("2d").drawImage(D,E,S,C*P,M*P,0,0,C*P,M*P),A}},{key:"textLeading",value:function(E){return typeof E=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",E),this._pInst):this._textLeading}},{key:"textStyle",value:function(E){return E?(E!==l.NORMAL&&E!==l.ITALIC&&E!==l.BOLD&&E!==l.BOLDITALIC||this._setProperty("_textStyle",E),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(E,S){return E!==void 0?(this._setProperty("_textAlign",E),S!==void 0&&this._setProperty("_textBaseline",S),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(E){return this._setProperty("_textWrap",E),this._textWrap}},{key:"text",value:function(E,S,C,M,A){var P,D,I,U,N=this._pInst,B=this._textWrap,W=Number.MAX_VALUE,z=C;if((this._doFill||this._doStroke)&&E!==void 0){if(P=(E=(E=typeof E!="string"?E.toString():E).replace(/(\t)/g,"  ")).split(`
`),M!==void 0){switch(this._rectMode===l.CENTER&&(S-=M/2),this._textAlign){case l.CENTER:S+=M/2;break;case l.RIGHT:S+=M}if(A!==void 0){this._rectMode===l.CENTER&&(C-=A/2,z-=A/2);var E=C,V=N.textAscent();switch(this._textBaseline){case l.BOTTOM:U=C+A,C=Math.max(U,C),z+=V;break;case l.CENTER:U=C+A/2,C=Math.max(U,C),z+=V/2}W=C+A-V,this._textBaseline===l.CENTER&&(W=E+A-V/2)}else this._textBaseline!==l.BOTTOM&&this._textBaseline!==l.CENTER||(z=C-(E=N.textSize()*this._textLeading)/2,W=C+E/2);if(B===l.WORD){for(var X=[],K=0;K<P.length;K++){for(var re="",T=P[K].split(" "),L=0;L<T.length;L++)D="".concat(re+T[L])+" ",re=M<(I=this.textWidth(D))&&0<re.length?(X.push(re),"".concat(T[L])+" "):D;X.push(re)}var G=0;this._textBaseline===l.CENTER?G=(X.length-1)*N.textLeading()/2:this._textBaseline===l.BOTTOM&&(G=(X.length-1)*N.textLeading());for(var H=0;H<P.length;H++){re="",T=P[H].split(" ");for(var J=0;J<T.length;J++)D="".concat(re+T[J])+" ",M<(I=this.textWidth(D))&&0<re.length?(this._renderText(N,re.trim(),S,C-G,W,z),re="".concat(T[J])+" ",C+=N.textLeading()):re=D;this._renderText(N,re.trim(),S,C-G,W,z),C+=N.textLeading()}}else{for(var ee=[],ie=0;ie<P.length;ie++)for(var fe=P[ie].split(re=""),oe=0;oe<fe.length;oe++)D="".concat(re+fe[oe]),(I=this.textWidth(D))<=M?re+=fe[oe]:M<I&&0<re.length&&(ee.push(re),re="".concat(fe[oe]));ee.push(re);var de=0;this._textBaseline===l.CENTER?de=(ee.length-1)*N.textLeading()/2:this._textBaseline===l.BOTTOM&&(de=(ee.length-1)*N.textLeading());for(var ae=0;ae<P.length;ae++){fe=P[ae].split(re="");for(var Z=0;Z<fe.length;Z++)D="".concat(re+fe[Z]),(I=this.textWidth(D))<=M?re+=fe[Z]:M<I&&0<re.length&&(this._renderText(N,re.trim(),S,C-de,W,z),C+=N.textLeading(),re="".concat(fe[Z]))}this._renderText(N,re.trim(),S,C-de,W,z),C+=N.textLeading()}}else{var ue=0;this._textBaseline===l.CENTER?ue=(P.length-1)*N.textLeading()/2:this._textBaseline===l.BOTTOM&&(ue=(P.length-1)*N.textLeading());for(var pe=0;pe<P.length;pe++)this._renderText(N,P[pe],S,C-ue,W,z-ue),C+=N.textLeading()}return N}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return v(E)==="object"&&E.font&&E.font.supported}},{key:"_updateTextMetrics",value:function(){var E,S,C,M,A,P;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((E=document.createElement("span")).style.fontFamily=this._textFont,E.style.fontSize="".concat(this._textSize,"px"),E.innerHTML="ABCjgq|",(P=document.createElement("div")).style.display="inline-block",P.style.width="1px",P.style.height="0px",M=((S=document.createElement("div")).appendChild(E),S.appendChild(P),S.style.height="0px",S.style.overflow="hidden",document.body.appendChild(S),P.style.verticalAlign="baseline",p(P)),A=p(E),C=M[1]-A[1],M=(P.style.verticalAlign="bottom",p(P)),A=p(E),P=M[1]-A[1]-C,document.body.removeChild(S),this._setProperty("_textAscent",C),this._setProperty("_textDescent",P)),this}}])&&m(w.prototype,h),j}(u.default.Element);function p(h){var w=0,_=0;if(h.offsetParent)for(;w+=h.offsetLeft,_+=h.offsetTop,h=h.offsetParent;);else w+=h.offsetLeft,_+=h.offsetTop;return[w,_]}b.prototype.textSize=function(h){return typeof h=="number"?(this._setProperty("_textSize",h),this._leadingSet||this._setProperty("_textLeading",h*l._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},u.default.Renderer=b,t=u.default.Renderer,a.default=t},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(h,i,a){function s(w){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(w)}function u(w){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(_){return s(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":s(_)})(w)}h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.concat"),h("core-js/modules/es.array.fill"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.array.join"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.function.name"),h("core-js/modules/es.object.get-own-property-descriptor"),h("core-js/modules/es.object.get-prototype-of"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.reflect.construct"),h("core-js/modules/es.reflect.get"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.regexp.to-string"),h("core-js/modules/es.string.iterator"),h("core-js/modules/es.weak-map"),h("core-js/modules/web.dom-collections.iterator"),h("core-js/modules/es.array.concat"),h("core-js/modules/es.array.fill"),h("core-js/modules/es.array.join"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.function.name"),h("core-js/modules/es.object.get-prototype-of"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.regexp.to-string"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=(p=h("./main"))&&p.__esModule?p:{default:p},f=function(w){if(w&&w.__esModule)return w;if(w===null||u(w)!=="object"&&typeof w!="function")return{default:w};var _=v();if(_&&_.has(w))return _.get(w);var j,E={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(j in w){var C;Object.prototype.hasOwnProperty.call(w,j)&&((C=S?Object.getOwnPropertyDescriptor(w,j):null)&&(C.get||C.set)?Object.defineProperty(E,j,C):E[j]=w[j])}return E.default=w,_&&_.set(w,E),E}(h("./constants"));function v(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,v=function(){return w},w)}function m(w,_){for(var j=0;j<_.length;j++){var E=_[j];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}function c(w,_,j){return(c=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(M,S,C){var M=function(A,P){for(;!Object.prototype.hasOwnProperty.call(A,P)&&(A=y(A))!==null;);return A}(M,S);if(M)return(M=Object.getOwnPropertyDescriptor(M,S)).get?M.get.call(C):M.value})(w,_,j||w)}function d(w,_){return(d=Object.setPrototypeOf||function(j,E){return j.__proto__=E,j})(w,_)}function g(w){return function(){var _,j=y(w),j=(_=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(_=y(this).constructor,Reflect.construct(j,arguments,_)):j.apply(this,arguments),this);if(!_||u(_)!=="object"&&typeof _!="function"){if(j!==void 0)return j;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return _}}function y(w){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(w)}h("./p5.Renderer");var b="rgba(0,0,0,0)",p=function(w){var _=E;if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),w&&d(_,w);var j=g(E);function E(S,C,M){if(this instanceof E)return(S=j.call(this,S,C,M)).drawingContext=S.canvas.getContext("2d"),S._pInst._setProperty("drawingContext",S.drawingContext),S;throw new TypeError("Cannot call a class as a function")}return _=E,(w=[{key:"getFilterGraphicsLayer",value:function(){var S;return this.filterGraphicsLayer||(S=(this._pInst instanceof l.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new l.default.Graphics(this.width,this.height,f.WEBGL,S)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=f.BLEND,this._setFill(f._DEFAULT_FILL),this._setStroke(f._DEFAULT_STROKE),this.drawingContext.lineCap=f.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(S,C){c(y(E.prototype),"resize",this).call(this,S,C),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var S,C;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof l.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(S=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(S,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(S=this._getFill(),C=(C=this._pInst).color.apply(C,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(C.levels),C=C.toString(),this._setFill(C),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(S),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var S=(S=this._pInst).color.apply(S,arguments);this._setFill(S.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",S.levels)}},{key:"stroke",value:function(){var S=(S=this._pInst).color.apply(S,arguments);this._setStroke(S.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",S.levels)}},{key:"erase",value:function(S,C){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,S=this._pInst.color(255,S).toString(),this.drawingContext.fillStyle=S,this._cachedStrokeStyle=this.drawingContext.strokeStyle,S=this._pInst.color(255,C).toString(),this.drawingContext.strokeStyle=S,C=this._cachedBlendMode,this.blendMode(f.REMOVE),this._cachedBlendMode=C,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var S=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},S=(c(y(E.prototype),"beginClip",this).call(this,S),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),S=(this.drawingContext.fillStyle=S,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),S=(this.drawingContext.strokeStyle=S,this._cachedBlendMode);this.blendMode(f.BLEND),this._cachedBlendMode=S,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),c(y(E.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(S,C,M,A,P,D,I,U,N){S.gifProperties&&S._animateGif(this._pInst);try{l.default.MediaElement&&S instanceof l.default.MediaElement&&S._ensureCanvas();var B=(B=this._tint&&S.canvas?this._getTintedImageCanvas(S):B)||S.canvas||S.elt,W=1;S.width&&0<S.width&&(W=B.width/S.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(B,W*C,W*M,W*A,W*P,D,I,U,N),this._isErasing&&this._pInst.erase()}catch(z){if(z.name!=="NS_ERROR_NOT_AVAILABLE")throw z}}},{key:"_getTintedImageCanvas",value:function(S){if(!S.canvas)return S;S.tintCanvas||(S.tintCanvas=document.createElement("canvas")),S.tintCanvas.width!==S.canvas.width&&(S.tintCanvas.width=S.canvas.width),S.tintCanvas.height!==S.canvas.height&&(S.tintCanvas.height=S.canvas.height);var C=S.tintCanvas.getContext("2d");return C.save(),C.clearRect(0,0,S.canvas.width,S.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(C.drawImage(S.canvas,0,0),C.globalCompositeOperation="luminosity",C.drawImage(S.canvas,0,0),C.globalCompositeOperation="color",C.drawImage(S.canvas,0,0),C.globalCompositeOperation="multiply",C.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),C.fillRect(0,0,S.canvas.width,S.canvas.height),C.globalCompositeOperation="destination-in"),C.globalAlpha=this._tint[3]/255,C.drawImage(S.canvas,0,0),C.restore(),S.tintCanvas}},{key:"blendMode",value:function(S){if(S===f.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(S!==f.BLEND&&S!==f.REMOVE&&S!==f.DARKEST&&S!==f.LIGHTEST&&S!==f.DIFFERENCE&&S!==f.MULTIPLY&&S!==f.EXCLUSION&&S!==f.SCREEN&&S!==f.REPLACE&&S!==f.OVERLAY&&S!==f.HARD_LIGHT&&S!==f.SOFT_LIGHT&&S!==f.DODGE&&S!==f.BURN&&S!==f.ADD)throw new Error("Mode ".concat(S," not recognized."));this._cachedBlendMode=S,this.drawingContext.globalCompositeOperation=S}}},{key:"blend",value:function(){for(var S=this.drawingContext.globalCompositeOperation,C=arguments.length,M=new Array(C),A=0;A<C;A++)M[A]=arguments[A];var P=M[M.length-1],D=Array.prototype.slice.call(M,0,M.length-1);this.drawingContext.globalCompositeOperation=P,l.default.prototype.copy.apply(this,D),this.drawingContext.globalCompositeOperation=S}},{key:"_getPixel",value:function(S,C){return S=this.drawingContext.getImageData(S,C,1,1).data,[S[0],S[1],S[2],S[3]]}},{key:"loadPixels",value:function(){var S=this._pixelsState,C=S._pixelDensity,M=this.width*C,C=this.height*C,M=this.drawingContext.getImageData(0,0,M,C);S._setProperty("imageData",M),S._setProperty("pixels",M.data)}},{key:"set",value:function(S,C,M){S=Math.floor(S),C=Math.floor(C);var A=this._pixelsState;if(M instanceof l.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(A._pixelDensity,A._pixelDensity),this.drawingContext.clearRect(S,C,M.width,M.height),this.drawingContext.drawImage(M.canvas,S,C),this.drawingContext.restore();else{var P=0,D=0,I=0,U=0,N=4*(C*A._pixelDensity*(this.width*A._pixelDensity)+S*A._pixelDensity);if(A.imageData||A.loadPixels(),typeof M=="number")N<A.pixels.length&&(I=D=P=M,U=255);else if(Array.isArray(M)){if(M.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");N<A.pixels.length&&(P=M[0],D=M[1],I=M[2],U=M[3])}else M instanceof l.default.Color&&N<A.pixels.length&&(P=M.levels[0],D=M.levels[1],I=M.levels[2],U=M.levels[3]);for(var B=0;B<A._pixelDensity;B++)for(var W=0;W<A._pixelDensity;W++)N=4*((C*A._pixelDensity+W)*this.width*A._pixelDensity+(S*A._pixelDensity+B)),A.pixels[N]=P,A.pixels[N+1]=D,A.pixels[N+2]=I,A.pixels[N+3]=U}}},{key:"updatePixels",value:function(S,C,M,A){var P=this._pixelsState,D=P._pixelDensity;S===void 0&&C===void 0&&M===void 0&&A===void 0&&(C=S=0,M=this.width,A=this.height),S*=D,C*=D,M*=D,A*=D,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=P.imageData),this.drawingContext.putImageData(P.imageData,0,0,S,C,M,A)}},{key:"arc",value:function(N,B,W,z,P,D,I){var U=this.drawingContext,N=N+W/2,B=B+z/2,W=W/2,z=z/2,V=!(I===f.CHORD||I===f.OPEN||(D-P)%f.TWO_PI==0);return this._doFill&&(this._clipping||U.beginPath(),U.ellipse(N,B,W,z,0,P,D),V&&U.lineTo(N,B),U.closePath(),this._clipping||U.fill()),this._doStroke&&(this._clipping||U.beginPath(),U.ellipse(N,B,W,z,0,P,D),I===f.PIE&&V&&U.lineTo(N,B),I!==f.PIE&&I!==f.CHORD||U.closePath(),this._clipping||U.stroke()),this}},{key:"ellipse",value:function(U){var C=this.drawingContext,M=this._doFill,A=this._doStroke,P=parseFloat(U[0]),D=parseFloat(U[1]),I=parseFloat(U[2]),U=parseFloat(U[3]);if(M&&!A){if(this._getFill()===b)return this}else if(!M&&A&&this._getStroke()===b)return this;P+=I/2,D+=U/2,I/=2,U/=2,this._clipping||C.beginPath(),C.ellipse(P,D,I,U,0,0,2*Math.PI),C.closePath(),!this._clipping&&M&&C.fill(),!this._clipping&&A&&C.stroke()}},{key:"line",value:function(S,C,M,A){var P=this.drawingContext;return this._doStroke&&this._getStroke()!==b&&(this._clipping||P.beginPath(),P.moveTo(S,C),P.lineTo(M,A),P.stroke()),this}},{key:"point",value:function(S,C){var M,A,P=this.drawingContext;return!this._doStroke||this._getStroke()===b?this:(M=this._getStroke(),A=this._getFill(),this._clipping||this._setFill(M),this._clipping||P.beginPath(),P.arc(S,C,P.lineWidth/2,0,f.TWO_PI,!1),void(this._clipping||(P.fill(),this._setFill(A))))}},{key:"quad",value:function(S,C,M,A,P,D,I,U){var N=this.drawingContext,B=this._doFill,W=this._doStroke;if(B&&!W){if(this._getFill()===b)return this}else if(!B&&W&&this._getStroke()===b)return this;return this._clipping||N.beginPath(),N.moveTo(S,C),N.lineTo(M,A),N.lineTo(P,D),N.lineTo(I,U),N.closePath(),!this._clipping&&B&&N.fill(),!this._clipping&&W&&N.stroke(),this}},{key:"rect",value:function(W){var C,M,A=W[0],P=W[1],D=W[2],I=W[3],U=W[4],N=W[5],B=W[6],W=W[7],z=this.drawingContext,V=this._doFill,X=this._doStroke;if(V&&!X){if(this._getFill()===b)return this}else if(!V&&X&&this._getStroke()===b)return this;return this._clipping||z.beginPath(),U===void 0?z.rect(A,P,D,I):(N===void 0&&(N=U),B===void 0&&(B=N),W===void 0&&(W=B),X=(V=Math.abs(D))/2,M=(C=Math.abs(I))/2,z.roundRect(A,P,D,I,[U=C<2*(U=V<2*U?X:U)?M:U,N=C<2*(N=V<2*N?X:N)?M:N,B=C<2*(B=V<2*B?X:B)?M:B,W=C<2*(W=V<2*W?X:W)?M:W])),!this._clipping&&this._doFill&&z.fill(),!this._clipping&&this._doStroke&&z.stroke(),this}},{key:"triangle",value:function(B){var C=this.drawingContext,M=this._doFill,A=this._doStroke,P=B[0],D=B[1],I=B[2],U=B[3],N=B[4],B=B[5];if(M&&!A){if(this._getFill()===b)return this}else if(!M&&A&&this._getStroke()===b)return this;this._clipping||C.beginPath(),C.moveTo(P,D),C.lineTo(I,U),C.lineTo(N,B),C.closePath(),!this._clipping&&M&&C.fill(),!this._clipping&&A&&C.stroke()}},{key:"endShape",value:function(S,C,M,A,P,D,I){if(C.length!==0&&(this._doStroke||this._doFill)){var U,N,B,W=S===f.CLOSE,z=(W&&!D&&C.push(C[0]),C.length);if(M&&I===null){if(3<z){var V=[],X=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(C[1][0],C[1][1]),N=1;N+2<z;N++)U=C[N],V[0]=[U[0],U[1]],V[1]=[U[0]+(X*C[N+1][0]-X*C[N-1][0])/6,U[1]+(X*C[N+1][1]-X*C[N-1][1])/6],V[2]=[C[N+1][0]+(X*C[N][0]-X*C[N+2][0])/6,C[N+1][1]+(X*C[N][1]-X*C[N+2][1])/6],V[3]=[C[N+1][0],C[N+1][1]],this.drawingContext.bezierCurveTo(V[1][0],V[1][1],V[2][0],V[2][1],V[3][0],V[3][1]);W&&this.drawingContext.lineTo(C[N+1][0],C[N+1][1]),this._doFillStrokeClose(W)}}else if(A&&I===null){for(this._clipping||this.drawingContext.beginPath(),N=0;N<z;N++)C[N].isVert?C[N].moveTo?this.drawingContext.moveTo(C[N][0],C[N][1]):this.drawingContext.lineTo(C[N][0],C[N][1]):this.drawingContext.bezierCurveTo(C[N][0],C[N][1],C[N][2],C[N][3],C[N][4],C[N][5]);this._doFillStrokeClose(W)}else if(P&&I===null){for(this._clipping||this.drawingContext.beginPath(),N=0;N<z;N++)C[N].isVert?C[N].moveTo?this.drawingContext.moveTo(C[N][0],C[N][1]):this.drawingContext.lineTo(C[N][0],C[N][1]):this.drawingContext.quadraticCurveTo(C[N][0],C[N][1],C[N][2],C[N][3]);this._doFillStrokeClose(W)}else if(I===f.POINTS)for(N=0;N<z;N++)U=C[N],this._doStroke&&this._pInst.stroke(U[6]),this._pInst.point(U[0],U[1]);else if(I===f.LINES)for(N=0;N+1<z;N+=2)U=C[N],this._doStroke&&this._pInst.stroke(C[N+1][6]),this._pInst.line(U[0],U[1],C[N+1][0],C[N+1][1]);else if(I===f.TRIANGLES)for(N=0;N+2<z;N+=3)U=C[N],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(U[0],U[1]),this.drawingContext.lineTo(C[N+1][0],C[N+1][1]),this.drawingContext.lineTo(C[N+2][0],C[N+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(C[N+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(C[N+2][6]),this.drawingContext.stroke());else if(I===f.TRIANGLE_STRIP)for(N=0;N+1<z;N++)U=C[N],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(C[N+1][0],C[N+1][1]),this.drawingContext.lineTo(U[0],U[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(C[N+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(C[N+1][5]),N+2<z&&(this.drawingContext.lineTo(C[N+2][0],C[N+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(C[N+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(C[N+2][5])),this._doFillStrokeClose(W);else if(I===f.TRIANGLE_FAN){if(2<z){for(this._clipping||this.drawingContext.beginPath(),N=2;N<z;N++)U=C[N],this.drawingContext.moveTo(C[0][0],C[0][1]),this.drawingContext.lineTo(C[N-1][0],C[N-1][1]),this.drawingContext.lineTo(U[0],U[1]),this.drawingContext.lineTo(C[0][0],C[0][1]),N<z-1&&(this._doFill&&U[5]!==C[N+1][5]||this._doStroke&&U[6]!==C[N+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(U[5]),this.drawingContext.fill(),this._pInst.fill(C[N+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(U[6]),this.drawingContext.stroke(),this._pInst.stroke(C[N+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(W)}}else if(I===f.QUADS)for(N=0;N+3<z;N+=4){for(U=C[N],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(U[0],U[1]),B=1;B<4;B++)this.drawingContext.lineTo(C[N+B][0],C[N+B][1]);this.drawingContext.lineTo(U[0],U[1]),!this._clipping&&this._doFill&&this._pInst.fill(C[N+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(C[N+3][6]),this._doFillStrokeClose(W)}else if(I===f.QUAD_STRIP){if(3<z)for(N=0;N+1<z;N+=2)U=C[N],this._clipping||this.drawingContext.beginPath(),N+3<z?(this.drawingContext.moveTo(C[N+2][0],C[N+2][1]),this.drawingContext.lineTo(U[0],U[1]),this.drawingContext.lineTo(C[N+1][0],C[N+1][1]),this.drawingContext.lineTo(C[N+3][0],C[N+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(C[N+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(C[N+3][6])):(this.drawingContext.moveTo(U[0],U[1]),this.drawingContext.lineTo(C[N+1][0],C[N+1][1])),this._doFillStrokeClose(W)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(C[0][0],C[0][1]),N=1;N<z;N++)(U=C[N]).isVert&&(U.moveTo?(W&&this.drawingContext.closePath(),this.drawingContext.moveTo(U[0],U[1])):this.drawingContext.lineTo(U[0],U[1]));this._doFillStrokeClose(W),this.drawingContext.closePath()}D=P=A=M=!1,W&&C.pop()}return this}},{key:"strokeCap",value:function(S){return S!==f.ROUND&&S!==f.SQUARE&&S!==f.PROJECT||(this.drawingContext.lineCap=S),this}},{key:"strokeJoin",value:function(S){return S!==f.ROUND&&S!==f.BEVEL&&S!==f.MITER||(this.drawingContext.lineJoin=S),this}},{key:"strokeWeight",value:function(S){return this.drawingContext.lineWidth=S===void 0||S===0?1e-4:S,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(S){S!==this._cachedFillStyle&&(this.drawingContext.fillStyle=S,this._cachedFillStyle=S)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(S){S!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=S,this._cachedStrokeStyle=S)}},{key:"bezier",value:function(S,C,M,A,P,D,I,U){return this._pInst.beginShape(),this._pInst.vertex(S,C),this._pInst.bezierVertex(M,A,P,D,I,U),this._pInst.endShape(),this}},{key:"curve",value:function(S,C,M,A,P,D,I,U){return this._pInst.beginShape(),this._pInst.curveVertex(S,C),this._pInst.curveVertex(M,A),this._pInst.curveVertex(P,D),this._pInst.curveVertex(I,U),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(S){S&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(S,C,M,A,P,D){this.drawingContext.transform(S,C,M,A,P,D)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(S){this.drawingContext.rotate(S)}},{key:"scale",value:function(S,C){return this.drawingContext.scale(S,C),this}},{key:"translate",value:function(S,C){return S instanceof l.default.Vector&&(C=S.y,S=S.x),this.drawingContext.translate(S,C),this}},{key:"_renderText",value:function(S,C,M,A,P,D){if(!(A<D||P<=A))return S.push(),this._isOpenType()?this._textFont._renderPath(C,M,A,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(C,M,A),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(f._DEFAULT_TEXT_FILL),this.drawingContext.fillText(C,M,A))),S.pop(),S}},{key:"textWidth",value:function(S){return this._isOpenType()?this._textFont._textWidth(S,this._textSize):this.drawingContext.measureText(S).width}},{key:"_applyTextProperties",value:function(){var S=this._pInst,C=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),C=this._textFont,this._isOpenType()&&(C=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),C||"sans-serif");return/\s/.exec(C)&&(C='"'.concat(C,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(C),this.drawingContext.textAlign=this._textAlign,this._textBaseline===f.CENTER?this.drawingContext.textBaseline=f._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,S}},{key:"push",value:function(){return this.drawingContext.save(),c(y(E.prototype),"push",this).call(this)}},{key:"pop",value:function(S){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,c(y(E.prototype),"pop",this).call(this,S)}}])&&m(_.prototype,w),E}(l.default.Renderer),h=(p.prototype.text=function(w,_,j,M,S){M!==void 0&&this.drawingContext.textBaseline===f.BASELINE&&(C=!0,this.drawingContext.textBaseline=f.TOP);var C,M=l.default.Renderer.prototype.text.apply(this,arguments);return C&&(this.drawingContext.textBaseline=f.BASELINE),M},l.default.Renderer2D=p,l.default.Renderer2D);a.default=h},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(t,i,a){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var s=(t=t("./main"))&&t.__esModule?t:{default:t};s.default.prototype._promisePreloads=[];function u(){return{}}var l=!(s.default.prototype.registerPromisePreload=function(f){s.default.prototype._promisePreloads.push(f)});s.default.prototype._setupPromisePreloads=function(){var f=!0,v=!1,m=void 0;try{for(var c,d=this._promisePreloads[Symbol.iterator]();!(f=(c=d.next()).done);f=!0){var g=c.value,y=this,b=g.method,p=g.addCallbacks,h=g.legacyPreloadSetup,w=g.target||this,_=w[b].bind(w);if(w===s.default.prototype){if(l)continue;y=null,_=w[b]}w[b]=this._wrapPromisePreload(y,_,p),h&&(w[h.method]=this._legacyPreloadGenerator(y,h,w[b]))}}catch(j){v=!0,m=j}finally{try{f||d.return==null||d.return()}finally{if(v)throw m}}l=!0},s.default.prototype._wrapPromisePreload=function(f,v,m){var c=function(){for(var d=this,g=(this._incrementPreload(),null),y=null,b=arguments.length,p=new Array(b),h=0;h<b;h++)p[h]=arguments[h];if(m)for(var w=p.length-1;0<=w&&!y&&typeof p[w]=="function";w--)y=g,g=p.pop();var _=Promise.resolve(v.apply(this,p));return g&&_.then(g),y&&_.catch(y),_.then(function(){return d._decrementPreload()}),_};return c=f?c.bind(f):c},s.default.prototype._legacyPreloadGenerator=function(f,d,m){var c=d.createBaseObject||u,d=function(){var g=this;this._incrementPreload();for(var y=arguments.length,b=new Array(y),p=0;p<y;p++)b[p]=arguments[p];var h=c.apply(this,b);return m.apply(this,b).then(function(w){Object.assign(h,w),g._decrementPreload()}),h};return d=f?d.bind(f):d}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(t,i,a){function s(d){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var u=(c=t("./main"))&&c.__esModule?c:{default:c},l=function(d){if(d&&d.__esModule)return d;if(d===null||v(d)!=="object"&&typeof d!="function")return{default:d};var g=f();if(g&&g.has(d))return g.get(d);var y,b={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in d){var h;Object.prototype.hasOwnProperty.call(d,y)&&((h=p?Object.getOwnPropertyDescriptor(d,y):null)&&(h.get||h.set)?Object.defineProperty(b,y,h):b[y]=d[y])}return b.default=d,g&&g.set(d,b),b}(t("./constants"));function f(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,f=function(){return d},d)}function v(d){return(v=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(g){return s(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":s(g)})(d)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var m="defaultCanvas0",c=(u.default.prototype.createCanvas=function(d,g,y,b){var p,h,w;if(u.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(y=l.P2D,b=arguments[2]):p=y||l.P2D,b)(w=document.getElementById(m))&&w.parentNode.removeChild(w),w=b,this._defaultGraphicsCreated=!1;else{if(p===l.WEBGL)(w=document.getElementById(m))&&(w.parentNode.removeChild(w),h=this._renderer,this._elements=this._elements.filter(function(j){return j!==h})),(w=document.createElement("canvas")).id=m,w.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)w=this.canvas;else{w=b||document.createElement("canvas");for(var _=0;document.getElementById("defaultCanvas".concat(_));)_++;m="defaultCanvas".concat(_),w.id=m,w.classList.add("p5Canvas")}this._setupDone||(w.dataset.hidden=!0,w.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(y=document.createElement("main"),document.body.appendChild(y)),document.getElementsByTagName("main")[0])).appendChild(w)}return p===l.WEBGL?(this._setProperty("_renderer",new u.default.RendererGL(w,this,!0)),this._elements.push(this._renderer),d=(b=this._renderer._adjustDimensions(d,g)).adjustedWidth,g=b.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new u.default.Renderer2D(w,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(d,g),this._renderer._applyDefaults(),this._renderer},u.default.prototype.resizeCanvas=function(d,g,y){if(u.default._validateParameters("resizeCanvas",arguments),this._renderer){var b,p,h,w={};for(b in this.drawingContext){var _=this.drawingContext[b];v(_)!=="object"&&typeof _!="function"&&(w[b]=_)}for(h in this._renderer instanceof u.default.RendererGL&&(d=(p=this._renderer._adjustDimensions(d,g)).adjustedWidth,g=p.adjustedHeight),this.width=d,this.height=g,this._renderer.resize(d,g),w)try{this.drawingContext[h]=w[h]}catch{}y||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},u.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},u.default.prototype.createGraphics=function(d,g){for(var y=arguments.length,b=new Array(2<y?y-2:0),p=2;p<y;p++)b[p-2]=arguments[p];return b[0]instanceof HTMLCanvasElement&&(b[1]=b[0],b[0]=l.P2D),u.default._validateParameters("createGraphics",arguments),new u.default.Graphics(d,g,b[0],this,b[1])},u.default.prototype.createFramebuffer=function(d){return new u.default.Framebuffer(this,d)},u.default.prototype.clearDepth=function(d){this._assert3d("clearDepth"),this._renderer.clearDepth(d)},u.default.prototype.blendMode=function(d){u.default._validateParameters("blendMode",arguments),d===l.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),d=l.BLEND),this._renderer.blendMode(d)},u.default);a.default=c},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(t,i,a){function s(g){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function u(g){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(y){return s(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":s(y)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=c(t("../main")),f=function(g){if(g&&g.__esModule)return g;if(g===null||u(g)!=="object"&&typeof g!="function")return{default:g};var y=m();if(y&&y.has(g))return y.get(g);var b,p={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in g){var w;Object.prototype.hasOwnProperty.call(g,b)&&((w=h?Object.getOwnPropertyDescriptor(g,b):null)&&(w.get||w.set)?Object.defineProperty(p,b,w):p[b]=g[b])}return p.default=g,y&&y.set(g,p),p}(t("../constants")),v=c(t("../helpers"));function m(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,m=function(){return g},g)}function c(g){return g&&g.__esModule?g:{default:g}}function d(g){return function(y){if(Array.isArray(y)){for(var b=0,p=new Array(y.length);b<y.length;b++)p[b]=y[b];return p}}(g)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),l.default.prototype._normalizeArcAngles=function(g,y,b,p,h){var w;return g-=f.TWO_PI*Math.floor(g/f.TWO_PI),y-=f.TWO_PI*Math.floor(y/f.TWO_PI),w=Math.min(Math.abs(g-y),f.TWO_PI-Math.abs(g-y)),h&&(g=g<=f.HALF_PI?Math.atan(b/p*Math.tan(g)):g>f.HALF_PI&&g<=3*f.HALF_PI?Math.atan(b/p*Math.tan(g))+f.PI:Math.atan(b/p*Math.tan(g))+f.TWO_PI,y=y<=f.HALF_PI?Math.atan(b/p*Math.tan(y)):y>f.HALF_PI&&y<=3*f.HALF_PI?Math.atan(b/p*Math.tan(y))+f.PI:Math.atan(b/p*Math.tan(y))+f.TWO_PI),y<g&&(y+=f.TWO_PI),{start:g,stop:y,correspondToSamePoint:w<1e-5}},l.default.prototype.arc=function(g,y,b,p,h,w,_,j){return l.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&h!==w&&(h=this._toRadians(h),w=this._toRadians(w),g=v.default.modeAdjust(g,y,b,p,this._renderer._ellipseMode),(y=this._normalizeArcAngles(h,w,g.w,g.h,!0)).correspondToSamePoint?this._renderer.ellipse([g.x,g.y,g.w,g.h,j]):(this._renderer.arc(g.x,g.y,g.w,g.h,y.start,y.stop,_,j),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[g.x,g.y,g.w,g.h,y.start,y.stop,_]))),this},l.default.prototype.ellipse=function(g,y,b,p,h){return l.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},l.default.prototype.circle=function(){for(var g=arguments.length,y=new Array(g),b=0;b<g;b++)y[b]=arguments[b];l.default._validateParameters("circle",y);var p=y.slice(0,2);return p.push(y[2],y[2]),this._renderEllipse.apply(this,d(p))},l.default.prototype._renderEllipse=function(g,y,b,p,h){return(this._renderer._doStroke||this._renderer._doFill)&&(g=v.default.modeAdjust(g,y,b,p=p===void 0?b:p,this._renderer._ellipseMode),this._renderer.ellipse([g.x,g.y,g.w,g.h,h]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[g.x,g.y,g.w,g.h])),this},l.default.prototype.line=function(){for(var g,y=arguments.length,b=new Array(y),p=0;p<y;p++)b[p]=arguments[p];return l.default._validateParameters("line",b),this._renderer._doStroke&&(g=this._renderer).line.apply(g,b),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",b),this},l.default.prototype.point=function(){for(var g,y=arguments.length,b=new Array(y),p=0;p<y;p++)b[p]=arguments[p];return l.default._validateParameters("point",b),this._renderer._doStroke&&(b.length===1&&b[0]instanceof l.default.Vector?this._renderer.point.call(this._renderer,b[0].x,b[0].y,b[0].z):((g=this._renderer).point.apply(g,b),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",b))),this},l.default.prototype.quad=function(){for(var g,y=arguments.length,b=new Array(y),p=0;p<y;p++)b[p]=arguments[p];return l.default._validateParameters("quad",b),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&b.length<12?this._renderer.quad.call(this._renderer,b[0],b[1],0,b[2],b[3],0,b[4],b[5],0,b[6],b[7],0,b[8],b[9]):((g=this._renderer).quad.apply(g,b),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",b))),this},l.default.prototype.rect=function(){for(var g=arguments.length,y=new Array(g),b=0;b<g;b++)y[b]=arguments[b];return l.default._validateParameters("rect",y),this._renderRect.apply(this,y)},l.default.prototype.square=function(g,y,b,p,h,w,_){return l.default._validateParameters("square",arguments),this._renderRect.call(this,g,y,b,b,p,h,w,_)},l.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var g=v.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),y=(this._renderer._rectMode===f.CORNER&&(g.w=arguments[2],g.h=arguments[3]),[g.x,g.y,g.w,g.h]),b=4;b<arguments.length;b++)y[b]=arguments[b];this._renderer.rect(y),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[g.x,g.y,g.w,g.h])}return this},l.default.prototype.triangle=function(){for(var g=arguments.length,y=new Array(g),b=0;b<g;b++)y[b]=arguments[b];return l.default._validateParameters("triangle",y),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(y),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",y),this},t=l.default,a.default=t},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(t,i,a){function s(c){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function u(c){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(d){return s(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":s(d)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=(m=t("../main"))&&m.__esModule?m:{default:m},f=function(c){if(c&&c.__esModule)return c;if(c===null||u(c)!=="object"&&typeof c!="function")return{default:c};var d=v();if(d&&d.has(c))return d.get(c);var g,y={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in c){var p;Object.prototype.hasOwnProperty.call(c,g)&&((p=b?Object.getOwnPropertyDescriptor(c,g):null)&&(p.get||p.set)?Object.defineProperty(y,g,p):y[g]=c[g])}return y.default=c,d&&d.set(c,y),y}(t("../constants"));function v(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,v=function(){return c},c)}l.default.prototype.ellipseMode=function(c){return l.default._validateParameters("ellipseMode",arguments),c!==f.CORNER&&c!==f.CORNERS&&c!==f.RADIUS&&c!==f.CENTER||(this._renderer._ellipseMode=c),this},l.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},l.default.prototype.rectMode=function(c){return l.default._validateParameters("rectMode",arguments),c!==f.CORNER&&c!==f.CORNERS&&c!==f.RADIUS&&c!==f.CENTER||(this._renderer._rectMode=c),this},l.default.prototype.smooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!0):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},l.default.prototype.strokeCap=function(c){return l.default._validateParameters("strokeCap",arguments),c!==f.ROUND&&c!==f.SQUARE&&c!==f.PROJECT||this._renderer.strokeCap(c),this},l.default.prototype.strokeJoin=function(c){return l.default._validateParameters("strokeJoin",arguments),c!==f.ROUND&&c!==f.BEVEL&&c!==f.MITER||this._renderer.strokeJoin(c),this},l.default.prototype.strokeWeight=function(c){return l.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(c),this};var m=l.default;a.default=m},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(t,i,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(u=t("../main"))&&u.__esModule?u:{default:u};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),s.default.prototype.bezier=function(){for(var l,f=arguments.length,v=new Array(f),m=0;m<f;m++)v[m]=arguments[m];return s.default._validateParameters("bezier",v),(this._renderer._doStroke||this._renderer._doFill)&&(l=this._renderer).bezier.apply(l,v),this},s.default.prototype.bezierDetail=function(l){return s.default._validateParameters("bezierDetail",arguments),this._bezierDetail=l,this},s.default.prototype.bezierPoint=function(l,f,v,m,c){s.default._validateParameters("bezierPoint",arguments);var d=1-c;return Math.pow(d,3)*l+3*Math.pow(d,2)*c*f+3*d*Math.pow(c,2)*v+Math.pow(c,3)*m},s.default.prototype.bezierTangent=function(l,f,v,m,c){s.default._validateParameters("bezierTangent",arguments);var d=1-c;return 3*m*Math.pow(c,2)-3*v*Math.pow(c,2)+6*v*d*c-6*f*d*c+3*f*Math.pow(d,2)-3*l*Math.pow(d,2)},s.default.prototype.curve=function(){for(var l,f=arguments.length,v=new Array(f),m=0;m<f;m++)v[m]=arguments[m];return s.default._validateParameters("curve",v),this._renderer._doStroke&&(l=this._renderer).curve.apply(l,v),this},s.default.prototype.curveDetail=function(l){return s.default._validateParameters("curveDetail",arguments),this._curveDetail=l<3?3:l,this},s.default.prototype.curveTightness=function(l){return s.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=l,this},s.default.prototype.curvePoint=function(l,f,v,m,c){s.default._validateParameters("curvePoint",arguments);var d=this._renderer._curveTightness,g=c*c*c,y=c*c;return l*((d-1)/2*g+(1-d)*y+(d-1)/2*c)+f*((d+3)/2*g+(-5-d)/2*y+1)+v*((-3-d)/2*g+(d+2)*y+(1-d)/2*c)+m*((1-d)/2*g+(d-1)/2*y)},s.default.prototype.curveTangent=function(l,f,v,m,y){s.default._validateParameters("curveTangent",arguments);var d=this._renderer._curveTightness,g=y*y*3,y=2*y;return l*((d-1)/2*g+(1-d)*y+(d-1)/2)+f*((d+3)/2*g+(-5-d)/2*y)+v*((-3-d)/2*g+(d+2)*y+(1-d)/2)+m*((1-d)/2*g+(d-1)/2*y)};var u=s.default;a.default=u},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(t,i,a){function s(_){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(_)}function u(_){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(j){return s(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":s(j)})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=(w=t("../main"))&&w.__esModule?w:{default:w},f=function(_){if(_&&_.__esModule)return _;if(_===null||u(_)!=="object"&&typeof _!="function")return{default:_};var j=v();if(j&&j.has(_))return j.get(_);var E,S={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(E in _){var M;Object.prototype.hasOwnProperty.call(_,E)&&((M=C?Object.getOwnPropertyDescriptor(_,E):null)&&(M.get||M.set)?Object.defineProperty(S,E,M):S[E]=_[E])}return S.default=_,j&&j.set(_,S),S}(t("../constants"));function v(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,v=function(){return _},_)}var m=null,c=[],d=[],g=!1,y=!1,b=!1,p=!1,h=!0,w=(l.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(d=[],p=!0),this},l.default.prototype.beginShape=function(_){var j;return l.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(j=this._renderer).beginShape.apply(j,arguments):(m=_===f.POINTS||_===f.LINES||_===f.TRIANGLES||_===f.TRIANGLE_FAN||_===f.TRIANGLE_STRIP||_===f.QUADS||_===f.QUAD_STRIP?_:null,c=[],d=[]),this},l.default.prototype.bezierVertex=function(){for(var _,j=arguments.length,E=new Array(j),S=0;S<j;S++)E[S]=arguments[S];if(l.default._validateParameters("bezierVertex",E),this._renderer.isP3D)(_=this._renderer).bezierVertex.apply(_,E);else if(c.length===0)l.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{g=!0;for(var C=[],M=0;M<E.length;M++)C[M]=E[M];C.isVert=!1,(p?d:c).push(C)}return this},l.default.prototype.curveVertex=function(){for(var _,j=arguments.length,E=new Array(j),S=0;S<j;S++)E[S]=arguments[S];return l.default._validateParameters("curveVertex",E),this._renderer.isP3D?(_=this._renderer).curveVertex.apply(_,E):(y=!0,this.vertex(E[0],E[1])),this},l.default.prototype.endContour=function(){if(!this._renderer.isP3D){var _=d[0].slice();_.isVert=d[0].isVert,_.moveTo=!1,d.push(_),h&&(c.push(c[0]),h=!1);for(var j=0;j<d.length;j++)c.push(d[j])}return this},l.default.prototype.endShape=function(_){var j=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(l.default._validateParameters("endShape",arguments),j<1&&(console.log("🌸 p5.js says: You can not have less than one instance"),j=1),this._renderer.isP3D)this._renderer.endShape(_,y,g,b,p,m,j);else{if(j!==1&&console.log("🌸 p5.js says: Instancing is only supported in WebGL2 mode"),c.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;j=_===f.CLOSE,j&&!p&&c.push(c[0]),this._renderer.endShape(_,c,y,g,b,p,m),h=!(p=b=g=y=!1),j&&c.pop()}return this},l.default.prototype.quadraticVertex=function(){for(var _,j=arguments.length,E=new Array(j),S=0;S<j;S++)E[S]=arguments[S];if(l.default._validateParameters("quadraticVertex",E),this._renderer.isP3D)(_=this._renderer).quadraticVertex.apply(_,E);else{if(this._contourInited)return(_={}).x=E[0],_.y=E[1],_.x3=E[2],_.y3=E[3],_.type=f.QUADRATIC,this._contourVertices.push(_),this;if(0<c.length){b=!0;for(var C=[],M=0;M<E.length;M++)C[M]=E[M];C.isVert=!1,(p?d:c).push(C)}else l.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},l.default.prototype.vertex=function(_,j,E,S,C){var M;return this._renderer.isP3D?(M=this._renderer).vertex.apply(M,arguments):((M=[]).isVert=!0,M[0]=_,M[1]=j,M[2]=0,M[3]=0,M[4]=0,M[5]=this._renderer._getFill(),M[6]=this._renderer._getStroke(),E&&(M.moveTo=E),(p?(d.length===0&&(M.moveTo=!0),d):c).push(M)),this},l.default.prototype.normal=function(_,j,E){var S;return this._assert3d("normal"),l.default._validateParameters("normal",arguments),(S=this._renderer).normal.apply(S,arguments),this},l.default);a.default=w},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(t,i,a){},{}],295:[function(t,i,a){t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.assign"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var s=this._styles.pop();s?(this._renderer.pop(s.renderer),Object.assign(this,s.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(s){if(!this._inUserDraw&&this._setupDone){var u=parseInt(s),l=((isNaN(u)||u<1)&&(u=1),this._isGlobal?window:this);if(typeof l.draw=="function"){l.setup===void 0&&l.scale(l._pixelDensity,l._pixelDensity);for(var f=0;f<u;f++){l.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),l._renderer.isP3D&&l._renderer._update(),l._setProperty("frameCount",l.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{l.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},t=t.default,a.default=t},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(t,i,a){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(t=t("./main"))&&t.__esModule?t:{default:t};function u(l){return function(f){if(Array.isArray(f)){for(var v=0,m=new Array(f.length);v<f.length;v++)m[v]=f[v];return m}}(l)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}s.default.prototype.applyMatrix=function(){var l=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||l?(l=this._renderer).applyMatrix.apply(l,u(arguments.length<=0?void 0:arguments[0])):(l=this._renderer).applyMatrix.apply(l,arguments),this},s.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},s.default.prototype.rotate=function(l,f){return s.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(l),f),this},s.default.prototype.rotateX=function(l){return this._assert3d("rotateX"),s.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(l)),this},s.default.prototype.rotateY=function(l){return this._assert3d("rotateY"),s.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(l)),this},s.default.prototype.rotateZ=function(l){return this._assert3d("rotateZ"),s.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(l)),this},s.default.prototype.scale=function(l,f,v){var m;return s.default._validateParameters("scale",arguments),l instanceof s.default.Vector?(l=(m=l).x,f=m.y,v=m.z):Array.isArray(l)&&(l=(m=l)[0],f=m[1],v=m[2]||1),isNaN(f)?f=v=l:isNaN(v)&&(v=1),this._renderer.scale(l,f,v),this},s.default.prototype.shearX=function(l){return s.default._validateParameters("shearX",arguments),l=this._toRadians(l),this._renderer.applyMatrix(1,0,Math.tan(l),1,0,0),this},s.default.prototype.shearY=function(l){return s.default._validateParameters("shearY",arguments),l=this._toRadians(l),this._renderer.applyMatrix(1,Math.tan(l),0,1,0,0),this},s.default.prototype.translate=function(l,f,v){return s.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(l,f,v):this._renderer.translate(l,f),this},t=s.default,a.default=t},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(t,i,a){function s(v){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator");var u=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(v){return function(m){if(Array.isArray(m)){for(var c=0,d=new Array(m.length);c<m.length;c++)d[c]=m[c];return d}}(v)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(v)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(v){return(f=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(m){return s(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":s(m)})(v)}u.default.prototype.storeItem=function(v,m){typeof v!="string"&&console.log("The argument that you passed to storeItem() - ".concat(v," is not a string.")),v.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(v," must not end with 'p5TypeID'.")),m===void 0&&console.log("You cannot store undefined variables using storeItem().");var c=f(m);switch(c){case"number":case"boolean":m=m.toString();break;case"object":m instanceof u.default.Color?c="p5.Color":m instanceof u.default.Vector&&(c="p5.Vector",m=[m.x,m.y,m.z]),m=JSON.stringify(m)}localStorage.setItem(v,m),v="".concat(v,"p5TypeID"),localStorage.setItem(v,c)},u.default.prototype.getItem=function(v){var m=localStorage.getItem(v),c=localStorage.getItem("".concat(v,"p5TypeID"));if(c===void 0)console.log("Unable to determine type of item stored under ".concat(v,"in local storage. Did you save the item with something other than setItem()?"));else if(m!==null)switch(c){case"number":m=parseFloat(m);break;case"boolean":m=m==="true";break;case"object":m=JSON.parse(m);break;case"p5.Color":m=JSON.parse(m),m=this.color.apply(this,l(m.levels));break;case"p5.Vector":m=JSON.parse(m),m=this.createVector.apply(this,l(m))}return m},u.default.prototype.clearStorage=function(){var v=this;Object.keys(localStorage).forEach(function(m){m.endsWith("p5TypeID")&&v.removeItem(m.replace("p5TypeID",""))})},u.default.prototype.removeItem=function(v){typeof v!="string"&&console.log("The argument that you passed to removeItem() - ".concat(v," is not a string.")),localStorage.removeItem(v),localStorage.removeItem("".concat(v,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(t,i,a){function s(b){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(b)}function u(b){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(p){return s(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":s(p)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function f(b,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),p&&v(b,p)}function v(b,p){return(v=Object.setPrototypeOf||function(h,w){return h.__proto__=w,h})(b,p)}function m(b){return function(){var p,h=c(b),h=(p=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(p=c(this).constructor,Reflect.construct(h,arguments,p)):h.apply(this,arguments),this);if(!p||u(p)!=="object"&&typeof p!="function"){if(h!==void 0)return h;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return p}}function c(b){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(b)}function d(b,p){if(!(b instanceof p))throw new TypeError("Cannot call a class as a function")}function g(b,p){for(var h=0;h<p.length;h++){var w=p[h];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}function y(b,p,h){p&&g(b.prototype,p)}l.default.prototype.createStringDict=function(b,p){return l.default._validateParameters("createStringDict",arguments),new l.default.StringDict(b,p)},l.default.prototype.createNumberDict=function(b,p){return l.default._validateParameters("createNumberDict",arguments),new l.default.NumberDict(b,p)},l.default.TypedDict=function(){function b(p,h){return d(this,b),p instanceof Object?this.data=p:(this.data={},this.data[p]=h),this}return y(b,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(p){return this.data.hasOwnProperty(p)}},{key:"get",value:function(p){if(this.data.hasOwnProperty(p))return this.data[p];console.log("".concat(p," does not exist in this Dictionary"))}},{key:"set",value:function(p,h){this._validate(h)?this.data[p]=h:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(p){for(var h in p)this.set(h,p[h])}},{key:"create",value:function(p,h){p instanceof Object&&h===void 0?this._addObj(p):p!==void 0?this.set(p,h):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(p){if(!this.data.hasOwnProperty(p))throw new Error("".concat(p," does not exist in this Dictionary"));delete this.data[p]}},{key:"print",value:function(){for(var p in this.data)console.log("key:".concat(p," value:").concat(this.data[p]))}},{key:"saveTable",value:function(p){var h,w="";for(h in this.data)w+="".concat(h,",").concat(this.data[h],`
`);var _=new Blob([w],{type:"text/csv"});l.default.prototype.downloadFile(_,p||"mycsv","csv")}},{key:"saveJSON",value:function(p,h){l.default.prototype.saveJSON(this.data,p,h)}},{key:"_validate",value:function(p){return!0}}]),b}(),l.default.StringDict=function(){f(p,l.default.TypedDict);var b=m(p);function p(){d(this,p);for(var h=arguments.length,w=new Array(h),_=0;_<h;_++)w[_]=arguments[_];return b.call.apply(b,[this].concat(w))}return y(p,[{key:"_validate",value:function(h){return typeof h=="string"}}]),p}(),l.default.NumberDict=function(){f(p,l.default.TypedDict);var b=m(p);function p(){d(this,p);for(var h=arguments.length,w=new Array(h),_=0;_<h;_++)w[_]=arguments[_];return b.call.apply(b,[this].concat(w))}return y(p,[{key:"_validate",value:function(h){return typeof h=="number"}},{key:"add",value:function(h,w){this.data.hasOwnProperty(h)?this.data[h]+=w:console.log("The key - ".concat(h," does not exist in this dictionary."))}},{key:"sub",value:function(h,w){this.add(h,-w)}},{key:"mult",value:function(h,w){this.data.hasOwnProperty(h)?this.data[h]*=w:console.log("The key - ".concat(h," does not exist in this dictionary."))}},{key:"div",value:function(h,w){this.data.hasOwnProperty(h)?this.data[h]/=w:console.log("The key - ".concat(h," does not exist in this dictionary."))}},{key:"_valueTest",value:function(h){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var w,_=this.data[Object.keys(this.data)[0]];for(w in this.data)this.data[w]*h<_*h&&(_=this.data[w]);return _}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(h){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var w=Object.keys(this.data)[0],_=1;_<Object.keys(this.data).length;_++)Object.keys(this.data)[_]*h<w*h&&(w=Object.keys(this.data)[_]);return w}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),p}(),t=l.default.TypedDict,a.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(t,i,a){function s(_){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var u=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(_,j){for(var E=0;E<j.length;E++){var S=j[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}function f(_,j,E){j&&l(_.prototype,j),E&&l(_,E)}function v(_,j){return(v=Object.setPrototypeOf||function(E,S){return E.__proto__=S,E})(_,j)}function m(_){return function(){var j,E,S=d(_);return j=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(j=d(this).constructor,Reflect.construct(S,arguments,j)):S.apply(this,arguments),S=this,!(E=j)||y(E)!=="object"&&typeof E!="function"?c(S):E}}function c(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function d(_){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)})(_)}function g(_,j){if(!(_ instanceof j))throw new TypeError("Cannot call a class as a function")}function y(_){return(y=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(j){return s(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":s(j)})(_)}function b(_,j,E){return(j._userNode||document.body).appendChild(_),E=new(E?u.default.MediaElement:u.default.Element)(_,j),j._elements.push(E),E}u.default.prototype.select=function(_,j){return u.default._validateParameters("select",arguments),j=this._getContainer(j).querySelector(_),j?this._wrapElement(j):null},u.default.prototype.selectAll=function(_,j){u.default._validateParameters("selectAll",arguments);var E=[],S=this._getContainer(j).querySelectorAll(_);if(S)for(var C=0;C<S.length;C++){var M=this._wrapElement(S[C]);E.push(M)}return E},u.default.prototype._getContainer=function(_){var j=document;return typeof _=="string"?j=document.querySelector(_)||document:_ instanceof u.default.Element?j=_.elt:_ instanceof HTMLElement&&(j=_),j},u.default.prototype._wrapElement=function(_){var j,E=Array.prototype.slice.call(_.children);return _.tagName==="INPUT"&&_.type==="checkbox"?((j=new u.default.Element(_,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},j):_.tagName==="VIDEO"||_.tagName==="AUDIO"?new u.default.MediaElement(_,this):_.tagName==="SELECT"?this.createSelect(new u.default.Element(_,this)):0<E.length&&E.every(function(S){return S.tagName==="INPUT"||S.tagName==="LABEL"})&&(_.tagName==="DIV"||_.tagName==="SPAN")?this.createRadio(new u.default.Element(_,this)):new u.default.Element(_,this)},u.default.prototype.removeElements=function(_){u.default._validateParameters("removeElements",arguments),this._elements.filter(function(j){return!(j.elt instanceof HTMLCanvasElement)}).map(function(j){return j.remove()})},u.default.Element.prototype.changed=function(_){return u.default.Element._adjustListener("change",_,this),this},u.default.Element.prototype.input=function(_){return u.default.Element._adjustListener("input",_,this),this},u.default.prototype.createDiv=function(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",j=document.createElement("div");return j.innerHTML=_,b(j,this)},u.default.prototype.createP=function(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",j=document.createElement("p");return j.innerHTML=_,b(j,this)},u.default.prototype.createSpan=function(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",j=document.createElement("span");return j.innerHTML=_,b(j,this)},u.default.prototype.createImg=function(){u.default._validateParameters("createImg",arguments);var _,j=document.createElement("img"),E=arguments;return 1<E.length&&typeof E[1]=="string"&&(j.alt=E[1]),2<E.length&&typeof E[2]=="string"&&(j.crossOrigin=E[2]),j.src=E[0],_=b(j,this),j.addEventListener("load",function(){_.width=j.offsetWidth||j.width,_.height=j.offsetHeight||j.height;var S=E[E.length-1];typeof S=="function"&&S(_)}),_},u.default.prototype.createA=function(_,j,E){u.default._validateParameters("createA",arguments);var S=document.createElement("a");return S.href=_,S.innerHTML=j,E&&(S.target=E),b(S,this)},u.default.prototype.createSlider=function(_,j,E,S){u.default._validateParameters("createSlider",arguments);var C=document.createElement("input");return C.type="range",C.min=_,C.max=j,S===0?C.step=1e-18:S&&(C.step=S),typeof E=="number"&&(C.value=E),b(C,this)},u.default.prototype.createButton=function(_,j){u.default._validateParameters("createButton",arguments);var E=document.createElement("button");return E.innerHTML=_,j&&(E.value=j),b(E,this)},u.default.prototype.createCheckbox=function(){for(var _=arguments.length,j=new Array(_),E=0;E<_;E++)j[E]=arguments[E];u.default._validateParameters("createCheckbox",j);var S=document.createElement("div"),C=document.createElement("input"),M=(C.type="checkbox",document.createElement("label")),A=(M.appendChild(C),S.appendChild(M),b(S,this));return A.checked=function(){var P=A.elt.firstElementChild.getElementsByTagName("input")[0];if(P){if(arguments.length===0)return P.checked;P.checked=!(arguments.length<=0||!arguments[0])}return A},this.value=function(P){return A.value=P,this},j[0]&&(A.value(j[0]),(S=document.createElement("span")).innerHTML=j[0],M.appendChild(S)),j[1]&&(C.checked=!0),A},u.default.prototype.createSelect=function(){for(var _,j=arguments.length,E=new Array(j),S=0;S<j;S++)E[S]=arguments[S];u.default._validateParameters("createSelect",E);var C,M=E[0];return M instanceof u.default.Element&&M.elt instanceof HTMLSelectElement?this.elt=(_=M).elt:M instanceof HTMLSelectElement?(_=b(M,this),this.elt=M):(C=document.createElement("select"),M&&typeof M=="boolean"&&C.setAttribute("multiple","true"),_=b(C,this),this.elt=C),_.option=function(A,P){var D;if(A!==void 0){for(var I,U=0;U<this.elt.length;U+=1)if(this.elt[U].textContent===A){D=U;break}D!==void 0?P===!1?this.elt.remove(D):this.elt[D].value=P:((I=document.createElement("option")).textContent=A,I.value=P===void 0?A:P,this.elt.appendChild(I),this._pInst._elements.push(I))}},_.selected=function(A){if(A!==void 0){for(var P=0;P<this.elt.length;P+=1)this.elt[P].value.toString()===A.toString()&&(this.elt.selectedIndex=P);return this}if(this.elt.getAttribute("multiple")){var D=[],I=!0,U=!1,N=void 0;try{for(var B,W=this.elt.selectedOptions[Symbol.iterator]();!(I=(B=W.next()).done);I=!0){var z=B.value;D.push(z.value)}}catch(V){U=!0,N=V}finally{try{I||W.return==null||W.return()}finally{if(U)throw N}}return D}return this.elt.value},_.disable=function(A){if(typeof A=="string")for(var P=0;P<this.elt.length;P++)this.elt[P].value.toString()===A&&(this.elt[P].disabled=!0,this.elt[P].selected=!1);else this.elt.disabled=!0;return this},_.enable=function(A){if(typeof A=="string")for(var P=0;P<this.elt.length;P++)this.elt[P].value.toString()===A&&(this.elt[P].disabled=!1,this.elt[P].selected=!1);else{this.elt.disabled=!1;for(var D=0;D<this.elt.length;D++)this.elt[D].disabled=!1,this.elt[D].selected=!1}return this},_};var p=0;function h(_,A,E,S){var C=document.createElement(A),M=(typeof(E=E||"")=="string"&&(E=[E]),!0),A=!1,P=void 0;try{for(var D,I=E[Symbol.iterator]();!(M=(D=I.next()).done);M=!0){var U=D.value,N=document.createElement("source");N.setAttribute("src",U),C.appendChild(N)}}catch(W){A=!0,P=W}finally{try{M||I.return==null||I.return()}finally{if(A)throw P}}var B=b(C,_,!0);return B.loadedmetadata=!1,C.addEventListener("loadedmetadata",function(){B.width=C.videoWidth,B.height=C.videoHeight,B.elt.width===0&&(B.elt.width=C.videoWidth),B.elt.height===0&&(B.elt.height=C.videoHeight),B.presetPlaybackRate&&(B.elt.playbackRate=B.presetPlaybackRate,delete B.presetPlaybackRate),B.loadedmetadata=!0}),typeof S=="function"&&C.addEventListener("canplaythrough",function W(){S(B),C.removeEventListener("canplaythrough",W)}),B}u.default.prototype.createRadio=function(){function _(A){return A instanceof HTMLInputElement&&A.type==="radio"}function j(A){return A instanceof HTMLLabelElement}var E,S,C,M=arguments.length<=0?void 0:arguments[0];return M instanceof u.default.Element&&(M.elt instanceof HTMLDivElement||M.elt instanceof HTMLSpanElement)?(E=M,this.elt=M.elt):M instanceof HTMLDivElement||M instanceof HTMLSpanElement?(E=b(M,this),S=this.elt=M,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(C=arguments.length<=1?void 0:arguments[1])):(typeof M=="string"&&(C=M),S=document.createElement("div"),E=b(S,this),this.elt=S),E._name=C||"radioOption_".concat(p++),E._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(A){return _(A)||j(A)&&_(A.firstElementChild)}).map(function(A){return _(A)?A:A.firstElementChild})},E.option=function(A,P){var D,I,U,N=!0,B=!1,W=void 0;try{for(var z,V=E._getOptionsArray()[Symbol.iterator]();!(N=(z=V.next()).done);N=!0){var X=z.value;if(X.value===A){D=X;break}}}catch(K){B=!0,W=K}finally{try{N||V.return==null||V.return()}finally{if(B)throw W}}return D===void 0&&((D=document.createElement("input")).setAttribute("type","radio"),D.setAttribute("value",A)),D.setAttribute("name",E._name),j(D.parentElement)?I=D.parentElement:(I=document.createElement("label")).insertAdjacentElement("afterbegin",D),I.lastElementChild instanceof HTMLSpanElement?U=I.lastElementChild:(U=document.createElement("span"),D.insertAdjacentElement("afterend",U)),U.innerHTML=P===void 0?A:P,this.elt.appendChild(I),D},E.remove=function(A){var P=!0,D=!1,I=void 0;try{for(var U,N=E._getOptionsArray()[Symbol.iterator]();!(P=(U=N.next()).done);P=!0){var B=U.value;if(B.value===A)return void(j(B.parentElement)?B.parentElement:B).remove()}}catch(W){D=!0,I=W}finally{try{P||N.return==null||N.return()}finally{if(D)throw I}}},E.value=function(){var A="",P=!0,D=!1,I=void 0;try{for(var U,N=E._getOptionsArray()[Symbol.iterator]();!(P=(U=N.next()).done);P=!0){var B=U.value;if(B.checked){A=B.value;break}}}catch(W){D=!0,I=W}finally{try{P||N.return==null||N.return()}finally{if(D)throw I}}return A},E.selected=function(A){var P=null;if(A===void 0){var D=!0,I=!1,U=void 0;try{for(var N,B=E._getOptionsArray()[Symbol.iterator]();!(D=(N=B.next()).done);D=!0){var W=N.value;if(W.checked){P=W;break}}}catch(re){I=!0,U=re}finally{try{D||B.return==null||B.return()}finally{if(I)throw U}}}else{E._getOptionsArray().forEach(function(L){L.checked=!1,L.removeAttribute("checked")});var z=!0,I=!1,U=void 0;try{for(var V,X=E._getOptionsArray()[Symbol.iterator]();!(z=(V=X.next()).done);z=!0){var K=V.value;K.value===A&&(K.setAttribute("checked",!0),K.checked=!0,P=K)}}catch(L){I=!0,U=L}finally{try{z||X.return==null||X.return()}finally{if(I)throw U}}}return P},E.disable=function(){var A=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],P=!0,D=!1,I=void 0;try{for(var U,N=E._getOptionsArray()[Symbol.iterator]();!(P=(U=N.next()).done);P=!0)U.value.setAttribute("disabled",A)}catch(B){D=!0,I=B}finally{try{P||N.return==null||N.return()}finally{if(D)throw I}}},E},u.default.prototype.createColorPicker=function(_){u.default._validateParameters("createColorPicker",arguments);var j=document.createElement("input");return j.type="color",_?_ instanceof u.default.Color?j.value=_.toString("#rrggbb"):(u.default.prototype._colorMode="rgb",u.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},j.value=u.default.prototype.color(_).toString("#rrggbb")):j.value="#000000",(j=b(j,this)).color=function(){return _&&(_.mode&&(u.default.prototype._colorMode=_.mode),_.maxes&&(u.default.prototype._colorMaxes=_.maxes)),u.default.prototype.color(this.elt.value)},j},u.default.prototype.createInput=function(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",j=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",E=(u.default._validateParameters("createInput",arguments),document.createElement("input"));return E.setAttribute("value",_),E.setAttribute("type",j),b(E,this)},u.default.prototype.createFileInput=function(_){var j,E=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(u.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(j=document.createElement("input")).setAttribute("type","file"),E&&j.setAttribute("multiple",!0),j.addEventListener("change",function(S){var C=!0,M=!1,A=void 0;try{for(var P,D=S.target.files[Symbol.iterator]();!(C=(P=D.next()).done);C=!0){var I=P.value;u.default.File._load(I,_)}}catch(U){M=!0,A=U}finally{try{C||D.return==null||D.return()}finally{if(M)throw A}}},!1),b(j,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},u.default.prototype.createVideo=function(_,j){return u.default._validateParameters("createVideo",arguments),h(this,"video",_,j)},u.default.prototype.createAudio=function(_,j){return u.default._validateParameters("createAudio",arguments),h(this,"audio",_,j)},u.default.prototype.VIDEO="video",u.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(_){var j=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return j?new Promise(function(E,S){j.call(navigator,_,E,S)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),u.default.prototype.createCapture=function(){for(var _=arguments.length,j=new Array(_),E=0;E<_;E++)j[E]=arguments[E];if(u.default._validateParameters("createCapture",j),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var S,C=!0,M=!0,A=!1,P=0,D=j;P<D.length;P++){var I=D[P];I===u.default.prototype.VIDEO?M=!1:I===u.default.prototype.AUDIO?C=!1:y(I)==="object"?(I.flipped!==void 0&&(A=I.flipped,delete I.flipped),U=Object.assign({},U,I)):typeof I=="function"&&(S=I)}var U=Object.assign({},{video:C,audio:M},U),N=document.createElement("video"),B=(N.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(U).then(function(W){try{"srcObject"in N?N.srcObject=W:N.src=window.URL.createObjectURL(W)}catch{N.src=W}}).catch(function(W){W.name==="NotFoundError"&&u.default._friendlyError("No webcam found on this device","createCapture"),W.name==="NotAllowedError"&&u.default._friendlyError("Access to the camera was denied","createCapture"),console.error(W)}),b(N,this,!0));return B.loadedmetadata=!1,N.addEventListener("loadedmetadata",function(){N.play(),N.width?(B.width=N.width,B.height=N.height,A&&(B.elt.style.transform="scaleX(-1)")):(B.width=B.elt.width=N.videoWidth,B.height=B.elt.height=N.videoHeight),B.loadedmetadata=!0,S&&S(N.srcObject)}),B.flipped=A,B},u.default.prototype.createElement=function(_,j){return u.default._validateParameters("createElement",arguments),_=document.createElement(_),j!==void 0&&(_.innerHTML=j),b(_,this)},u.default.Element.prototype.addClass=function(_){return this.elt.className?this.hasClass(_)||(this.elt.className=this.elt.className+" "+_):this.elt.className=_,this},u.default.Element.prototype.removeClass=function(_){return this.elt.classList.remove(_),this},u.default.Element.prototype.hasClass=function(_){return this.elt.classList.contains(_)},u.default.Element.prototype.toggleClass=function(_){return this.elt.classList.contains(_)?this.elt.classList.remove(_):this.elt.classList.add(_),this},u.default.Element.prototype.child=function(_){return _===void 0?this.elt.childNodes:(typeof _=="string"?(_[0]==="#"&&(_=_.substring(1)),_=document.getElementById(_)):_ instanceof u.default.Element&&(_=_.elt),_ instanceof HTMLElement&&this.elt.appendChild(_),this)},u.default.Element.prototype.center=function(_){var j=this.elt.style.display,E=this.elt.style.display==="none",S=this.parent().style.display==="none",C={x:this.elt.offsetLeft,y:this.elt.offsetTop},M=(E&&this.show(),S&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),A=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return _==="both"||_===void 0?this.position(M/2+this.parent().offsetLeft,A/2+this.parent().offsetTop):_==="horizontal"?this.position(M/2+this.parent().offsetLeft,C.y):_==="vertical"&&this.position(C.x,A/2+this.parent().offsetTop),this.style("display",j),E&&this.hide(),S&&this.parent().hide(),this},u.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},u.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},u.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var _="";return this.elt.style.transform&&(_=(_=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=_,this},u.default.Element.prototype._rotate=function(){var _="";return this.elt.style.transform&&(_=(_=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=_,this},u.default.Element.prototype.style=function(_,j){if((j=j instanceof u.default.Color?"rgba("+j.levels[0]+","+j.levels[1]+","+j.levels[2]+","+j.levels[3]/255+")":j)===void 0){if(_.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(_);for(var E=_.split(";"),S=0;S<E.length;S++){var C=E[S].split(":");C[0]&&C[1]&&(this.elt.style[C[0].trim()]=C[1].trim())}}else this.elt.style[_]=j,_!=="width"&&_!=="height"&&_!=="left"&&_!=="top"||(j=window.getComputedStyle(this.elt).getPropertyValue(_).replace(/[^\d.]/g,""),this[_]=Math.round(parseFloat(j,10)));return this},u.default.Element.prototype.attribute=function(_,j){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return j===void 0?this.elt.getAttribute(_):(this.elt.setAttribute(_,j),this);if(j===void 0)return this.elt.firstChild.getAttribute(_);for(var E=0;E<this.elt.childNodes.length;E++)this.elt.childNodes[E].setAttribute(_,j)},u.default.Element.prototype.removeAttribute=function(_){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var j=0;j<this.elt.childNodes.length;j++)this.elt.childNodes[j].removeAttribute(_);return this.elt.removeAttribute(_),this},u.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},u.default.Element.prototype.show=function(){return this.elt.style.display="block",this},u.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},u.default.Element.prototype.size=function(_,j){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var E=_,S=j,C=u.default.prototype.AUTO;if(E!==C||S!==C){if(E===C?E=j*this.width/this.height:S===C&&(S=_*this.height/this.width),this.elt instanceof HTMLCanvasElement){var M,A={},P=this.elt.getContext("2d");for(M in P)A[M]=P[M];for(M in this.elt.setAttribute("width",E*this._pInst._pixelDensity),this.elt.setAttribute("height",S*this._pInst._pixelDensity),this.elt.style.width=E+"px",this.elt.style.height=S+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),A)this.elt.getContext("2d")[M]=A[M]}else this.elt.style.width=E+"px",this.elt.style.height=S+"px",this.elt.width=E,this.elt.height=S;this.width=E,this.height=S,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",E),this._pInst._setProperty("height",S))}return this},u.default.Element.prototype.remove=function(){this instanceof u.default.MediaElement&&(this.stop(),(j=this.elt.srcObject)!==null&&j.getTracks().forEach(function(E){E.stop()}));var _,j=this._pInst._elements.indexOf(this);for(_ in j!==-1&&this._pInst._elements.splice(j,1),this._events)this.elt.removeEventListener(_,this._events[_]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},u.default.Element.prototype.drop=function(_,j){var E;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",E=function(S){S.preventDefault()}),this.elt.addEventListener("dragleave",E)),u.default.Element._attachListener("drop",function(C){C.preventDefault(),typeof j=="function"&&j.call(this,C);var C=C.dataTransfer.files,M=!0,A=!1,P=void 0;try{for(var D,I=C[Symbol.iterator]();!(M=(D=I.next()).done);M=!0){var U=D.value;u.default.File._load(U,_)}}catch(N){A=!0,P=N}finally{try{M||I.return==null||I.return()}finally{if(A)throw P}}},this)):console.log("The File APIs are not fully supported in this browser."),this},u.default.Element.prototype.draggable=function(_){var j,E="ontouchstart"in window,S=0,C=0,M=0,A=0,P=E?"touchend":"mouseup",D=E?"touchmove":"mousemove";function I(N){var B;N=N||window.event,A=E?(B=N.changedTouches,S=M-parseInt(B[0].clientX),C=A-parseInt(B[0].clientY),M=parseInt(B[0].clientX),parseInt(B[0].clientY)):(S=M-parseInt(N.clientX),C=A-parseInt(N.clientY),M=parseInt(N.clientX),parseInt(N.clientY)),_.style.left=_.offsetLeft-S+"px",_.style.top=_.offsetTop-C+"px"}function U(){document.removeEventListener(P,U,!1),document.removeEventListener(D,I,!1)}return _===void 0?j=_=this.elt:_!==this.elt&&_.elt!==this.elt&&(_=_.elt,j=this.elt),j.addEventListener(E?"touchstart":"mousedown",function(N){{var B;N=N||window.event,A=E?(B=N.changedTouches,M=parseInt(B[0].clientX),parseInt(B[0].clientY)):(M=parseInt(N.clientX),parseInt(N.clientY))}return document.addEventListener(P,U,!1),document.addEventListener(D,I,!1),!1},!1),j.style.cursor="move",this};function w(_,j,E,S){g(this,w),this.callback=_,this.time=j,this.id=E,this.val=S}t=function(_){var j=S;if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(_&&_.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),_&&v(j,_);var E=m(S);function S(C,M){g(this,S);var A=c(M=E.call(this,C,M));return M.elt.crossOrigin="anonymous",M._prevTime=0,M._cueIDCounter=0,M._cues=[],M.pixels=[],M._pixelsState=c(M),M._pixelDensity=1,M._modified=!1,M._frameOnCanvas=-1,Object.defineProperty(A,"src",{get:function(){var P=A.elt.children[0].src,D=A.elt.src===window.location.href?"":A.elt.src;return P===window.location.href?D:P},set:function(P){for(var D=0;D<A.elt.children.length;D++)A.elt.removeChild(A.elt.children[D]);var I=document.createElement("source");I.src=P,C.appendChild(I),A.elt.src=P,A.modified=!0}}),A._onended=function(){},A.elt.onended=function(){A._onended(A)},M}return f(S,[{key:"play",value:function(){var C;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(C=this.elt.play())&&C.catch&&C.catch(function(M){M.name==="NotAllowedError"?console.error(M):console.error("Media play method encountered an unexpected error",M)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var C=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(C)},{passive:!0,once:!0})}},{key:"autoplay",value:function(C){var M=this,A=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",C),C&&!A&&(C=function(){return M._setupAutoplayFailDetection()},this.elt.readyState===4?C():this.elt.addEventListener("canplay",C,{passive:!0,once:!0})),this}},{key:"volume",value:function(C){if(C===void 0)return this.elt.volume;this.elt.volume=C}},{key:"speed",value:function(C){if(C===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=C:this.presetPlaybackRate=C}},{key:"time",value:function(C){return C===void 0?this.elt.currentTime:(this.elt.currentTime=C,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var C=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&C&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var C=arguments.length,M=new Array(C),A=0;A<C;A++)M[A]=arguments[A];return u.default.Renderer2D.prototype.loadPixels.apply(this,M)}},{key:"updatePixels",value:function(C,M,A,P){return this.loadedmetadata&&(this._ensureCanvas(),u.default.Renderer2D.prototype.updatePixels.call(this,C,M,A,P)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var C=arguments.length,M=new Array(C),A=0;A<C;A++)M[A]=arguments[A];return u.default.Renderer2D.prototype.get.apply(this,M)}},{key:"_getPixel",value:function(){this.loadPixels();for(var C=arguments.length,M=new Array(C),A=0;A<C;A++)M[A]=arguments[A];return u.default.Renderer2D.prototype._getPixel.apply(this,M)}},{key:"set",value:function(C,M,A){this.loadedmetadata&&(this._ensureCanvas(),u.default.Renderer2D.prototype.set.call(this,C,M,A),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var C=arguments.length,M=new Array(C),A=0;A<C;A++)M[A]=arguments[A];u.default.prototype.copy.apply(this,M)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var C=arguments.length,M=new Array(C),A=0;A<C;A++)M[A]=arguments[A];u.default.Image.prototype.mask.apply(this,M)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(C){this._modified=C}},{key:"onended",value:function(C){return this._onended=C,this}},{key:"connect",value:function(C){var M,A;if(typeof u.default.prototype.getAudioContext=="function")M=u.default.prototype.getAudioContext(),A=u.default.soundOut.input;else try{A=(M=C.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=M.createMediaElementSource(this.elt),this.audioSourceNode.connect(A)),C?C.input?this.audioSourceNode.connect(C.input):this.audioSourceNode.connect(C):this.audioSourceNode.connect(A)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(C,D,A){var P=this._cueIDCounter++,D=new w(D,C,P,A);return this._cues.push(D),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),P}},{key:"removeCue",value:function(C){for(var M=0;M<this._cues.length;M++)this._cues[M].id===C&&(console.log(C),this._cues.splice(M,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var C=this.time(),M=0;M<this._cues.length;M++){var A=this._cues[M].time,P=this._cues[M].val;this._prevTime<A&&A<=C&&this._cues[M].callback(P)}this._prevTime=C}}]),S}(u.default.Element),u.default.MediaElement=t,t=function(){function _(j,E){g(this,_),this.file=j,this._pInst=E,E=j.type.split("/"),this.type=E[0],this.subtype=E[1],this.name=j.name,this.size=j.size,this.data=void 0}return f(_,null,[{key:"_createLoader",value:function(j,E){var S=new FileReader;return S.onload=function(C){var M,A=new u.default.File(j);A.file.type==="application/json"?A.data=JSON.parse(C.target.result):A.file.type==="text/xml"?(M=new DOMParser().parseFromString(C.target.result,"text/xml"),A.data=new u.default.XML(M.documentElement)):A.data=C.target.result,E(A)},S}},{key:"_load",value:function(j,E){var S;/^text\//.test(j.type)||j.type==="application/json"?u.default.File._createLoader(j,E).readAsText(j):/^(video|audio)\//.test(j.type)?((S=new u.default.File(j)).data=URL.createObjectURL(j),E(S)):u.default.File._createLoader(j,E).readAsDataURL(j)}}]),_}(),u.default.File=t,t=u.default,a.default=t},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(y,i,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(y=y("../core/main"))&&y.__esModule?y:{default:y};s.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",s.default.prototype.accelerationX=0,s.default.prototype.accelerationY=0,s.default.prototype.accelerationZ=0,s.default.prototype.pAccelerationX=0,s.default.prototype.pAccelerationY=0,s.default.prototype.pAccelerationZ=0,s.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},s.default.prototype.rotationX=0,s.default.prototype.rotationY=0,s.default.prototype.rotationZ=0,s.default.prototype.pRotationX=0,s.default.prototype.pRotationY=0;var u=s.default.prototype.pRotationZ=0,l=0,f=0,v="clockwise",m="clockwise",c="clockwise",d=(s.default.prototype.pRotateDirectionX=void 0,s.default.prototype.pRotateDirectionY=void 0,s.default.prototype.pRotateDirectionZ=void 0,s.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},s.default.prototype.turnAxis=void 0,.5),g=30,y=(s.default.prototype.setMoveThreshold=function(b){s.default._validateParameters("setMoveThreshold",arguments),d=b},s.default.prototype.setShakeThreshold=function(b){s.default._validateParameters("setShakeThreshold",arguments),g=b},s.default.prototype._ondeviceorientation=function(b){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(b.beta)),this._setProperty("rotationY",this._fromDegrees(b.gamma)),this._setProperty("rotationZ",this._fromDegrees(b.alpha)),this._handleMotion()},s.default.prototype._ondevicemotion=function(b){this._updatePAccelerations(),this._setProperty("accelerationX",2*b.acceleration.x),this._setProperty("accelerationY",2*b.acceleration.y),this._setProperty("accelerationZ",2*b.acceleration.z),this._handleMotion()},s.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var b,p,h,w,_,j=this._isGlobal?window:this;typeof j.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>d||Math.abs(this.accelerationY-this.pAccelerationY)>d||Math.abs(this.accelerationZ-this.pAccelerationZ)>d)&&j.deviceMoved(),typeof j.deviceTurned=="function"&&(p=this._toDegrees(this.rotationX)+180,h=this._toDegrees(this.pRotationX)+180,b=u+180,0<p-h&&p-h<270||p-h<-270?v="clockwise":(p-h<0||270<p-h)&&(v="counter-clockwise"),v!==this.pRotateDirectionX&&(b=p),90<Math.abs(p-b)&&Math.abs(p-b)<270&&(b=p,this._setProperty("turnAxis","X"),j.deviceTurned()),this.pRotateDirectionX=v,u=b-180,h=this._toDegrees(this.rotationY)+180,p=this._toDegrees(this.pRotationY)+180,b=l+180,0<h-p&&h-p<270||h-p<-270?m="clockwise":(h-p<0||270<h-this.pRotationY)&&(m="counter-clockwise"),m!==this.pRotateDirectionY&&(b=h),90<Math.abs(h-b)&&Math.abs(h-b)<270&&(b=h,this._setProperty("turnAxis","Y"),j.deviceTurned()),this.pRotateDirectionY=m,l=b-180,0<(p=this._toDegrees(this.rotationZ))-(h=this._toDegrees(this.pRotationZ))&&p-h<270||p-h<-270?c="clockwise":(p-h<0||270<p-h)&&(c="counter-clockwise"),c!==this.pRotateDirectionZ&&(f=p),90<Math.abs(p-f)&&Math.abs(p-f)<270&&(f=p,this._setProperty("turnAxis","Z"),j.deviceTurned()),this.pRotateDirectionZ=c,this._setProperty("turnAxis",void 0)),typeof j.deviceShaken=="function"&&(this.pAccelerationX!==null&&(w=Math.abs(this.accelerationX-this.pAccelerationX),_=Math.abs(this.accelerationY-this.pAccelerationY)),g<w+_&&j.deviceShaken())},s.default);a.default=y},{"../core/main":283}],301:[function(t,i,a){t("core-js/modules/es.array.for-each"),t("core-js/modules/es.string.repeat"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.string.repeat"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};s.default.prototype.isKeyPressed=!1,s.default.prototype.keyIsPressed=!1,s.default.prototype.key="",s.default.prototype.keyCode=0,s.default.prototype._onkeydown=function(u){var l;u.repeat?this._setProperty("isKeyRepeated",!0):(this._setProperty("isKeyRepeated",!1),this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",u.which),this._downKeys[u.which]=!0,this._setProperty("key",u.key||String.fromCharCode(u.which)||u.which),u.metaKey&&(this._metaKeys||(this._metaKeys=[]),this._metaKeys.push(u.which)),typeof(l=this._isGlobal?window:this).keyPressed!="function"||u.charCode||l.keyPressed(u)===!1&&u.preventDefault())},s.default.prototype._onkeyup=function(u){var l=this,f=(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1),this._setProperty("_lastKeyCodePressed",this._keyCode),this._downKeys[u.which]=!1,u.key==="Meta"&&this._metaKeys&&(this._metaKeys.forEach(function(v){l._downKeys[v]=!1}),this._metaKeys=[]),this._isGlobal?window:this);typeof f.keyReleased=="function"&&f.keyReleased(u)===!1&&u.preventDefault()},s.default.prototype._onkeypress=function(u){var l;u.which===this._lastKeyCodeTyped&&this.isKeyRepeated||(this._setProperty("_lastKeyCodeTyped",u.which),this._setProperty("key",u.key||String.fromCharCode(u.which)||u.which),typeof(l=this._isGlobal?window:this).keyTyped=="function"&&l.keyTyped(u)===!1&&u.preventDefault())},s.default.prototype._onblur=function(u){this._downKeys={}},s.default.prototype.keyIsDown=function(u){return s.default._validateParameters("keyIsDown",arguments),this._downKeys[u]||!1},s.default.prototype._areDownKeys=function(){for(var u in this._downKeys)if(this._downKeys.hasOwnProperty(u)&&this._downKeys[u]===!0)return!0;return!1},t=s.default,a.default=t},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.string.repeat":203,"core-js/modules/web.dom-collections.for-each":245}],302:[function(t,i,a){function s(m){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(m)}function u(m){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(c){return s(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":s(c)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=(l=t("../core/main"))&&l.__esModule?l:{default:l},f=function(m){if(m&&m.__esModule)return m;if(m===null||u(m)!=="object"&&typeof m!="function")return{default:m};var c=v();if(c&&c.has(m))return c.get(m);var d,g={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in m){var b;Object.prototype.hasOwnProperty.call(m,d)&&((b=y?Object.getOwnPropertyDescriptor(m,d):null)&&(b.get||b.set)?Object.defineProperty(g,d,b):g[d]=m[d])}return g.default=m,c&&c.set(m,g),g}(t("../core/constants"));function v(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,v=function(){return m},m)}l.default.prototype.movedX=0,l.default.prototype.movedY=0,l.default.prototype._hasMouseInteracted=!1,l.default.prototype.mouseX=0,l.default.prototype.mouseY=0,l.default.prototype.pmouseX=0,l.default.prototype.pmouseY=0,l.default.prototype.winMouseX=0,l.default.prototype.winMouseY=0,l.default.prototype.pwinMouseX=0,l.default.prototype.pwinMouseY=0,l.default.prototype.mouseButton=0,l.default.prototype.mouseIsPressed=!1,l.default.prototype._updateNextMouseCoords=function(m){var c,d,g,y;this._curElement!==null&&(!m.touches||0<m.touches.length)&&(c=this._curElement.elt,d=this.width,g=this.height,(m=m)&&!m.clientX&&(m.touches?m=m.touches[0]:m.changedTouches&&(m=m.changedTouches[0])),y=c.getBoundingClientRect(),d=c.scrollWidth/d||1,c=c.scrollHeight/g||1,g={x:(m.clientX-y.left)/d,y:(m.clientY-y.top)/c,winX:m.clientX,winY:m.clientY,id:m.identifier},this._setProperty("mouseX",g.x),this._setProperty("mouseY",g.y),this._setProperty("winMouseX",g.winX),this._setProperty("winMouseY",g.winY),d=this.mouseX-this.pmouseX,y=this.mouseY-this.pmouseY,this._setProperty("movedX",d),this._setProperty("movedY",y)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},l.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},l.default.prototype._setMouseButton=function(m){m.button===1?this._setProperty("mouseButton",f.CENTER):m.button===2?this._setProperty("mouseButton",f.RIGHT):this._setProperty("mouseButton",f.LEFT)},l.default.prototype._onmousemove=function(m){var c=this._isGlobal?window:this;this._updateNextMouseCoords(m),this.mouseIsPressed?typeof c.mouseDragged=="function"?c.mouseDragged(m)===!1&&m.preventDefault():typeof c.touchMoved=="function"&&c.touchMoved(m)===!1&&m.preventDefault():typeof c.mouseMoved=="function"&&c.mouseMoved(m)===!1&&m.preventDefault()},l.default.prototype._onmousedown=function(m){var c=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(m),this._updateNextMouseCoords(m),this.touchstart||(typeof c.mousePressed=="function"?c.mousePressed(m)===!1&&m.preventDefault():typeof c.touchStarted=="function"&&c.touchStarted(m)===!1&&m.preventDefault(),this.touchstart=!1)},l.default.prototype._onmouseup=function(m){var c=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||(typeof c.mouseReleased=="function"?c.mouseReleased(m)===!1&&m.preventDefault():typeof c.touchEnded=="function"&&c.touchEnded(m)===!1&&m.preventDefault(),this.touchend=!1)},l.default.prototype._ondragend=l.default.prototype._onmouseup,l.default.prototype._ondragover=l.default.prototype._onmousemove,l.default.prototype._onclick=function(m){var c=this._isGlobal?window:this;typeof c.mouseClicked=="function"&&c.mouseClicked(m)===!1&&m.preventDefault()},l.default.prototype._ondblclick=function(m){var c=this._isGlobal?window:this;typeof c.doubleClicked=="function"&&c.doubleClicked(m)===!1&&m.preventDefault()},l.default.prototype._mouseWheelDeltaY=0,l.default.prototype._pmouseWheelDeltaY=0,l.default.prototype._onwheel=function(m){var c=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",m.deltaY),typeof c.mouseWheel=="function"&&(m.delta=m.deltaY,c.mouseWheel(m)===!1&&m.preventDefault())},l.default.prototype.requestPointerLock=function(){var m=this._curElement.elt;return m.requestPointerLock=m.requestPointerLock||m.mozRequestPointerLock,m.requestPointerLock?(m.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},l.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=l.default,a.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(t,i,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(s){if(this._curElement!==null){for(var u=[],l=0;l<s.touches.length;l++)u[l]=function(b,y,p,c){var d=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,g=b.getBoundingClientRect(),y=b.scrollWidth/y||1,b=b.scrollHeight/p||1,p=c.touches[d]||c.changedTouches[d];return{x:(p.clientX-g.left)/y,y:(p.clientY-g.top)/b,winX:p.clientX,winY:p.clientY,id:p.identifier}}(this._curElement.elt,this.width,this.height,s,l);this._setProperty("touches",u)}},t.default.prototype._ontouchstart=function(s){var u=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(s),this._updateNextMouseCoords(s),this._updateMouseCoords(),typeof u.touchStarted=="function"&&(u.touchStarted(s)===!1&&s.preventDefault(),this.touchstart=!0)},t.default.prototype._ontouchmove=function(s){var u=this._isGlobal?window:this;this._updateTouchCoords(s),this._updateNextMouseCoords(s),typeof u.touchMoved=="function"?u.touchMoved(s)===!1&&s.preventDefault():typeof u.mouseDragged=="function"&&u.mouseDragged(s)===!1&&s.preventDefault()},t.default.prototype._ontouchend=function(s){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(s),this._updateNextMouseCoords(s);var u=this._isGlobal?window:this;typeof u.touchEnded=="function"&&(u.touchEnded(s)===!1&&s.preventDefault(),this.touchend=!0)},t=t.default,a.default=t},{"../core/main":283}],304:[function(t,i,a){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s,u,l,f,v={_toPixels:function(m){var c,d;return m instanceof ImageData?m.data:m.getContext("2d")?m.getContext("2d").getImageData(0,0,m.width,m.height).data:m.getContext("webgl")?(d=(c=m.getContext("webgl")).drawingBufferWidth*c.drawingBufferHeight*4,d=new Uint8Array(d),c.readPixels(0,0,m.width,m.height,c.RGBA,c.UNSIGNED_BYTE,d),d):void 0},_getARGB:function(m,c){return c*=4,m[3+c]<<24&4278190080|m[c]<<16&16711680|m[1+c]<<8&65280|255&m[2+c]},_setPixels:function(m,c){for(var d,g=0,y=m.length;g<y;g++)m[0+(d=4*g)]=(16711680&c[g])>>>16,m[1+d]=(65280&c[g])>>>8,m[2+d]=255&c[g],m[3+d]=(4278190080&c[g])>>>24},_toImageData:function(m){return m instanceof ImageData?m:m.getContext("2d").getImageData(0,0,m.width,m.height)},_createImageData:function(m,c){return v._tmpCanvas=document.createElement("canvas"),v._tmpCtx=v._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(m,c)},apply:function(m,b,d){var g=m.getContext("2d"),y=g.getImageData(0,0,m.width,m.height),b=b(y,d);b instanceof ImageData?g.putImageData(b,0,0,0,0,m.width,m.height):g.putImageData(y,0,0,0,0,m.width,m.height)},threshold:function(m){for(var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:.5,d=v._toPixels(m),g=Math.floor(255*c),y=0;y<d.length;y+=4){var b=void 0,b=g<=.2126*d[y]+.7152*d[y+1]+.0722*d[y+2]?255:0;d[y]=d[y+1]=d[y+2]=b}},gray:function(m){for(var c=v._toPixels(m),d=0;d<c.length;d+=4){var g=c[d],y=c[d+1],b=c[d+2];c[d]=c[d+1]=c[d+2]=.2126*g+.7152*y+.0722*b}},opaque:function(m){for(var c=v._toPixels(m),d=0;d<c.length;d+=4)c[d+3]=255;return c},invert:function(m){for(var c=v._toPixels(m),d=0;d<c.length;d+=4)c[d]=255-c[d],c[d+1]=255-c[d+1],c[d+2]=255-c[d+2]},posterize:function(m){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:4,d=v._toPixels(m);if(c<2||255<c)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var g=c-1,y=0;y<d.length;y+=4){var b=d[y],p=d[y+1],h=d[y+2];d[y]=255*(b*c>>8)/g,d[y+1]=255*(p*c>>8)/g,d[y+2]=255*(h*c>>8)/g}},dilate:function(m){for(var c,d,g,y,b,p,h,w,_,j=v._toPixels(m),E=0,S=j.length?j.length/4:0,C=new Int32Array(S);E<S;)for(d=(c=E)+m.width;E<d;)y=g=v._getARGB(j,E),(_=E-1)<c&&(_=E),d<=(w=E+1)&&(w=E),(b=E-m.width)<0&&(b=0),S<=(p=E+m.width)&&(p=E),b=v._getARGB(j,b),_=v._getARGB(j,_),p=v._getARGB(j,p),(y=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))<(h=77*(_>>16&255)+151*(_>>8&255)+28*(255&_))&&(g=_,y=h),y<(h=77*((_=v._getARGB(j,w))>>16&255)+151*(_>>8&255)+28*(255&_))&&(g=_,y=h),y<(w=77*(b>>16&255)+151*(b>>8&255)+28*(255&b))&&(g=b,y=w),y<(_=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))&&(g=p,y=_),C[E++]=g;v._setPixels(j,C)},erode:function(m){for(var c,d,g,y,b,p,h,w,_,j=v._toPixels(m),E=0,S=j.length?j.length/4:0,C=new Int32Array(S);E<S;)for(d=(c=E)+m.width;E<d;)y=g=v._getARGB(j,E),(_=E-1)<c&&(_=E),d<=(w=E+1)&&(w=E),(b=E-m.width)<0&&(b=0),S<=(p=E+m.width)&&(p=E),b=v._getARGB(j,b),_=v._getARGB(j,_),p=v._getARGB(j,p),(h=77*(_>>16&255)+151*(_>>8&255)+28*(255&_))<(y=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))&&(g=_,y=h),(h=77*((_=v._getARGB(j,w))>>16&255)+151*(_>>8&255)+28*(255&_))<y&&(g=_,y=h),(w=77*(b>>16&255)+151*(b>>8&255)+28*(255&b))<y&&(g=b,y=w),(_=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))<y&&(g=p,y=_),C[E++]=g;v._setPixels(j,C)},blur:function(m,c){for(var d,g,y,b,p,h,w,_,j,E,S=v._toPixels(m),C=m.width,M=m.height,A=C*M,P=new Int32Array(A),D=0;D<A;D++)P[D]=v._getARGB(S,D);var I,U,N,B,W,z,V,X,K=new Int32Array(A),re=new Int32Array(A),T=new Int32Array(A),L=new Int32Array(A),G=0,H=3.5*c|0;if(s!==(H=H<1?1:H<248?H:248)){u=1+(s=H)<<1,l=new Int32Array(u),f=new Array(u);for(var J=0;J<u;J++)f[J]=new Int32Array(256);for(var ee=1,ie=H-1;ee<H;ee++){l[H+ee]=l[ie]=z=ie*ie,V=f[H+ee],X=f[ie--];for(var fe=0;fe<256;fe++)V[fe]=X[fe]=z*fe}W=l[H]=H*H,V=f[H];for(var oe=0;oe<256;oe++)V[oe]=W*oe}for(U=0;U<M;U++){for(I=0;I<C;I++){if(b=y=g=p=d=0,(h=I-s)<0)E=-h,h=0;else{if(C<=h)break;E=0}for(N=E;N<u&&!(C<=h);N++){var de=P[h+G];B=f[N],p+=B[(-16777216&de)>>>24],g+=B[(16711680&de)>>16],y+=B[(65280&de)>>8],b+=B[255&de],d+=l[N],h++}K[w=G+I]=p/d,re[w]=g/d,T[w]=y/d,L[w]=b/d}G+=C}for(j=(_=-s)*C,U=G=0;U<M;U++){for(I=0;I<C;I++){if(b=y=g=p=d=0,_<0)E=w=-_,h=I;else{if(M<=_)break;E=0,w=_,h=I+j}for(N=E;N<u&&!(M<=w);N++)B=f[N],p+=B[K[h]],g+=B[re[h]],y+=B[T[h]],b+=B[L[h]],d+=l[N],w++,h+=C;P[I+G]=p/d<<24|g/d<<16|y/d<<8|b/d}G+=C,j+=C,_++}v._setPixels(S,P)}};a.default=v},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(t,i,a){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=l(t("../core/main")),u=l(t("omggif"));function l(v){return v&&v.__esModule?v:{default:v}}function f(v){return function(m){if(Array.isArray(m)){for(var c=0,d=new Array(m.length);c<m.length;c++)d[c]=m[c];return d}}(v)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(v)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}s.default.prototype.createImage=function(v,m){return s.default._validateParameters("createImage",arguments),new s.default.Image(v,m)},s.default.prototype.saveCanvas=function(){for(var v,m,c,d,g,y,b=arguments.length,p=new Array(b),h=0;h<b;h++)p[h]=arguments[h];switch(s.default._validateParameters("saveCanvas",p),p[0]instanceof HTMLCanvasElement?(v=p[0],p.shift()):p[0]instanceof s.default.Element?(v=p[0].elt,p.shift()):p[0]instanceof s.default.Framebuffer?(d=p[0],(g=this.createGraphics(d.width,d.height)).pixelDensity(pixelDensity()),d.loadPixels(),g.loadPixels(),g.pixels.set(d.pixels),g.updatePixels(),v=g.elt,p.shift()):v=this._curElement&&this._curElement.elt,1<=p.length&&(m=p[0]),c=(c=2<=p.length?p[1]:c)||s.default.prototype._checkFileExtension(m,c)[1]||"png"){default:y="image/png";break;case"webp":y="image/webp";break;case"jpeg":case"jpg":y="image/jpeg"}v.toBlob(function(w){s.default.prototype.downloadFile(w,m,c),g&&g.remove()},y)},s.default.prototype.encodeAndDownloadGif=function(v,m){for(var c=v.gifProperties,d=c.loopLimit,g=(d===1?d=null:d===null&&(d=0),new Uint8Array(v.width*v.height*c.numFrames)),y=[],b={},p=0;p<c.numFrames;p++){for(var h=new Set,w=c.frames[p].image.data,_=w.length,j=new Uint32Array(v.width*v.height),E=0,S=0;E<_;E+=4,S++){var C=w[E+0]<<16|w[E+1]<<8|w[E+2]<<0;h.add(C),j[S]=C}var M=f(h).sort().toString();b[M]===void 0?b[M]={freq:1,frames:[p]}:(b[M].freq+=1,b[M].frames.push(p)),y.push(j)}for(var D=[],A=Object.keys(b).sort(function(T,L){return b[L].freq-b[T].freq}),P=A[0].split(",").map(function(T){return parseInt(T)}),D=D.concat(b[P].frames),I=new Set(P),U=1;U<A.length;U++){var N=A[U].split(",").map(function(T){return parseInt(T)}).filter(function(T){return!I.has(T)});if(P.length+N.length<=256){for(var B=0;B<N.length;B++)P.push(N[B]),I.add(N[B]);D=D.concat(b[A[U]].frames)}}D=new Set(D);for(var W={},z=0;z<P.length;z++)W[P[z]]||(W[P[z]]=z);for(var V=1;V<P.length;)V<<=1;P.length=V;for(var d={loop:d,palette:new Uint32Array(P)},X=new u.default.GifWriter(g,v.width,v.height,d),K={},re=0;re<c.numFrames;re++)(function(L){var G=!D.has(L),H=G?[]:P,J=new Uint8Array(v.width*v.height),ee={},ie=new Set,fe=(y[L].forEach(function(ue,pe){G?(ee[ue]===void 0&&(ee[ue]=H.length,H.push(ue)),J[pe]=ee[ue]):J[pe]=W[ue],0<L&&y[L-1][pe]!==ue&&ie.add(ue)}),{}),oe=H.filter(function(ue){return!ie.has(ue)});if(0<oe.length){var oe=oe[0],de=(G?ee:W)[oe];if(0<L){for(var ae=0;ae<y[L].length;ae++)y[L-1][ae]===y[L][ae]&&(J[ae]=de);fe.transparent=de,K.frameOpts.disposal=1}}if(fe.delay=c.frames[L].delay/10,G){for(var Z=1;Z<H.length;)Z<<=1;H.length=Z,fe.palette=new Uint32Array(H)}0<L&&X.addFrame(0,0,v.width,v.height,K.pixelPaletteIndex,K.frameOpts),K={pixelPaletteIndex:J,frameOpts:fe}})(re);K.frameOpts.disposal=1,X.addFrame(0,0,v.width,v.height,K.pixelPaletteIndex,K.frameOpts),d=new Blob([g.slice(0,X.end())],{type:"image/gif"}),s.default.prototype.downloadFile(d,m,"gif")},s.default.prototype.saveFrames=function(v,m,c,y,g){s.default._validateParameters("saveFrames",arguments),c=s.default.prototype.constrain(c=c||3,0,15),c*=1e3;var y=s.default.prototype.constrain(y||15,0,22),b=0,p=s.default.prototype._makeFrame,h=this._curElement.elt,w=[],_=setInterval(function(){w.push(p(v+b,m,h)),b++},1e3/y);setTimeout(function(){if(clearInterval(_),g)g(w);else for(var j=0,E=w;j<E.length;j++){var S=E[j];s.default.prototype.downloadFile(S.imageData,S.filename,S.ext)}w=[]},.01+c)},s.default.prototype._makeFrame=function(v,m,g){var d,g=this?this._curElement.elt:g;if(m)switch(m.toLowerCase()){case"png":d="image/png";break;case"jpeg":case"jpg":d="image/jpeg";break;default:d="image/png"}else m="png",d="image/png";var g=(g=g.toDataURL(d)).replace(d,"image/octet-stream"),y={};return y.imageData=g,y.filename=v,y.ext=m,y},t=s.default,a.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(t,i,a){function s(h){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(h)}function u(h){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(w){return s(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":s(w)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("regenerator-runtime/runtime");var l=g(t("../core/main")),f=g(t("../core/helpers")),v=function(h){if(h&&h.__esModule)return h;if(h===null||u(h)!=="object"&&typeof h!="function")return{default:h};var w=d();if(w&&w.has(h))return w.get(h);var _,j={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in h){var S;Object.prototype.hasOwnProperty.call(h,_)&&((S=E?Object.getOwnPropertyDescriptor(h,_):null)&&(S.get||S.set)?Object.defineProperty(j,_,S):j[_]=h[_])}return j.default=h,w&&w.set(h,j),j}(t("../core/constants")),m=g(t("omggif")),c=t("gifenc");function d(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,d=function(){return h},h)}function g(h){return h&&h.__esModule?h:{default:h}}function y(h,w,_,j,E,S,C){try{var M=h[S](C),A=M.value}catch(P){return void _(P)}M.done?w(A):Promise.resolve(A).then(j,E)}function b(h,w,_,j,E,S,C,M,A,P,D){var I,U,N,B,W,z,V,X,K;return h===v.COVER&&(I=w,N=_,V=S,X=C,z=M,K=A,U=P,B=D,W=Math.max(V/U,X/B),V/=W,X/=W,W=z,z=K,I===v.CENTER?W+=(U-V)/2:I===v.RIGHT&&(W+=U-V),N===v.CENTER?z+=(B-X)/2:N===v.BOTTOM&&(z+=B-X),M=(K={x:W,y:z,w:V,h:X}).x,A=K.y,P=K.w,D=K.h),h===v.CONTAIN&&(I=w,U=_,N=j,B=E,W=S,z=C,V=P,X=D,K=Math.max(V/W,X/z),V/=K,X/=K,K=N,N=B,I===v.CENTER?K+=(W-V)/2:I===v.RIGHT&&(K+=W-V),U===v.CENTER?N+=(z-X)/2:U===v.BOTTOM&&(N+=z-X),j=(h={x:K,y:N,w:V,h:X}).x,E=h.y,S=h.w,C=h.h),{sx:M,sy:A,sw:P,sh:D,dx:j,dy:E,dw:S,dh:C}}function p(h,w){return 0<h&&h<w?h:w}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),l.default.prototype.loadImage=function(h,w,_){l.default._validateParameters("loadImage",arguments);var j=new l.default.Image(1,1,this),E=this,S=new Request(h,{method:"GET",mode:"cors"});return fetch(h,S).then(function(C){var M,A=C.headers.get("content-type");A===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),A&&A.includes("image/gif")?C.arrayBuffer().then(function(P){if(P){for(var P=new Uint8Array(P),D=j,I=w,U=_,N=(function(G){E._decrementPreload()}).bind(E),B=new m.default.GifReader(P),W=(D.width=D.canvas.width=B.width,D.height=D.canvas.height=B.height,[]),z=B.numFrames(),V=new Uint8ClampedArray(D.width*D.height*4),X=0;X<z;X++){var K=B.frameInfo(X),re=D.drawingContext.getImageData(0,0,D.width,D.height),T=(V=re.data.slice(),function(G,H){try{H.decodeAndBlitFrameRGBA(G,V)}catch(J){l.default._friendlyFileLoadError(8,D.src),typeof U=="function"?U(J):console.error(J)}}(X,B),new ImageData(V,D.width,D.height)),T=(D.drawingContext.putImageData(T,0,0),K.delay);T===0&&(T=10),W.push({image:D.drawingContext.getImageData(0,0,D.width,D.height),delay:10*T}),K.disposal===2?D.drawingContext.clearRect(K.x,K.y,K.width,K.height):K.disposal===3&&D.drawingContext.putImageData(re,0,0,K.x,K.y,K.width,K.height)}(P=B.loopCount())===null?P=1:P===0&&(P=null),D.drawingContext.putImageData(W[0].image,0,0),1<W.length&&(D.gifProperties={displayIndex:0,loopLimit:P,loopCount:0,frames:W,numFrames:z,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof I=="function"&&I(D),N()}},function(P){typeof _=="function"?(_(P),E._decrementPreload()):console.error(P)}):((M=new Image).onload=function(){j.width=j.canvas.width=M.width,j.height=j.canvas.height=M.height,j.drawingContext.drawImage(M,0,0),j.modified=!0,typeof w=="function"&&w(j),E._decrementPreload()},M.onerror=function(P){l.default._friendlyFileLoadError(0,M.src),typeof _=="function"?(_(P),E._decrementPreload()):console.error(P)},h.indexOf("data:image/")!==0&&(M.crossOrigin="Anonymous"),M.src=h),j.modified=!0}).catch(function(C){l.default._friendlyFileLoadError(0,h),typeof _=="function"?(_(C),E._decrementPreload()):console.error(C)}),j},l.default.prototype.saveGif=function(){h=regeneratorRuntime.mark(function _(j,E){var S,C,M,A,P,D,I,U,N,B,W,z,V,X,K,re,T,L,G,H,J,ee,ie,fe,oe,de,ae=arguments;return regeneratorRuntime.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(S=2<ae.length&&ae[2]!==void 0?ae[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof j!="string")throw TypeError("fileName parameter must be a string");Z.next=3;break;case 3:if(typeof E!="number")throw TypeError("Duration parameter must be a number");Z.next=5;break;case 5:if(C=S&&S.delay||0,M=S&&S.units||"seconds",A=S&&S.silent||!1,P=S&&S.notificationDuration||0,D=S&&S.notificationID||"progressBar",typeof C!="number")throw TypeError("Delay parameter must be a number");Z.next=12;break;case 12:if(M!=="seconds"&&M!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');Z.next=14;break;case 14:if(typeof A!="boolean")throw TypeError("Silent parameter must be a boolean");Z.next=16;break;case 16:if(typeof P!="number")throw TypeError("Notification duration parameter must be a number");Z.next=18;break;case 18:if(typeof D!="string")throw TypeError("Notification ID parameter must be a string");Z.next=20;break;case 20:return this._recording=!0,B=this._targetFrameRate,I=(I=1/(B=B!==1/0&&B!==void 0&&B!==0?B:60)*1e3)<20?20:I,N=(U=M==="seconds"?E*B:E)+(B=M==="seconds"?C*B:C),B=B,this.frameCount=B,W=this._pixelDensity,this.pixelDensity(1),z=[],document.getElementById(D)!==null&&document.getElementById(D).remove(),A||((V=this.createP("")).id(D),V.style("font-size","16px"),V.style("font-family","Montserrat"),V.style("background-color","#ffffffa0"),V.style("padding","8px"),V.style("border-radius","10px"),V.position(0,0)),this._renderer instanceof l.default.RendererGL&&(K=this.drawingContext,X=new Uint8Array(K.drawingBufferWidth*K.drawingBufferHeight*4)),this.noLoop(),Z.next=39,Promise.resolve();case 39:if(B<N)return this.redraw(),fe=void 0,fe=this._renderer instanceof l.default.RendererGL?(X=new Uint8Array(K.drawingBufferWidth*K.drawingBufferHeight*4),K.readPixels(0,0,K.drawingBufferWidth,K.drawingBufferHeight,K.RGBA,K.UNSIGNED_BYTE,X),function(ue,pe,we){for(var ge=parseInt(we/2),ye=4*pe,_e=new Uint8Array(4*pe),Le=0;Le<ge;++Le){var Ce=Le*ye,tt=(we-Le-1)*ye;_e.set(ue.subarray(Ce,Ce+ye)),ue.copyWithin(Ce,tt,tt+ye),ue.set(_e,tt)}return ue}(X,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,z.push(fe),B++,A||V.html("Saved frame <b>"+z.length.toString()+"</b> out of "+U.toString()),Z.next=48,new Promise(function(ue){return setTimeout(ue,0)});Z.next=50;break;case 48:Z.next=39;break;case 50:A||V.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(W),re=(0,c.GIFEncoder)(),T=function(ue){for(var pe=new Uint8Array(ue.length*ue[0].length),we=0;we<ue.length;we++)pe.set(ue[we],we*ue[0].length);var ge=(0,c.quantize)(pe,256,{format:"rgba4444",oneBitAlpha:!0});return ge.length===256?ge[ge.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:ge.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),ge}(z),L={},G=function(ue){for(var pe=ue.length/4,we=new Uint8Array(pe),ge=0;ge<pe;ge++){var ye=ue[4*ge]<<24|ue[4*ge+1]<<16|ue[4*ge+2]<<8|ue[4*ge+3];L[ye]===void 0&&(L[ye]=(0,c.nearestColorIndex)(T,ue.slice(4*ge,4*(ge+1)))),we[ge]=L[ye]}return we},H=T.length-1,J=[],ee=0;case 60:if(!(ee<z.length)){Z.next=71;break}if(ie=G(z[ee]),fe=ie.slice(),ee===0)re.writeFrame(ie,this.width,this.height,{palette:T,delay:I,dispose:1});else{for(oe=0;oe<ie.length;oe++)ie[oe]===J[oe]&&(ie[oe]=H);re.writeFrame(ie,this.width,this.height,{delay:I,transparent:!0,transparentIndex:H,dispose:1})}return J=fe,A||V.html("Rendered frame <b>"+ee.toString()+"</b> out of "+U.toString()),Z.next=68,new Promise(function(ue){return setTimeout(ue,0)});case 68:ee++,Z.next=60;break;case 71:re.finish(),de=re.bytesView(),de=new Blob([de],{type:"image/gif"}),z=[],this._recording=!1,this.loop(),A||(V.html("Done. Downloading your gif!🌸"),0<P&&setTimeout(function(){return V.remove()},1e3*P)),l.default.prototype.downloadFile(de,j,"gif");case 80:case"end":return Z.stop()}},_,this)});var h,w=function(){var _=this,j=arguments;return new Promise(function(E,S){var C=h.apply(_,j);function M(P){y(C,E,S,M,A,"next",P)}function A(P){y(C,E,S,M,A,"throw",P)}M(void 0)})};return function(_,j){return w.apply(this,arguments)}}(),l.default.prototype.image=function(h,w,_,j,B,W,z,V,K,P,D,I){l.default._validateParameters("image",arguments);var X=h.width,U=h.height,N=(I=I||v.CENTER,D=D||v.CENTER,h.elt&&(X=X!==void 0?X:h.elt.width,U=U!==void 0?U:h.elt.height),h.elt&&h.elt.videoWidth&&!h.canvas&&(X=X!==void 0?X:h.elt.videoWidth,U=U!==void 0?U:h.elt.videoHeight),j||X),B=B||U,W=W||0,z=z||0,V=p(V!==void 0?V:X,X),X=p(K!==void 0?K:U,U),K=1;h.elt&&!h.canvas&&h.elt.style.width&&(K=h.elt.videoWidth&&!j?h.elt.videoWidth:h.elt.width,K/=parseInt(h.elt.style.width,10)),W*=K,z*=K,X*=K,V*=K,U=b(P,D,I,(U=f.default.modeAdjust(w,_,N,B,this._renderer._imageMode)).x,U.y,U.w,U.h,W,z,V,X),this._renderer.image(h,U.sx,U.sy,U.sw,U.sh,U.dx,U.dy,U.dw,U.dh)},l.default.prototype.tint=function(){for(var h=arguments.length,w=new Array(h),_=0;_<h;_++)w[_]=arguments[_];l.default._validateParameters("tint",w);var j=this.color.apply(this,w);this._renderer._tint=j.levels},l.default.prototype.noTint=function(){this._renderer._tint=null},l.default.prototype._getTintedImageCanvas=l.default.Renderer2D.prototype._getTintedImageCanvas,l.default.prototype.imageMode=function(h){l.default._validateParameters("imageMode",arguments),h!==v.CORNER&&h!==v.CORNERS&&h!==v.CENTER||(this._renderer._imageMode=h)},t=l.default,a.default=t},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(t,i,a){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=l(t("../core/main")),u=l(t("./filters"));function l(v){return v&&v.__esModule?v:{default:v}}function f(v,m){for(var c=0;c<m.length;c++){var d=m[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(v,d.key,d)}}s.default.Image=function(){function v(d,g){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");this.width=d,this.height=g,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var m,c;return m=v,(c=[{key:"pixelDensity",value:function(d){return d!==void 0?(d<=0&&(s.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),d=1),this._pixelDensity=d,this.width/=d,this.height/=d,this):this._pixelDensity}},{key:"_animateGif",value:function(b){var g,y=this.gifProperties,b=b._lastRealFrameTime||window.performance.now();y.lastChangeTime===0&&(y.lastChangeTime=b),y.playing&&(y.timeDisplayed=b-y.lastChangeTime,g=y.frames[y.displayIndex].delay,y.timeDisplayed>=g&&(g=Math.floor(y.timeDisplayed/g),y.timeDisplayed=0,y.lastChangeTime=b,y.displayIndex+=g,y.loopCount=Math.floor(y.displayIndex/y.numFrames),y.loopLimit!==null&&y.loopCount>=y.loopLimit?y.playing=!1:(b=y.displayIndex%y.numFrames,this.drawingContext.putImageData(y.frames[b].image,0,0),y.displayIndex=b,this.setModified(!0))))}},{key:"_setProperty",value:function(d,g){this[d]=g,this.setModified(!0)}},{key:"loadPixels",value:function(){s.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(d,g,y,b){s.default.Renderer2D.prototype.updatePixels.call(this,d,g,y,b),this.setModified(!0)}},{key:"get",value:function(d,g,y,b){return s.default._validateParameters("p5.Image.get",arguments),s.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var d=arguments.length,g=new Array(d),y=0;y<d;y++)g[y]=arguments[y];return s.default.Renderer2D.prototype._getPixel.apply(this,g)}},{key:"set",value:function(d,g,y){s.default.Renderer2D.prototype.set.call(this,d,g,y),this.setModified(!0)}},{key:"resize",value:function(d,g){d===0&&g===0?(d=this.canvas.width,g=this.canvas.height):d===0?d=this.canvas.width*g/this.canvas.height:g===0&&(g=this.canvas.height*d/this.canvas.width),d=Math.floor(d),g=Math.floor(g);var y=document.createElement("canvas");if(y.width=d,y.height=g,this.gifProperties)for(var b=this.gifProperties,p=0;p<b.numFrames;p++){for(var h=this.drawingContext.createImageData(d,g),w=(C=C=S=E=j=void 0,b.frames[p].image),_=h,j=0,E=0;E<_.height;E++)for(var S=0;S<_.width;S++){var C=Math.floor(S*w.width/_.width),C=4*(Math.floor(E*w.height/_.height)*w.width+C);_.data[j++]=w.data[C++],_.data[j++]=w.data[C++],_.data[j++]=w.data[C++],_.data[j++]=w.data[+C]}b.frames[p].image=h}y.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,y.width,y.height),this.canvas.width=this.width=d,this.canvas.height=this.height=g,this.drawingContext.drawImage(y,0,0,d,g,0,0,d,g),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var d=arguments.length,g=new Array(d),y=0;y<d;y++)g[y]=arguments[y];s.default.prototype.copy.apply(this,g)}},{key:"mask",value:function(d){var g=this.drawingContext.globalCompositeOperation,y=this._pixelDensity,b=1,p=[d=d===void 0?this:d,0,0,(b=d instanceof s.default.Renderer?d._pInst._pixelDensity:b)*d.width,b*d.height,0,0,y*this.width,y*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var h=0;h<this.gifProperties.frames.length;h++)this.drawingContext.putImageData(this.gifProperties.frames[h].image,0,0),this.copy.apply(this,p),this.gifProperties.frames[h].image=this.drawingContext.getImageData(0,0,y*this.width,y*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,p);this.drawingContext.globalCompositeOperation=g,this.setModified(!0)}},{key:"filter",value:function(d,g){u.default.apply(this.canvas,u.default[d],g),this.setModified(!0)}},{key:"blend",value:function(){for(var d=arguments.length,g=new Array(d),y=0;y<d;y++)g[y]=arguments[y];s.default._validateParameters("p5.Image.blend",arguments),s.default.prototype.blend.apply(this,g),this.setModified(!0)}},{key:"setModified",value:function(d){this._modified=d}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(d,g){this.gifProperties?s.default.prototype.encodeAndDownloadGif(this,d):s.default.prototype.saveCanvas(this.canvas,d,g)}},{key:"reset",value:function(){var d;this.gifProperties&&((d=this.gifProperties).playing=!0,d.timeSinceStart=0,d.timeDisplayed=0,d.lastChangeTime=0,d.loopCount=0,d.displayIndex=0,this.drawingContext.putImageData(d.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var d;if(this.gifProperties)return(d=this.gifProperties).displayIndex%d.numFrames}},{key:"setFrame",value:function(d){var g;this.gifProperties&&(d<(g=this.gifProperties).numFrames&&0<=d?(g.timeDisplayed=0,g.lastChangeTime=0,g.displayIndex=d,this.drawingContext.putImageData(g.frames[d].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(d,g){if(this.gifProperties){var y=this.gifProperties;if(g<y.numFrames&&0<=g)y.frames[g].delay=d;else{var b=!0,g=!1,p=void 0;try{for(var h,w=y.frames[Symbol.iterator]();!(b=(h=w.next()).done);b=!0)h.value.delay=d}catch(j){g=!0,p=j}finally{try{b||w.return==null||w.return()}finally{if(g)throw p}}}}}}])&&f(m.prototype,c),v}(),t=s.default.Image,a.default=t},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(t,i,a){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=l(t("../core/main")),u=l(t("./filters"));function l(f){return f&&f.__esModule?f:{default:f}}t("../color/p5.Color"),s.default.prototype.pixels=[],s.default.prototype.blend=function(){for(var f,v=arguments.length,m=new Array(v),c=0;c<v;c++)m[c]=arguments[c];s.default._validateParameters("blend",m),this._renderer?(f=this._renderer).blend.apply(f,m):s.default.Renderer2D.prototype.blend.apply(this,m)},s.default.prototype.copy=function(){for(var f,v,m,c,d,g,y,b,p,h=arguments.length,w=new Array(h),_=0;_<h;_++)w[_]=arguments[_];if(s.default._validateParameters("copy",w),w.length===9)f=w[0],v=w[1],m=w[2],c=w[3],d=w[4],g=w[5],y=w[6],b=w[7],p=w[8];else{if(w.length!==8)throw new Error("Signature not supported");f=this,v=w[0],m=w[1],c=w[2],d=w[3],g=w[4],y=w[5],b=w[6],p=w[7]}s.default.prototype._copyHelper(this,f,v,m,c,d,g,y,b,p)},s.default.prototype._copyHelper=function(f,v,m,c,d,g,y,b,p,h){var w=v.canvas.width/v.width,_=0,j=0;v._renderer&&v._renderer.isP3D&&(_=v.width/2,j=v.height/2),f._renderer&&f._renderer.isP3D?(f.push(),f.resetMatrix(),f.noLights(),f.blendMode(f.BLEND),f.imageMode(f.CORNER),s.default.RendererGL.prototype.image.call(f._renderer,v,m+_,c+j,d,g,y,b,p,h),f.pop()):f.drawingContext.drawImage(v.canvas,w*(m+_),w*(c+j),w*d,w*g,y,b,p,h)},s.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},s.default.prototype.filter=function(){for(var f=arguments.length,v=new Array(f),m=0;m<f;m++)v[m]=arguments[m];s.default._validateParameters("filter",v);var y=(function(){var b,p={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof s.default.Shader?p.shader=arguments.length<=0?void 0:arguments[0]:(p.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(p.value=arguments.length<=1?void 0:arguments[1]),((b=arguments.length-1)<0||arguments.length<=b?void 0:arguments[b])===!1&&(p.useWebGL=!1)),p}).apply(void 0,v),c=y.shader,d=y.operation,g=y.value,y=y.useWebGL;this._renderer.isP3D&&c?s.default.RendererGL.prototype.filter.call(this._renderer,c):y||this._renderer.isP3D?(!y&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?s.default.RendererGL.prototype.filter.call(this._renderer,d,g):((c=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),c.filter.apply(c,v),this.copy(c._renderer,0,0,this.width,this.height,0,0,this.width,this.height),c.clear())):this.canvas!==void 0?u.default.apply(this.canvas,u.default[d],g):u.default.apply(this.elt,u.default[d],g)},s.default.prototype.get=function(f,v,m,c){var d;return s.default._validateParameters("get",arguments),(d=this._renderer).get.apply(d,arguments)},s.default.prototype.loadPixels=function(){for(var f=arguments.length,v=new Array(f),m=0;m<f;m++)v[m]=arguments[m];s.default._validateParameters("loadPixels",v),this._renderer.loadPixels()},s.default.prototype.set=function(f,v,m){this._renderer.set(f,v,m)},s.default.prototype.updatePixels=function(f,v,m,c){s.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(f,v,m,c)},t=s.default,a.default=t},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(t,i,a){function s(g){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var u=v(t("../core/main")),l=(t("whatwg-fetch"),t("es6-promise/auto"),v(t("fetch-jsonp"))),f=v(t("file-saver"));function v(g){return g&&g.__esModule?g:{default:g}}function m(g){return(m=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(y){return s(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":s(y)})(g)}function c(g){return g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function d(g,y){y&&y!==!0&&y!=="true"||(y="");var b="";return(g=g||"untitled")&&g.includes(".")&&(b=g.split(".").pop()),y&&b!==y&&(b=y,g="".concat(g,".").concat(b)),[g,b]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),u.default.prototype.loadJSON=function(){for(var g=arguments.length,y=new Array(g),b=0;b<g;b++)y[b]=arguments[b];u.default._validateParameters("loadJSON",y);for(var p,h,w,_=y[0],j={},E="json",S=1;S<y.length;S++){var C=y[S];typeof C=="string"?C!=="jsonp"&&C!=="json"||(E=C):typeof C=="function"?p?h=C:p=C:m(C)==="object"&&(C.hasOwnProperty("jsonpCallback")||C.hasOwnProperty("jsonpCallbackFunction"))&&(E="jsonp",w=C)}var M=this;return this.httpDo(_,"GET",w,E,function(A){for(var P in A)j[P]=A[P];p!==void 0&&p(A),M._decrementPreload()},function(A){if(u.default._friendlyFileLoadError(5,_),!h)throw A;h(A)}),j},u.default.prototype.loadStrings=function(){for(var g=arguments.length,y=new Array(g),b=0;b<g;b++)y[b]=arguments[b];u.default._validateParameters("loadStrings",y);for(var p,h,w=[],_=1;_<y.length;_++){var j=y[_];typeof j=="function"&&(p===void 0?p=j:h===void 0&&(h=j))}var E=this;return u.default.prototype.httpDo.call(this,y[0],"GET","text",function(S){for(var C=S.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),M=0,A=C.length;M<A;M+=32768)Array.prototype.push.apply(w,C.slice(M,Math.min(M+32768,A)));p!==void 0&&p(w),E._decrementPreload()},function(S){if(u.default._friendlyFileLoadError(3,S),!h)throw S;h(S)}),w},u.default.prototype.loadTable=function(g){var y,b,p,h=!1,w=g.substring(g.lastIndexOf(".")+1,g.length);w==="csv"?p=",":w==="ssv"?p=";":w==="tsv"&&(p="	");for(var _=1;_<arguments.length;_++)typeof arguments[_]=="function"?y===void 0?y=arguments[_]:b===void 0&&(b=arguments[_]):typeof arguments[_]=="string"&&(arguments[_]==="header"&&(h=!0),arguments[_]==="csv"?p=",":arguments[_]==="ssv"?p=";":arguments[_]==="tsv"&&(p="	"));var j=new u.default.Table,E=this;return this.httpDo(g,"GET","table",function(S){for(var C,M,A={},P=0,D=[],I=0,U=null,N=function(){A.currentState=P,A.token=""},B=function(){U.push(A.token),N()},W=function(){A.currentState=4,D.push(U),U=null};;){if((C=S[I++])==null){if(A.escaped)throw new Error("Unclosed quote in file.");if(U){B(),W();break}}if(U===null&&(A.escaped=!1,U=[],N()),A.currentState===P){if(C==='"'){A.escaped=!0,A.currentState=1;continue}A.currentState=1}if(A.currentState===1&&A.escaped)if(C==='"')S[I]==='"'?(A.token+='"',I++):(A.escaped=!1,A.currentState=2);else{if(C==="\r")continue;A.token+=C}else C==="\r"?(S[I]===`
`&&I++,B(),W()):C===`
`?(B(),W()):C===p?B():A.currentState===1&&(A.token+=C)}if(h)j.columns=D.shift();else for(var z=0;z<D[0].length;z++)j.columns[z]="null";for(var V=0;V<D.length;V++)(D[V].length!==1||D[V][0]!=="undefined"&&D[V][0]!=="")&&((M=new u.default.TableRow).arr=D[V],M.obj=function(X,K){if((K=K||[])===void 0)for(var re=0;re<X.length;re++)K[re.toString()]=re;return Object.fromEntries(K.map(function(T,L){return[T,X[L]]}))}(D[V],j.columns),j.addRow(M));typeof y=="function"&&y(j),E._decrementPreload()},function(S){u.default._friendlyFileLoadError(2,g),b?b(S):console.error(S)}),j},u.default.prototype.loadXML=function(){for(var g=arguments.length,y=new Array(g),b=0;b<g;b++)y[b]=arguments[b];for(var p,h,w=new u.default.XML,_=1;_<y.length;_++){var j=y[_];typeof j=="function"&&(p===void 0?p=j:h===void 0&&(h=j))}var E=this;return this.httpDo(y[0],"GET","xml",function(S){for(var C in S)w[C]=S[C];p!==void 0&&p(w),E._decrementPreload()},function(S){if(u.default._friendlyFileLoadError(1,S),!h)throw S;h(S)}),w},u.default.prototype.loadBytes=function(g,y,b){var p={},h=this;return this.httpDo(g,"GET","arrayBuffer",function(w){p.bytes=new Uint8Array(w),typeof y=="function"&&y(p),h._decrementPreload()},function(w){if(u.default._friendlyFileLoadError(6,g),!b)throw w;b(w)}),p},u.default.prototype.httpGet=function(){for(var g=arguments.length,y=new Array(g),b=0;b<g;b++)y[b]=arguments[b];return u.default._validateParameters("httpGet",y),y.splice(1,0,"GET"),u.default.prototype.httpDo.apply(this,y)},u.default.prototype.httpPost=function(){for(var g=arguments.length,y=new Array(g),b=0;b<g;b++)y[b]=arguments[b];return u.default._validateParameters("httpPost",y),y.splice(1,0,"POST"),u.default.prototype.httpDo.apply(this,y)},u.default.prototype.httpDo=function(){for(var g,y,b,p={},h=0,w="text/plain",_=arguments.length-1;0<_&&typeof(_<0||arguments.length<=_?void 0:arguments[_])=="function";_--)h++;var j=arguments.length-h,E=arguments.length<=0?void 0:arguments[0];if(j==2&&typeof E=="string"&&m(arguments.length<=1?void 0:arguments[1])==="object")D=new Request(E,arguments.length<=1?void 0:arguments[1]),y=arguments.length<=2?void 0:arguments[2],b=arguments.length<=3?void 0:arguments[3];else{for(var S,C="GET",M=1;M<arguments.length;M++){var A=M<0||arguments.length<=M?void 0:arguments[M];if(typeof A=="string")A==="GET"||A==="POST"||A==="PUT"||A==="DELETE"?C=A:A==="json"||A==="jsonp"||A==="binary"||A==="arrayBuffer"||A==="xml"||A==="text"||A==="table"?g=A:S=A;else if(typeof A=="number")S=A.toString();else if(m(A)==="object")if(A.hasOwnProperty("jsonpCallback")||A.hasOwnProperty("jsonpCallbackFunction"))for(var P in A)p[P]=A[P];else w=A instanceof u.default.XML?(S=A.serialize(),"application/xml"):(S=JSON.stringify(A),"application/json");else typeof A=="function"&&(y?b=A:y=A)}var j=C==="GET"?new Headers:new Headers({"Content-Type":w}),D=new Request(E,{method:C,mode:"cors",body:S,headers:j})}return(j=(j=(g=g||(E.includes("json")?"json":E.includes("xml")?"xml":"text"))==="jsonp"?(0,l.default)(E,p):fetch(D)).then(function(I){if(!I.ok)throw(U=new Error(I.body)).status=I.status,U.ok=!1,U;var U=0;switch((U=g!=="jsonp"?I.headers.get("content-length"):U)&&64e6<U&&u.default._friendlyFileLoadError(7,E),g){case"json":case"jsonp":return I.json();case"binary":return I.blob();case"arrayBuffer":return I.arrayBuffer();case"xml":return I.text().then(function(N){return N=new DOMParser().parseFromString(N,"text/xml"),new u.default.XML(N.documentElement)});default:return I.text()}})).then(y||function(){}),j.catch(b||console.error),j},window.URL=window.URL||window.webkitURL,u.default.prototype._pWriters=[],u.default.prototype.createWriter=function(g,y){var b,p;for(p in u.default.prototype._pWriters)if(u.default.prototype._pWriters[p].name===g)return b=new u.default.PrintWriter(g+this.millis(),y),u.default.prototype._pWriters.push(b),b;return b=new u.default.PrintWriter(g,y),u.default.prototype._pWriters.push(b),b},u.default.PrintWriter=function(g,y){var b=this;this.name=g,this.content="",this.write=function(p){this.content+=p},this.print=function(p){this.content+="".concat(p,`
`)},this.clear=function(){this.content=""},this.close=function(){var p,h=[];for(p in h.push(this.content),u.default.prototype.writeFile(h,g,y),u.default.prototype._pWriters)u.default.prototype._pWriters[p].name===this.name&&u.default.prototype._pWriters.splice(p,1);b.clear(),b={}}},u.default.prototype.save=function(g,y,b){var p=arguments,h=(this._curElement||this).elt;if(p.length===0)u.default.prototype.saveCanvas(h);else if(p[0]instanceof u.default.Renderer||p[0]instanceof u.default.Graphics)u.default.prototype.saveCanvas(p[0].elt,p[1],p[2]);else if(p.length===1&&typeof p[0]=="string")u.default.prototype.saveCanvas(h,p[0]);else switch(d(p[1],p[2])[1]){case"json":return void u.default.prototype.saveJSON(p[0],p[1],p[2]);case"txt":return void u.default.prototype.saveStrings(p[0],p[1],p[2]);default:p[0]instanceof Array?u.default.prototype.saveStrings(p[0],p[1],p[2]):p[0]instanceof u.default.Table?u.default.prototype.saveTable(p[0],p[1],p[2]):p[0]instanceof u.default.Image?u.default.prototype.saveCanvas(p[0].canvas,p[1]):p[0]instanceof u.default.SoundFile&&u.default.prototype.saveSound(p[0],p[1],p[2],p[3])}},u.default.prototype.saveJSON=function(g,y,b){u.default._validateParameters("saveJSON",arguments),b=b?JSON.stringify(g):JSON.stringify(g,void 0,2),this.saveStrings(b.split(`
`),y,"json")},u.default.prototype.saveJSONObject=u.default.prototype.saveJSON,u.default.prototype.saveJSONArray=u.default.prototype.saveJSON,u.default.prototype.saveStrings=function(g,y,b,p){u.default._validateParameters("saveStrings",arguments);for(var h=this.createWriter(y,b||"txt"),w=0;w<g.length;w++)p?h.write(g[w]+`\r
`):h.write(g[w]+`
`);h.close(),h.clear()},u.default.prototype.saveTable=function(g,y,b){u.default._validateParameters("saveTable",arguments),p=b===void 0?y.substring(y.lastIndexOf(".")+1,y.length):b;var p,h=this.createWriter(y,p),w=g.columns,_=p==="tsv"?"	":",";if(p!=="html"){if(w[0]!=="0"){for(var j=0;j<w.length;j++)j<w.length-1?h.write(w[j]+_):h.write(w[j]);h.write(`
`)}for(var E=0;E<g.rows.length;E++){for(var S=void 0,S=0;S<g.rows[E].arr.length;S++)S<g.rows[E].arr.length-1?p==="csv"&&String(g.rows[E].arr[S]).includes(",")?h.write('"'+g.rows[E].arr[S]+'"'+_):h.write(g.rows[E].arr[S]+_):p==="csv"&&String(g.rows[E].arr[S]).includes(",")?h.write('"'+g.rows[E].arr[S]+'"'):h.write(g.rows[E].arr[S]);h.write(`
`)}}else{if(h.print("<html>"),h.print("<head>"),h.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),h.print("</head>"),h.print("<body>"),h.print("  <table>"),w[0]!=="0"){h.print("    <tr>");for(var C=0;C<w.length;C++){var M=c(w[C]);h.print("      <td>".concat(M)),h.print("      </td>")}h.print("    </tr>")}for(var A=0;A<g.rows.length;A++){h.print("    <tr>");for(var P=0;P<g.columns.length;P++){var D=c(g.rows[A].getString(P));h.print("      <td>".concat(D)),h.print("      </td>")}h.print("    </tr>")}h.print("  </table>"),h.print("</body>"),h.print("</html>")}h.close(),h.clear()},u.default.prototype.writeFile=function(h,y,b){var p="application/octet-stream",h=(u.default.prototype._isSafari()&&(p="text/plain"),new Blob(h,{type:p}));u.default.prototype.downloadFile(h,y,b)},u.default.prototype.downloadFile=function(g,h,w){var p,h=d(h,w),w=h[0];g instanceof Blob?f.default.saveAs(g,w):((p=document.createElement("a")).href=g,p.download=w,p.onclick=function(_){document.body.removeChild(_.target),_.stopPropagation()},p.style.display="none",document.body.appendChild(p),u.default.prototype._isSafari()&&(g=(g=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(h[1],'"'),alert(g)),p.click())},u.default.prototype._checkFileExtension=d,u.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},t=u.default,a.default=t},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(t,i,a){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(l,f){for(var v=0;v<f.length;v++){var m=f[v];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(l,m.key,m)}}s.default.Table=function(){function l(){var m=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],c=this,d=l;if(!(c instanceof d))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=m}var f,v;return f=l,(v=[{key:"addRow",value:function(m){if(m=m||new s.default.TableRow,m.arr===void 0||m.obj===void 0)throw new Error("invalid TableRow: ".concat(m));return(m.table=this).rows.push(m),m}},{key:"removeRow",value:function(m){this.rows[m].table=null,m=this.rows.splice(m+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(m)}},{key:"getRow",value:function(m){return this.rows[m]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(m,c){if(typeof c=="string"){for(var d=0;d<this.rows.length;d++)if(this.rows[d].obj[c]===m)return this.rows[d]}else for(var g=0;g<this.rows.length;g++)if(this.rows[g].arr[c]===m)return this.rows[g];return null}},{key:"findRows",value:function(m,c){var d=[];if(typeof c=="string")for(var g=0;g<this.rows.length;g++)this.rows[g].obj[c]===m&&d.push(this.rows[g]);else for(var y=0;y<this.rows.length;y++)this.rows[y].arr[c]===m&&d.push(this.rows[y]);return d}},{key:"matchRow",value:function(m,c){if(typeof c=="number"){for(var d=0;d<this.rows.length;d++)if(this.rows[d].arr[c].match(m))return this.rows[d]}else for(var g=0;g<this.rows.length;g++)if(this.rows[g].obj[c].match(m))return this.rows[g];return null}},{key:"matchRows",value:function(m,c){var d=[];if(typeof c=="number")for(var g=0;g<this.rows.length;g++)this.rows[g].arr[c].match(m)&&d.push(this.rows[g]);else for(var y=0;y<this.rows.length;y++)this.rows[y].obj[c].match(m)&&d.push(this.rows[y]);return d}},{key:"getColumn",value:function(m){var c=[];if(typeof m=="string")for(var d=0;d<this.rows.length;d++)c.push(this.rows[d].obj[m]);else for(var g=0;g<this.rows.length;g++)c.push(this.rows[g].arr[m]);return c}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(m){this.columns.push(m||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(m,c){for(var d=[],g=0;g<m.length;g++)d.push(m.charAt(g).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var y=new RegExp(d.join("|"),"g");if(c===void 0)for(var b=0;b<this.columns.length;b++)for(var p=0;p<this.rows.length;p++){var h=(h=this.rows[p].arr[b]).replace(y,"");this.rows[p].arr[b]=h,this.rows[p].obj[this.columns[b]]=h}else if(typeof c=="string")for(var w=0;w<this.rows.length;w++){var _=(_=this.rows[w].obj[c]).replace(y,""),j=(this.rows[w].obj[c]=_,this.columns.indexOf(c));this.rows[w].arr[j]=_}else for(var E=0;E<this.rows.length;E++){var S=(S=this.rows[E].arr[c]).replace(y,"");this.rows[E].arr[c]=S,this.rows[E].obj[this.columns[c]]=S}}},{key:"trim",value:function(m){var c=new RegExp(" ","g");if(m===void 0)for(var d=0;d<this.columns.length;d++)for(var g=0;g<this.rows.length;g++){var y=(y=this.rows[g].arr[d]).replace(c,"");this.rows[g].arr[d]=y,this.rows[g].obj[this.columns[d]]=y}else if(typeof m=="string")for(var b=0;b<this.rows.length;b++){var p=(p=this.rows[b].obj[m]).replace(c,""),h=(this.rows[b].obj[m]=p,this.columns.indexOf(m));this.rows[b].arr[h]=p}else for(var w=0;w<this.rows.length;w++){var _=(_=this.rows[w].arr[m]).replace(c,"");this.rows[w].arr[m]=_,this.rows[w].obj[this.columns[m]]=_}}},{key:"removeColumn",value:function(g){typeof g=="string"?d=this.columns.indexOf(c=g):c=this.columns[d=g];var c,d,g=this.columns.splice(d+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(g);for(var y=0;y<this.rows.length;y++){var b=this.rows[y].arr,p=b.splice(d+1,b.length);b.pop(),this.rows[y].arr=b.concat(p),delete this.rows[y].obj[c]}}},{key:"set",value:function(m,c,d){this.rows[m].set(c,d)}},{key:"setNum",value:function(m,c,d){this.rows[m].setNum(c,d)}},{key:"setString",value:function(m,c,d){this.rows[m].setString(c,d)}},{key:"get",value:function(m,c){return this.rows[m].get(c)}},{key:"getNum",value:function(m,c){return this.rows[m].getNum(c)}},{key:"getString",value:function(m,c){return this.rows[m].getString(c)}},{key:"getObject",value:function(m){for(var c,d={},g=0;g<this.rows.length;g++)if(c=this.rows[g].obj,typeof m=="string"){if(!(0<=this.columns.indexOf(m)))throw new Error('This table has no column named "'.concat(m,'"'));d[c[m]]=c}else d[g]=this.rows[g].obj;return d}},{key:"getArray",value:function(){for(var m=[],c=0;c<this.rows.length;c++)m.push(this.rows[c].arr);return m}}])&&u(f.prototype,v),l}(),t=s.default,a.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(t,i,a){t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(u,l){for(var f=0;f<l.length;f++){var v=l[f];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(u,v.key,v)}}t.default.TableRow=function(){function u(v,m){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");var c=[];v&&(c=v.split(m=m||",")),this.arr=c,this.obj=Object.fromEntries(c.entries()),this.table=null}var l,f;return l=u,(f=[{key:"set",value:function(v,m){if(typeof v=="string"){var c=this.table.columns.indexOf(v);if(!(0<=c))throw new Error('This table has no column named "'.concat(v,'"'));this.obj[v]=m,this.arr[c]=m}else{if(!(v<this.table.columns.length))throw new Error("Column #".concat(v," is out of the range of this table"));this.arr[v]=m,c=this.table.columns[v],this.obj[c]=m}}},{key:"setNum",value:function(v,m){m=parseFloat(m),this.set(v,m)}},{key:"setString",value:function(v,m){m=m.toString(),this.set(v,m)}},{key:"get",value:function(v){return(typeof v=="string"?this.obj:this.arr)[v]}},{key:"getNum",value:function(v){var m=parseFloat(typeof v=="string"?this.obj[v]:this.arr[v]);if(m.toString()==="NaN")throw"Error: ".concat(this.obj[v]," is NaN (Not a Number)");return m}},{key:"getString",value:function(v){return(typeof v=="string"?this.obj:this.arr)[v].toString()}}])&&s(l.prototype,f),u}(),t=t.default,a.default=t},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(t,i,a){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(f,v){for(var m=0;m<v.length;m++){var c=v[m];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function l(f){for(var v=[],m=0;m<f.length;m++)v.push(new s.default.XML(f[m]));return v}s.default.XML=function(){function f(c){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");c?this.DOM=c:(c=document.implementation.createDocument(null,"doc"),this.DOM=c.createElement("root"))}var v,m;return v=f,(m=[{key:"getParent",value:function(){return new s.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(c){var d=this.DOM.innerHTML,g=this.DOM.attributes,y=document.implementation.createDocument(null,"default").createElement(c);y.innerHTML=d;for(var b=0;b<g.length;b++)y.setAttribute(g[b].nodeName,g[b].nodeValue);this.DOM=y}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var c=[],d=0;d<this.DOM.childNodes.length;d++)c.push(this.DOM.childNodes[d].nodeName);return c}},{key:"getChildren",value:function(c){return l(c?this.DOM.getElementsByTagName(c):this.DOM.children)}},{key:"getChild",value:function(c){if(typeof c!="string")return new s.default.XML(this.DOM.children[c]);var d=!0,g=!1,y=void 0;try{for(var b,p=this.DOM.children[Symbol.iterator]();!(d=(b=p.next()).done);d=!0){var h=b.value;if(h.tagName===c)return new s.default.XML(h)}}catch(w){g=!0,y=w}finally{try{d||p.return==null||p.return()}finally{if(g)throw y}}}},{key:"addChild",value:function(c){c instanceof s.default.XML&&this.DOM.appendChild(c.DOM)}},{key:"removeChild",value:function(c){var d=-1;if(typeof c=="string"){for(var g=0;g<this.DOM.children.length;g++)if(this.DOM.children[g].tagName===c){d=g;break}}else d=c;d!==-1&&this.DOM.removeChild(this.DOM.children[d])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var c=[],d=!0,g=!1,y=void 0;try{for(var b,p=this.DOM.attributes[Symbol.iterator]();!(d=(b=p.next()).done);d=!0){var h=b.value;c.push(h.nodeName)}}catch(w){g=!0,y=w}finally{try{d||p.return==null||p.return()}finally{if(g)throw y}}return c}},{key:"hasAttribute",value:function(c){var d={},g=!0,y=!1,b=void 0;try{for(var p,h=this.DOM.attributes[Symbol.iterator]();!(g=(p=h.next()).done);g=!0){var w=p.value;d[w.nodeName]=w.nodeValue}}catch(_){y=!0,b=_}finally{try{g||h.return==null||h.return()}finally{if(y)throw b}}return!!d[c]}},{key:"getNum",value:function(c,d){var g={},y=!0,b=!1,p=void 0;try{for(var h,w=this.DOM.attributes[Symbol.iterator]();!(y=(h=w.next()).done);y=!0){var _=h.value;g[_.nodeName]=_.nodeValue}}catch(j){b=!0,p=j}finally{try{y||w.return==null||w.return()}finally{if(b)throw p}}return Number(g[c])||d||0}},{key:"getString",value:function(c,d){var g={},y=!0,b=!1,p=void 0;try{for(var h,w=this.DOM.attributes[Symbol.iterator]();!(y=(h=w.next()).done);y=!0){var _=h.value;g[_.nodeName]=_.nodeValue}}catch(j){b=!0,p=j}finally{try{y||w.return==null||w.return()}finally{if(b)throw p}}return g[c]?String(g[c]):d||null}},{key:"setAttribute",value:function(c,d){this.DOM.setAttribute(c,d)}},{key:"getContent",value:function(c){var d=this.DOM.textContent;return(d=d.replace(/\s\s+/g,","))||c||null}},{key:"setContent",value:function(c){this.DOM.children.length||(this.DOM.textContent=c)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&u(v.prototype,m),f}(),t=s.default,a.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(t,i,a){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(l){return function(f){if(Array.isArray(f)){for(var v=0,m=new Array(f.length);v<f.length;v++)m[v]=f[v];return m}}(l)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}s.default.prototype.abs=Math.abs,s.default.prototype.ceil=Math.ceil,s.default.prototype.constrain=function(l,f,v){return s.default._validateParameters("constrain",arguments),Math.max(Math.min(l,v),f)},s.default.prototype.dist=function(){for(var l=arguments.length,f=new Array(l),v=0;v<l;v++)f[v]=arguments[v];return s.default._validateParameters("dist",f),f.length===4?Math.hypot(f[2]-f[0],f[3]-f[1]):f.length===6?Math.hypot(f[3]-f[0],f[4]-f[1],f[5]-f[2]):void 0},s.default.prototype.exp=Math.exp,s.default.prototype.floor=Math.floor,s.default.prototype.lerp=function(l,f,v){return s.default._validateParameters("lerp",arguments),v*(f-l)+l},s.default.prototype.log=Math.log,s.default.prototype.mag=function(l,f){return s.default._validateParameters("mag",arguments),Math.hypot(l,f)},s.default.prototype.map=function(l,f,v,m,c,d){return s.default._validateParameters("map",arguments),l=(l-f)/(v-f)*(c-m)+m,d?m<c?this.constrain(l,m,c):this.constrain(l,c,m):l},s.default.prototype.max=function(){for(var l=function(c){return Math.max.apply(Math,u(c))},f=arguments.length,v=new Array(f),m=0;m<f;m++)v[m]=arguments[m];return Array.isArray(v[0])?l(v[0]):l(v)},s.default.prototype.min=function(){for(var l=function(c){return Math.min.apply(Math,u(c))},f=arguments.length,v=new Array(f),m=0;m<f;m++)v[m]=arguments[m];return Array.isArray(v[0])?l(v[0]):l(v)},s.default.prototype.norm=function(l,f,v){return s.default._validateParameters("norm",arguments),this.map(l,f,v,0,1)},s.default.prototype.pow=Math.pow,s.default.prototype.round=function(l,f){return f?(f=Math.pow(10,f),Math.round(l*f)/f):Math.round(l)},s.default.prototype.sq=function(l){return l*l},s.default.prototype.sqrt=Math.sqrt,s.default.prototype.fract=function(m){s.default._validateParameters("fract",arguments);var f,v=0,m=Number(m);return isNaN(m)||Math.abs(m)===1/0?m:(m<0&&(m=-m,v=1),String(m).includes(".")&&!String(m).includes("e")?(f=String(m),f=+("0"+f.slice(f.indexOf("."))),Math.abs(v-f)):m<1?Math.abs(v-m):0)},t=s.default,a.default=t},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(t,i,a){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(f,v,m){return(u=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(c,d,g){var y=[null];return y.push.apply(y,d),d=new(Function.bind.apply(c,y)),g&&l(d,g.prototype),d}).apply(null,arguments)}function l(f,v){return(l=Object.setPrototypeOf||function(m,c){return m.__proto__=c,m})(f,v)}s.default.prototype.createVector=function(f,v,m){return this instanceof s.default?u(s.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new s.default.Vector(f,v,m)},t=s.default,a.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(m,i,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,m=(m=m("../core/main"))&&m.__esModule?m:{default:m};function s(c){return .5*(1-Math.cos(c*Math.PI))}var u,l=4095,f=4,v=.5,m=(m.default.prototype.noise=function(c){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(u==null){u=new Array(4096);for(var y=0;y<4096;y++)u[y]=Math.random()}c<0&&(c=-c),d<0&&(d=-d),g<0&&(g=-g);for(var b,p,h=Math.floor(c),w=Math.floor(d),_=Math.floor(g),j=c-h,E=d-w,S=g-_,C=0,M=.5,A=0;A<f;A++){var P=h+(w<<4)+(_<<8),D=s(j),I=s(E),U=u[P&l];U+=D*(u[P+1&l]-U),b=u[P+16&l],U+=I*((b+=D*(u[P+16+1&l]-b))-U),b=u[(P+=256)&l],b+=D*(u[P+1&l]-b),p=u[P+16&l],b+=I*((p+=D*(u[P+16+1&l]-p))-b),C+=(U+=s(S)*(b-U))*M,M*=v,h<<=1,w<<=1,_<<=1,1<=(j*=2)&&(h++,j--),1<=(E*=2)&&(w++,E--),1<=(S*=2)&&(_++,S--)}return C},m.default.prototype.noiseDetail=function(c,d){0<c&&(f=c),0<d&&(v=d)},m.default.prototype.noiseSeed=function(c){y=4294967296;var d,g,y,b={setSeed:function(h){g=d=(h??Math.random()*y)>>>0},getSeed:function(){return d},rand:function(){return(g=(1664525*g+1013904223)%y)/y}};b.setSeed(c),u=new Array(4096);for(var p=0;p<4096;p++)u[p]=b.rand()},m.default);a.default=m},{"../core/main":283}],316:[function(t,i,a){function s(d){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(d)}function u(d){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(g){return s(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":s(g)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=(c=t("../core/main"))&&c.__esModule?c:{default:c},f=function(d){if(d&&d.__esModule)return d;if(d===null||u(d)!=="object"&&typeof d!="function")return{default:d};var g=v();if(g&&g.has(d))return g.get(d);var y,b={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in d){var h;Object.prototype.hasOwnProperty.call(d,y)&&((h=p?Object.getOwnPropertyDescriptor(d,y):null)&&(h.get||h.set)?Object.defineProperty(b,y,h):b[y]=d[y])}return b.default=d,g&&g.set(d,b),b}(t("../core/constants"));function v(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,v=function(){return d},d)}function m(d,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}}l.default.Vector=function(){function d(){var _=this,p=d;if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function");var h,w,_=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],h=(arguments.length<=2?void 0:arguments[2])||0,w=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(h=(arguments.length<=0?void 0:arguments[0])||0,w=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=h,this.y=w,this.z=_}var g,y,b;return g=d,b=[{key:"fromAngle",value:function(p){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;return new l.default.Vector(h*Math.cos(p),h*Math.sin(p),0)}},{key:"fromAngles",value:function(S,j){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,_=Math.cos(j),j=Math.sin(j),E=Math.cos(S),S=Math.sin(S);return new l.default.Vector(w*S*j,-w*E,w*S*_)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*f.TWO_PI)}},{key:"random3D",value:function(){var p=Math.random()*f.TWO_PI,h=2*Math.random()-1,_=Math.sqrt(1-h*h),w=_*Math.cos(p),_=_*Math.sin(p);return new l.default.Vector(w,_,h)}},{key:"copy",value:function(p){return p.copy(p)}},{key:"add",value:function(){for(var p=arguments.length,h=new Array(p),w=0;w<p;w++)h[w]=arguments[w];var _=h[0],j=h[1],E=h[2];return E?E.set(_):(E=_.copy(),h.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),E.add(j),E}},{key:"rem",value:function(p,h){if(p instanceof l.default.Vector&&h instanceof l.default.Vector)return(p=p.copy()).rem(h),p}},{key:"sub",value:function(){for(var p=arguments.length,h=new Array(p),w=0;w<p;w++)h[w]=arguments[w];var _=h[0],j=h[1],E=h[2];return E?E.set(_):(E=_.copy(),h.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),E.sub(j),E}},{key:"mult",value:function(){for(var p=arguments.length,h=new Array(p),w=0;w<p;w++)h[w]=arguments[w];var _=h[0],j=h[1],E=h[2];return E?E.set(_):(E=_.copy(),h.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),E.mult(j),E}},{key:"rotate",value:function(){for(var p=arguments.length,h=new Array(p),w=0;w<p;w++)h[w]=arguments[w];var _=h[0],j=h[1],E=h[2];return h.length===2?E=_.copy():(E instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),E.set(_)),E.rotate(j),E}},{key:"div",value:function(){for(var p=arguments.length,h=new Array(p),w=0;w<p;w++)h[w]=arguments[w];var _=h[0],j=h[1],E=h[2];return E?E.set(_):(E=_.copy(),h.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),E.div(j),E}},{key:"dot",value:function(p,h){return p.dot(h)}},{key:"cross",value:function(p,h){return p.cross(h)}},{key:"dist",value:function(p,h){return p.dist(h)}},{key:"lerp",value:function(){for(var p=arguments.length,h=new Array(p),w=0;w<p;w++)h[w]=arguments[w];var _=h[0],j=h[1],E=h[2],S=h[3];return S?S.set(_):(S=_.copy(),h.length===4&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),S.lerp(j,E),S}},{key:"slerp",value:function(){for(var p=arguments.length,h=new Array(p),w=0;w<p;w++)h[w]=arguments[w];var _=h[0],j=h[1],E=h[2],S=h[3];return S?S.set(_):(S=_.copy(),h.length===4&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),S.slerp(j,E),S}},{key:"mag",value:function(p){return p.mag()}},{key:"magSq",value:function(p){return p.magSq()}},{key:"normalize",value:function(){for(var p=arguments.length,h=new Array(p),w=0;w<p;w++)h[w]=arguments[w];var _=h[0],j=h[1];return h.length<2?j=_.copy():(j instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),j.set(_)),j.normalize()}},{key:"limit",value:function(){for(var p=arguments.length,h=new Array(p),w=0;w<p;w++)h[w]=arguments[w];var _=h[0],j=h[1],E=h[2];return h.length<3?E=_.copy():(E instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),E.set(_)),E.limit(j)}},{key:"setMag",value:function(){for(var p=arguments.length,h=new Array(p),w=0;w<p;w++)h[w]=arguments[w];var _=h[0],j=h[1],E=h[2];return h.length<3?E=_.copy():(E instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),E.set(_)),E.setMag(j)}},{key:"heading",value:function(p){return p.heading()}},{key:"angleBetween",value:function(p,h){return p.angleBetween(h)}},{key:"reflect",value:function(){for(var p=arguments.length,h=new Array(p),w=0;w<p;w++)h[w]=arguments[w];var _=h[0],j=h[1],E=h[2];return h.length<3?E=_.copy():(E instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),E.set(_)),E.reflect(j)}},{key:"array",value:function(p){return p.array()}},{key:"equals",value:function(p,h){var w;return p instanceof l.default.Vector?w=p:Array.isArray(p)?w=new l.default.Vector().set(p):l.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),w.equals(h)}}],(y=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(p,h,w){return p instanceof l.default.Vector?(this.x=p.x||0,this.y=p.y||0,this.z=p.z||0):Array.isArray(p)?(this.x=p[0]||0,this.y=p[1]||0,this.z=p[2]||0):(this.x=p||0,this.y=h||0,this.z=w||0),this}},{key:"copy",value:function(){return this.isPInst?new l.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new l.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(p,h,w){return p instanceof l.default.Vector?(this.x+=p.x||0,this.y+=p.y||0,this.z+=p.z||0):Array.isArray(p)?(this.x+=p[0]||0,this.y+=p[1]||0,this.z+=p[2]||0):(this.x+=p||0,this.y+=h||0,this.z+=w||0),this}},{key:"calculateRemainder2D",value:function(p,h){return p!==0&&(this.x=this.x%p),h!==0&&(this.y=this.y%h),this}},{key:"calculateRemainder3D",value:function(p,h,w){return p!==0&&(this.x=this.x%p),h!==0&&(this.y=this.y%h),w!==0&&(this.z=this.z%w),this}},{key:"rem",value:function(){for(var p=arguments.length,h=new Array(p),w=0;w<p;w++)h[w]=arguments[w];var _,j,E,S=h[0],C=h[1],M=h[2];if(S instanceof l.default.Vector){if([S.x,S.y,S.z].every(Number.isFinite))return _=parseFloat(S.x),j=parseFloat(S.y),E=parseFloat(S.z),this.calculateRemainder3D(_,j,E)}else if(Array.isArray(S)){if(S.every(Number.isFinite))return S.length===2?this.calculateRemainder2D(S[0],S[1]):S.length===3?this.calculateRemainder3D(S[0],S[1],S[2]):void 0}else if(h.length===1){if(Number.isFinite(S)&&S!==0)return this.x=this.x%S,this.y=this.y%S,this.z=this.z%S,this}else if(h.length===2){if(h.every(Number.isFinite))return this.calculateRemainder2D(S,C)}else if(h.length===3&&h.every(Number.isFinite))return this.calculateRemainder3D(S,C,M)}},{key:"sub",value:function(p,h,w){return p instanceof l.default.Vector?(this.x-=p.x||0,this.y-=p.y||0,this.z-=p.z||0):Array.isArray(p)?(this.x-=p[0]||0,this.y-=p[1]||0,this.z-=p[2]||0):(this.x-=p||0,this.y-=h||0,this.z-=w||0),this}},{key:"mult",value:function(){for(var p=arguments.length,h=new Array(p),w=0;w<p;w++)h[w]=arguments[w];var _,j=h[0],E=h[1],S=h[2];return j instanceof l.default.Vector?Number.isFinite(j.x)&&Number.isFinite(j.y)&&Number.isFinite(j.z)&&typeof j.x=="number"&&typeof j.y=="number"&&typeof j.z=="number"?(this.x*=j.x,this.y*=j.y,this.z*=j.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(j)?j.every(function(C){return Number.isFinite(C)})&&j.every(function(C){return typeof C=="number"})?j.length===1?(this.x*=j[0],this.y*=j[0],this.z*=j[0]):j.length===2?(this.x*=j[0],this.y*=j[1]):j.length===3&&(this.x*=j[0],this.y*=j[1],this.z*=j[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(_=h).every(function(C){return Number.isFinite(C)})&&_.every(function(C){return typeof C=="number"})?(h.length===1&&(this.x*=j,this.y*=j,this.z*=j),h.length===2&&(this.x*=j,this.y*=E),h.length===3&&(this.x*=j,this.y*=E,this.z*=S)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var p=arguments.length,h=new Array(p),w=0;w<p;w++)h[w]=arguments[w];var _=h[0],j=h[1],E=h[2];if(_ instanceof l.default.Vector)if(Number.isFinite(_.x)&&Number.isFinite(_.y)&&Number.isFinite(_.z)&&typeof _.x=="number"&&typeof _.y=="number"&&typeof _.z=="number"){var S=_.z===0&&this.z===0;if(_.x===0||_.y===0||!S&&_.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=_.x,this.y/=_.y,S||(this.z/=_.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(_))if(_.every(Number.isFinite)&&_.every(function(C){return typeof C=="number"})){if(_.some(function(C){return C===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;_.length===1?(this.x/=_[0],this.y/=_[0],this.z/=_[0]):_.length===2?(this.x/=_[0],this.y/=_[1]):_.length===3&&(this.x/=_[0],this.y/=_[1],this.z/=_[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(h.every(Number.isFinite)&&h.every(function(C){return typeof C=="number"})){if(h.some(function(C){return C===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;h.length===1&&(this.x/=_,this.y/=_,this.z/=_),h.length===2&&(this.x/=_,this.y/=j),h.length===3&&(this.x/=_,this.y/=j,this.z/=E)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var p=this.x,h=this.y,w=this.z;return p*p+h*h+w*w}},{key:"dot",value:function(p,h,w){return p instanceof l.default.Vector?this.dot(p.x,p.y,p.z):this.x*(p||0)+this.y*(h||0)+this.z*(w||0)}},{key:"cross",value:function(_){var h=this.y*_.z-this.z*_.y,w=this.z*_.x-this.x*_.z,_=this.x*_.y-this.y*_.x;return this.isPInst?new l.default.Vector(this._fromRadians,this._toRadians,h,w,_):new l.default.Vector(h,w,_)}},{key:"dist",value:function(p){return p.copy().sub(this).mag()}},{key:"normalize",value:function(){var p=this.mag();return p!==0&&this.mult(1/p),this}},{key:"limit",value:function(p){var h=this.magSq();return p*p<h&&this.div(Math.sqrt(h)).mult(p),this}},{key:"setMag",value:function(p){return this.normalize().mult(p)}},{key:"heading",value:function(){var p=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(p):p}},{key:"setHeading",value:function(p){this.isPInst&&(p=this._toRadians(p));var h=this.mag();return this.x=h*Math.cos(p),this.y=h*Math.sin(p),this}},{key:"rotate",value:function(h){var h=this.heading()+h,w=(this.isPInst&&(h=this._toRadians(h)),this.mag());return this.x=Math.cos(h)*w,this.y=Math.sin(h)*w,this}},{key:"angleBetween",value:function(p){var h;return this.magSq()*p.magSq()==0?NaN:(h=this.cross(p),p=Math.atan2(h.mag(),this.dot(p))*Math.sign(h.z||1),this.isPInst?this._fromRadians(p):p)}},{key:"lerp",value:function(p,h,w,_){return p instanceof l.default.Vector?this.lerp(p.x,p.y,p.z,h):(this.x+=(p-this.x)*_||0,this.y+=(h-this.y)*_||0,this.z+=(w-this.z)*_||0,this)}},{key:"slerp",value:function(p,h){if(h!==0){if(h===1)return this.set(p);var w=this.mag(),_=p.mag();if(w*_==0)this.mult(1-h).add(p.x*h,p.y*h,p.z*h);else{var j=this.cross(p),E=j.mag(),S=Math.atan2(E,this.dot(p));if(0<E)j.x/=E,j.y/=E,j.z/=E;else{if(S<.5*Math.PI)return this.mult(1-h).add(p.x*h,p.y*h,p.z*h),this;this.z===0&&p.z===0?j.set(0,0,1):this.x!==0?j.set(this.y,-this.x,0).normalize():j.set(1,0,0)}E=j.cross(this),p=1-h+h*_/w,j=p*Math.cos(h*S),_=p*Math.sin(h*S),this.x=this.x*j+E.x*_,this.y=this.y*j+E.y*_,this.z=this.z*j+E.z*_}}return this}},{key:"reflect",value:function(p){return p=l.default.Vector.normalize(p),this.sub(p.mult(2*this.dot(p)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(E,h,w){var _,j,E=E instanceof l.default.Vector?(_=E.x||0,j=E.y||0,E.z||0):Array.isArray(E)?(_=E[0]||0,j=E[1]||0,E[2]||0):(_=E||0,j=h||0,w||0);return this.x===_&&this.y===j&&this.z===E}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(p){return Math.abs(+(p||0))<=Number.EPSILON?0:p}}])&&m(g.prototype,y),b&&m(g,b),d}();var c=l.default.Vector;a.default=c},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(v,i,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(v=v("../core/main"))&&v.__esModule?v:{default:v},u="_lcg_random_state",l=4294967296,f=0,v=(s.default.prototype._lcg=function(m){return this[m]=(1664525*this[m]+1013904223)%l,this[m]/l},s.default.prototype._lcgSetSeed=function(m,c){this[m]=(c??Math.random()*l)>>>0},s.default.prototype.randomSeed=function(m){this._lcgSetSeed(u,m),this._gaussian_previous=!1},s.default.prototype.random=function(m,c){var d,g;return s.default._validateParameters("random",arguments),d=this[u]!=null?this._lcg(u):Math.random(),m===void 0?d:c===void 0?Array.isArray(m)?m[Math.floor(d*m.length)]:d*m:(c<m&&(g=m,m=c,c=g),d*(c-m)+m)},s.default.prototype.randomGaussian=function(m){var c,d,g,y,b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)c=f,this._gaussian_previous=!1;else{for(;1<=(y=(d=this.random(2)-1)*d+(g=this.random(2)-1)*g););c=d*(y=Math.sqrt(-2*Math.log(y)/y)),f=g*y,this._gaussian_previous=!0}return c*b+(m||0)},s.default);a.default=v},{"../core/main":283}],318:[function(t,i,a){function s(c){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function u(c){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(d){return s(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":s(d)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=(m=t("../core/main"))&&m.__esModule?m:{default:m},f=function(c){if(c&&c.__esModule)return c;if(c===null||u(c)!=="object"&&typeof c!="function")return{default:c};var d=v();if(d&&d.has(c))return d.get(c);var g,y={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in c){var p;Object.prototype.hasOwnProperty.call(c,g)&&((p=b?Object.getOwnPropertyDescriptor(c,g):null)&&(p.get||p.set)?Object.defineProperty(y,g,p):y[g]=c[g])}return y.default=c,d&&d.set(c,y),y}(t("../core/constants"));function v(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,v=function(){return c},c)}l.default.prototype._angleMode=f.RADIANS,l.default.prototype.acos=function(c){return this._fromRadians(Math.acos(c))},l.default.prototype.asin=function(c){return this._fromRadians(Math.asin(c))},l.default.prototype.atan=function(c){return this._fromRadians(Math.atan(c))},l.default.prototype.atan2=function(c,d){return this._fromRadians(Math.atan2(c,d))},l.default.prototype.cos=function(c){return Math.cos(this._toRadians(c))},l.default.prototype.sin=function(c){return Math.sin(this._toRadians(c))},l.default.prototype.tan=function(c){return Math.tan(this._toRadians(c))},l.default.prototype.degrees=function(c){return c*f.RAD_TO_DEG},l.default.prototype.radians=function(c){return c*f.DEG_TO_RAD},l.default.prototype.angleMode=function(c){if(l.default._validateParameters("angleMode",arguments),c===void 0)return this._angleMode;c!==f.DEGREES&&c!==f.RADIANS||c!==this._angleMode&&(c===f.RADIANS?(this._setProperty("pRotationX",this.pRotationX*f.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*f.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*f.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*f.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*f.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*f.RAD_TO_DEG)),this._angleMode=c)},l.default.prototype._toRadians=function(c){return this._angleMode===f.DEGREES?c*f.DEG_TO_RAD:c},l.default.prototype._toDegrees=function(c){return this._angleMode===f.RADIANS?c*f.RAD_TO_DEG:c},l.default.prototype._fromRadians=function(c){return this._angleMode===f.DEGREES?c*f.RAD_TO_DEG:c},l.default.prototype._fromDegrees=function(c){return this._angleMode===f.RADIANS?c*f.DEG_TO_RAD:c};var m=l.default;a.default=m},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(t,i,a){t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};s.default.prototype.textAlign=function(u,l){var f;return s.default._validateParameters("textAlign",arguments),(f=this._renderer).textAlign.apply(f,arguments)},s.default.prototype.textLeading=function(u){var l;return s.default._validateParameters("textLeading",arguments),(l=this._renderer).textLeading.apply(l,arguments)},s.default.prototype.textSize=function(u){var l;return s.default._validateParameters("textSize",arguments),(l=this._renderer).textSize.apply(l,arguments)},s.default.prototype.textStyle=function(u){var l;return s.default._validateParameters("textStyle",arguments),(l=this._renderer).textStyle.apply(l,arguments)},s.default.prototype.textWidth=function(){for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];if(l[0]+="",s.default._validateParameters("textWidth",l),l[0].length===0)return 0;for(var v=l[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),m=[],c=0;c<v.length;c++)m.push(this._renderer.textWidth(v[c]));return Math.max.apply(Math,m)},s.default.prototype.textAscent=function(){for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];return s.default._validateParameters("textAscent",l),this._renderer.textAscent()},s.default.prototype.textDescent=function(){for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];return s.default._validateParameters("textDescent",l),this._renderer.textDescent()},s.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},s.default.prototype.textWrap=function(u){return s.default._validateParameters("textWrap",[u]),this._renderer.textWrap(u)},t=s.default,a.default=t},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(t,i,a){function s(g){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function u(g){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(y){return s(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":s(y)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=(d=t("../core/main"))&&d.__esModule?d:{default:d},f=c(t("../core/constants")),v=c(t("opentype.js"));function m(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,m=function(){return g},g)}function c(g){if(g&&g.__esModule)return g;if(g===null||u(g)!=="object"&&typeof g!="function")return{default:g};var y=m();if(y&&y.has(g))return y.get(g);var b,p,h={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in g)Object.prototype.hasOwnProperty.call(g,b)&&((p=w?Object.getOwnPropertyDescriptor(g,b):null)&&(p.get||p.set)?Object.defineProperty(h,b,p):h[b]=g[b]);return h.default=g,y&&y.set(g,h),h}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),l.default.prototype.loadFont=function(g,y,b){l.default._validateParameters("loadFont",arguments);var p=new l.default.Font(this),h=this;return v.load(g,function(j,E){if(j)return l.default._friendlyFileLoadError(4,g),b!==void 0?b(j):void console.error(j,g);p.font=E,y!==void 0&&y(p),h._decrementPreload();var j=g.split("\\").pop().split("/").pop(),E=j.lastIndexOf("."),S=E<1?null:j.slice(E+1);["ttf","otf","woff","woff2"].includes(S)&&(S=j.slice(0,E!==-1?E:0),(j=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(S,`;
src: url(`).concat(g,`);
}
`))),document.head.appendChild(j))}),p},l.default.prototype.text=function(g,y,b,p,h){var w;return l.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(w=this._renderer).text.apply(w,arguments):this},l.default.prototype.textFont=function(g,y){if(l.default._validateParameters("textFont",arguments),arguments.length){if(g)return this._renderer._setProperty("_textFont",g),y&&(this._renderer._setProperty("_textSize",y),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",y*f._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var d=l.default;a.default=d},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(t,i,a){function s(C){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(C)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var u=(u=t("../core/main"))&&u.__esModule?u:{default:u},l=function(C){if(C&&C.__esModule)return C;if(C===null||v(C)!=="object"&&typeof C!="function")return{default:C};var M=f();if(M&&M.has(C))return M.get(C);var A,P={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(A in C){var I;Object.prototype.hasOwnProperty.call(C,A)&&((I=D?Object.getOwnPropertyDescriptor(C,A):null)&&(I.get||I.set)?Object.defineProperty(P,A,I):P[A]=C[A])}return P.default=C,M&&M.set(C,P),P}(t("../core/constants"));function f(){var C;return typeof WeakMap!="function"?null:(C=new WeakMap,f=function(){return C},C)}function v(C){return(v=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(M){return s(M)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":s(M)})(C)}function m(C,M){for(var A=0;A<M.length;A++){var P=M[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(C,P.key,P)}}function c(C,M){var A=C.length;return C[M<0?M%A+A:M%A]}function d(C,M,A,P){var D,I,U;return P?(d.tmpPoint1===void 0&&(d.tmpPoint1=[],d.tmpPoint2=[]),I=d.tmpPoint1,U=d.tmpPoint2,I.x=M.x-C.x,I.y=M.y-C.y,U.x=A.x-M.x,U.y=A.y-M.y,D=I.x*U.x+I.y*U.y,I=Math.sqrt(I.x*I.x+I.y*I.y),U=Math.sqrt(U.x*U.x+U.y*U.y),Math.acos(D/(I*U))<P):(M[0]-C[0])*(A[1]-C[1])-(A[0]-C[0])*(M[1]-C[1])==0}function g(L,H,G,J,ee,I,U,N,B){var W=1-B,V=Math.pow(W,3),X=Math.pow(W,2),T=B*B,K=T*B,z=V*L+3*X*B*G+3*W*B*B*ee+K*U,V=V*H+3*X*B*J+3*W*B*B*I+K*N,X=L+2*B*(G-L)+T*(ee-2*G+L),K=H+2*B*(J-H)+T*(I-2*J+H),re=G+2*B*(ee-G)+T*(U-2*ee+G),T=J+2*B*(I-J)+T*(N-2*I+J),L=W*L+B*G,G=W*H+B*J,H=W*ee+B*U,J=W*I+B*N,ee=90-180*Math.atan2(X-re,K-T)/Math.PI;return(re<X||K<T)&&(ee+=180),{x:z,y:V,m:{x:X,y:K},n:{x:re,y:T},start:{x:L,y:G},end:{x:H,y:J},alpha:ee}}function y(C,M,A,P,D,I,U,N,B){return B==null?E(C,M,A,P,D,I,U,N):g(C,M,A,P,D,I,U,N,function(W,z,V,X,K,re,T,L,G){if(!(G<0||E(W,z,V,X,K,re,T,L)<G)){var H,J=.5,ee=1-J;for(H=E(W,z,V,X,K,re,T,L,ee);.01<Math.abs(H-G);)H=E(W,z,V,X,K,re,T,L,ee+=(H<G?1:-1)*(J/=2));return ee}}(C,M,A,P,D,I,U,N,B))}function b(C,M,A){for(var P,D,I,U,N,B=0,W=0,z=(C=function(V,X){function K(ge,ye,_e){var Le,Ce;if(!ge)return["C",ye.x,ye.y,ye.x,ye.y,ye.x,ye.y];switch(ge[0]in{T:1,Q:1}||(ye.qx=ye.qy=null),ge[0]){case"M":ye.X=ge[1],ye.Y=ge[2];break;case"A":ge=["C"].concat(h.apply(0,[ye.x,ye.y].concat(ge.slice(1))));break;case"S":Ce=_e==="C"||_e==="S"?(Le=2*ye.x-ye.bx,2*ye.y-ye.by):(Le=ye.x,ye.y),ge=["C",Le,Ce].concat(ge.slice(1));break;case"T":_e==="Q"||_e==="T"?(ye.qx=2*ye.x-ye.qx,ye.qy=2*ye.y-ye.qy):(ye.qx=ye.x,ye.qy=ye.y),ge=["C"].concat(j(ye.x,ye.y,ye.qx,ye.qy,ge[1],ge[2]));break;case"Q":ye.qx=ge[1],ye.qy=ge[2],ge=["C"].concat(j(ye.x,ye.y,ge[1],ge[2],ge[3],ge[4]));break;case"L":ge=["C"].concat(_(ye.x,ye.y,ge[1],ge[2]));break;case"H":ge=["C"].concat(_(ye.x,ye.y,ge[1],ye.y));break;case"V":ge=["C"].concat(_(ye.x,ye.y,ye.x,ge[1]));break;case"Z":ge=["C"].concat(_(ye.x,ye.y,ye.X,ye.Y))}return ge}function re(ge,ye){if(7<ge[ye].length){ge[ye].shift();for(var _e=ge[ye];_e.length;)ie[ye]="A",H&&(fe[ye]="A"),ge.splice(ye++,0,["C"].concat(_e.splice(0,6)));ge.splice(ye,1),L=Math.max(G.length,H&&H.length||0)}}function T(ge,ye,_e,Le,Ce){ge&&ye&&ge[Ce][0]==="M"&&ye[Ce][0]!=="M"&&(ye.splice(Ce,0,["M",Le.x,Le.y]),_e.bx=0,_e.by=0,_e.x=ge[Ce][1],_e.y=ge[Ce][2],L=Math.max(G.length,H&&H.length||0))}var L,G=p(V),H=X&&p(X),J={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ee={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ie=[],fe=[],oe="",de="";L=Math.max(G.length,H&&H.length||0);for(var ae=0;ae<L;ae++){(oe=G[ae]?G[ae][0]:oe)!=="C"&&(ie[ae]=oe,ae&&(de=ie[ae-1])),G[ae]=K(G[ae],J,de),ie[ae]!=="A"&&oe==="C"&&(ie[ae]="C"),re(G,ae),H&&((oe=H[ae]?H[ae][0]:oe)!=="C"&&(fe[ae]=oe,ae&&(de=fe[ae-1])),H[ae]=K(H[ae],ee,de),fe[ae]!=="A"&&oe==="C"&&(fe[ae]="C"),re(H,ae)),T(G,H,J,ee,ae),T(H,G,ee,J,ae);var Z=G[ae],ue=H&&H[ae],pe=Z.length,we=H&&ue.length;J.x=Z[pe-2],J.y=Z[pe-1],J.bx=parseFloat(Z[pe-4])||J.x,J.by=parseFloat(Z[pe-3])||J.y,ee.bx=H&&(parseFloat(ue[we-4])||ee.x),ee.by=H&&(parseFloat(ue[we-3])||ee.y),ee.x=H&&ue[we-2],ee.y=H&&ue[we-1]}return H?[G,H]:G}(C)).length;W<z;W++){if((I=C[W])[0]==="M")P=+I[1],D=+I[2];else{if(M<B+(U=y(P,D,I[1],I[2],I[3],I[4],I[5],I[6]))&&!A)return{x:(N=y(P,D,I[1],I[2],I[3],I[4],I[5],I[6],M-B)).x,y:N.y,alpha:N.alpha};B+=U,P=+I[5],D=+I[6]}I.shift()}return N=(N=A?B:g(P,D,I[0],I[1],I[2],I[3],I[4],I[5],1)).alpha?{x:N.x,y:N.y,alpha:N.alpha}:N}function p(C){var M=[],A=0,P=0,D=0,I=0,U=0;if(C){C[0][0]==="M"&&(D=A=+C[0][1],I=P=+C[0][2],U++,M[0]=["M",A,P]);for(var N,B,W=C.length===3&&C[0][0]==="M"&&C[1][0].toUpperCase()==="R"&&C[2][0].toUpperCase()==="Z",z=U,V=C.length;z<V;z++){if(M.push(N=[]),(B=C[z])[0]!==B[0].toUpperCase())switch(N[0]=B[0].toUpperCase(),N[0]){case"A":N[1]=B[1],N[2]=B[2],N[3]=B[3],N[4]=B[4],N[5]=B[5],N[6]=+(B[6]+A),N[7]=+(B[7]+P);break;case"V":N[1]=+B[1]+P;break;case"H":N[1]=+B[1]+A;break;case"R":for(var X,K=2,re=(X=[A,P].concat(B.slice(1))).length;K<re;K++)X[K]=+X[K]+A,X[++K]=+X[K]+P;M.pop(),M=M.concat(w(X,W));break;case"M":D=+B[1]+A,I=+B[2]+P;break;default:for(var T=1,L=B.length;T<L;T++)N[T]=+B[T]+(T%2?A:P)}else if(B[0]==="R")X=[A,P].concat(B.slice(1)),M.pop(),M=M.concat(w(X,W)),N=["R"].concat(B.slice(-2));else for(var G=0,H=B.length;G<H;G++)N[G]=B[G];switch(N[0]){case"Z":A=D,P=I;break;case"H":A=N[1];break;case"V":P=N[1];break;case"M":D=N[N.length-2],I=N[N.length-1];break;default:A=N[N.length-2],P=N[N.length-1]}}}return M}function h(C,M,A,P,H,ie,J,N,B,W){function z(we,ge,ye){return{x:we*Math.cos(ye)-ge*Math.sin(ye),y:we*Math.sin(ye)+ge*Math.cos(ye)}}var V,L=Math.PI,G=120*L/180,X=L/180*(+H||0),K=[],re=(W?(ae=W[0],V=W[1],oe=W[2],de=W[3]):(C=(ee=z(C,M,-X)).x,M=ee.y,1<(re=(T=(C-(N=(ee=z(N,B,-X)).x))/2)*T/(A*A)+(ee=(M-(B=ee.y))/2)*ee/(P*P))&&(A*=re=Math.sqrt(re),P*=re),re=A*A,fe=P*P,oe=(ie=(ie===J?-1:1)*Math.sqrt(Math.abs((re*fe-re*ee*ee-fe*T*T)/(re*ee*ee+fe*T*T))))*A*ee/P+(C+N)/2,de=ie*-P*T/A+(M+B)/2,ae=Math.asin(((M-de)/P).toFixed(9)),V=Math.asin(((B-de)/P).toFixed(9)),(ae=C<oe?L-ae:ae)<0&&(ae=2*L+ae),(V=N<oe?L-V:V)<0&&(V=2*L+V),J&&V<ae&&(ae-=2*L),!J&&ae<V&&(V-=2*L)),V-ae),T=(Math.abs(re)>G&&(fe=V,ee=N,ie=B,V=ae+G*(J&&ae<V?1:-1),K=h(N=oe+A*Math.cos(V),B=de+P*Math.sin(V),A,P,H,0,J,ee,ie,[V,fe,oe,de])),re=V-ae,Math.cos(ae)),L=Math.sin(ae),G=Math.cos(V),H=Math.sin(V),J=Math.tan(re/4),ee=4/3*A*J,ie=4/3*P*J,fe=[C,M],oe=[C+ee*L,M-ie*T],de=[N+ee*H,B-ie*G],ae=[N,B];if(oe[0]=2*fe[0]-oe[0],oe[1]=2*fe[1]-oe[1],W)return[oe,de,ae].concat(K);for(var Z=[],ue=0,pe=(K=[oe,de,ae].concat(K).join().split(",")).length;ue<pe;ue++)Z[ue]=ue%2?z(K[ue-1],K[ue],X).y:z(K[ue],K[ue+1],X).x;return Z}function w(C,M){for(var A=[],P=0,D=C.length;P<D-2*!M;P+=2){var I=[{x:+C[P-2],y:+C[P-1]},{x:+C[P],y:+C[P+1]},{x:+C[P+2],y:+C[P+3]},{x:+C[P+4],y:+C[P+5]}];M?P?D-4===P?I[3]={x:+C[0],y:+C[1]}:D-2===P&&(I[2]={x:+C[0],y:+C[1]},I[3]={x:+C[2],y:+C[3]}):I[0]={x:+C[D-2],y:+C[D-1]}:D-4===P?I[3]=I[2]:P||(I[0]={x:+C[P],y:+C[P+1]}),A.push(["C",(-I[0].x+6*I[1].x+I[2].x)/6,(-I[0].y+6*I[1].y+I[2].y)/6,(I[1].x+6*I[2].x-I[3].x)/6,(I[1].y+6*I[2].y-I[3].y)/6,I[2].x,I[2].y])}return A}function _(C,M,A,P){return[C,M,A,P,A,P]}function j(C,M,A,P,D,I){return[1/3*C+2/3*A,1/3*M+2/3*P,1/3*D+2/3*A,1/3*I+2/3*P,D,I]}function E(C,M,A,P,D,I,U,N,B){for(var W=(B=1<(B=B??1)?1:B<0?0:B)/2,z=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],V=0,X=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],K=0;K<12;K++){var T=W*z[K]+W,re=S(T,C,A,D,U),T=S(T,M,P,I,N);V+=X[K]*Math.sqrt(re*re+T*T)}return W*V}function S(C,M,A,P,D){return C*(C*(-3*M+9*A-9*P+3*D)+6*M-12*A+6*P)-3*M+3*A}u.default.Font=function(){function C(P){if(!(this instanceof C))throw new TypeError("Cannot call a class as a function");this.parent=P,this.cache={},this.font=void 0}var M,A;return M=C,(A=[{key:"textBounds",value:function(P){var D=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,I=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,W=3<arguments.length?arguments[3]:void 0,U=4<arguments.length?arguments[4]:void 0,N=U&&U.renderer&&U.renderer._pInst||this.parent,B=N._renderer.drawingContext,W=(B.textAlign||l.LEFT,B.textBaseline||l.BASELINE,W||N._renderer._textSize);if(!ee){for(var z=[],V=[],X=[],K=(X[0]=[],[]),re=this._scale(W),T=N._renderer.textLeading(),L=0,G=(this.font.forEachGlyph(P,D,I,W,U,function(oe,de,ae,Z){var ue=oe.getMetrics();oe.index===0?X[L+=1]=[]:(X[L].push(de+ue.xMin*re),X[L].push(de+ue.xMax*re),K.push(ae+L*T+-ue.yMin*re),K.push(ae+L*T+-ue.yMax*re))}),0<X[L].length&&(z[L]=Math.min.apply(null,X[L]),V[L]=Math.max.apply(null,X[L])),0),H=0;H<=L;H++){z[H]=Math.min.apply(null,X[H]),V[H]=Math.max.apply(null,X[H]);var J=V[H]-z[H];G<J&&(G=J)}var B=Math.min.apply(null,z),ee={x:B,y:I=Math.min.apply(null,K),h:Math.max.apply(null,K)-I,w:G,advance:B-D},W=this._handleAlignment(N._renderer,P,ee.x,ee.y,ee.w+ee.advance);ee.x=W.x,ee.y=W.y}return ee}},{key:"textToPoints",value:function(P,D,I,U,N){var B,W=D,z=[],V=this.parent,X=P.split(/\r?\n|\r|\n/g);U=U||this.parent._renderer._textSize;for(var K,re,T,L=0;L<X.length;L++){var G=0;D=W;for(var H=(H=X[L]).replace("	","  "),J=this._getGlyphs(H),ee=0;ee<J.length;ee++){if(re=H,!((T=J)[K=ee].name&&T[K].name==="space"||re.length===T.length&&re[K]===" "))for(var ie=function(ae){for(var Z,ue=[],pe=0;pe<ae.length;pe++)ae[pe].type==="M"&&(Z&&ue.push(Z),Z=[]),Z.push(function(we){var ge=[we.type];return we.type==="M"||we.type==="L"?ge.push(we.x,we.y):we.type==="C"?ge.push(we.x1,we.y1,we.x2,we.y2,we.x,we.y):we.type==="Q"&&ge.push(we.x1,we.y1,we.x,we.y),ge}(ae[pe]));return ue.push(Z),ue}(J[ee].getPath(D,I,U).commands),fe=0;fe<ie.length;fe++)for(var oe=function(ae,Z){for(var Z=function(_e,Le){if(v(_e)!=="object")_e=Le;else for(var Ce in Le)_e[Ce]===void 0&&(_e[Ce]=Le[Ce]);return _e}(Z,{sampleFactor:.1,simplifyThreshold:0}),ue=b(ae,0,1),pe=ue/(ue*Z.sampleFactor),we=[],ge=0;ge<ue;ge+=pe)we.push(b(ae,ge));return Z.simplifyThreshold&&function(ye){for(var _e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,Le=0,Ce=ye.length-1;3<ye.length&&0<=Ce;--Ce)d(c(ye,Ce-1),c(ye,Ce),c(ye,Ce+1),_e)&&(ye.splice(Ce%ye.length,1),Le++)}(we,Z.simplifyThreshold),we}(ie[fe],N),de=0;de<oe.length;de++)oe[de].x+=G,B=this._handleAlignment(V._renderer,H,oe[de].x,oe[de].y),oe[de].x=B.x,oe[de].y=B.y,z.push(oe[de]);G+=J[ee].advanceWidth*this._scale(U)}I+=this.parent._renderer._textLeading}return z}},{key:"_getGlyphs",value:function(P){return this.font.stringToGlyphs(P)}},{key:"_getPath",value:function(P,B,I,U){var N=(U&&U.renderer&&U.renderer._pInst||this.parent)._renderer,B=this._handleAlignment(N,P,B,I);return this.font.getPath(P,B.x,B.y,N._textSize,U)}},{key:"_getPathData",value:function(P,D,I,U){var N=3;return typeof P=="string"&&2<arguments.length?P=this._getPath(P,D,I,U):v(D)==="object"&&(U=D),U&&typeof U.decimals=="number"&&(N=U.decimals),P.toPathData(N)}},{key:"_getSVG",value:function(P,D,I,U){var N=3;return typeof P=="string"&&2<arguments.length?P=this._getPath(P,D,I,U):v(D)==="object"&&(U=D),U&&(typeof U.decimals=="number"&&(N=U.decimals),typeof U.strokeWidth=="number"&&(P.strokeWidth=U.strokeWidth),U.fill!==void 0&&(P.fill=U.fill),U.stroke!==void 0&&(P.stroke=U.stroke)),P.toSVG(N)}},{key:"_renderPath",value:function(W,V,X,U){var N=U&&U.renderer||this.parent._renderer,B=N.drawingContext,W=(v(W)==="object"&&W.commands?W:this._getPath(W,V,X,U)).commands,z=(N._clipping||B.beginPath(),!0),V=!1,X=void 0;try{for(var K,re=W[Symbol.iterator]();!(z=(K=re.next()).done);z=!0){var T=K.value;T.type==="M"?B.moveTo(T.x,T.y):T.type==="L"?B.lineTo(T.x,T.y):T.type==="C"?B.bezierCurveTo(T.x1,T.y1,T.x2,T.y2,T.x,T.y):T.type==="Q"?B.quadraticCurveTo(T.x1,T.y1,T.x,T.y):T.type==="Z"&&B.closePath()}}catch(L){V=!0,X=L}finally{try{z||re.return==null||re.return()}finally{if(V)throw X}}return N._doStroke&&N._strokeSet&&!N._clipping&&B.stroke(),N._doFill&&!N._clipping&&(N._fillSet||N._setFill(l._DEFAULT_TEXT_FILL),B.fill()),this}},{key:"_textWidth",value:function(P,D){return this.font.getAdvanceWidth(P,D)}},{key:"_textAscent",value:function(P){return this.font.ascender*this._scale(P)}},{key:"_textDescent",value:function(P){return-this.font.descender*this._scale(P)}},{key:"_scale",value:function(P){return 1/this.font.unitsPerEm*(P||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(P,D,I,U,N){var B=P._textSize;switch(N===void 0&&(N=this._textWidth(D,B)),P._textAlign){case l.CENTER:I-=N/2;break;case l.RIGHT:I-=N}switch(P._textBaseline){case l.TOP:U+=this._textAscent(B);break;case l.CENTER:U+=this._textAscent(B)/2;break;case l.BOTTOM:U-=this._textDescent(B)}return{x:I,y:U}}}])&&m(M.prototype,A),C}(),t=u.default,a.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(t,i,a){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(s,u){return s.push(u),s},t.default.prototype.arrayCopy=function(s,u,l,f,v){var m,c;s=v!==void 0?(c=Math.min(v,s.length),m=f,s.slice(u,c+u)):(c=l!==void 0?(c=l,Math.min(c,s.length)):s.length,l=u,s.slice(m=0,c)),Array.prototype.splice.apply(l,[m,c].concat(s))},t.default.prototype.concat=function(s,u){return s.concat(u)},t.default.prototype.reverse=function(s){return s.reverse()},t.default.prototype.shorten=function(s){return s.pop(),s},t.default.prototype.shuffle=function(s,u){for(var l,f,v=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(s),m=(s=u||v?s:s.slice()).length;1<m;)l=this.random(0,1)*m|0,f=s[--m],s[m]=s[l],s[l]=f;return s},t.default.prototype.sort=function(s,f){var l=f?s.slice(0,Math.min(f,s.length)):s,f=f?s.slice(Math.min(f,s.length)):[];return(l=typeof l[0]=="string"?l.sort():l.sort(function(v,m){return v-m})).concat(f)},t.default.prototype.splice=function(s,u,l){return Array.prototype.splice.apply(s,[l,0].concat(u)),s},t.default.prototype.subset=function(s,u,l){return l!==void 0?s.slice(u,u+l):s.slice(u,s.length)},t=t.default,a.default=t},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(t,i,a){t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};s.default.prototype.float=function(u){return u instanceof Array?u.map(parseFloat):parseFloat(u)},s.default.prototype.int=function(u){var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return u===1/0||u==="Infinity"?1/0:u===-1/0||u==="-Infinity"?-1/0:typeof u=="string"?parseInt(u,l):typeof u=="number"?0|u:typeof u=="boolean"?u?1:0:u instanceof Array?u.map(function(f){return s.default.prototype.int(f,l)}):void 0},s.default.prototype.str=function(u){return u instanceof Array?u.map(s.default.prototype.str):String(u)},s.default.prototype.boolean=function(u){return typeof u=="number"?u!==0:typeof u=="string"?u.toLowerCase()==="true":typeof u=="boolean"?u:u instanceof Array?u.map(s.default.prototype.boolean):void 0},s.default.prototype.byte=function(u){return u=s.default.prototype.int(u,10),typeof u=="number"?(u+128)%256-128:u instanceof Array?u.map(s.default.prototype.byte):void 0},s.default.prototype.char=function(u){return typeof u!="number"||isNaN(u)?u instanceof Array?u.map(s.default.prototype.char):typeof u=="string"?s.default.prototype.char(parseInt(u,10)):void 0:String.fromCharCode(u)},s.default.prototype.unchar=function(u){return typeof u=="string"&&u.length===1?u.charCodeAt(0):u instanceof Array?u.map(s.default.prototype.unchar):void 0},s.default.prototype.hex=function(u,l){if(l=l??8,u instanceof Array)return u.map(function(v){return s.default.prototype.hex(v,l)});if(u===1/0||u===-1/0)return(u===1/0?"F":"0").repeat(l);if(typeof u=="number"){u<0&&(u=4294967295+u+1);for(var f=Number(u).toString(16).toUpperCase();f.length<l;)f="0".concat(f);return f=f.length>=l?f.substring(f.length-l,f.length):f}},s.default.prototype.unhex=function(u){return u instanceof Array?u.map(s.default.prototype.unhex):parseInt("0x".concat(u),16)},t=s.default,a.default=t},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(t,i,a){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(c=t("../core/main"))&&c.__esModule?c:{default:c};function u(d,g){return function(y){if(Array.isArray(y))return y}(d)||function(y,b){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]"){var p=[],h=!0,w=!1,_=void 0;try{for(var j,E=y[Symbol.iterator]();!(h=(j=E.next()).done)&&(p.push(j.value),!b||p.length!==b);h=!0);}catch(S){w=!0,_=S}finally{try{h||E.return==null||E.return()}finally{if(w)throw _}}return p}}(d,g)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(d,g,y){var b,p=d<0,w=u((d=Math.abs(d)).toString().split("."),2),h=w[0],w=w[1];return y===void 0?(h=h.padStart(g,"0"),b=w?h+"."+w:h,p?"-"+b:b):(h=(b=u(d.toFixed(y).toString().split("."),2))[0],w=b[1],h=h.padStart(g,"0"),d=w===void 0?h:h+"."+w,p?"-"+d:d)}function f(p,g){var y=(p=p.toString()).indexOf("."),b=y!==-1?p.substring(y):"",p=(p=y!==-1?p.substring(0,y):p).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(g===0)b="";else if(g!==void 0)if(g>b.length)for(var h=g-(b+=y===-1?".":"").length+1,w=0;w<h;w++)b+="0";else b=b.substring(0,g+1);return p+b}function v(d){return 0<parseFloat(d)?"+".concat(d.toString()):d.toString()}function m(d){return 0<=parseFloat(d)?" ".concat(d.toString()):d.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.join=function(d,g){return s.default._validateParameters("join",arguments),d.join(g)},s.default.prototype.match=function(d,g){return s.default._validateParameters("match",arguments),d.match(g)},s.default.prototype.matchAll=function(d,g){s.default._validateParameters("matchAll",arguments);for(var y=new RegExp(g,"g"),b=y.exec(d),p=[];b!==null;)p.push(b),b=y.exec(d);return p},s.default.prototype.nf=function(d,g,y){return s.default._validateParameters("nf",arguments),d instanceof Array?d.map(function(b){return l(b,g,y)}):Object.prototype.toString.call(d)==="[object Arguments]"?d.length===3?this.nf(d[0],d[1],d[2]):d.length===2?this.nf(d[0],d[1]):this.nf(d[0]):l(d,g,y)},s.default.prototype.nfc=function(d,g){return s.default._validateParameters("nfc",arguments),d instanceof Array?d.map(function(y){return f(y,g)}):f(d,g)},s.default.prototype.nfp=function(){for(var d=arguments.length,g=new Array(d),y=0;y<d;y++)g[y]=arguments[y];s.default._validateParameters("nfp",g);var b=s.default.prototype.nf.apply(this,g);return b instanceof Array?b.map(v):v(b)},s.default.prototype.nfs=function(){for(var d=arguments.length,g=new Array(d),y=0;y<d;y++)g[y]=arguments[y];s.default._validateParameters("nfs",g);var b=s.default.prototype.nf.apply(this,g);return b instanceof Array?b.map(m):m(b)},s.default.prototype.split=function(d,g){return s.default._validateParameters("split",arguments),d.split(g)},s.default.prototype.splitTokens=function(d,g){var y,b;return s.default._validateParameters("splitTokens",arguments),b=g!==void 0?(b=/\]/g.exec(g=g),(y=/\[/g.exec(g))&&b?(g=g.slice(0,b.index)+g.slice(b.index+1),y=/\[/g.exec(g),g=g.slice(0,y.index)+g.slice(y.index+1),new RegExp("[\\[".concat(g,"\\]]"),"g")):b?(g=g.slice(0,b.index)+g.slice(b.index+1),new RegExp("[".concat(g,"\\]]"),"g")):y?(g=g.slice(0,y.index)+g.slice(y.index+1),new RegExp("[".concat(g,"\\[]"),"g")):new RegExp("[".concat(g,"]"),"g")):/\s/g,d.split(b).filter(function(p){return p})},s.default.prototype.trim=function(d){return s.default._validateParameters("trim",arguments),d instanceof Array?d.map(this.trim):d.trim()};var c=s.default;a.default=c},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(t,i,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,a.default=t},{"../core/main":283}],326:[function(t,i,a){function s(d){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(d)}function u(d){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(g){return s(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":s(g)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=(c=t("../core/main"))&&c.__esModule?c:{default:c},f=(t("./p5.Geometry"),function(d){if(d&&d.__esModule)return d;if(d===null||u(d)!=="object"&&typeof d!="function")return{default:d};var g=v();if(g&&g.has(d))return g.get(d);var y,b={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in d){var h;Object.prototype.hasOwnProperty.call(d,y)&&((h=p?Object.getOwnPropertyDescriptor(d,y):null)&&(h.get||h.set)?Object.defineProperty(b,y,h):b[y]=d[y])}return b.default=d,g&&g.set(d,b),b}(t("../core/constants")));function v(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,v=function(){return d},d)}l.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},l.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},l.default.prototype.buildGeometry=function(d){return this._renderer.buildGeometry(d)},l.default.prototype.freeGeometry=function(d){this._renderer._freeBuffers(d.gid)},l.default.prototype.plane=function(){var d,g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:g,b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,h=(this._assert3d("plane"),l.default._validateParameters("plane",arguments),"plane|".concat(b,"|").concat(p));return this._renderer.geometryInHash(h)||((d=new l.default.Geometry(b,p,function(){for(var w,_,j=0;j<=this.detailY;j++)for(var E=j/this.detailY,S=0;S<=this.detailX;S++)w=S/this.detailX,_=new l.default.Vector(w-.5,E-.5,0),this.vertices.push(_),this.uvs.push(w,E)})).computeFaces().computeNormals(),b<=1&&p<=1?d._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(h,d)),this._renderer.drawBuffersScaled(h,g,y,1),this},l.default.prototype.box=function(d,g,y,b,p){this._assert3d("box"),l.default._validateParameters("box",arguments),d===void 0&&(d=50),g===void 0&&(g=d),y===void 0&&(y=g);var h,w=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,w=(p===void 0&&(p=w?1:4),"box|".concat(b=b===void 0?w?1:4:b,"|").concat(p));return this._renderer.geometryInHash(w)||((h=new l.default.Geometry(b,p,function(){var _=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(j,E){for(var E=4*E,S=0;S<4;S++){var C=j[S],C=new l.default.Vector((2*(1&C)-1)/2,((2&C)-1)/2,((4&C)/2-1)/2);_.vertices.push(C),_.uvs.push(1&S,(2&S)/2)}_.faces.push([E,1+E,2+E]),_.faces.push([2+E,1+E,3+E])})})).computeNormals(),b<=4&&p<=4?h._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(w,h)),this._renderer.drawBuffersScaled(w,d,g,y),this},l.default.prototype.sphere=function(){var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:24,y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:16;return this._assert3d("sphere"),l.default._validateParameters("sphere",arguments),this.ellipsoid(d,d,d,g,y),this};function m(d,g,y,b,p,h,w){d=d<=0?1:d,g=g<0?0:g,y=y<=0?d:y,b=b<3?3:b;for(var _,j,E=(h=h===void 0||h)?-2:0,S=(p=p<1?1:p)+((w=w===void 0?g!==0:w)?2:0),C=Math.atan2(d-g,y),M=Math.sin(C),A=Math.cos(C),P=E;P<=S;++P){var D=P/p,I=y*D,U=void 0,U=P<0?(D=I=0,d):p<P?(I=y,D=1,g):d+(g-d)*D;for(P!==-2&&P!==p+2||(U=0),I-=y/2,_=0;_<b;++_){var N=_/(b-1),W=2*Math.PI*N,B=Math.sin(W),W=Math.cos(W),z=(this.vertices.push(new l.default.Vector(B*U,I,W*U)),void 0),z=P<0?new l.default.Vector(0,-1,0):p<P&&g?new l.default.Vector(0,1,0):new l.default.Vector(B*A,M,W*A);this.vertexNormals.push(z),this.uvs.push(N,D)}}var V=0;if(h){for(j=0;j<b;++j)this.faces.push([V+j,V+b+(j+1)%b,V+b+j]);V+=2*b}for(P=0;P<p;++P){for(_=0;_<b;++_){var X=(_+1)%b;this.faces.push([V+_,V+X,V+b+X]),this.faces.push([V+_,V+b+X,V+b+_])}V+=b}if(w)for(V+=b,_=0;_<b;++_)this.faces.push([V+_,V+(_+1)%b,V+b])}l.default.prototype.cylinder=function(){var d,g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:g,b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,h=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],w=!(5<arguments.length&&arguments[5]!==void 0)||arguments[5],_=(this._assert3d("cylinder"),l.default._validateParameters("cylinder",arguments),"cylinder|".concat(b,"|").concat(p,"|").concat(h,"|").concat(w));return this._renderer.geometryInHash(_)||(d=new l.default.Geometry(b,p),m.call(d,1,1,1,b,p,h,w),b<=24&&p<=16?d._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(_,d)),this._renderer.drawBuffersScaled(_,g,y,g),this},l.default.prototype.cone=function(){var d,g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:g,b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,h=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],w=(this._assert3d("cone"),l.default._validateParameters("cone",arguments),"cone|".concat(b,"|").concat(p,"|").concat(h));return this._renderer.geometryInHash(w)||(d=new l.default.Geometry(b,p),m.call(d,1,0,1,b,p,h,!1),b<=24&&p<=16?d._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(w,d)),this._renderer.drawBuffersScaled(w,g,y,g),this},l.default.prototype.ellipsoid=function(){var d,g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:g,b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:g,p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:24,h=4<arguments.length&&arguments[4]!==void 0?arguments[4]:16,w=(this._assert3d("ellipsoid"),l.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(p,"|").concat(h));return this._renderer.geometryInHash(w)||((d=new l.default.Geometry(p,h,function(){for(var _=0;_<=this.detailY;_++)for(var j=_/this.detailY,E=Math.PI*j-Math.PI/2,S=Math.cos(E),C=Math.sin(E),M=0;M<=this.detailX;M++){var A=M/this.detailX,D=2*Math.PI*A,P=Math.cos(D),D=Math.sin(D),D=new l.default.Vector(S*D,C,S*P);this.vertices.push(D),this.vertexNormals.push(D),this.uvs.push(A,j)}})).computeFaces(),p<=24&&h<=24?d._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(w,d)),this._renderer.drawBuffersScaled(w,g,y,b),this},l.default.prototype.torus=function(d,w,y,b){if(this._assert3d("torus"),l.default._validateParameters("torus",arguments),d===void 0)d=50;else if(!d)return;if(w===void 0)w=10;else if(!w)return;y===void 0&&(y=24),b===void 0&&(b=16);var p,h=(w/d).toPrecision(4),w="torus|".concat(h,"|").concat(y,"|").concat(b);return this._renderer.geometryInHash(w)||((p=new l.default.Geometry(y,b,function(){for(var _=0;_<=this.detailY;_++)for(var j=_/this.detailY,E=2*Math.PI*j,S=Math.cos(E),C=Math.sin(E),M=1+h*S,A=0;A<=this.detailX;A++){var P=A/this.detailX,D=2*Math.PI*P,U=Math.cos(D),D=Math.sin(D),I=new l.default.Vector(M*U,M*D,h*C),U=new l.default.Vector(S*U,S*D,C);this.vertices.push(I),this.vertexNormals.push(U),this.uvs.push(P,j)}})).computeFaces(),y<=24&&b<=16?p._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(w,p)),this._renderer.drawBuffersScaled(w,d,d,d),this},l.default.RendererGL.prototype.point=function(d,g){var y=[];return y.push(new l.default.Vector(d,g,2<arguments.length&&arguments[2]!==void 0?arguments[2]:0)),this._drawPoints(y,this.immediateMode.buffers.point),this},l.default.RendererGL.prototype.triangle=function(w){var g=w[0],y=w[1],b=w[2],p=w[3],h=w[4],w=w[5],_=(this.geometryInHash("tri")||((_=new l.default.Geometry(1,1,function(){var S=[];S.push(new l.default.Vector(0,0,0)),S.push(new l.default.Vector(1,0,0)),S.push(new l.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=S,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),_.computeNormals(),this.createBuffers("tri",_)),this.uModelMatrix.copy());try{var j=Math.sign(g*p-b*y+b*w-h*p+h*y-g*w),E=new l.default.Matrix([b-g,p-y,0,0,h-g,w-y,0,0,0,0,j,0,g,y,0,1]).mult(this.uModelMatrix);this.uModelMatrix=E,this.drawBuffers("tri")}finally{this.uModelMatrix=_}return this},l.default.RendererGL.prototype.ellipse=function(d){this.arc(d[0],d[1],d[2],d[3],0,f.TWO_PI,f.OPEN,d[4])},l.default.RendererGL.prototype.arc=function(){var d,g=arguments.length<=0?void 0:arguments[0],y=arguments.length<=1?void 0:arguments[1],b=arguments.length<=2?void 0:arguments[2],p=arguments.length<=3?void 0:arguments[3],h=arguments.length<=4?void 0:arguments[4],w=arguments.length<=5?void 0:arguments[5],_=arguments.length<=6?void 0:arguments[6],j=(arguments.length<=7?void 0:arguments[7])||25,E=(Math.abs(w-h)>=f.TWO_PI?"".concat(S="ellipse","|"):"".concat(S="arc","|").concat(h,"|").concat(w,"|").concat(_,"|")).concat(j,"|"),S=(this.geometryInHash(E)||((d=new l.default.Geometry(j,1,function(){if(h.toFixed(10)!==w.toFixed(10)){_!==f.PIE&&_!==void 0||(this.vertices.push(new l.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var C=0;C<=j;C++){var A=(w-h)*(C/j)+h,M=.5+Math.cos(A)/2,A=.5+Math.sin(A)/2;this.vertices.push(new l.default.Vector(M,A,0)),this.uvs.push([M,A]),C<j-1&&(this.faces.push([0,C+1,C+2]),this.edges.push([C+1,C+2]))}switch(_){case f.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case f.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case f.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),j<=50?d._edgesToVertices(d):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(S," with more than 50 detail")),this.createBuffers(E,d)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([g,y,0]),this.uModelMatrix.scale(b,p,1),this.drawBuffers(E)}finally{this.uModelMatrix=S}return this},l.default.RendererGL.prototype.rect=function(d){var g=d[0],y=d[1],b=d[2],p=d[3];if(d[4]===void 0){var _=this._pInst._glAttributes.perPixelLighting,h=d[4]||(_?1:24),w=d[5]||(_?1:16),_="rect|".concat(h,"|").concat(w),j=(this.geometryInHash(_)||((j=new l.default.Geometry(h,w,function(){for(var z=0;z<=this.detailY;z++)for(var V=z/this.detailY,X=0;X<=this.detailX;X++){var K=X/this.detailX,re=new l.default.Vector(K,V,0);this.vertices.push(re),this.uvs.push(K,V)}0<h&&0<w&&(this.edges=[[0,h],[h,(h+1)*(w+1)-1],[(h+1)*(w+1)-1,(h+1)*w],[(h+1)*w,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(_,j)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([g,y,0]),this.uModelMatrix.scale(b,p,1),this.drawBuffers(_)}finally{this.uModelMatrix=j}}else{var _=d[4],j=d[5]===void 0?_:d[5],E=d[6]===void 0?j:d[6],d=d[7]===void 0?E:d[7],D=b,S=p,A=((D+=g)<g&&(A=g,g=D,D=A),(S+=y)<y&&(A=y,y=S,S=A),Math.min((D-g)/2,(S-y)/2)),C=(A<_&&(_=A),A<j&&(j=A),A<E&&(E=A),A<d&&(d=A),g),M=y,A=D,g=S,P=(this.beginShape(),j!==0?(this.vertex(A-j,M),this.quadraticVertex(A,M,A,M+j)):this.vertex(A,M),E!==0?(this.vertex(A,g-E),this.quadraticVertex(A,g,A-E,g)):this.vertex(A,g),d!==0?(this.vertex(C+d,g),this.quadraticVertex(C,g,C,g-d)):this.vertex(C,g),_!==0?(this.vertex(C,M+_),this.quadraticVertex(C,M,C+_,M)):this.vertex(C,M),!(this.immediateMode.geometry.uvs.length=0)),y=!1,D=void 0;try{for(var I,U=this.immediateMode.geometry.vertices[Symbol.iterator]();!(P=(I=U.next()).done);P=!0){var N=I.value,B=(N.x-C)/b,W=(N.y-M)/p;this.immediateMode.geometry.uvs.push(B,W)}}catch(T){y=!0,D=T}finally{try{P||U.return==null||U.return()}finally{if(y)throw D}}this.endShape(f.CLOSE)}return this},l.default.RendererGL.prototype.quad=function(d,g,y,b,p,h,w,_,j,E,S,C){var M=12<arguments.length&&arguments[12]!==void 0?arguments[12]:2,A=13<arguments.length&&arguments[13]!==void 0?arguments[13]:2,P="quad|".concat(d,"|").concat(g,"|").concat(y,"|").concat(b,"|").concat(p,"|").concat(h,"|").concat(w,"|").concat(_,"|").concat(j,"|").concat(E,"|").concat(S,"|").concat(C,"|").concat(M,"|").concat(A);if(!this.geometryInHash(P)){var D=new l.default.Geometry(M,A,function(){for(var X=1/(this.detailX-1),K=1/(this.detailY-1),re=0;re<this.detailY;re++)for(var T=0;T<this.detailX;T++){var L=T*X,G=re*K;this.vertices.push(new l.default.Vector((1-L)*((1-G)*d+G*E)+L*((1-G)*b+G*w),(1-L)*((1-G)*g+G*S)+L*((1-G)*p+G*_),(1-L)*((1-G)*y+G*C)+L*((1-G)*h+G*j))),this.uvs.push([L,G])}});D.faces=[];for(var I=0;I<A-1;I++)for(var U=0;U<M-1;U++){var N=U+I*M,B=U+1+(I+1)*M,W=U+(I+1)*M;D.faces.push([N,U+1+I*M,B]),D.faces.push([N,B,W])}D.computeNormals();for(var z=[D.edges.length=0,2,3,1],V=0;V<z.length;V++)D.edges.push([z[V],z[(V+1)%z.length]]);D._edgesToVertices(),this.createBuffers(P,D)}return this.drawBuffers(P),this},l.default.RendererGL.prototype.bezier=function(d,g,y,b,p,h,w,_,j,E,S,C){arguments.length===8&&(S=_,E=w,_=h,w=p,p=b,b=y,y=h=j=C=0);var M=this._pInst._bezierDetail||20;this.beginShape();for(var A=0;A<=M;A++){var P=Math.pow(1-A/M,3),D=A/M*3*Math.pow(1-A/M,2),I=3*Math.pow(A/M,2)*(1-A/M),U=Math.pow(A/M,3);this.vertex(d*P+b*D+w*I+E*U,g*P+p*D+_*I+S*U,y*P+h*D+j*I+C*U)}return this.endShape(),this},l.default.RendererGL.prototype.curve=function(d,g,y,b,p,h,w,_,j,E,S,C){arguments.length===8&&(E=w,S=_,w=p,_=b,p=b=y,y=h=j=C=0);var M=this._pInst._curveDetail;this.beginShape();for(var A=0;A<=M;A++){var P=.5*Math.pow(A/M,3),D=.5*Math.pow(A/M,2),I=A/M*.5;this.vertex(P*(3*b-d-3*w+E)+D*(2*d-5*b+4*w-E)+I*(-d+w)+2*b*.5,P*(3*p-g-3*_+S)+D*(2*g-5*p+4*_-S)+I*(-g+_)+2*p*.5,P*(3*h-y-3*j+C)+D*(2*y-5*h+4*j-C)+I*(-y+j)+2*h*.5)}return this.endShape(),this},l.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(f.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(f.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},l.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var d,g,y,b,p,h,w=[],_=[],j=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var E=1/this._lutBezierDetail,S=E,C=1,M=0;S<1;){if(h=parseFloat(S.toFixed(6)),this._lookUpTableBezier[M]=this._bezierCoefficients(h),C.toFixed(6)===E.toFixed(6)){h=parseFloat(C.toFixed(6))+parseFloat(S.toFixed(6)),++M,this._lookUpTableBezier[M]=this._bezierCoefficients(h);break}S+=E,C-=E,++M}}for(var A=this._lookUpTableBezier.length,P=[],D=0;D<4;D++)P.push([]);P[0]=this.immediateMode.geometry.vertexColors.slice(-4),P[3]=this.curFillColor.slice();var I=[];for(D=0;D<4;D++)I.push([]);if(I[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),I[3]=this.curStrokeColor.slice(),j===6){this.isBezier=!0;var w=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],_=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],U=Math.hypot(w[0]-w[1],_[0]-_[1]),B=Math.hypot(w[1]-w[2],_[1]-_[2]),N=Math.hypot(w[2]-w[3],_[2]-_[3]),B=U+B+N;for(U/=B,N/=B,p=0;p<4;p++)P[1].push(P[0][p]*(1-U)+P[3][p]*U),P[2].push(P[0][p]*N+P[3][p]*(1-N)),I[1].push(I[0][p]*(1-U)+I[3][p]*U),I[2].push(I[0][p]*N+I[3][p]*(1-N));for(b=0;b<A;b++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],D=d=g=0;D<4;D++){for(p=0;p<4;p++)this.curFillColor[p]+=this._lookUpTableBezier[b][D]*P[D][p],this.curStrokeColor[p]+=this._lookUpTableBezier[b][D]*I[D][p];d+=w[D]*this._lookUpTableBezier[b][D],g+=_[D]*this._lookUpTableBezier[b][D]}this.vertex(d,g)}this.curFillColor=P[3],this.curStrokeColor=I[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(j===9){this.isBezier=!0,w=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],_=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var W=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],z=Math.hypot(w[0]-w[1],_[0]-_[1],W[0]-W[1]),B=Math.hypot(w[1]-w[2],_[1]-_[2],W[1]-W[2]),V=Math.hypot(w[2]-w[3],_[2]-_[3],W[2]-W[3]),j=z+B+V;for(z/=j,V/=j,p=0;p<4;p++)P[1].push(P[0][p]*(1-z)+P[3][p]*z),P[2].push(P[0][p]*V+P[3][p]*(1-V)),I[1].push(I[0][p]*(1-z)+I[3][p]*z),I[2].push(I[0][p]*V+I[3][p]*(1-V));for(b=0;b<A;b++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],D=d=g=y=0;D<4;D++){for(p=0;p<4;p++)this.curFillColor[p]+=this._lookUpTableBezier[b][D]*P[D][p],this.curStrokeColor[p]+=this._lookUpTableBezier[b][D]*I[D][p];d+=w[D]*this._lookUpTableBezier[b][D],g+=_[D]*this._lookUpTableBezier[b][D],y+=W[D]*this._lookUpTableBezier[b][D]}this.vertex(d,g,y)}this.curFillColor=P[3],this.curStrokeColor=I[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},l.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var d,g,y,b,p,h,w=[],_=[],j=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var E=1/this._lutQuadraticDetail,S=E,C=1,M=0;S<1;){if(h=parseFloat(S.toFixed(6)),this._lookUpTableQuadratic[M]=this._quadraticCoefficients(h),C.toFixed(6)===E.toFixed(6)){h=parseFloat(C.toFixed(6))+parseFloat(S.toFixed(6)),++M,this._lookUpTableQuadratic[M]=this._quadraticCoefficients(h);break}S+=E,C-=E,++M}}for(var A=this._lookUpTableQuadratic.length,P=[],D=0;D<3;D++)P.push([]);P[0]=this.immediateMode.geometry.vertexColors.slice(-4),P[2]=this.curFillColor.slice();var I=[];for(D=0;D<3;D++)I.push([]);if(I[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),I[2]=this.curStrokeColor.slice(),j===4){this.isQuadratic=!0;var w=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],_=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],U=Math.hypot(w[0]-w[1],_[0]-_[1]);for(U/=U+Math.hypot(w[1]-w[2],_[1]-_[2]),p=0;p<4;p++)P[1].push(P[0][p]*(1-U)+P[2][p]*U),I[1].push(I[0][p]*(1-U)+I[2][p]*U);for(b=0;b<A;b++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],D=d=g=0;D<3;D++){for(p=0;p<4;p++)this.curFillColor[p]+=this._lookUpTableQuadratic[b][D]*P[D][p],this.curStrokeColor[p]+=this._lookUpTableQuadratic[b][D]*I[D][p];d+=w[D]*this._lookUpTableQuadratic[b][D],g+=_[D]*this._lookUpTableQuadratic[b][D]}this.vertex(d,g)}this.curFillColor=P[2],this.curStrokeColor=I[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(j===6){this.isQuadratic=!0,w=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],_=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var N=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],B=Math.hypot(w[0]-w[1],_[0]-_[1],N[0]-N[1]);for(B/=B+Math.hypot(w[1]-w[2],_[1]-_[2],N[1]-N[2]),p=0;p<4;p++)P[1].push(P[0][p]*(1-B)+P[2][p]*B),I[1].push(I[0][p]*(1-B)+I[2][p]*B);for(b=0;b<A;b++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],D=d=g=y=0;D<3;D++){for(p=0;p<4;p++)this.curFillColor[p]+=this._lookUpTableQuadratic[b][D]*P[D][p],this.curStrokeColor[p]+=this._lookUpTableQuadratic[b][D]*I[D][p];d+=w[D]*this._lookUpTableQuadratic[b][D],g+=_[D]*this._lookUpTableQuadratic[b][D],y+=N[D]*this._lookUpTableQuadratic[b][D]}this.vertex(d,g,y)}this.curFillColor=P[2],this.curStrokeColor=I[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},l.default.RendererGL.prototype.curveVertex=function(){var d,g,y,b,p,h,w=[],_=[],j=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var E=1/this._lutBezierDetail,S=E,C=1,M=0;S<1;){if(h=parseFloat(S.toFixed(6)),this._lookUpTableBezier[M]=this._bezierCoefficients(h),C.toFixed(6)===E.toFixed(6)){h=parseFloat(C.toFixed(6))+parseFloat(S.toFixed(6)),++M,this._lookUpTableBezier[M]=this._bezierCoefficients(h);break}S+=E,C-=E,++M}}var A=this._lookUpTableBezier.length;if(j===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,w=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),_=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),p=0;p<A;p++)g=w[0]*this._lookUpTableBezier[p][0]+w[1]*this._lookUpTableBezier[p][1]+w[2]*this._lookUpTableBezier[p][2]+w[3]*this._lookUpTableBezier[p][3],y=_[0]*this._lookUpTableBezier[p][0]+_[1]*this._lookUpTableBezier[p][1]+_[2]*this._lookUpTableBezier[p][2]+_[3]*this._lookUpTableBezier[p][3],this.vertex(g,y);for(p=0;p<j;p++)this.immediateMode._curveVertex.shift()}}else if(j===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,w=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),_=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),d=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),p=0;p<A;p++)g=w[0]*this._lookUpTableBezier[p][0]+w[1]*this._lookUpTableBezier[p][1]+w[2]*this._lookUpTableBezier[p][2]+w[3]*this._lookUpTableBezier[p][3],y=_[0]*this._lookUpTableBezier[p][0]+_[1]*this._lookUpTableBezier[p][1]+_[2]*this._lookUpTableBezier[p][2]+_[3]*this._lookUpTableBezier[p][3],b=d[0]*this._lookUpTableBezier[p][0]+d[1]*this._lookUpTableBezier[p][1]+d[2]*this._lookUpTableBezier[p][2]+d[3]*this._lookUpTableBezier[p][3],this.vertex(g,y,b);for(p=0;p<j;p++)this.immediateMode._curveVertex.shift()}},l.default.RendererGL.prototype.image=function(d,C,y,M,p,h,w,_,j){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(d),this._pInst.textureMode(f.NORMAL);var E=0,S=(C<=d.width&&(E=C/d.width),1),C=(C+M<=d.width&&(S=(C+M)/d.width),0),M=(y<=d.height&&(C=y/d.height),1);y+p<=d.height&&(M=(y+p)/d.height),this.beginShape(),this.vertex(h,w,0,E,C),this.vertex(h+_,w,0,S,C),this.vertex(h+_,w+j,0,S,M),this.vertex(h,w+j,0,E,M),this.endShape(f.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(f.REMOVE)};var c=l.default;a.default=c},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(t,i,a){function s(g){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function u(g){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(y){return s(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":s(y)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=(d=t("../core/main"))&&d.__esModule?d:{default:d},f=function(g){if(g&&g.__esModule)return g;if(g===null||u(g)!=="object"&&typeof g!="function")return{default:g};var y=v();if(y&&y.has(g))return y.get(g);var b,p={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in g){var w;Object.prototype.hasOwnProperty.call(g,b)&&((w=h?Object.getOwnPropertyDescriptor(g,b):null)&&(w.get||w.set)?Object.defineProperty(p,b,w):p[b]=g[b])}return p.default=g,y&&y.set(g,p),p}(t("../core/constants"));function v(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,v=function(){return g},g)}function m(g){return function(y){if(Array.isArray(y)){for(var b=0,p=new Array(y.length);b<y.length;b++)p[b]=y[b];return p}}(g)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(g,y){for(var b=0;b<y.length;b++){var p=y[b];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(g,p.key,p)}}var d=function(){function g(p){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");(this.renderer=p)._pInst.push(),this.identityMatrix=new l.default.Matrix,p.uModelMatrix=new l.default.Matrix,this.geometry=new l.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(g.nextGeometryId),g.nextGeometryId++,this.hasTransform=!1}var y,b;return y=g,(b=[{key:"transformVertices",value:function(p){var h=this;return this.hasTransform?p.map(function(w){return h.renderer.uModelMatrix.multiplyPoint(w)}):p}},{key:"transformNormals",value:function(p){var h=this;return this.hasTransform?p.map(function(w){return h.renderer.uNMatrix.multiplyVec3(w)}):p}},{key:"addGeometry",value:function(p){for(var h,w=this,_=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(E,S){return E===w.identityMatrix.mat4[S]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),j=((h=this.geometry.vertices).push.apply(h,m(this.transformVertices(p.vertices))),(h=this.geometry.vertexNormals).push.apply(h,m(this.transformNormals(p.vertexNormals))),(h=this.geometry.uvs).push.apply(h,m(p.uvs)),this.renderer._doFill&&(h=this.geometry.faces).push.apply(h,m(p.faces.map(function(E){return E.map(function(S){return S+_})}))),this.renderer._doStroke&&(h=this.geometry.edges).push.apply(h,m(p.edges.map(function(E){return E.map(function(S){return S+_})}))),m(p.vertexColors));j.length<4*p.vertices.length;)j.push.apply(j,m(this.renderer.curFillColor));(h=this.geometry.vertexColors).push.apply(h,m(j))}},{key:"addImmediate",value:function(){var p=this.renderer.immediateMode.geometry,h=this.renderer.immediateMode.shapeMode,w=[];if(this.renderer._doFill)if(h===f.TRIANGLE_STRIP||h===f.QUAD_STRIP)for(var _=2;_<p.vertices.length;_++)_%2==0?w.push([_,_-1,_-2]):w.push([_,_-2,_-1]);else if(h===f.TRIANGLE_FAN)for(var j=2;j<p.vertices.length;j++)w.push([0,j-1,j]);else for(var E=0;E<p.vertices.length;E+=3)w.push([E,E+1,E+2]);this.addGeometry(Object.assign({},p,{faces:w}))}},{key:"addRetained",value:function(p){this.addGeometry(p.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&c(y.prototype,b),g}();d.nextGeometryId=0,a.default=d},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(t,i,a){function s(c){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var u=(m=t("../core/main"))&&m.__esModule?m:{default:m},l=function(c){if(c&&c.__esModule)return c;if(c===null||v(c)!=="object"&&typeof c!="function")return{default:c};var d=f();if(d&&d.has(c))return d.get(c);var g,y={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in c){var p;Object.prototype.hasOwnProperty.call(c,g)&&((p=b?Object.getOwnPropertyDescriptor(c,g):null)&&(p.get||p.set)?Object.defineProperty(y,g,p):y[g]=c[g])}return y.default=c,d&&d.set(c,y),y}(t("../core/constants"));function f(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,f=function(){return c},c)}function v(c){return(v=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(d){return s(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":s(d)})(c)}u.default.prototype.orbitControl=function(c,d,g,j){var b=this,p=(this._assert3d("orbitControl"),u.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);c===void 0&&(c=1),d===void 0&&(d=c),g===void 0&&(g=1),v(j)!=="object"&&(j={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var S=j.disableTouchActions;this.touchActionsDisabled===!0||S!==void 0&&!S||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var h,w,_,S=j.freeRotation,j=S!==void 0&&S,E=[],S=(this.touches.forEach(function(U){b._renderer.prevTouches.forEach(function(N){U.id===N.id&&(N={x:U.x,y:U.y,px:N.x,py:N.y},E.push(N))})}),this._renderer.prevTouches=this.touches,0),C=0,M=0,A=0,P=0,D=this.height<this.width?this.height:this.width,I=!1;return 0<E.length?(I=0<E[0].x&&E[0].x<this.width&&0<E[0].y&&E[0].y<this.height,E.length===1?(C=-c*((h=E[0]).x-h.px)/D,M=d*(h.y-h.py)/D):(h=E[0],w=E[1],S=-(Math.hypot(h.x-w.x,h.y-w.y)-Math.hypot(h.px-w.px,h.py-w.py))*g*4e-4,A=.5*(h.x+w.x)-.5*(h.px+w.px),P=.5*(h.y+w.y)-.5*(h.py+w.py)),0<this.touches.length?I&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(I=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(S=Math.sign(this._mouseWheelDeltaY)*g,S*=.01,this._mouseWheelDeltaY=0,I&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(C=-c*this.movedX/D,M=d*this.movedY/D):this.mouseButton===this.RIGHT&&(A=this.movedX,P=this.movedY*p.yScale),I&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),S!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=S),.001<Math.abs(this._renderer.zoomVelocity)?(j?p._orbitFree(0,0,this._renderer.zoomVelocity):p._orbit(0,0,this._renderer.zoomVelocity),p.projMatrix.mat4[15]!==0&&(p.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),p.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=p.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=p.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,C===0&&M===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*C,.6*M),1e-6<this._renderer.rotateVelocity.magSq()?(j?p._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):p._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),A===0&&P===0||!this._renderer.executeRotateAndMove||(h=2*A/this.width,w=2*-P/this.height,this._renderer.moveVelocity.add(.15*h,.15*w)),1e-6<this._renderer.moveVelocity.magSq()?(g=p._getLocalAxes(),c=p.eyeX-p.centerX,d=p.eyeY-p.centerY,D=p.eyeZ-p.centerZ,I=Math.sqrt(c*c+d*d+D*D),S=new u.default.Vector(p.centerX,p.centerY,p.centerZ),S=p.cameraMatrix.multiplyPoint(S),(S=this._renderer.uPMatrix.multiplyAndNormalizePoint(S)).x-=this._renderer.moveVelocity.x,S.y-=this._renderer.moveVelocity.y,M=(C=this._renderer.uPMatrix.mat4)[15]===0?(_=(C[8]+S.x)/C[0]*I,(C[9]+S.y)/C[5]*I):(_=(S.x-C[12])/C[0],(S.y-C[13])/C[5]),p.setPosition(p.eyeX+_*g.x[0]+M*g.y[0],p.eyeY+_*g.x[1]+M*g.y[1],p.eyeZ+_*g.x[2]+M*g.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},u.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var c=arguments.length,d=new Array(c),g=0;g<c;g++)d[g]=arguments[g];u.default._validateParameters("debugMode",d);for(var y=this._registeredMethods.post.length-1;0<=y;y--)this._registeredMethods.post[y].toString()!==this._grid().toString()&&this._registeredMethods.post[y].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(y,1);d[0]===l.GRID?this.registerMethod("post",this._grid(d[1],d[2],d[3],d[4],d[5])):d[0]===l.AXES?this.registerMethod("post",this._axesIcon(d[1],d[2],d[3],d[4])):(this.registerMethod("post",this._grid(d[0],d[1],d[2],d[3],d[4])),this.registerMethod("post",this._axesIcon(d[5],d[6],d[7],d[8])))},u.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var c=this._registeredMethods.post.length-1;0<=c;c--)this._registeredMethods.post[c].toString()!==this._grid().toString()&&this._registeredMethods.post[c].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(c,1)},u.default.prototype._grid=function(c,d,g,y,b){c===void 0&&(c=this.width/2),d===void 0&&(d=Math.round(c/30)<4?4:Math.round(c/30)),g===void 0&&(g=0),y===void 0&&(y=0),b===void 0&&(b=0);var p=c/d,h=c/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var w=0;w<=d;w++)this.beginShape(this.LINES),this.vertex(-h+g,y,w*p-h+b),this.vertex(h+g,y,w*p-h+b),this.endShape();for(var _=0;_<=d;_++)this.beginShape(this.LINES),this.vertex(_*p-h+g,y,-h+b),this.vertex(_*p-h+g,y,h+b),this.endShape();this.pop()}},u.default.prototype._axesIcon=function(c,d,g,y){return c===void 0&&(c=40<this.width/20?this.width/20:40),d===void 0&&(d=-this.width/4),g===void 0&&(g=d),y===void 0&&(y=d),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(d,g,y),this.vertex(d+c,g,y),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(d,g,y),this.vertex(d,g+c,y),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(d,g,y),this.vertex(d,g,y+c),this.endShape(),this.pop()}};var m=u.default;a.default=m},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(t,i,a){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};s.default.prototype.ambientLight=function(u,l,f,v){this._assert3d("ambientLight"),s.default._validateParameters("ambientLight",arguments);var m=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(m._array[0],m._array[1],m._array[2]),this._renderer._enableLighting=!0,this},s.default.prototype.specularColor=function(u,l,f){this._assert3d("specularColor"),s.default._validateParameters("specularColor",arguments);var v=this.color.apply(this,arguments);return this._renderer.specularColors=[v._array[0],v._array[1],v._array[2]],this},s.default.prototype.directionalLight=function(u,b,y,v,m,c){this._assert3d("directionalLight"),s.default._validateParameters("directionalLight",arguments),u=u instanceof s.default.Color?u:this.color(u,b,y);var d,g,b=arguments[arguments.length-1],y=typeof b=="number"?(d=arguments[arguments.length-3],g=arguments[arguments.length-2],arguments[arguments.length-1]):(d=b.x,g=b.y,b.z),b=Math.sqrt(d*d+g*g+y*y);return this._renderer.directionalLightDirections.push(d/b,g/b,y/b),this._renderer.directionalLightDiffuseColors.push(u._array[0],u._array[1],u._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},s.default.prototype.pointLight=function(u,y,b,v,m,c){this._assert3d("pointLight"),s.default._validateParameters("pointLight",arguments),u=u instanceof s.default.Color?u:this.color(u,y,b);var d,g,y=arguments[arguments.length-1],b=typeof y=="number"?(d=arguments[arguments.length-3],g=arguments[arguments.length-2],arguments[arguments.length-1]):(d=y.x,g=y.y,y.z);return this._renderer.pointLightPositions.push(d,g,b),this._renderer.pointLightDiffuseColors.push(u._array[0],u._array[1],u._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},s.default.prototype.imageLight=function(u){this._renderer.activeImageLight=u,this._renderer._enableLighting=!0},s.default.prototype.panorama=function(u){this.filter(this._renderer._getSphereMapping(u))},s.default.prototype.lights=function(){this._assert3d("lights");var u=this.color("rgb(128,128,128)");return this.ambientLight(u),this.directionalLight(u,0,0,-1),this},s.default.prototype.lightFalloff=function(u,l,f){return this._assert3d("lightFalloff"),s.default._validateParameters("lightFalloff",arguments),u<0&&(u=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),l<0&&(l=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),f<0&&(f=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),u===0&&l===0&&f===0&&(u=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=u,this._renderer.linearAttenuation=l,this._renderer.quadraticAttenuation=f,this},s.default.prototype.spotLight=function(u,l,f,v,m,c,d,g,y,b,p){this._assert3d("spotLight"),s.default._validateParameters("spotLight",arguments);var h,w,_,j=arguments.length;switch(j){case 11:case 10:h=this.color(u,l,f),w=new s.default.Vector(v,m,c),_=new s.default.Vector(d,g,y);break;case 9:u instanceof s.default.Color?(h=u,w=new s.default.Vector(l,f,v),_=new s.default.Vector(m,c,d),b=g,p=y):v instanceof s.default.Vector?(h=this.color(u,l,f),w=v,_=new s.default.Vector(m,c,d),b=g,p=y):d instanceof s.default.Vector?(h=this.color(u,l,f),w=new s.default.Vector(v,m,c),_=d,b=g,p=y):(h=this.color(u,l,f),w=new s.default.Vector(v,m,c),_=new s.default.Vector(d,g,y));break;case 8:b=(_=u instanceof s.default.Color?(h=u,w=new s.default.Vector(l,f,v),new s.default.Vector(m,c,d)):v instanceof s.default.Vector?(h=this.color(u,l,f),w=v,new s.default.Vector(m,c,d)):(h=this.color(u,l,f),w=new s.default.Vector(v,m,c),d),g);break;case 7:u instanceof s.default.Color&&l instanceof s.default.Vector?(h=u,w=l,_=new s.default.Vector(f,v,m),b=c,p=d):u instanceof s.default.Color&&m instanceof s.default.Vector?(h=u,w=new s.default.Vector(l,f,v),_=m,b=c,p=d):v instanceof s.default.Vector&&m instanceof s.default.Vector?(h=this.color(u,l,f),w=v,_=m,b=c,p=d):_=u instanceof s.default.Color?(h=u,w=new s.default.Vector(l,f,v),new s.default.Vector(m,c,d)):v instanceof s.default.Vector?(h=this.color(u,l,f),w=v,new s.default.Vector(m,c,d)):(h=this.color(u,l,f),w=new s.default.Vector(v,m,c),d);break;case 6:v instanceof s.default.Vector&&m instanceof s.default.Vector?(h=this.color(u,l,f),w=v,_=m,b=c):u instanceof s.default.Color&&m instanceof s.default.Vector?(h=u,w=new s.default.Vector(l,f,v),_=m,b=c):u instanceof s.default.Color&&l instanceof s.default.Vector&&(h=u,w=l,_=new s.default.Vector(f,v,m),b=c);break;case 5:u instanceof s.default.Color&&l instanceof s.default.Vector&&f instanceof s.default.Vector?(h=u,w=l,_=f,b=v,p=m):v instanceof s.default.Vector&&m instanceof s.default.Vector?(h=this.color(u,l,f),w=v,_=m):u instanceof s.default.Color&&m instanceof s.default.Vector?(h=u,w=new s.default.Vector(l,f,v),_=m):u instanceof s.default.Color&&l instanceof s.default.Vector&&(h=u,w=l,_=new s.default.Vector(f,v,m));break;case 4:h=u,w=l,_=f,b=v;break;case 3:h=u,w=l,_=f;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(j<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(h._array[0],h._array[1],h._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(w.x,w.y,w.z),_.normalize(),this._renderer.spotLightDirections.push(_.x,_.y,_.z),b===void 0&&(b=Math.PI/3),p!==void 0&&p<1?(p=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):p===void 0&&(p=100),b=this._renderer._pInst._toRadians(b),this._renderer.spotLightAngle.push(Math.cos(b)),this._renderer.spotLightConc.push(p),this._renderer._enableLighting=!0,this},s.default.prototype.noLights=function(){this._assert3d("noLights");for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];return s.default._validateParameters("noLights",l),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},t=s.default,a.default=t},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(t,i,a){function s(b){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("regenerator-runtime/runtime");var u=(y=t("../core/main"))&&y.__esModule?y:{default:y};function l(b){return function(p){if(Array.isArray(p)){for(var h=0,w=new Array(p.length);h<p.length;h++)w[h]=p[h];return w}}(b)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(b)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(b,p,h,w,_,j,E){try{var S=b[j](E),C=S.value}catch(M){return void h(M)}S.done?p(C):Promise.resolve(C).then(w,_)}function v(b){return function(){var p=this,h=arguments;return new Promise(function(w,_){var j=b.apply(p,h);function E(C){f(j,w,_,E,S,"next",C)}function S(C){f(j,w,_,E,S,"throw",C)}E(void 0)})}}function m(b){return(m=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(p){return s(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":s(p)})(b)}function c(b,p,h){for(var w=2<arguments.length&&h!==void 0?h:{},_={v:[],vt:[],vn:[]},j={},E=null,S=new Set,C=!1,M=!1,A=0;A<p.length;++A){var P=p[A].trim().split(/\b\s+/);if(0<P.length){if(P[0]==="usemtl")E=P[1];else if(P[0]==="v"||P[0]==="vn"){var D=new u.default.Vector(parseFloat(P[1]),parseFloat(P[2]),parseFloat(P[3]));_[P[0]].push(D)}else if(P[0]==="vt")D=[parseFloat(P[1]),1-parseFloat(P[2])],_[P[0]].push(D);else if(P[0]==="f")for(var I=3;I<P.length;++I){for(var U=[],N=[1,I-1,I],B=0;B<N.length;++B){for(var W,z=P[N[B]],V=z.split("/"),X=0;X<V.length;X++)V[X]=parseInt(V[X])-1;j[z]||(j[z]={}),j[z][E]===void 0?(W=b.vertices.length,b.vertices.push(_.v[V[0]].copy()),b.uvs.push(_.vt[V[1]]?_.vt[V[1]].slice():[0,0]),b.vertexNormals.push(_.vn[V[2]]?_.vn[V[2]].copy():new u.default.Vector),j[z][E]=W,U.push(W),E&&w[E]&&w[E].diffuseColor&&S.add(_.v[V[0]])):U.push(j[z][E])}if(U[0]!==U[1]&&U[0]!==U[2]&&U[1]!==U[2])if(b.faces.push(U),E&&w[E]&&w[E].diffuseColor)for(var C=C=!0,K=w[E].diffuseColor,re=0;re<U.length;re++)b.vertexColors.push(K[0]),b.vertexColors.push(K[1]),b.vertexColors.push(K[2]);else M=!0}}}if(b.vertexNormals.length===0&&b.computeNormals(),C===M)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")}function d(b,p){if(function(ae){for(var Z=new DataView(ae),ue=[115,111,108,105,100],pe=0;pe<5;pe++)if(function(we,ge,ye){for(var _e=0,Le=we.length;_e<Le;_e++)if(we[_e]!==ge.getUint8(ye+_e,!1))return;return 1}(ue,Z,pe))return;return 1}(p)){for(var h,w,_,j,E,S,C,M=b,A=new DataView(p),P=A.getUint32(80,!0),D=!1,I=0;I<70;I++)A.getUint32(I,!1)===1129270351&&A.getUint8(I+4)===82&&A.getUint8(I+5)===61&&(D=!0,j=[],E=A.getUint8(I+6)/255,S=A.getUint8(I+7)/255,C=A.getUint8(I+8)/255);for(var U=0;U<P;U++){for(var N,B=84+50*U,W=A.getFloat32(B,!0),z=A.getFloat32(4+B,!0),V=A.getFloat32(8+B,!0),X=(D&&(N=A.getUint16(48+B,!0),_=32768&N?(h=E,w=S,C):(h=(31&N)/31,w=(N>>5&31)/31,(N>>10&31)/31)),new u.default.Vector(W,z,V)),K=1;K<=3;K++){var re=B+12*K,re=new u.default.Vector(A.getFloat32(re,!0),A.getFloat32(4+re,!0),A.getFloat32(8+re,!0));M.vertices.push(re),M.vertexNormals.push(X),D&&j.push(h,w,_)}M.faces.push([3*U,3*U+1,3*U+2]),M.uvs.push([0,0],[0,0],[0,0])}}else if(p=new DataView(p),"TextDecoder"in window)for(var T,L,G=b,H=new TextDecoder("utf-8").decode(p).split(`
`),J="",ee=[],ie=0;ie<H.length;++ie){for(var fe=H[ie].trim(),oe=fe.split(" "),de=0;de<oe.length;++de)oe[de]===""&&oe.splice(de,1);if(oe.length!==0)switch(J){case"":if(oe[0]!=="solid")return console.error(fe),void console.error('Invalid state "'.concat(oe[0],'", should be "solid"'));J="solid";break;case"solid":if(oe[0]!=="facet"||oe[1]!=="normal")return console.error(fe),void console.error('Invalid state "'.concat(oe[0],'", should be "facet normal"'));T=new u.default.Vector(parseFloat(oe[2]),parseFloat(oe[3]),parseFloat(oe[4])),G.vertexNormals.push(T,T,T),J="facet normal";break;case"facet normal":if(oe[0]!=="outer"||oe[1]!=="loop")return console.error(fe),void console.error('Invalid state "'.concat(oe[0],'", should be "outer loop"'));J="vertex";break;case"vertex":if(oe[0]==="vertex")L=new u.default.Vector(parseFloat(oe[1]),parseFloat(oe[2]),parseFloat(oe[3])),G.vertices.push(L),G.uvs.push([0,0]),ee.push(G.vertices.indexOf(L));else{if(oe[0]!=="endloop")return console.error(fe),void console.error('Invalid state "'.concat(oe[0],'", should be "vertex" or "endloop"'));G.faces.push(ee),ee=[],J="endloop"}break;case"endloop":if(oe[0]!=="endfacet")return console.error(fe),void console.error('Invalid state "'.concat(oe[0],'", should be "endfacet"'));J="endfacet";break;case"endfacet":if(oe[0]!=="endsolid"){if(oe[0]!=="facet"||oe[1]!=="normal")return console.error(fe),void console.error('Invalid state "'.concat(oe[0],'", should be "endsolid" or "facet normal"'));T=new u.default.Vector(parseFloat(oe[2]),parseFloat(oe[3]),parseFloat(oe[4])),G.vertexNormals.push(T,T,T),J="facet normal"}break;default:console.error('Invalid state "'.concat(J,'"'))}}else console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)")}t("./p5.Geometry"),u.default.prototype.loadModel=function(b,p){u.default._validateParameters("loadModel",arguments);var h,w,_=!1,j=!1,E=!1,S=b.slice(-4),C=(p&&m(p)==="object"?(_=p.normalize||!1,h=p.successCallback,w=p.failureCallback,S=p.fileType||S,j=p.flipU||!1,E=p.flipV||!1):typeof p=="boolean"?(_=p,h=arguments[2],w=arguments[3],arguments[4]!==void 0&&(S=arguments[4])):(h=typeof p=="function"?p:void 0,w=arguments[2],arguments[3]!==void 0&&(S=arguments[3])),new u.default.Geometry),M=(C.gid="".concat(b,"|").concat(_),this);function A(){return(A=v(regeneratorRuntime.mark(function D(I){var U,N,B,W;return regeneratorRuntime.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:for(U=[],N=0;N<I.length;N++)(B=I[N].match(/^mtllib (.+)/))&&function(){var V="",X=B[1],K=b.split("/");V=1<K.length?(K.pop(),K.join("/")+"/"+X):X,U.push(function(){return P.apply(this,arguments)}(V).then(function(re){return re?(T=M,L=V,new Promise(function(G,H){var J=null,ee={};T.loadStrings(L,function(ie){for(var fe=0;fe<ie.length;++fe){var oe,de=ie[fe].trim().split(/\s+/);de[0]==="newmtl"?(oe=de[1],ee[J=oe]={}):de[0]==="Kd"?ee[J].diffuseColor=[parseFloat(de[1]),parseFloat(de[2]),parseFloat(de[3])]:de[0]==="Ka"?ee[J].ambientColor=[parseFloat(de[1]),parseFloat(de[2]),parseFloat(de[3])]:de[0]==="Ks"?ee[J].specularColor=[parseFloat(de[1]),parseFloat(de[2]),parseFloat(de[3])]:de[0]==="map_Kd"&&(ee[J].texturePath=de[1])}G(ee)},H)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(V)),{});var T,L}).catch(function(re){return console.warn("Error loading MTL file: ".concat(V),re),{}}))}();return z.prev=2,z.next=5,Promise.all(U);case 5:return W=z.sent,W=Object.assign.apply(Object,[{}].concat(l(W))),z.abrupt("return",W);case 10:return z.prev=10,z.t0=z.catch(2),z.abrupt("return",{});case 13:case"end":return z.stop()}},D,null,[[2,10]])}))).apply(this,arguments)}function P(){return(P=v(regeneratorRuntime.mark(function D(I){var U;return regeneratorRuntime.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.prev=0,N.next=3,fetch(I,{method:"HEAD"});case 3:return U=N.sent,N.abrupt("return",U.ok);case 7:return N.prev=7,N.t0=N.catch(0),N.abrupt("return",!1);case 10:case"end":return N.stop()}},D,null,[[0,7]])}))).apply(this,arguments)}return S.match(/\.stl$/i)?this.httpDo(b,"GET","arrayBuffer",function(D){d(C,D),_&&C.normalize(),j&&C.flipU(),E&&C.flipV(),M._decrementPreload(),typeof h=="function"&&h(C)},w):S.match(/\.obj$/i)?this.loadStrings(b,function(){var D=v(regeneratorRuntime.mark(function I(U){var N;return regeneratorRuntime.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.prev=0,B.next=3,function(){return A.apply(this,arguments)}(U);case 3:N=B.sent,c(C,U,N),B.next=11;break;case 7:return B.prev=7,B.t0=B.catch(0),w?w(B.t0):u.default._friendlyError("Error during parsing: "+B.t0.message),B.abrupt("return");case 11:return B.prev=11,_&&C.normalize(),j&&C.flipU(),E&&C.flipV(),C._makeTriangleEdges(),M._decrementPreload(),typeof h=="function"&&h(C),B.finish(11);case 19:case"end":return B.stop()}},I,null,[[0,7,11,19]])}));return function(I){return D.apply(this,arguments)}}(),w):(u.default._friendlyFileLoadError(3,b),w?w():u.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),C},u.default.prototype.model=function(b){this._assert3d("model"),u.default._validateParameters("model",arguments),0<b.vertices.length&&(this._renderer.geometryInHash(b.gid)||(b._edgesToVertices(),this._renderer.createBuffers(b.gid,b)),this._renderer.drawBuffers(b.gid))};var g=0,y=(u.default.prototype.createModel=function(b){var p,h,w=1<arguments.length&&arguments[1]!==void 0?arguments[1]:" ",S=2<arguments.length?arguments[2]:void 0,_=(u.default._validateParameters("createModel",arguments),!1),j=!1,E=!1,S=(S&&m(S)==="object"?(_=S.normalize||!1,p=S.successCallback,h=S.failureCallback,j=S.flipU||!1,E=S.flipV||!1):h=typeof S=="boolean"?(_=S,p=arguments[3],arguments[4]):(p=typeof arguments[2]=="function"?arguments[2]:void 0,arguments[3]),new u.default.Geometry);if(S.gid="".concat(w,"|").concat(_,"|").concat(g++),w.match(/\.stl$/i))try{d(S,new TextEncoder().encode(b).buffer)}catch(C){return void(h?h(C):u.default._friendlyError("Error during parsing: "+C.message))}else if(w.match(/\.obj$/i))try{c(S,b.split(`
`))}catch(C){return void(h?h(C):u.default._friendlyError("Error during parsing: "+C.message))}else u.default._friendlyFileLoadError(3,b),h?h():u.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.");return _&&S.normalize(),j&&S.flipU(),E&&S.flipV(),S._makeTriangleEdges(),typeof p=="function"&&p(S),S},u.default);a.default=y},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(t,i,a){function s(c){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function u(c){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(d){return s(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":s(d)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=(m=t("../core/main"))&&m.__esModule?m:{default:m},f=function(c){if(c&&c.__esModule)return c;if(c===null||u(c)!=="object"&&typeof c!="function")return{default:c};var d=v();if(d&&d.has(c))return d.get(c);var g,y={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in c){var p;Object.prototype.hasOwnProperty.call(c,g)&&((p=b?Object.getOwnPropertyDescriptor(c,g):null)&&(p.get||p.set)?Object.defineProperty(y,g,p):y[g]=c[g])}return y.default=c,d&&d.set(c,y),y}(t("../core/constants"));function v(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,v=function(){return c},c)}t("./p5.Texture"),l.default.prototype.loadShader=function(c,d,g,y){l.default._validateParameters("loadShader",arguments),y=y||console.error;function b(){h._decrementPreload(),g&&g(p)}var p=new l.default.Shader,h=this,w=!1,_=!1;return this.loadStrings(c,function(j){p._vertSrc=j.join(`
`),_=!0,w&&b()},y),this.loadStrings(d,function(j){p._fragSrc=j.join(`
`),w=!0,_&&b()},y),p},l.default.prototype.createShader=function(c,d,g){return l.default._validateParameters("createShader",arguments),new l.default.Shader(this._renderer,c,d,g)},l.default.prototype.createFilterShader=function(c){l.default._validateParameters("createFilterShader",arguments);var d=c.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,d=new l.default.Shader(this._renderer,d,c);return this._renderer.GL?d.ensureCompiledOnContext(this):d.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),d},l.default.prototype.shader=function(c){return this._assert3d("shader"),l.default._validateParameters("shader",arguments),c.ensureCompiledOnContext(this),c.isStrokeShader()?this._renderer.userStrokeShader=c:(this._renderer.userFillShader=c,this._renderer._useNormalMaterial=!1),c.setDefaultUniforms(),this},l.default.prototype.baseMaterialShader=function(){return this._assert3d("baseMaterialShader"),this._renderer.baseMaterialShader()},l.default.prototype.baseNormalShader=function(){return this._assert3d("baseNormalShader"),this._renderer.baseNormalShader()},l.default.prototype.baseColorShader=function(){return this._assert3d("baseColorShader"),this._renderer.baseColorShader()},l.default.prototype.baseStrokeShader=function(){return this._assert3d("baseStrokeShader"),this._renderer.baseStrokeShader()},l.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},l.default.prototype.texture=function(c){return this._assert3d("texture"),l.default._validateParameters("texture",arguments),c.gifProperties&&c._animateGif(this),this._renderer.drawMode=f.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=c,this._renderer._setProperty("_doFill",!0),this},l.default.prototype.textureMode=function(c){c!==f.IMAGE&&c!==f.NORMAL?console.warn("You tried to set ".concat(c," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=c},l.default.prototype.textureWrap=function(c){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:c,g=(this._renderer.textureWrapX=c,this._renderer.textureWrapY=d,!0),y=!1,b=void 0;try{for(var p,h=this._renderer.textures.values()[Symbol.iterator]();!(g=(p=h.next()).done);g=!0)p.value.setWrapMode(c,d)}catch(w){y=!0,b=w}finally{try{g||h.return==null||h.return()}finally{if(y)throw b}}},l.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var c=arguments.length,d=new Array(c),g=0;g<c;g++)d[g]=arguments[g];return l.default._validateParameters("normalMaterial",d),this._renderer.drawMode=f.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},l.default.prototype.ambientMaterial=function(c,d,g){this._assert3d("ambientMaterial"),l.default._validateParameters("ambientMaterial",arguments);var y=l.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=y._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},l.default.prototype.emissiveMaterial=function(c,d,g,y){this._assert3d("emissiveMaterial"),l.default._validateParameters("emissiveMaterial",arguments);var b=l.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=b._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},l.default.prototype.specularMaterial=function(c,d,g,y){this._assert3d("specularMaterial"),l.default._validateParameters("specularMaterial",arguments);var b=l.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=b._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},l.default.prototype.shininess=function(c){return this._assert3d("shininess"),l.default._validateParameters("shininess",arguments),this._renderer._useShininess=c=c<1?1:c,this},l.default.prototype.metalness=function(c){return this._assert3d("metalness"),c=1-Math.exp(-c/100),this._renderer._useMetalness=c,this},l.default.RendererGL.prototype._applyColorBlend=function(c,b){var g=this.GL,y=this.drawMode===f.TEXTURE,b=b||this.userFillShader||this.userStrokeShader||this.userPointShader||y||this.curBlendMode!==f.BLEND||c[c.length-1]<1||this._isErasing;return b!==this._isBlending&&(b||this.curBlendMode!==f.BLEND&&this.curBlendMode!==f.ADD?g.enable(g.BLEND):g.disable(g.BLEND),g.depthMask(!0),this._isBlending=b),this._applyBlendMode(),c},l.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var c=this.GL;switch(this.curBlendMode){case f.BLEND:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case f.ADD:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ONE);break;case f.REMOVE:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ZERO,c.ONE_MINUS_SRC_ALPHA);break;case f.MULTIPLY:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.DST_COLOR,c.ONE_MINUS_SRC_ALPHA);break;case f.SCREEN:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_COLOR);break;case f.EXCLUSION:c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.ONE_MINUS_DST_COLOR,c.ONE_MINUS_SRC_COLOR,c.ONE,c.ONE);break;case f.REPLACE:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ZERO);break;case f.SUBTRACT:c.blendEquationSeparate(c.FUNC_REVERSE_SUBTRACT,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case f.DARKEST:this.blendExt?(c.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case f.LIGHTEST:this.blendExt?(c.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var m=l.default;a.default=m},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(t,i,a){t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(l,f){for(var v=0;v<f.length;v++){var m=f[v];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(l,m.key,m)}}s.default.prototype.camera=function(){var l;this._assert3d("camera");for(var f=arguments.length,v=new Array(f),m=0;m<f;m++)v[m]=arguments[m];return s.default._validateParameters("camera",v),(l=this._renderer._curCamera).camera.apply(l,v),this},s.default.prototype.perspective=function(){var l;this._assert3d("perspective");for(var f=arguments.length,v=new Array(f),m=0;m<f;m++)v[m]=arguments[m];return s.default._validateParameters("perspective",v),(l=this._renderer._curCamera).perspective.apply(l,v),this},s.default.prototype.linePerspective=function(l){if(s.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof s.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(l===void 0)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=l},s.default.prototype.ortho=function(){var l;this._assert3d("ortho");for(var f=arguments.length,v=new Array(f),m=0;m<f;m++)v[m]=arguments[m];return s.default._validateParameters("ortho",v),(l=this._renderer._curCamera).ortho.apply(l,v),this},s.default.prototype.frustum=function(){var l;this._assert3d("frustum");for(var f=arguments.length,v=new Array(f),m=0;m<f;m++)v[m]=arguments[m];return s.default._validateParameters("frustum",v),(l=this._renderer._curCamera).frustum.apply(l,v),this},s.default.prototype.createCamera=function(){this._assert3d("createCamera");var l=new s.default.Camera(this._renderer);return l._computeCameraDefaultSettings(),l._setDefaultCamera(),this._renderer._curCamera=l},s.default.Camera=function(){function l(m){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this._renderer=m,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new s.default.Matrix,this.projMatrix=new s.default.Matrix,this.yScale=1}var f,v;return f=l,(v=[{key:"perspective",value:function(y,c,d,g){this.cameraType=0<arguments.length?"custom":"default",y===void 0?(y=this.defaultCameraFOV,this.cameraFOV=y):this.cameraFOV=this._renderer._pInst._toRadians(y),c===void 0&&(c=this.defaultAspectRatio),d===void 0&&(d=this.defaultCameraNear),g===void 0&&(g=this.defaultCameraFar),d<=1e-4&&(d=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),g<d&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=c,this.cameraNear=d,this.cameraFar=g,this.projMatrix=s.default.Matrix.identity();var y=1/Math.tan(this.cameraFOV/2),b=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(y/c,0,0,0,0,-y*this.yScale,0,0,0,0,(g+d)*b,-1,0,0,2*g*d*b,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(S,E,d,g,y,b){var C=this.fbo||this._renderer,C=(S===void 0&&(S=-C.width/2),E===void 0&&(E=+C.width/2),d===void 0&&(d=-C.height/2),g===void 0&&(g=+C.height/2),y===void 0&&(y=0),b===void 0&&(b=Math.max(C.width,C.height)+800),this.cameraNear=y,E-S),p=g-d,h=(this.cameraFar=b)-y,w=2/C,_=2/p*this.yScale,j=-2/h,E=-(E+S)/C,S=-(g+d)/p,C=-(b+y)/h;this.projMatrix=s.default.Matrix.identity(),this.projMatrix.set(w,0,0,0,0,-_,0,0,0,0,j,0,E,S,C,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(S,E,d,g,y,b){S===void 0&&(S=.05*-this._renderer.width),E===void 0&&(E=.05*+this._renderer.width),d===void 0&&(d=.05*+this._renderer.height),g===void 0&&(g=.05*-this._renderer.height),y===void 0&&(y=this.defaultCameraNear),b===void 0&&(b=this.defaultCameraFar),this.cameraNear=y;var C=E-S,p=g-d,h=(this.cameraFar=b)-y,w=2*y/C,_=2*y/p*this.yScale,j=-2*b*y/h,E=(E+S)/C,S=(g+d)/p,C=-(b+y)/h;this.projMatrix=s.default.Matrix.identity(),this.projMatrix.set(w,0,0,0,0,-_,0,0,E,S,C,-1,0,0,j,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(w,_,j,E){var y=this.centerX,b=this.centerY,p=this.centerZ,h=(y-=this.eyeX,b-=this.eyeY,p-=this.eyeZ,s.default.Matrix.identity(this._renderer._pInst)),w=(h.rotate(this._renderer._pInst._toRadians(w),_,j,E),[y*h.mat4[0]+b*h.mat4[4]+p*h.mat4[8],y*h.mat4[1]+b*h.mat4[5]+p*h.mat4[9],y*h.mat4[2]+b*h.mat4[6]+p*h.mat4[10]]),_=(w[0]+=this.eyeX,w[1]+=this.eyeY,w[2]+=this.eyeZ,this.upX*h.mat4[0]+this.upY*h.mat4[4]+this.upZ*h.mat4[8]),j=this.upX*h.mat4[1]+this.upY*h.mat4[5]+this.upZ*h.mat4[9],E=this.upX*h.mat4[2]+this.upY*h.mat4[6]+this.upZ*h.mat4[10];this.camera(this.eyeX,this.eyeY,this.eyeZ,w[0],w[1],w[2],_,j,E)}},{key:"roll",value:function(d){var c=this._getLocalAxes(),d=s.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(d),c.z[0],c.z[1],c.z[2]).rotateVector(new s.default.Vector(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,d.x,d.y,d.z)}},{key:"pan",value:function(m){var c=this._getLocalAxes();this._rotateView(m,c.y[0],c.y[1],c.y[2])}},{key:"tilt",value:function(m){var c=this._getLocalAxes();this._rotateView(m,c.x[0],c.x[1],c.x[2])}},{key:"lookAt",value:function(m,c,d){this.camera(this.eyeX,this.eyeY,this.eyeZ,m,c,d,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(m,c,d,g,y,b,p,h,w){return m===void 0&&(m=this.defaultEyeX,c=this.defaultEyeY,d=this.defaultEyeZ,g=m,y=c,h=1,w=p=b=0),this.eyeX=m,this.eyeY=c,this.eyeZ=d,g!==void 0&&(this.centerX=g,this.centerY=y,this.centerZ=b),p!==void 0&&(this.upX=p,this.upY=h,this.upZ=w),g=this._getLocalAxes(),this.cameraMatrix.set(g.x[0],g.y[0],g.z[0],0,g.x[1],g.y[1],g.z[1],0,g.x[2],g.y[2],g.z[2],0,0,0,0,1),y=-m,this.cameraMatrix.translate([y,-c,-d]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(g,y,d){var b=this._getLocalAxes(),g=[b.x[0]*g,b.x[1]*g,b.x[2]*g],y=[b.y[0]*y,b.y[1]*y,b.y[2]*y],b=[b.z[0]*d,b.z[1]*d,b.z[2]*d];this.camera(this.eyeX+g[0]+y[0]+b[0],this.eyeY+g[1]+y[1]+b[1],this.eyeZ+g[2]+y[2]+b[2],this.centerX+g[0]+y[0]+b[0],this.centerY+g[1]+y[1]+b[1],this.centerZ+g[2]+y[2]+b[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(m,c,d){var g=m-this.eyeX,y=c-this.eyeY,b=d-this.eyeZ;this.camera(m,c,d,this.centerX+g,this.centerY+y,this.centerZ+b,this.upX,this.upY,this.upZ)}},{key:"set",value:function(m){for(var c=0,d=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale","useLinePerspective"];c<d.length;c++){var g=d[c];this[g]=m[g]}this.cameraMatrix=m.cameraMatrix.copy(),this.projMatrix=m.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(m,c,d){var g,y,b,p,h,w,_,j,E,S,C,M,A,P,D,I,U,N;d===0?this.set(m):d===1?this.set(c):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=m.projMatrix.mat4[0]*Math.pow(c.projMatrix.mat4[0]/m.projMatrix.mat4[0],d),this.projMatrix.mat4[5]=m.projMatrix.mat4[5]*Math.pow(c.projMatrix.mat4[5]/m.projMatrix.mat4[5],d),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),p=new s.default.Vector(m.eyeX,m.eyeY,m.eyeZ),h=new s.default.Vector(c.eyeX,c.eyeY,c.eyeZ),I=new s.default.Vector(m.centerX,m.centerY,m.centerZ),N=new s.default.Vector(c.centerX,c.centerY,c.centerZ),b=s.default.Vector.dist(p,I),g=s.default.Vector.dist(h,N),g=b*Math.pow(g/b,d),b=s.default.Vector.sub(p,h),y=1,1e-6<(U=(P=p.copy().sub(h).sub(I).add(N)).magSq())&&(y=s.default.Vector.dot(b,P)/U,y=Math.max(0,Math.min(y,1))),b=s.default.Vector.lerp(s.default.Vector.lerp(p,I,y),s.default.Vector.lerp(h,N,y),d),P=m.cameraMatrix.createSubMatrix3x3(),U=c.cameraMatrix.createSubMatrix3x3(),p=P.row(2),I=U.row(2),h=P.row(1),N=U.row(1),m=new s.default.Vector,c=new s.default.Vector,w=new s.default.Vector,_=new s.default.Vector,1-(j=.5*((P=(U=U.mult3x3(P.copy().transpose3x3())).diagonal())[0]+P[1]+P[2]-1))<1e-7?(m.set(s.default.Vector.lerp(p,I,d)).normalize(),w.set(m).mult(y*g).add(b),_.set(m).mult((y-1)*g).add(b),c.set(s.default.Vector.lerp(h,N,d)).normalize()):(I=1/(1-j),N=Math.max(P[0],P[1],P[2]),M=U.mat3[1]+U.mat3[3],A=U.mat3[2]+U.mat3[6],D=U.mat3[5]+U.mat3[7],N=N===P[0]?(S=.5*M*(I/=E=Math.sqrt((P[0]-j)*I)),C=.5*A*I,.5*(U.mat3[7]-U.mat3[5])/E):N===P[1]?(C=.5*D*(I/=S=Math.sqrt((P[1]-j)*I)),E=.5*M*I,.5*(U.mat3[2]-U.mat3[6])/S):(E=.5*A*(I/=C=Math.sqrt((P[2]-j)*I)),S=.5*D*I,.5*(U.mat3[3]-U.mat3[1])/C),M=d*Math.atan2(N,j),A=Math.cos(M),P=Math.sin(M),(N=new s.default.Matrix("mat3",[A+(D=1-A)*E*E,D*(I=E*S)+P*C,D*(U=C*E)-P*S,D*I-P*C,A+D*S*S,D*(d=S*C)+P*E,D*U+P*S,D*d-P*E,A+D*C*C])).multiplyVec3(p,m),w.set(m).mult(y*g).add(b),_.set(m).mult((y-1)*g).add(b),N.multiplyVec3(h,c)),this.camera(w.x,w.y,w.z,_.x,_.y,_.z,c.x,c.y,c.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var m=new s.default.Camera(this._renderer);return m.cameraFOV=this.cameraFOV,m.aspectRatio=this.aspectRatio,m.eyeX=this.eyeX,m.eyeY=this.eyeY,m.eyeZ=this.eyeZ,m.centerX=this.centerX,m.centerY=this.centerY,m.centerZ=this.centerZ,m.upX=this.upX,m.upY=this.upY,m.upZ=this.upZ,m.cameraNear=this.cameraNear,m.cameraFar=this.cameraFar,m.cameraType=this.cameraType,m.useLinePerspective=this.useLinePerspective,m.cameraMatrix=this.cameraMatrix.copy(),m.projMatrix=this.projMatrix.copy(),m.yScale=this.yScale,m}},{key:"_getLocalAxes",value:function(){var m=this.eyeX-this.centerX,c=this.eyeY-this.centerY,d=this.eyeZ-this.centerZ,p=Math.sqrt(m*m+c*c+d*d),p=(p!==0&&(m/=p,c/=p,d/=p),this.upX),g=(h=this.upY)*d-(w=this.upZ)*c,y=-p*d+w*m,b=p*c-h*m,p=c*b-d*y,h=-m*b+d*g,w=m*y-c*g,_=Math.sqrt(g*g+y*y+b*b),_=(_!==0&&(g/=_,y/=_,b/=_),Math.sqrt(p*p+h*h+w*w));return _!==0&&(p/=_,h/=_,w/=_),{x:[g,y,b],y:[p,h,w],z:[m,c,d]}}},{key:"_orbit",value:function(m,_,w){var y=this.eyeX-this.centerX,b=this.eyeY-this.centerY,p=this.eyeZ-this.centerZ,g=Math.hypot(y,b,p),y=new s.default.Vector(y,b,p).normalize(),b=new s.default.Vector(this.upX,this.upY,this.upZ).normalize(),p=s.default.Vector.cross(b,y).normalize(),h=s.default.Vector.cross(p,b),w=((g=(g*=Math.pow(10,w))<this.cameraNear?this.cameraNear:g)>this.cameraFar&&(g=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,s.default.Vector.dot(y,b))))+_),_=m;(w<=0||w>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),b.mult(Math.cos(w)),h.mult(Math.cos(_)*Math.sin(w)),p.mult(Math.sin(_)*Math.sin(w)),y.set(b).add(h).add(p),this.eyeX=g*y.x+this.centerX,this.eyeY=g*y.y+this.centerY,this.eyeZ=g*y.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(w,_,E){var y=this.eyeX-this.centerX,b=this.eyeY-this.centerY,p=this.eyeZ-this.centerZ,g=Math.hypot(y,b,p),y=new s.default.Vector(y,b,p).normalize(),b=new s.default.Vector(this.upX,this.upY,this.upZ),p=s.default.Vector.cross(b,y).normalize(),h=s.default.Vector.cross(y,p),S=Math.atan2(_,w),S=(h.mult(Math.sin(S)),p.mult(Math.cos(S)).add(h),Math.sqrt(w*w+_*_)),h=s.default.Vector.cross(y,p),w=((g=(g*=Math.pow(10,E))<this.cameraNear?this.cameraNear:g)>this.cameraFar&&(g=this.cameraFar),Math.cos(S)),_=Math.sin(S),E=b.dot(y),S=b.dot(p),j=E*w+S*_,E=-E*_+S*w,S=b.dot(h);b.x=j*y.x+E*p.x+S*h.x,b.y=j*y.y+E*p.y+S*h.y,b.z=j*y.z+E*p.z+S*h.z,p.mult(-_),y.mult(w).add(p).mult(g),this.camera(y.x+this.centerX,y.y+this.centerY,y.z+this.centerZ,this.centerX,this.centerY,this.centerZ,b.x,b.y,b.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&u(f.prototype,v),l}(),s.default.prototype.setCamera=function(l){this._renderer._curCamera=l,this._renderer.uPMatrix.set(l.projMatrix),this._renderer.uViewMatrix.set(l.cameraMatrix)},t=s.default.Camera,a.default=t},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(t,i,a){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(u,l){for(var f=0;f<l.length;f++){var v=l[f];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(u,v.key,v)}}t.default.DataArray=function(){function u(){var v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,m=this,c=u;if(!(m instanceof c))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(v),this.initialLength=v}var l,f;return l=u,(f=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var v;this.length<this.data.length/2&&(v=1<<Math.ceil(Math.log2(this.length)),(v=new Float32Array(v)).set(this.data.subarray(0,this.length),0),this.data=v)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var v=arguments.length,m=new Array(v),c=0;c<v;c++)m[c]=arguments[c];this.ensureLength(this.length+m.length),this.data.set(m,this.length),this.length+=m.length}},{key:"slice",value:function(v,m){return this.data.slice(v,Math.min(m,this.length))}},{key:"subArray",value:function(v,m){return this.data.subarray(v,Math.min(m,this.length))}},{key:"ensureLength",value:function(v){for(;this.data.length<v;){var m=new Float32Array(2*this.data.length);m.set(this.data,0),this.data=m}}}])&&s(l.prototype,f),u}(),t=t.default.DataArray,a.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(M,i,a){function s(A){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function u(A){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(P){return s(P)}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":s(P)})(A)}M("core-js/modules/es.symbol"),M("core-js/modules/es.symbol.description"),M("core-js/modules/es.symbol.iterator"),M("core-js/modules/es.array.fill"),M("core-js/modules/es.array.includes"),M("core-js/modules/es.array.iterator"),M("core-js/modules/es.object.get-own-property-descriptor"),M("core-js/modules/es.object.get-prototype-of"),M("core-js/modules/es.object.to-string"),M("core-js/modules/es.reflect.construct"),M("core-js/modules/es.reflect.get"),M("core-js/modules/es.regexp.to-string"),M("core-js/modules/es.string.includes"),M("core-js/modules/es.string.iterator"),M("core-js/modules/es.typed-array.float32-array"),M("core-js/modules/es.typed-array.uint8-array"),M("core-js/modules/es.typed-array.uint8-clamped-array"),M("core-js/modules/es.typed-array.copy-within"),M("core-js/modules/es.typed-array.every"),M("core-js/modules/es.typed-array.fill"),M("core-js/modules/es.typed-array.filter"),M("core-js/modules/es.typed-array.find"),M("core-js/modules/es.typed-array.find-index"),M("core-js/modules/es.typed-array.for-each"),M("core-js/modules/es.typed-array.includes"),M("core-js/modules/es.typed-array.index-of"),M("core-js/modules/es.typed-array.iterator"),M("core-js/modules/es.typed-array.join"),M("core-js/modules/es.typed-array.last-index-of"),M("core-js/modules/es.typed-array.map"),M("core-js/modules/es.typed-array.reduce"),M("core-js/modules/es.typed-array.reduce-right"),M("core-js/modules/es.typed-array.reverse"),M("core-js/modules/es.typed-array.set"),M("core-js/modules/es.typed-array.slice"),M("core-js/modules/es.typed-array.some"),M("core-js/modules/es.typed-array.sort"),M("core-js/modules/es.typed-array.subarray"),M("core-js/modules/es.typed-array.to-locale-string"),M("core-js/modules/es.typed-array.to-string"),M("core-js/modules/es.weak-map"),M("core-js/modules/web.dom-collections.iterator"),M("core-js/modules/es.array.fill"),M("core-js/modules/es.array.includes"),M("core-js/modules/es.array.iterator"),M("core-js/modules/es.object.get-prototype-of"),M("core-js/modules/es.object.to-string"),M("core-js/modules/es.string.includes"),M("core-js/modules/es.typed-array.float32-array"),M("core-js/modules/es.typed-array.uint8-array"),M("core-js/modules/es.typed-array.uint8-clamped-array"),M("core-js/modules/es.typed-array.copy-within"),M("core-js/modules/es.typed-array.every"),M("core-js/modules/es.typed-array.fill"),M("core-js/modules/es.typed-array.filter"),M("core-js/modules/es.typed-array.find"),M("core-js/modules/es.typed-array.find-index"),M("core-js/modules/es.typed-array.for-each"),M("core-js/modules/es.typed-array.includes"),M("core-js/modules/es.typed-array.index-of"),M("core-js/modules/es.typed-array.iterator"),M("core-js/modules/es.typed-array.join"),M("core-js/modules/es.typed-array.last-index-of"),M("core-js/modules/es.typed-array.map"),M("core-js/modules/es.typed-array.reduce"),M("core-js/modules/es.typed-array.reduce-right"),M("core-js/modules/es.typed-array.reverse"),M("core-js/modules/es.typed-array.set"),M("core-js/modules/es.typed-array.slice"),M("core-js/modules/es.typed-array.some"),M("core-js/modules/es.typed-array.sort"),M("core-js/modules/es.typed-array.subarray"),M("core-js/modules/es.typed-array.to-locale-string"),M("core-js/modules/es.typed-array.to-string"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=(C=M("../core/main"))&&C.__esModule?C:{default:C},f=function(A){if(A&&A.__esModule)return A;if(A===null||u(A)!=="object"&&typeof A!="function")return{default:A};var P=c();if(P&&P.has(A))return P.get(A);var D,I={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in A){var N;Object.prototype.hasOwnProperty.call(A,D)&&((N=U?Object.getOwnPropertyDescriptor(A,D):null)&&(N.get||N.set)?Object.defineProperty(I,D,N):I[D]=A[D])}return I.default=A,P&&P.set(A,I),I}(M("../core/constants")),v=M("./p5.Texture"),m=M("./p5.RendererGL");function c(){var A;return typeof WeakMap!="function"?null:(A=new WeakMap,c=function(){return A},A)}function d(A,P){return function(D){if(Array.isArray(D))return D}(A)||function(D,I){if(Symbol.iterator in Object(D)||Object.prototype.toString.call(D)==="[object Arguments]"){var U=[],N=!0,B=!1,W=void 0;try{for(var z,V=D[Symbol.iterator]();!(N=(z=V.next()).done)&&(U.push(z.value),!I||U.length!==I);N=!0);}catch(X){B=!0,W=X}finally{try{N||V.return==null||V.return()}finally{if(B)throw W}}return U}}(A,P)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function g(A,P,D){return P in A?Object.defineProperty(A,P,{value:D,enumerable:!0,configurable:!0,writable:!0}):A[P]=D,A}function y(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}function b(A,P){for(var D=0;D<P.length;D++){var I=P[D];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(A,I.key,I)}}function p(A,P,D){P&&b(A.prototype,P)}function h(A,P,D){return(h=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(B,U,N){var B=function(W,z){for(;!Object.prototype.hasOwnProperty.call(W,z)&&(W=j(W))!==null;);return W}(B,U);if(B)return(B=Object.getOwnPropertyDescriptor(B,U)).get?B.get.call(N):B.value})(A,P,D||A)}function w(A,P){return(w=Object.setPrototypeOf||function(D,I){return D.__proto__=I,D})(A,P)}function _(A){return function(){var P,D=j(A),D=(P=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(P=j(this).constructor,Reflect.construct(D,arguments,P)):D.apply(this,arguments),this);if(!P||u(P)!=="object"&&typeof P!="function"){if(D!==void 0)return D;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return P}}function j(A){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(A)}var E=function(A){var P=I;if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(A&&A.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),A&&w(P,A);var D=_(I);function I(U){var N;return y(this,I),(N=D.call(this,U.target._renderer)).fbo=U,N.yScale=-1,N}return p(I,[{key:"_computeCameraDefaultSettings",value:function(){h(j(I.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),I}(l.default.Camera),S=(l.default.FramebufferCamera=E,function(){function A(P,D){y(this,A),this.framebuffer=P,this.property=D}return p(A,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),A}()),C=(l.default.FramebufferTexture=S,function(){function A(P){var D=this,I=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},U=(y(this,A),this.target=P,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=I.format||f.UNSIGNED_BYTE,this.channels=I.channels||(P._renderer._pInst._glAttributes.alpha?f.RGBA:f.RGB),this.useDepth=I.depth===void 0||I.depth,this.depthFormat=I.depthFormat||f.FLOAT,this.textureFiltering=I.textureFiltering||f.LINEAR,I.antialias===void 0?this.antialiasSamples=P._renderer._pInst._glAttributes.antialias?2:0:typeof I.antialias=="number"?this.antialiasSamples=I.antialias:this.antialiasSamples=I.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&P.webglVersion!==f.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=I.density||P.pixelDensity(),P._renderer.GL);if(this.gl=U,I.width&&I.height?(N=P._renderer._adjustDimensions(I.width,I.height),this.width=N.adjustedWidth,this.height=N.adjustedHeight,this._autoSized=!1):(I.width===void 0!=(I.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=P.width,this.height=P.height,this._autoSized=!0),this._checkIfFormatsAvailable(),I.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(I.stencil===void 0||I.stencil),this.framebuffer=U.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=U.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var N=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=N,this.draw(function(){return D.target.clear()})}return p(A,[{key:"resize",value:function(P,D){this._autoSized=!1;var I=this.target._renderer._adjustDimensions(P,D);P=I.adjustedWidth,D=I.adjustedHeight,this.width=P,this.height=D,this._handleResize()}},{key:"pixelDensity",value:function(P){if(!P)return this.density;this._autoSized=!1,this.density=P,this._handleResize()}},{key:"autoSized",value:function(P){if(P===void 0)return this._autoSized;this._autoSized=P,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var P=this.gl,P=(this.useDepth&&this.target.webglVersion===f.WEBGL&&!P.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===f.WEBGL&&this.depthFormat===f.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=f.UNSIGNED_INT),[f.UNSIGNED_BYTE,f.FLOAT,f.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=f.UNSIGNED_BYTE),this.useDepth&&![f.UNSIGNED_INT,f.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=f.FLOAT),(0,v.checkWebGLCapabilities)(this.target._renderer));P.float||this.format!==f.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=f.UNSIGNED_BYTE),this.useDepth&&!P.float&&this.depthFormat===f.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=f.UNSIGNED_INT),P.halfFloat||this.format!==f.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=f.UNSIGNED_BYTE),this.channels===f.RGB&&[f.FLOAT,f.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=f.RGBA)}},{key:"_recreateTextures",value:function(){var P=this.gl,D=(this._updateSize(),P.getParameter(P.TEXTURE_BINDING_2D)),I=P.getParameter(P.FRAMEBUFFER_BINDING),U=P.createTexture();if(!U)throw new Error("Unable to create color texture");P.bindTexture(P.TEXTURE_2D,U);var N=this._glColorFormat();if(P.texImage2D(P.TEXTURE_2D,0,N.internalFormat,this.width*this.density,this.height*this.density,0,N.format,N.type,null),this.colorTexture=U,P.bindFramebuffer(P.FRAMEBUFFER,this.framebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,U,0),this.useDepth){var U=P.createTexture();if(!U)throw new Error("Unable to create depth texture");var B=this._glDepthFormat();P.bindTexture(P.TEXTURE_2D,U),P.texImage2D(P.TEXTURE_2D,0,B.internalFormat,this.width*this.density,this.height*this.density,0,B.format,B.type,null),P.framebufferTexture2D(P.FRAMEBUFFER,this.useStencil?P.DEPTH_STENCIL_ATTACHMENT:P.DEPTH_ATTACHMENT,P.TEXTURE_2D,U,0),this.depthTexture=U}this.antialias&&(this.colorRenderbuffer=P.createRenderbuffer(),P.bindRenderbuffer(P.RENDERBUFFER,this.colorRenderbuffer),P.renderbufferStorageMultisample(P.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,P.getParameter(P.MAX_SAMPLES))),N.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(B=this._glDepthFormat(),this.depthRenderbuffer=P.createRenderbuffer(),P.bindRenderbuffer(P.RENDERBUFFER,this.depthRenderbuffer),P.renderbufferStorageMultisample(P.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,P.getParameter(P.MAX_SAMPLES))),B.internalFormat,this.width*this.density,this.height*this.density)),P.bindFramebuffer(P.FRAMEBUFFER,this.aaFramebuffer),P.framebufferRenderbuffer(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&P.framebufferRenderbuffer(P.FRAMEBUFFER,this.useStencil?P.DEPTH_STENCIL_ATTACHMENT:P.DEPTH_ATTACHMENT,P.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new S(this,"depthTexture"),U=P.NEAREST,this.depthP5Texture=new l.default.Texture(this.target._renderer,this.depth,{minFilter:U,magFilter:U}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new S(this,"colorTexture"),N=this.textureFiltering===f.LINEAR?P.LINEAR:P.NEAREST,this.colorP5Texture=new l.default.Texture(this.target._renderer,this.color,{minFilter:N,magFilter:N}),this.target._renderer.textures.set(this.color,this.colorP5Texture),P.bindTexture(P.TEXTURE_2D,D),P.bindFramebuffer(P.FRAMEBUFFER,I)}},{key:"_glColorFormat",value:function(){var P,D,I=this.gl,U=this.format===f.FLOAT?I.FLOAT:this.format===f.HALF_FLOAT?this.target.webglVersion===f.WEBGL2?I.HALF_FLOAT:I.getExtension("OES_texture_half_float").HALF_FLOAT_OES:I.UNSIGNED_BYTE,N=this.channels===f.RGBA?I.RGBA:I.RGB;return{internalFormat:this.target.webglVersion===f.WEBGL2?(g(D={},I.FLOAT,g({},I.RGBA,I.RGBA32F)),g(D,I.HALF_FLOAT,g({},I.RGBA,I.RGBA16F)),g(D,I.UNSIGNED_BYTE,(g(P={},I.RGBA,I.RGBA8),g(P,I.RGB,I.RGB8),P)),D[U][N]):this.format===f.HALF_FLOAT?I.RGBA:N,format:N,type:U}}},{key:"_glDepthFormat",value:function(){var I=this.gl,P=this.useStencil?this.depthFormat===f.FLOAT?I.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===f.WEBGL2?I.UNSIGNED_INT_24_8:I.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===f.FLOAT?I.FLOAT:I.UNSIGNED_INT,D=this.useStencil?I.DEPTH_STENCIL:I.DEPTH_COMPONENT,I=this.useStencil?this.depthFormat===f.FLOAT?I.DEPTH32F_STENCIL8:this.target.webglVersion===f.WEBGL2?I.DEPTH24_STENCIL8:I.DEPTH_STENCIL:this.target.webglVersion===f.WEBGL2?this.depthFormat===f.FLOAT?I.DEPTH_COMPONENT32F:I.DEPTH_COMPONENT24:I.DEPTH_COMPONENT;return{internalFormat:I,format:D,type:P}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var U=this.color,P=this.depth,D=this.colorRenderbuffer,I=this.depthRenderbuffer,U=(this._deleteTexture(U),P&&this._deleteTexture(P),this.gl);D&&U.deleteRenderbuffer(D),I&&U.deleteRenderbuffer(I),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var P=new E(this);return P._computeCameraDefaultSettings(),P._setDefaultCamera(),this.target._renderer._curCamera=P}},{key:"_deleteTexture",value:function(P){this.gl.deleteTexture(P.rawTexture()),this.target._renderer.textures.delete(P)}},{key:"remove",value:function(){var P=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),P.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&P.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&P.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&P.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var P=this.gl;P.bindFramebuffer(P.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var P=this.gl,D=(P.bindFramebuffer(P.READ_FRAMEBUFFER,this.aaFramebuffer),P.bindFramebuffer(P.DRAW_FRAMEBUFFER,this.framebuffer),[[P.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&D.push([P.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var I=0,U=D;I<U.length;I++){var B=d(U[I],2),N=B[0],B=B[1];P.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,N,B)}}}},{key:"end",value:function(){var P=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(P.bindFramebuffer(P.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(P){this.begin(),P(),this.end()}},{key:"loadPixels",value:function(){var P=this.gl,D=this.target._renderer.activeFramebuffer(),I=(P.bindFramebuffer(P.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,m.readPixelsWebGL)(this.pixels,P,this.framebuffer,0,0,this.width*this.density,this.height*this.density,I.format,I.type),D?P.bindFramebuffer(P.FRAMEBUFFER,D._framebufferToBind()):P.bindFramebuffer(P.FRAMEBUFFER,null)}},{key:"get",value:function(P,D,I,U){l.default._validateParameters("p5.Framebuffer.get",arguments);var N=this._glColorFormat();if(P===void 0&&D===void 0)D=P=0,I=this.width,U=this.height;else if(I===void 0&&U===void 0)return(P<0||D<0||P>=this.width||D>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),P=this.target.constrain(P,0,this.width-1),D=this.target.constrain(D,0,this.height-1)),(0,m.readPixelWebGL)(this.gl,this.framebuffer,P*this.density,D*this.density,N.format,N.type);P=this.target.constrain(P,0,this.width-1),D=this.target.constrain(D,0,this.height-1),I=this.target.constrain(I,1,this.width-P),U=this.target.constrain(U,1,this.height-D);for(var B=(0,m.readPixelsWebGL)(void 0,this.gl,this.framebuffer,P*this.density,D*this.density,I*this.density,U*this.density,N.format,N.type),W=new Uint8ClampedArray(I*U*this.density*this.density*4),z=(W.fill(255),N.type===this.gl.RGB?3:4),V=0;V<U*this.density;V++)for(var X=0;X<I*this.density;X++)for(var K=0;K<4;K++){var re,T=4*(V*I*this.density+X)+K;K<z&&(re=z==4?T:(V*I*this.density+X)*z+K,W[T]=B[re])}return P=new l.default.Image(I*this.density,U*this.density),P.imageData=P.canvas.getContext("2d").createImageData(P.width,P.height),P.imageData.data.set(W),P.pixels=P.imageData.data,P.updatePixels(),this.density!==1&&P.resize(I,U),P}},{key:"updatePixels",value:function(){var P=this.gl,D=(this.colorP5Texture.bindTexture(),this._glColorFormat()),I=D.format===P.RGBA?4:3,I=this.width*this.height*this.density*this.density*I,U=D.type===P.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof U)||this.pixels.length!==I)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");P.texImage2D(P.TEXTURE_2D,0,D.internalFormat,this.width*this.density,this.height*this.density,0,D.format,D.type,this.pixels),this.colorP5Texture.unbindTexture(),U=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(P.clearDepth(1),P.clear(P.DEPTH_BUFFER_BIT)),this.end()):(P.bindFramebuffer(P.FRAMEBUFFER,this.framebuffer),this.useDepth&&(P.clearDepth(1),P.clear(P.DEPTH_BUFFER_BIT)),U?P.bindFramebuffer(P.FRAMEBUFFER,U._framebufferToBind()):P.bindFramebuffer(P.FRAMEBUFFER,null))}}]),A}()),M=l.default.Framebuffer=C;a.default=M},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(t,i,a){function s(y){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(y)}function u(y){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(b){return s(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":s(b)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=(g=t("../core/main"))&&g.__esModule?g:{default:g},f=function(y){if(y&&y.__esModule)return y;if(y===null||u(y)!=="object"&&typeof y!="function")return{default:y};var b=v();if(b&&b.has(y))return b.get(y);var p,h={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in y){var _;Object.prototype.hasOwnProperty.call(y,p)&&((_=w?Object.getOwnPropertyDescriptor(y,p):null)&&(_.get||_.set)?Object.defineProperty(h,p,_):h[p]=y[p])}return h.default=y,b&&b.set(y,h),h}(t("../core/constants"));function v(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,v=function(){return y},y)}function m(y){return function(b){if(Array.isArray(b)){for(var p=0,h=new Array(b.length);p<b.length;p++)h[p]=b[p];return h}}(y)||function(b){if(Symbol.iterator in Object(b)||Object.prototype.toString.call(b)==="[object Arguments]")return Array.from(b)}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(y,b){return function(p){if(Array.isArray(p))return p}(y)||function(p,h){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]"){var w=[],_=!0,j=!1,E=void 0;try{for(var S,C=p[Symbol.iterator]();!(_=(S=C.next()).done)&&(w.push(S.value),!h||w.length!==h);_=!0);}catch(M){j=!0,E=M}finally{try{_||C.return==null||C.return()}finally{if(j)throw E}}return w}}(y,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(y,b){for(var p=0;p<b.length;p++){var h=b[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(y,h.key,h)}}l.default.Geometry=function(){function y(h,w,_){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new l.default.DataArray,this.lineTangentsIn=new l.default.DataArray,this.lineTangentsOut=new l.default.DataArray,this.lineSides=new l.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new l.default.DataArray,this.detailX=h!==void 0?h:1,this.detailY=w!==void 0?w:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,_ instanceof Function&&_.call(this)}var b,p;return b=y,(p=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var h=new l.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),w=new l.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),_=0;_<this.vertices.length;_++){var j=this.vertices[_];h.x=Math.min(h.x,j.x),h.y=Math.min(h.y,j.y),h.z=Math.min(h.z,j.z),w.x=Math.max(w.x,j.x),w.y=Math.max(w.y,j.y),w.z=Math.max(w.z,j.z)}var E=new l.default.Vector(w.x-h.x,w.y-h.y,w.z-h.z),S=new l.default.Vector((h.x+w.x)/2,(h.y+w.y)/2,(h.z+w.z)/2);this.boundingBoxCache={min:h,max:w,size:E,offset:S}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(var h=0;h<this.vertexColors.length;h+=4)if(this.vertexColors[h+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(var h=0;h<this.lineVertexColors.length;h+=4)if(this.lineVertexColors[h+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var h=this,w=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.obj",_="";if(this.vertices.forEach(function(S){_+="v ".concat(S.x," ").concat(S.y," ").concat(S.z,`
`)}),this.uvs&&0<this.uvs.length)for(var j=0;j<this.uvs.length;j+=2)_+="vt ".concat(this.uvs[j]," ").concat(this.uvs[j+1],`
`);this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(S){_+="vn ".concat(S.x," ").concat(S.y," ").concat(S.z,`
`)}),this.faces.forEach(function(S){var C="f";S.forEach(function(M){C=C+" "+(M+1),(0<h.vertexNormals.length||0<h.uvs.length)&&(C+="/",0<h.uvs.length&&(C+=M+1),C+="/",0<h.vertexNormals.length&&(C+=M+1))}),_+=C+`
`});var E=new Blob([_],{type:"text/plain"});l.default.prototype.downloadFile(E,w,"obj")}},{key:"saveStl",value:function(){var h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.stl",w=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).binary,w=w!==void 0&&w,_=h.substring(0,h.lastIndexOf(".")),j=[],E=!0,S=!1,C=void 0;try{for(var M,A=this.faces[Symbol.iterator]();!(E=(M=A.next()).done);E=!0){var P=M.value,D=l.default.Vector.sub(this.vertices[P[1]],this.vertices[P[0]]),I=l.default.Vector.sub(this.vertices[P[2]],this.vertices[P[0]]),U=D.y*I.z-D.z*I.y,N=D.z*I.x-D.x*I.z,B=D.x*I.y-D.y*I.x;j.push(new l.default.Vector(U,N,B).normalize())}}catch(ye){S=!0,C=ye}finally{try{E||A.return==null||A.return()}finally{if(S)throw C}}if(w){var W,z=80,S=2*this.faces.length+3*this.faces.length*4*4+80+4,C=new ArrayBuffer(S);(W=new DataView(C)).setUint32(z,this.faces.length,!0),z+=4;for(var V=0,X=Object.entries(this.faces);V<X.length;V++){var K=c(X[V],2),T=K[0],K=K[1],T=j[T],re=(W.setFloat32(z,T.x,!0),z+=4,W.setFloat32(z,T.y,!0),z+=4,W.setFloat32(z,T.z,!0),z+=4,!0),T=!1,L=void 0;try{for(var G,H=K[Symbol.iterator]();!(re=(G=H.next()).done);re=!0){var J=G.value,ee=this.vertices[J];W.setFloat32(z,ee.x,!0),z+=4,W.setFloat32(z,ee.y,!0),z+=4,W.setFloat32(z,ee.z,!0),z+=4}}catch(Le){T=!0,L=Le}finally{try{re||H.return==null||H.return()}finally{if(T)throw L}}W.setUint16(z,0,!0),z+=2}}else{W="solid "+_+`
`;for(var ie=0,fe=Object.entries(this.faces);ie<fe.length;ie++){var oe=c(fe[ie],2),ae=oe[0],oe=oe[1],ae=j[ae],de=(W=W+(" facet norm "+ae.x+" "+ae.y+" "+ae.z+`
`)+`  outer loop
`,!0),ae=!1,Z=void 0;try{for(var ue,pe=oe[Symbol.iterator]();!(de=(ue=pe.next()).done);de=!0){var we=ue.value,ge=this.vertices[we];W+="   vertex "+ge.x+" "+ge.y+" "+ge.z+`
`}}catch(ye){ae=!0,Z=ye}finally{try{de||pe.return==null||pe.return()}finally{if(ae)throw Z}}W=W+`  endloop
 endfacet
`}W+="endsolid "+_+`
`}w=new Blob([W],{type:"text/plain"}),l.default.prototype.downloadFile(w,h,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(h,w){return w%2==0?1-h:h})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(h,w){return w%2==0?h:1-h})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var h,w,_,j=this.detailX+1,E=0;E<this.detailY;E++)for(var S=0;S<this.detailX;S++)w=(E+1)*j+S+1,this.faces.push([E*j+S,h=E*j+S+1,_=(E+1)*j+S]),this.faces.push([_,h,w]);return this}},{key:"_getFaceNormal",value:function(w){var w=this.faces[w],_=this.vertices[w[0]],E=this.vertices[w[1]],w=this.vertices[w[2]],E=l.default.Vector.sub(E,_),w=l.default.Vector.sub(w,_),_=l.default.Vector.cross(E,w),j=l.default.Vector.mag(_),E=j/(l.default.Vector.mag(E)*l.default.Vector.mag(w));return E===0||isNaN(E)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),_):(1<E&&(E=1),_.mult(Math.asin(E)/j))}},{key:"computeNormals",value:function(){var h,w=this,_=0<arguments.length&&arguments[0]!==void 0?arguments[0]:f.FLAT,j=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,E=this.vertexNormals,S=this.vertices,C=this.faces;if(_===f.SMOOTH){for(var M={},A=[],P=Math.pow(10,j===void 0?3:j),D=function(W){return Math.round(W*P)/P},I=function(W){return"".concat(D(W.x),",").concat(D(W.y),",").concat(D(W.z))},U=0;U<S.length;U++){var N=S[U],B=I(N);M[B]===void 0&&(M[B]=A.length,A.push(N))}C.forEach(function(W){for(var z=0;z<3;++z){var V=W[z],V=S[V],V=I(V);W[z]=M[V]}}),this.edges.forEach(function(W){for(var z=0;z<2;++z){var V=W[z],V=S[V],V=I(V);W[z]=M[V]}}),this.vertices=S=A}for(h=E.length=0;h<S.length;++h)E.push(new l.default.Vector);for(C.forEach(function(W,z){for(var V=w._getFaceNormal(z),X=0;X<3;++X){var K=W[X];E[K].add(V)}}),h=0;h<S.length;++h)E[h].normalize();return this}},{key:"averageNormals",value:function(){for(var h=0;h<=this.detailY;h++){var w=this.detailX+1,_=l.default.Vector.add(this.vertexNormals[h*w],this.vertexNormals[h*w+this.detailX]),_=l.default.Vector.div(_,2);this.vertexNormals[h*w]=_,this.vertexNormals[h*w+this.detailX]=_}return this}},{key:"averagePoleNormals",value:function(){for(var h=new l.default.Vector(0,0,0),w=0;w<this.detailX;w++)h.add(this.vertexNormals[w]);for(var h=l.default.Vector.div(h,this.detailX),_=0;_<this.detailX;_++)this.vertexNormals[_]=h;h=new l.default.Vector(0,0,0);for(var j=this.vertices.length-1;j>this.vertices.length-1-this.detailX;j--)h.add(this.vertexNormals[j]);h=l.default.Vector.div(h,this.detailX);for(var E=this.vertices.length-1;E>this.vertices.length-1-this.detailX;E--)this.vertexNormals[E]=h;return this}},{key:"_makeTriangleEdges",value:function(){for(var h=this.edges.length=0;h<this.faces.length;h++)this.edges.push([this.faces[h][0],this.faces[h][1]]),this.edges.push([this.faces[h][1],this.faces[h][2]]),this.edges.push([this.faces[h][2],this.faces[h][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var h,w=new Map,_=new Set,j=0;j<this.edges.length;j++){var E,S=this.edges[j-1],C=this.edges[j],M=this.vertices[C[0]],A=this.vertices[C[1]],P=0<this.vertexStrokeColors.length&&S?this.vertexStrokeColors.slice(4*S[1],4*(S[1]+1)):[0,0,0,0],D=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*C[0],4*(C[0]+1)):[0,0,0,0],I=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*C[1],4*(C[1]+1)):[0,0,0,0],U=A.copy().sub(M).normalize(),N=0<U.magSq();N&&this._addSegment(M,A,D,I,U),0<j&&S[1]===C[0]?_.has(C[0])||(_.add(C[0]),w.delete(C[0]),h&&N&&U.dot(h)<1-1e-8&&this._addJoin(M,h,U,D)):(N&&!_.has(C[0])&&((E=w.get(C[0]))?(this._addJoin(M,E.dir,U,D),w.delete(C[0]),_.add(C[0])):w.set(C[0],{point:M,dir:U.copy().mult(-1),color:D})),h&&!_.has(S[1])&&((E=w.get(S[1]))?(this._addJoin(this.vertices[S[1]],h,E.dir.copy().mult(-1),P),w.delete(S[1]),_.add(S[1])):w.set(S[1],{point:this.vertices[S[1]],dir:h,color:P}),h=void 0)),j!==this.edges.length-1||_.has(C[1])||((M=w.get(C[1]))?(this._addJoin(A,U,M.dir.copy().mult(-1),I),w.delete(C[1]),_.add(C[1])):w.set(C[1],{point:A,dir:U,color:I})),N&&(h=U)}var B=!0,W=!1,z=void 0;try{for(var V,X=w.values()[Symbol.iterator]();!(B=(V=X.next()).done);B=!0){var K=V.value,re=K.point,T=K.dir,L=K.color;this._addCap(re,T,L)}}catch(G){W=!0,z=G}finally{try{B||X.return==null||X.return()}finally{if(W)throw z}}return this}},{key:"_addSegment",value:function(S,C,_,j,E){var S=S.array(),C=C.array(),M=E.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var A=0,P=[this.lineTangentsIn,this.lineTangentsOut];A<P.length;A++)for(var D=P[A],I=0;I<6;I++)D.push.apply(D,m(M));return(E=this.lineVertices).push.apply(E,m(S).concat(m(C),m(S),m(C),m(C),m(S))),(E=this.lineVertexColors).push.apply(E,m(_).concat(m(j),m(_),m(j),m(j),m(_))),this}},{key:"_addCap",value:function(h,w,_){for(var j,E=h.array(),S=w.array(),C=[0,0,0],M=0;M<6;M++)(j=this.lineVertices).push.apply(j,m(E)),(j=this.lineTangentsIn).push.apply(j,m(S)),(j=this.lineTangentsOut).push.apply(j,C),(j=this.lineVertexColors).push.apply(j,m(_));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(h,w,_,j){for(var E,S=h.array(),C=w.array(),M=_.array(),A=0;A<12;A++)(E=this.lineVertices).push.apply(E,m(S)),(E=this.lineTangentsIn).push.apply(E,m(C)),(E=this.lineTangentsOut).push.apply(E,m(M)),(E=this.lineVertexColors).push.apply(E,m(j));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var h=this.vertices[0].copy(),w=this.vertices[0].copy(),_=0;_<this.vertices.length;_++)h.x=Math.max(h.x,this.vertices[_].x),w.x=Math.min(w.x,this.vertices[_].x),h.y=Math.max(h.y,this.vertices[_].y),w.y=Math.min(w.y,this.vertices[_].y),h.z=Math.max(h.z,this.vertices[_].z),w.z=Math.min(w.z,this.vertices[_].z);for(var j=l.default.Vector.lerp(h,w,.5),E=l.default.Vector.sub(h,w),S=200/Math.max(Math.max(E.x,E.y),E.z),C=0;C<this.vertices.length;C++)this.vertices[C].sub(j),this.vertices[C].mult(S)}return this}}])&&d(b.prototype,p),y}();var g=l.default.Geometry;a.default=g},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(v,i,a){v("core-js/modules/es.array.iterator"),v("core-js/modules/es.object.to-string"),v("core-js/modules/es.typed-array.float32-array"),v("core-js/modules/es.typed-array.copy-within"),v("core-js/modules/es.typed-array.every"),v("core-js/modules/es.typed-array.fill"),v("core-js/modules/es.typed-array.filter"),v("core-js/modules/es.typed-array.find"),v("core-js/modules/es.typed-array.find-index"),v("core-js/modules/es.typed-array.for-each"),v("core-js/modules/es.typed-array.includes"),v("core-js/modules/es.typed-array.index-of"),v("core-js/modules/es.typed-array.iterator"),v("core-js/modules/es.typed-array.join"),v("core-js/modules/es.typed-array.last-index-of"),v("core-js/modules/es.typed-array.map"),v("core-js/modules/es.typed-array.reduce"),v("core-js/modules/es.typed-array.reduce-right"),v("core-js/modules/es.typed-array.reverse"),v("core-js/modules/es.typed-array.set"),v("core-js/modules/es.typed-array.slice"),v("core-js/modules/es.typed-array.some"),v("core-js/modules/es.typed-array.sort"),v("core-js/modules/es.typed-array.subarray"),v("core-js/modules/es.typed-array.to-locale-string"),v("core-js/modules/es.typed-array.to-string"),v("core-js/modules/es.array.iterator"),v("core-js/modules/es.object.to-string"),v("core-js/modules/es.typed-array.float32-array"),v("core-js/modules/es.typed-array.copy-within"),v("core-js/modules/es.typed-array.every"),v("core-js/modules/es.typed-array.fill"),v("core-js/modules/es.typed-array.filter"),v("core-js/modules/es.typed-array.find"),v("core-js/modules/es.typed-array.find-index"),v("core-js/modules/es.typed-array.for-each"),v("core-js/modules/es.typed-array.includes"),v("core-js/modules/es.typed-array.index-of"),v("core-js/modules/es.typed-array.iterator"),v("core-js/modules/es.typed-array.join"),v("core-js/modules/es.typed-array.last-index-of"),v("core-js/modules/es.typed-array.map"),v("core-js/modules/es.typed-array.reduce"),v("core-js/modules/es.typed-array.reduce-right"),v("core-js/modules/es.typed-array.reverse"),v("core-js/modules/es.typed-array.set"),v("core-js/modules/es.typed-array.slice"),v("core-js/modules/es.typed-array.some"),v("core-js/modules/es.typed-array.sort"),v("core-js/modules/es.typed-array.subarray"),v("core-js/modules/es.typed-array.to-locale-string"),v("core-js/modules/es.typed-array.to-string"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(v=v("../core/main"))&&v.__esModule?v:{default:v};function u(m,c){for(var d=0;d<c.length;d++){var g=c[d];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}var l=Array,f=function(m){return Array.isArray(m)},v=(typeof Float32Array<"u"&&(l=Float32Array,f=function(m){return Array.isArray(m)||m instanceof Float32Array}),s.default.Matrix=function(){function m(){var y=this,b=m;if(y instanceof b)return arguments.length&&((y=arguments.length-1)<0||arguments.length<=y?void 0:arguments[y])instanceof s.default&&(this.p5=(b=arguments.length-1)<0||arguments.length<=b?void 0:arguments[b]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new l([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new l([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var c,d,g;return c=m,g=[{key:"identity",value:function(y){return new s.default.Matrix(y)}}],(d=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(y){var b=arguments;if(y instanceof s.default.Matrix?b=y.mat4:f(y)&&(b=y),b.length!==16)s.default._friendlyError("Expected 16 values but received ".concat(b.length,"."),"p5.Matrix.set");else for(var p=0;p<16;p++)this.mat4[p]=b[p];return this}},{key:"get",value:function(){return new s.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var y;return this.mat3!==void 0?((y=new s.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],y.mat3[1]=this.mat3[1],y.mat3[2]=this.mat3[2],y.mat3[3]=this.mat3[3],y.mat3[4]=this.mat3[4],y.mat3[5]=this.mat3[5],y.mat3[6]=this.mat3[6],y.mat3[7]=this.mat3[7],y.mat3[8]=this.mat3[8]):((y=new s.default.Matrix(this.p5)).mat4[0]=this.mat4[0],y.mat4[1]=this.mat4[1],y.mat4[2]=this.mat4[2],y.mat4[3]=this.mat4[3],y.mat4[4]=this.mat4[4],y.mat4[5]=this.mat4[5],y.mat4[6]=this.mat4[6],y.mat4[7]=this.mat4[7],y.mat4[8]=this.mat4[8],y.mat4[9]=this.mat4[9],y.mat4[10]=this.mat4[10],y.mat4[11]=this.mat4[11],y.mat4[12]=this.mat4[12],y.mat4[13]=this.mat4[13],y.mat4[14]=this.mat4[14],y.mat4[15]=this.mat4[15]),y}},{key:"transpose",value:function(y){var b,p,h,w,_,j;return y instanceof s.default.Matrix?(b=y.mat4[1],p=y.mat4[2],h=y.mat4[3],w=y.mat4[6],_=y.mat4[7],j=y.mat4[11],this.mat4[0]=y.mat4[0],this.mat4[1]=y.mat4[4],this.mat4[2]=y.mat4[8],this.mat4[3]=y.mat4[12],this.mat4[4]=b,this.mat4[5]=y.mat4[5],this.mat4[6]=y.mat4[9],this.mat4[7]=y.mat4[13],this.mat4[8]=p,this.mat4[9]=w,this.mat4[10]=y.mat4[10],this.mat4[11]=y.mat4[14],this.mat4[12]=h,this.mat4[13]=_,this.mat4[14]=j,this.mat4[15]=y.mat4[15]):f(y)&&(b=y[1],p=y[2],h=y[3],w=y[6],_=y[7],j=y[11],this.mat4[0]=y[0],this.mat4[1]=y[4],this.mat4[2]=y[8],this.mat4[3]=y[12],this.mat4[4]=b,this.mat4[5]=y[5],this.mat4[6]=y[9],this.mat4[7]=y[13],this.mat4[8]=p,this.mat4[9]=w,this.mat4[10]=y[10],this.mat4[11]=y[14],this.mat4[12]=h,this.mat4[13]=_,this.mat4[14]=j,this.mat4[15]=y[15]),this}},{key:"invert",value:function(B){B instanceof s.default.Matrix?(b=B.mat4[0],p=B.mat4[1],h=B.mat4[2],w=B.mat4[3],_=B.mat4[4],j=B.mat4[5],E=B.mat4[6],S=B.mat4[7],C=B.mat4[8],M=B.mat4[9],A=B.mat4[10],P=B.mat4[11],D=B.mat4[12],I=B.mat4[13],U=B.mat4[14],N=B.mat4[15]):f(B)&&(b=B[0],p=B[1],h=B[2],w=B[3],_=B[4],j=B[5],E=B[6],S=B[7],C=B[8],M=B[9],A=B[10],P=B[11],D=B[12],I=B[13],U=B[14],N=B[15]);var b,p,h,w,_,j,E,S,C,M,A,P,D,I,U,N,B=b*j-p*_,W=b*E-h*_,z=b*S-w*_,V=p*E-h*j,X=p*S-w*j,K=h*S-w*E,re=C*I-M*D,T=C*U-A*D,L=C*N-P*D,G=M*U-A*I,H=M*N-P*I,J=A*N-P*U,ee=B*J-W*H+z*G+V*L-X*T+K*re;return ee?(this.mat4[0]=(j*J-E*H+S*G)*(ee=1/ee),this.mat4[1]=(h*H-p*J-w*G)*ee,this.mat4[2]=(I*K-U*X+N*V)*ee,this.mat4[3]=(A*X-M*K-P*V)*ee,this.mat4[4]=(E*L-_*J-S*T)*ee,this.mat4[5]=(b*J-h*L+w*T)*ee,this.mat4[6]=(U*z-D*K-N*W)*ee,this.mat4[7]=(C*K-A*z+P*W)*ee,this.mat4[8]=(_*H-j*L+S*re)*ee,this.mat4[9]=(p*L-b*H-w*re)*ee,this.mat4[10]=(D*X-I*z+N*B)*ee,this.mat4[11]=(M*z-C*X-P*B)*ee,this.mat4[12]=(j*T-_*G-E*re)*ee,this.mat4[13]=(b*G-p*T+h*re)*ee,this.mat4[14]=(I*W-D*V-U*B)*ee,this.mat4[15]=(C*V-M*W+A*B)*ee,this):null}},{key:"invert3x3",value:function(){var y=this.mat3[0],b=this.mat3[1],p=this.mat3[2],h=this.mat3[3],w=this.mat3[4],_=this.mat3[5],j=this.mat3[6],E=this.mat3[7],S=this.mat3[8],C=S*w-_*E,M=-S*h+_*j,A=E*h-w*j,P=y*C+b*M+p*A;return P?(this.mat3[0]=C*(P=1/P),this.mat3[1]=(-S*b+p*E)*P,this.mat3[2]=(_*b-p*w)*P,this.mat3[3]=M*P,this.mat3[4]=(S*y-p*j)*P,this.mat3[5]=(-_*y+p*h)*P,this.mat3[6]=A*P,this.mat3[7]=(-E*y+b*j)*P,this.mat3[8]=(w*y-b*h)*P,this):null}},{key:"transpose3x3",value:function(y){var b=(y=y===void 0?this.mat3:y)[1],p=y[2],h=y[5];return this.mat3[0]=y[0],this.mat3[1]=y[3],this.mat3[2]=y[6],this.mat3[3]=b,this.mat3[4]=y[4],this.mat3[5]=y[7],this.mat3[6]=p,this.mat3[7]=h,this.mat3[8]=y[8],this}},{key:"inverseTranspose",value:function(y){if(y=y.mat4,this.mat3===void 0?s.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=y[0],this.mat3[1]=y[1],this.mat3[2]=y[2],this.mat3[3]=y[4],this.mat3[4]=y[5],this.mat3[5]=y[6],this.mat3[6]=y[8],this.mat3[7]=y[9],this.mat3[8]=y[10]),y=this.invert3x3(),y)y.transpose3x3(this.mat3);else for(var b=0;b<9;b++)this.mat3[b]=0;return this}},{key:"determinant",value:function(){var y=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],b=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],p=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],h=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],w=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],_=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],j=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],E=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],S=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],C=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],M=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return y*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-b*M+p*C+h*S-w*E+_*j}},{key:"mult",value:function(p){var b;if(p===this||p===this.mat4)b=this.copy().mat4;else if(p instanceof s.default.Matrix)b=p.mat4;else if(f(p))b=p;else{if(arguments.length!==16)return;b=arguments}var p=this.mat4[0],h=this.mat4[1],w=this.mat4[2],_=this.mat4[3];return this.mat4[0]=p*b[0]+h*b[4]+w*b[8]+_*b[12],this.mat4[1]=p*b[1]+h*b[5]+w*b[9]+_*b[13],this.mat4[2]=p*b[2]+h*b[6]+w*b[10]+_*b[14],this.mat4[3]=p*b[3]+h*b[7]+w*b[11]+_*b[15],p=this.mat4[4],h=this.mat4[5],w=this.mat4[6],_=this.mat4[7],this.mat4[4]=p*b[0]+h*b[4]+w*b[8]+_*b[12],this.mat4[5]=p*b[1]+h*b[5]+w*b[9]+_*b[13],this.mat4[6]=p*b[2]+h*b[6]+w*b[10]+_*b[14],this.mat4[7]=p*b[3]+h*b[7]+w*b[11]+_*b[15],p=this.mat4[8],h=this.mat4[9],w=this.mat4[10],_=this.mat4[11],this.mat4[8]=p*b[0]+h*b[4]+w*b[8]+_*b[12],this.mat4[9]=p*b[1]+h*b[5]+w*b[9]+_*b[13],this.mat4[10]=p*b[2]+h*b[6]+w*b[10]+_*b[14],this.mat4[11]=p*b[3]+h*b[7]+w*b[11]+_*b[15],p=this.mat4[12],h=this.mat4[13],w=this.mat4[14],_=this.mat4[15],this.mat4[12]=p*b[0]+h*b[4]+w*b[8]+_*b[12],this.mat4[13]=p*b[1]+h*b[5]+w*b[9]+_*b[13],this.mat4[14]=p*b[2]+h*b[6]+w*b[10]+_*b[14],this.mat4[15]=p*b[3]+h*b[7]+w*b[11]+_*b[15],this}},{key:"apply",value:function(p){var b;if(p===this||p===this.mat4)b=this.copy().mat4;else if(p instanceof s.default.Matrix)b=p.mat4;else if(f(p))b=p;else{if(arguments.length!==16)return;b=arguments}var p=this.mat4,h=p[0],w=p[4],_=p[8],j=p[12],h=(p[0]=b[0]*h+b[1]*w+b[2]*_+b[3]*j,p[4]=b[4]*h+b[5]*w+b[6]*_+b[7]*j,p[8]=b[8]*h+b[9]*w+b[10]*_+b[11]*j,p[12]=b[12]*h+b[13]*w+b[14]*_+b[15]*j,p[1]),w=p[5],_=p[9],j=p[13],h=(p[1]=b[0]*h+b[1]*w+b[2]*_+b[3]*j,p[5]=b[4]*h+b[5]*w+b[6]*_+b[7]*j,p[9]=b[8]*h+b[9]*w+b[10]*_+b[11]*j,p[13]=b[12]*h+b[13]*w+b[14]*_+b[15]*j,p[2]),w=p[6],_=p[10],j=p[14],h=(p[2]=b[0]*h+b[1]*w+b[2]*_+b[3]*j,p[6]=b[4]*h+b[5]*w+b[6]*_+b[7]*j,p[10]=b[8]*h+b[9]*w+b[10]*_+b[11]*j,p[14]=b[12]*h+b[13]*w+b[14]*_+b[15]*j,p[3]),w=p[7],_=p[11],j=p[15];return p[3]=b[0]*h+b[1]*w+b[2]*_+b[3]*j,p[7]=b[4]*h+b[5]*w+b[6]*_+b[7]*j,p[11]=b[8]*h+b[9]*w+b[10]*_+b[11]*j,p[15]=b[12]*h+b[13]*w+b[14]*_+b[15]*j,this}},{key:"scale",value:function(y,b,p){return y instanceof s.default.Vector?(b=y.y,p=y.z,y=y.x):y instanceof Array&&(b=y[1],p=y[2],y=y[0]),this.mat4[0]*=y,this.mat4[1]*=y,this.mat4[2]*=y,this.mat4[3]*=y,this.mat4[4]*=b,this.mat4[5]*=b,this.mat4[6]*=b,this.mat4[7]*=b,this.mat4[8]*=p,this.mat4[9]*=p,this.mat4[10]*=p,this.mat4[11]*=p,this}},{key:"rotate",value:function(B,H,G,h){H instanceof s.default.Vector?(G=H.y,h=H.z,H=H.x):H instanceof Array&&(G=H[1],h=H[2],H=H[0]);var w=Math.sqrt(H*H+G*G+h*h),w=(H*=1/w,G*=1/w,h*=1/w,this.mat4[0]),_=this.mat4[1],j=this.mat4[2],E=this.mat4[3],S=this.mat4[4],C=this.mat4[5],M=this.mat4[6],A=this.mat4[7],P=this.mat4[8],D=this.mat4[9],I=this.mat4[10],U=this.mat4[11],N=Math.sin(B),B=Math.cos(B),W=1-B,z=H*H*W+B,V=G*H*W+h*N,X=h*H*W-G*N,K=H*G*W-h*N,re=G*G*W+B,T=h*G*W+H*N,L=H*h*W+G*N,G=G*h*W-H*N,H=h*h*W+B;return this.mat4[0]=w*z+S*V+P*X,this.mat4[1]=_*z+C*V+D*X,this.mat4[2]=j*z+M*V+I*X,this.mat4[3]=E*z+A*V+U*X,this.mat4[4]=w*K+S*re+P*T,this.mat4[5]=_*K+C*re+D*T,this.mat4[6]=j*K+M*re+I*T,this.mat4[7]=E*K+A*re+U*T,this.mat4[8]=w*L+S*G+P*H,this.mat4[9]=_*L+C*G+D*H,this.mat4[10]=j*L+M*G+I*H,this.mat4[11]=E*L+A*G+U*H,this}},{key:"translate",value:function(h){var b=h[0],p=h[1],h=h[2]||0;this.mat4[12]+=this.mat4[0]*b+this.mat4[4]*p+this.mat4[8]*h,this.mat4[13]+=this.mat4[1]*b+this.mat4[5]*p+this.mat4[9]*h,this.mat4[14]+=this.mat4[2]*b+this.mat4[6]*p+this.mat4[10]*h,this.mat4[15]+=this.mat4[3]*b+this.mat4[7]*p+this.mat4[11]*h}},{key:"rotateX",value:function(y){this.rotate(y,1,0,0)}},{key:"rotateY",value:function(y){this.rotate(y,0,1,0)}},{key:"rotateZ",value:function(y){this.rotate(y,0,0,1)}},{key:"perspective",value:function(w,b,p,h){var w=1/Math.tan(w/2),_=1/(p-h);return this.mat4[0]=w/b,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=w,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(h+p)*_,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*h*p*_,this.mat4[15]=0,this}},{key:"ortho",value:function(y,b,p,h,w,_){var j=1/(y-b),E=1/(p-h),S=1/(w-_);return this.mat4[0]=-2*j,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*E,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*S,this.mat4[11]=0,this.mat4[12]=(y+b)*j,this.mat4[13]=(h+p)*E,this.mat4[14]=(_+w)*S,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(y,b,p,h){var w=new Array(4),_=this.mat4;return w[0]=_[0]*y+_[4]*b+_[8]*p+_[12]*h,w[1]=_[1]*y+_[5]*b+_[9]*p+_[13]*h,w[2]=_[2]*y+_[6]*b+_[10]*p+_[14]*h,w[3]=_[3]*y+_[7]*b+_[11]*p+_[15]*h,w}},{key:"multiplyPoint",value:function(p){var h=p.x,b=p.y,p=p.z,h=this.multiplyVec4(h,b,p,1);return new s.default.Vector(h[0],h[1],h[2])}},{key:"multiplyAndNormalizePoint",value:function(p){var h=p.x,b=p.y,p=p.z,h=this.multiplyVec4(h,b,p,1);return h[0]/=h[3],h[1]/=h[3],h[2]/=h[3],new s.default.Vector(h[0],h[1],h[2])}},{key:"multiplyDirection",value:function(p){var h=p.x,b=p.y,p=p.z,h=this.multiplyVec4(h,b,p,0);return new s.default.Vector(h[0],h[1],h[2])}},{key:"mult3x3",value:function(p){var b;if(p===this||p===this.mat3)b=this.copy().mat3;else if(p instanceof s.default.Matrix)b=p.mat3;else if(f(p))b=p;else{if(arguments.length!==9)return;b=arguments}var p=this.mat3[0],h=this.mat3[1],w=this.mat3[2];return this.mat3[0]=p*b[0]+h*b[3]+w*b[6],this.mat3[1]=p*b[1]+h*b[4]+w*b[7],this.mat3[2]=p*b[2]+h*b[5]+w*b[8],p=this.mat3[3],h=this.mat3[4],w=this.mat3[5],this.mat3[3]=p*b[0]+h*b[3]+w*b[6],this.mat3[4]=p*b[1]+h*b[4]+w*b[7],this.mat3[5]=p*b[2]+h*b[5]+w*b[8],p=this.mat3[6],h=this.mat3[7],w=this.mat3[8],this.mat3[6]=p*b[0]+h*b[3]+w*b[6],this.mat3[7]=p*b[1]+h*b[4]+w*b[7],this.mat3[8]=p*b[2]+h*b[5]+w*b[8],this}},{key:"column",value:function(y){return new s.default.Vector(this.mat3[3*y],this.mat3[3*y+1],this.mat3[3*y+2])}},{key:"row",value:function(y){return new s.default.Vector(this.mat3[y],this.mat3[y+3],this.mat3[y+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(y,b){return(b=b===void 0?y.copy():b).x=this.row(0).dot(y),b.y=this.row(1).dot(y),b.z=this.row(2).dot(y),b}},{key:"createSubMatrix3x3",value:function(){var y=new s.default.Matrix("mat3");return y.mat3[0]=this.mat4[0],y.mat3[1]=this.mat4[1],y.mat3[2]=this.mat4[2],y.mat3[3]=this.mat4[4],y.mat3[4]=this.mat4[5],y.mat3[5]=this.mat4[6],y.mat3[6]=this.mat4[8],y.mat3[7]=this.mat4[9],y.mat3[8]=this.mat4[10],y}}])&&u(c.prototype,d),g&&u(c,g),m}(),s.default.Matrix);a.default=v},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(t,i,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(l,f){for(var v=0;v<f.length;v++){var m=f[v];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(l,m.key,m)}}s.default.Quat=function(){function l(c,d,g,y){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.w=c,this.vec=new s.default.Vector(d,g,y)}var f,v,m;return f=l,m=[{key:"fromAxisAngle",value:function(c,p,g,y){var b=Math.cos(c/2),p=new s.default.Vector(p,g,y).normalize().mult(Math.sin(c/2));return new s.default.Quat(b,p.x,p.y,p.z)}}],(v=[{key:"conjugate",value:function(){return new s.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(c){return new s.default.Quat(this.w*c.w-this.vec.x*c.vec.x-this.vec.y*c.vec.y-this.vec.z-c.vec.z,this.w*c.vec.x+this.vec.x*c.w+this.vec.y*c.vec.z-this.vec.z*c.vec.y,this.w*c.vec.y-this.vec.x*c.vec.z+this.vec.y*c.w+this.vec.z*c.vec.x,this.w*c.vec.z+this.vec.x*c.vec.y-this.vec.y*c.vec.x+this.vec.z*c.w)}},{key:"rotateVector",value:function(c){return new s.default.Vector.mult(c,this.w*this.w-this.vec.dot(this.vec)).add(s.default.Vector.mult(this.vec,2*c.dot(this.vec))).add(s.default.Vector.mult(this.vec,2*this.w).cross(c)).clampToZero()}},{key:"rotateBy",value:function(c){return c.multiply(this).multiply(c.conjugate()).vec.clampToZero()}}])&&u(f.prototype,v),m&&u(f,m),l}(),t=s.default.Quat,a.default=t},{"../core/main":283}],338:[function(t,i,a){t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(u,l){for(var f=0;f<l.length;f++){var v=l[f];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(u,v.key,v)}}t.default.RenderBuffer=function(){function u(v,m,c,d,g,y){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.size=v,this.src=m,this.dst=c,this.attr=d,this._renderer=g,this.map=y}var l,f;return l=u,(f=[{key:"_prepareBuffer",value:function(v,m){var c,d,g,p=m.attributes,y=this._renderer.GL,b=v.model||v,p=p[this.attr];p&&(c=v[this.dst],0<(d=b[this.src]).length?((g=!c)&&(v[this.dst]=c=y.createBuffer()),y.bindBuffer(y.ARRAY_BUFFER,c),!g&&b.dirtyFlags[this.src]===!1||(g=(v=this.map)?v(d):d,this._renderer._bindBuffer(c,y.ARRAY_BUFFER,g),b.dirtyFlags[this.src]=!1),m.enableAttrib(p,this.size)):(v=p.location)!==-1&&this._renderer.registerEnabled.has(v)&&(y.disableVertexAttribArray(v),this._renderer.registerEnabled.delete(v)))}}])&&s(l.prototype,f),u}(),t=t.default.RenderBuffer,a.default=t},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(t,i,a){function s(g){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function u(g){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(y){return s(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":s(y)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=(d=t("../core/main"))&&d.__esModule?d:{default:d},f=function(g){if(g&&g.__esModule)return g;if(g===null||u(g)!=="object"&&typeof g!="function")return{default:g};var y=v();if(y&&y.has(g))return y.get(g);var b,p={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in g){var w;Object.prototype.hasOwnProperty.call(g,b)&&((w=h?Object.getOwnPropertyDescriptor(g,b):null)&&(w.get||w.set)?Object.defineProperty(p,b,w):p[b]=g[b])}return p.default=g,y&&y.set(g,p),p}(t("../core/constants"));function v(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,v=function(){return g},g)}function m(g){return function(y){if(Array.isArray(y)){for(var b=0,p=new Array(y.length);b<y.length;b++)p[b]=y[b];return p}}(g)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),l.default.RendererGL.prototype.beginShape=function(g){return this.immediateMode.shapeMode=g!==void 0?g:f.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var c={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},d=(l.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==f.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},l.default.RendererGL.prototype.vertex=function(g,y){if(this.immediateMode.shapeMode===f.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var b in c){var p=c[b],b=this.immediateMode.geometry[b];b.push.apply(b,m(b.slice(b.length-3*p,b.length-2*p)).concat(m(b.slice(b.length-p,b.length))))}var h,w,_=h=w=0,j=(arguments.length===3?_=arguments[2]:arguments.length===4?(h=arguments[2],w=arguments[3]):arguments.length===5&&(_=arguments[2],h=arguments[3],w=arguments[4]),new l.default.Vector(g,y,_)),j=(this.immediateMode.geometry.vertices.push(j),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),j=(this.immediateMode.geometry.vertexColors.push(j[0],j[1],j[2],j[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(j[0],j[1],j[2],j[3]),this.textureMode!==f.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(h/=this._tex.width,w/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(h,w),this.immediateMode._bezierVertex[0]=g,this.immediateMode._bezierVertex[1]=y,this.immediateMode._bezierVertex[2]=_,this.immediateMode._quadraticVertex[0]=g,this.immediateMode._quadraticVertex[1]=y,this.immediateMode._quadraticVertex[2]=_,this},l.default.RendererGL.prototype.normal=function(g,y,b){return g instanceof l.default.Vector?this._currentNormal=g:this._currentNormal=new l.default.Vector(g,y,b),this},l.default.RendererGL.prototype.endShape=function(g,y,b,p,h,w){var _,j=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===f.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===f.TESS&&(this.immediateMode.shapeMode=f.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),_=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==f.LINE_STRIP&&this.immediateMode.shapeMode!==f.LINES||(this.immediateMode.shapeMode=f.TRIANGLE_FAN,_=!0),this.immediateMode.shapeMode===f.QUADS?this.immediateMode.shapeMode=f.TRIANGLES:this.immediateMode.shapeMode===f.QUAD_STRIP&&(this.immediateMode.shapeMode=f.TRIANGLE_STRIP),this._doFill&&!_&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(j),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},l.default.RendererGL.prototype._processVertices=function(g){var y;this.immediateMode.geometry.vertices.length!==0&&(y=this._doStroke,g=g===f.CLOSE,y&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,g),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),y=this.immediateMode.shapeMode===f.TESS,g=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||y||g)&&this.immediateMode.shapeMode!==f.LINES&&this._tesselateShape())},l.default.RendererGL.prototype._calculateEdges=function(g,y,b){var p=[],h=0,w=this.immediateMode.contourIndices.slice(),_=0;switch(g){case f.TRIANGLE_STRIP:for(h=0;h<y.length-2;h++)p.push([h,h+1]),p.push([h,h+2]);p.push([h,h+1]);break;case f.TRIANGLE_FAN:for(h=1;h<y.length-1;h++)p.push([0,h]),p.push([h,h+1]);p.push([0,y.length-1]);break;case f.TRIANGLES:for(h=0;h<y.length-2;h+=3)p.push([h,h+1]),p.push([h+1,h+2]),p.push([h+2,h]);break;case f.LINES:for(h=0;h<y.length-1;h+=2)p.push([h,h+1]);break;case f.QUADS:for(h=0;h<y.length-5;h+=6)p.push([h,h+1]),p.push([h+1,h+2]),p.push([h+3,h+5]),p.push([h+4,h+5]);break;case f.QUAD_STRIP:for(h=0;h<y.length-2;h+=2)p.push([h,h+1]),p.push([h,h+2]),p.push([h+1,h+3]);p.push([h,h+1]);break;default:for(h=0;h<y.length;h++)h+1<y.length&&h+1!==w[0]?p.push([h,h+1]):((b||_)&&p.push([h,_]),0<w.length&&(_=w.shift()))}return g!==f.TESS&&b&&p.push([y.length-1,0]),p},l.default.RendererGL.prototype._tesselateShape=function(){for(var g=this,y=(this.immediateMode.shapeMode=f.TRIANGLES,[[]]),b=0;b<this.immediateMode.geometry.vertices.length;b++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===b&&(this.immediateMode.contourIndices.shift(),y.push([])),y[y.length-1].push(this.immediateMode.geometry.vertices[b].x,this.immediateMode.geometry.vertices[b].y,this.immediateMode.geometry.vertices[b].z,this.immediateMode.geometry.uvs[2*b],this.immediateMode.geometry.uvs[2*b+1],this.immediateMode.geometry.vertexColors[4*b],this.immediateMode.geometry.vertexColors[4*b+1],this.immediateMode.geometry.vertexColors[4*b+2],this.immediateMode.geometry.vertexColors[4*b+3],this.immediateMode.geometry.vertexNormals[b].x,this.immediateMode.geometry.vertexNormals[b].y,this.immediateMode.geometry.vertexNormals[b].z);for(var p,h=this._triangulate(y),w=this.immediateMode.geometry.vertices,_=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),j=0,E=h.length;j<E;j+=l.default.RendererGL.prototype.tessyVertexSize)_.push.apply(_,m(h.slice(j+5,j+9))),this.normal.apply(this,m(h.slice(j+9,j+12))),this.vertex.apply(this,m(h.slice(j,j+5)));this.geometryBuilder&&(p=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(S){return S.map(function(C){if(!p.has(C)){var M=w[C],A=g.immediateMode.geometry.vertices.findIndex(function(W){return M.x===W.x&&M.y===W.y&&M.z===W.z});if(A===-1){for(var P=1/0,D=0,I=0;I<g.immediateMode.geometry.vertices.length;I++){var N=g.immediateMode.geometry.vertices[I],B=M.x-N.x,U=M.y-N.y,N=M.z-N.z,B=B*B+U*U+N*N;B<P&&(P=B,D=I)}A=D}p.set(C,A)}return p.get(C)})})),this.immediateMode.geometry.vertexColors=_},l.default.RendererGL.prototype._drawImmediateFill=function(){var g,y=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,b=this.GL,p=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,g=this._getImmediateFillShader(),this._setFillUniforms(g),!0),h=!1,w=void 0;try{for(var _,j=this.immediateMode.buffers.fill[Symbol.iterator]();!(p=(_=j.next()).done);p=!0)_.value._prepareBuffer(this.immediateMode.geometry,g)}catch(E){h=!0,w=E}finally{try{p||j.return==null||j.return()}finally{if(h)throw w}}if(g.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),y===1)b.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{b.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,y)}catch{console.log("🌸 p5.js says: Instancing is only supported in WebGL2 mode")}g.unbindShader()},l.default.RendererGL.prototype._drawImmediateStroke=function(){var g=this.GL,y=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),b=(this._setStrokeUniforms(y),!0),p=!1,h=void 0;try{for(var w,_=this.immediateMode.buffers.stroke[Symbol.iterator]();!(b=(w=_.next()).done);b=!0)w.value._prepareBuffer(this.immediateMode.geometry,y)}catch(j){p=!0,h=j}finally{try{b||_.return==null||_.return()}finally{if(p)throw h}}y.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),g.drawArrays(g.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),y.unbindShader()},l.default.RendererGL);a.default=d},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(t,i,a){function s(c){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function u(c){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(d){return s(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":s(d)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=(m=t("../core/main"))&&m.__esModule?m:{default:m},f=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),function(c){if(c&&c.__esModule)return c;if(c===null||u(c)!=="object"&&typeof c!="function")return{default:c};var d=v();if(d&&d.has(c))return d.get(c);var g,y={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in c){var p;Object.prototype.hasOwnProperty.call(c,g)&&((p=b?Object.getOwnPropertyDescriptor(c,g):null)&&(p.get||p.set)?Object.defineProperty(y,g,p):y[g]=c[g])}return y.default=c,d&&d.set(c,y),y}(t("../core/constants")));function v(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,v=function(){return c},c)}l.default.RendererGL.prototype.freeGeometry=function(c){c.gid?this._freeBuffers(c.gid):console.warn("The model you passed to freeGeometry does not have an id!")},l.default.RendererGL.prototype._initBufferDefaults=function(c){var d;return this._freeBuffers(c),1e3<Object.keys(this.retainedMode.geometry).length&&(d=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(d)),this.retainedMode.geometry[c]={}},l.default.RendererGL.prototype._freeBuffers=function(c){var d,g=this.retainedMode.geometry[c];function y(b){var p=!0,h=!1,w=void 0;try{for(var _,j=b[Symbol.iterator]();!(p=(_=j.next()).done);p=!0){var E=_.value;g[E.dst]&&(d.deleteBuffer(g[E.dst]),g[E.dst]=null)}}catch(S){h=!0,w=S}finally{try{p||j.return==null||j.return()}finally{if(h)throw w}}}g&&(delete this.retainedMode.geometry[c],d=this.GL,g.indexBuffer&&d.deleteBuffer(g.indexBuffer),y(this.retainedMode.buffers.stroke),y(this.retainedMode.buffers.fill))},l.default.RendererGL.prototype.createBuffers=function(h,d){var g,y,b,p=this.GL,h=this._initBufferDefaults(h),w=(h.model=d,h.indexBuffer);return d.faces.length?(w=w||(h.indexBuffer=p.createBuffer()),b=(y=(g=l.default.RendererGL.prototype._flatten(d.faces)).some(function(_){return 65535<_}))?Uint32Array:Uint16Array,this._bindBuffer(w,p.ELEMENT_ARRAY_BUFFER,g,b),h.indexBufferType=y?p.UNSIGNED_INT:p.UNSIGNED_SHORT,h.vertexCount=3*d.faces.length):(w&&(p.deleteBuffer(w),h.indexBuffer=null),h.vertexCount=d.vertices?d.vertices.length:0),h.lineVertexCount=d.lineVertices?d.lineVertices.length/3:0,h},l.default.RendererGL.prototype.drawBuffers=function(c){var d=this.GL,g=this.retainedMode.geometry[c];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[c].vertexCount){this._useVertexColor=0<g.model.vertexColors.length;var y=this._getRetainedFillShader(),b=(this._setFillUniforms(y),!0),p=!1,h=void 0;try{for(var w,_=this.retainedMode.buffers.fill[Symbol.iterator]();!(b=(w=_.next()).done);b=!0)w.value._prepareBuffer(g,y)}catch(M){p=!0,h=M}finally{try{b||_.return==null||_.return()}finally{if(p)throw h}}y.disableRemainingAttributes(),g.indexBuffer&&this._bindBuffer(g.indexBuffer,d.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,g.model.hasFillTransparency()),this._drawElements(d.TRIANGLES,c),y.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<g.lineVertexCount){this._useLineColor=0<g.model.vertexStrokeColors.length;var j=this._getRetainedStrokeShader(),E=(this._setStrokeUniforms(j),!0),p=!1,h=void 0;try{for(var S,C=this.retainedMode.buffers.stroke[Symbol.iterator]();!(E=(S=C.next()).done);E=!0)S.value._prepareBuffer(g,j)}catch(P){p=!0,h=P}finally{try{E||C.return==null||C.return()}finally{if(p)throw h}}j.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,g.model.hasStrokeTransparency()),this._drawArrays(d.TRIANGLES,c),j.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(g),this},l.default.RendererGL.prototype.drawBuffersScaled=function(c,d,g,y){var b=this.uModelMatrix.copy();try{this.uModelMatrix.scale(d,g,y),this.drawBuffers(c)}finally{this.uModelMatrix=b}},l.default.RendererGL.prototype._drawArrays=function(c,d){return this.GL.drawArrays(c,0,this.retainedMode.geometry[d].lineVertexCount),this},l.default.RendererGL.prototype._drawElements=function(c,g){var g=this.retainedMode.geometry[g],y=this.GL;if(g.indexBuffer){if(this._pInst.webglVersion!==f.WEBGL2&&g.indexBufferType===y.UNSIGNED_INT&&!y.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");y.drawElements(y.TRIANGLES,g.vertexCount,g.indexBufferType,0)}else y.drawArrays(c||y.TRIANGLES,0,g.vertexCount)},l.default.RendererGL.prototype._drawPoints=function(c,d){var g=this.GL,y=this._getImmediatePointShader();this._setPointUniforms(y),this._bindBuffer(d,g.ARRAY_BUFFER,this._vToNArray(c),Float32Array,g.STATIC_DRAW),y.enableAttrib(y.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),g.drawArrays(g.Points,0,c.length),y.unbindShader()};var m=l.default.RendererGL;a.default=m},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(I,i,a){function s(V){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X})(V)}function u(V){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(X){return s(X)}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":s(X)})(V)}I("core-js/modules/es.symbol"),I("core-js/modules/es.symbol.description"),I("core-js/modules/es.symbol.iterator"),I("core-js/modules/es.array.concat"),I("core-js/modules/es.array.copy-within"),I("core-js/modules/es.array.every"),I("core-js/modules/es.array.fill"),I("core-js/modules/es.array.flat"),I("core-js/modules/es.array.flat-map"),I("core-js/modules/es.array.from"),I("core-js/modules/es.array.includes"),I("core-js/modules/es.array.iterator"),I("core-js/modules/es.array.map"),I("core-js/modules/es.array.slice"),I("core-js/modules/es.array.some"),I("core-js/modules/es.array.unscopables.flat"),I("core-js/modules/es.array.unscopables.flat-map"),I("core-js/modules/es.map"),I("core-js/modules/es.object.assign"),I("core-js/modules/es.object.get-own-property-descriptor"),I("core-js/modules/es.object.get-prototype-of"),I("core-js/modules/es.object.to-string"),I("core-js/modules/es.reflect.construct"),I("core-js/modules/es.reflect.get"),I("core-js/modules/es.regexp.to-string"),I("core-js/modules/es.set"),I("core-js/modules/es.string.includes"),I("core-js/modules/es.string.iterator"),I("core-js/modules/es.typed-array.float32-array"),I("core-js/modules/es.typed-array.float64-array"),I("core-js/modules/es.typed-array.int16-array"),I("core-js/modules/es.typed-array.uint8-array"),I("core-js/modules/es.typed-array.uint16-array"),I("core-js/modules/es.typed-array.uint32-array"),I("core-js/modules/es.typed-array.copy-within"),I("core-js/modules/es.typed-array.every"),I("core-js/modules/es.typed-array.fill"),I("core-js/modules/es.typed-array.filter"),I("core-js/modules/es.typed-array.find"),I("core-js/modules/es.typed-array.find-index"),I("core-js/modules/es.typed-array.for-each"),I("core-js/modules/es.typed-array.includes"),I("core-js/modules/es.typed-array.index-of"),I("core-js/modules/es.typed-array.iterator"),I("core-js/modules/es.typed-array.join"),I("core-js/modules/es.typed-array.last-index-of"),I("core-js/modules/es.typed-array.map"),I("core-js/modules/es.typed-array.reduce"),I("core-js/modules/es.typed-array.reduce-right"),I("core-js/modules/es.typed-array.reverse"),I("core-js/modules/es.typed-array.set"),I("core-js/modules/es.typed-array.slice"),I("core-js/modules/es.typed-array.some"),I("core-js/modules/es.typed-array.sort"),I("core-js/modules/es.typed-array.subarray"),I("core-js/modules/es.typed-array.to-locale-string"),I("core-js/modules/es.typed-array.to-string"),I("core-js/modules/es.weak-map"),I("core-js/modules/web.dom-collections.iterator"),I("core-js/modules/es.symbol"),I("core-js/modules/es.symbol.description"),I("core-js/modules/es.symbol.iterator"),I("core-js/modules/es.array.concat"),I("core-js/modules/es.array.copy-within"),I("core-js/modules/es.array.every"),I("core-js/modules/es.array.fill"),I("core-js/modules/es.array.flat"),I("core-js/modules/es.array.flat-map"),I("core-js/modules/es.array.from"),I("core-js/modules/es.array.includes"),I("core-js/modules/es.array.iterator"),I("core-js/modules/es.array.map"),I("core-js/modules/es.array.slice"),I("core-js/modules/es.array.some"),I("core-js/modules/es.array.unscopables.flat"),I("core-js/modules/es.array.unscopables.flat-map"),I("core-js/modules/es.map"),I("core-js/modules/es.object.assign"),I("core-js/modules/es.object.to-string"),I("core-js/modules/es.set"),I("core-js/modules/es.string.includes"),I("core-js/modules/es.string.iterator"),I("core-js/modules/es.typed-array.float32-array"),I("core-js/modules/es.typed-array.float64-array"),I("core-js/modules/es.typed-array.int16-array"),I("core-js/modules/es.typed-array.uint8-array"),I("core-js/modules/es.typed-array.uint16-array"),I("core-js/modules/es.typed-array.uint32-array"),I("core-js/modules/es.typed-array.copy-within"),I("core-js/modules/es.typed-array.every"),I("core-js/modules/es.typed-array.fill"),I("core-js/modules/es.typed-array.filter"),I("core-js/modules/es.typed-array.find"),I("core-js/modules/es.typed-array.find-index"),I("core-js/modules/es.typed-array.for-each"),I("core-js/modules/es.typed-array.includes"),I("core-js/modules/es.typed-array.index-of"),I("core-js/modules/es.typed-array.iterator"),I("core-js/modules/es.typed-array.join"),I("core-js/modules/es.typed-array.last-index-of"),I("core-js/modules/es.typed-array.map"),I("core-js/modules/es.typed-array.reduce"),I("core-js/modules/es.typed-array.reduce-right"),I("core-js/modules/es.typed-array.reverse"),I("core-js/modules/es.typed-array.set"),I("core-js/modules/es.typed-array.slice"),I("core-js/modules/es.typed-array.some"),I("core-js/modules/es.typed-array.sort"),I("core-js/modules/es.typed-array.subarray"),I("core-js/modules/es.typed-array.to-locale-string"),I("core-js/modules/es.typed-array.to-string"),I("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.readPixelsWebGL=W,a.readPixelWebGL=z,a.default=void 0;var l=g(I("../core/main")),f=function(V){if(V&&V.__esModule)return V;if(V===null||u(V)!=="object"&&typeof V!="function")return{default:V};var X=d();if(X&&X.has(V))return X.get(V);var K,re={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(K in V){var L;Object.prototype.hasOwnProperty.call(V,K)&&((L=T?Object.getOwnPropertyDescriptor(V,K):null)&&(L.get||L.set)?Object.defineProperty(re,K,L):re[K]=V[K])}return re.default=V,X&&X.set(V,re),re}(I("../core/constants")),v=g(I("./GeometryBuilder")),m=g(I("libtess")),c=(I("./p5.Shader"),I("./p5.Camera"),I("../core/p5.Renderer"),I("./p5.Matrix"),I("./p5.Framebuffer"),I("path"),I("./p5.Texture"));function d(){var V;return typeof WeakMap!="function"?null:(V=new WeakMap,d=function(){return V},V)}function g(V){return V&&V.__esModule?V:{default:V}}function y(V){return function(X){if(Array.isArray(X)){for(var K=0,re=new Array(X.length);K<X.length;K++)re[K]=X[K];return re}}(V)||function(X){if(Symbol.iterator in Object(X)||Object.prototype.toString.call(X)==="[object Arguments]")return Array.from(X)}(V)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function b(V,X){for(var K=0;K<X.length;K++){var re=X[K];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(V,re.key,re)}}function p(V,X,K){return(p=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(G,T,L){var G=function(H,J){for(;!Object.prototype.hasOwnProperty.call(H,J)&&(H=j(H))!==null;);return H}(G,T);if(G)return(G=Object.getOwnPropertyDescriptor(G,T)).get?G.get.call(L):G.value})(V,X,K||V)}function h(V,X){return(h=Object.setPrototypeOf||function(K,re){return K.__proto__=re,K})(V,X)}function w(V){return function(){var X,K,re=j(V);return X=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(X=j(this).constructor,Reflect.construct(re,arguments,X)):re.apply(this,arguments),re=this,!(K=X)||u(K)!=="object"&&typeof K!="function"?_(re):K}}function _(V){if(V===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V}function j(V){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(X){return X.__proto__||Object.getPrototypeOf(X)})(V)}function E(V,X,K){X in V?Object.defineProperty(V,X,{value:K,enumerable:!0,configurable:!0,writable:!0}):V[X]=K}function S(V,X){D+="#define STROKE_CAP_".concat(V," ").concat(X,`
`),A[f[V]]=X}function C(V,X){D+="#define STROKE_JOIN_".concat(V," ").concat(X,`
`),P[f[V]]=X}var M,A={},P={},D="",I=(S("ROUND",0),S("PROJECT",1),S("SQUARE",2),C("ROUND",0),C("MITER",1),C("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float uMetallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector, float shininess, float metallic) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, shininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse(vec3 vNormal, vec3 vViewPosition, float metallic){
  // make 2 separate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular(vec3 vNormal, vec3 vViewPosition, float shininess, float metallic){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  // In p5js the range of shininess is >= 1,
  // Therefore roughness range will be ([0,1]*8)*20 or [0, 160]
  // The factor of 8 is because currently the getSpecularTexture
  // only calculated 8 different levels of roughness
  // The factor of 20 is just to spread up this range so that,
  // [1, max] of shininess is converted to [0,160] of roughness
  float roughness = 20. / shininess;
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, roughness * 8.);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  float shininess,
  float metallic,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition, metallic);
    totalSpecular += calculateImageSpecular(normal, modelPosition, shininess, metallic);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),U={sphereMappingFrag:`#define PI 3.141592

precision highp float;
  
uniform sampler2D uSampler;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    vec4 newTexColor = texture2D(uSampler, vTexCoord);
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    float temp = rotatedNormal.z;
    rotatedNormal.z = rotatedNormal.x;
    rotatedNormal.x = -temp;
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    newTexColor = texture2D(uSampler, suv.xy);
    gl_FragColor = newTexColor;
}
`,immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 positionVec4 = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  gl_Position = uProjectionMatrix * positionVec4;

  vVertexNormal = HOOK_getWorldNormal(normalize(uNormalMatrix * HOOK_getLocalNormal(aNormal)));
  vVertTexCoord = HOOK_getUV(aTexCoord);
  vColor = HOOK_getVertexColor(uUseVertexColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vVertexNormal, 1.0));
  HOOK_afterFragment();
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vColor.rgb, 1.) * vColor.a);
  HOOK_afterFragment();
}
`,lightVert:I+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = HOOK_getWorldNormal(uNormalMatrix * HOOK_getLocalNormal(aNormal));
  vTexCoord = HOOK_getUV(aTexCoord);

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = HOOK_getVertexColor((uUseVertexColor ? aVertexColor : uMaterialColor));
  HOOK_afterVertex();
}
`,phongFrag:I+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

struct ColorComponents {
  vec3 baseColor;
  float opacity;
  vec3 ambientColor;
  vec3 specularColor;
  vec3 diffuse;
  vec3 ambient;
  vec3 specular;
  vec3 emissive;
};

struct Inputs {
  vec3 normal;
  vec2 texCoord;
  vec3 ambientLight;
  vec3 ambientMaterial;
  vec3 specularMaterial;
  vec3 emissiveMaterial;
  vec4 color;
  float shininess;
  float metalness;
};

void main(void) {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.normal = normalize(vNormal);
  inputs.texCoord = vTexCoord;
  inputs.ambientLight = vAmbientColor;
  inputs.color = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
  inputs.shininess = uShininess;
  inputs.metalness = uMetallic;
  inputs.ambientMaterial = uHasSetAmbient ? uAmbientMatColor.rgb : inputs.color.rgb;
  inputs.specularMaterial = uSpecularMatColor.rgb;
  inputs.emissiveMaterial = uEmissiveMatColor.rgb;
  inputs = HOOK_getPixelInputs(inputs);

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, inputs.normal, inputs.shininess, inputs.metalness, diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec2 texCoord = inputs.texCoord;
  vec4 baseColor = inputs.color;
  ColorComponents c;
  c.opacity = baseColor.a;
  c.baseColor = baseColor.rgb;
  c.ambientColor = inputs.ambientMaterial;
  c.specularColor = inputs.specularMaterial;
  c.diffuse = diffuse;
  c.ambient = inputs.ambientLight;
  c.specular = specular;
  c.emissive = inputs.emissiveMaterial;
  OUT_COLOR = HOOK_getFinalColor(HOOK_combineColors(c));
  HOOK_afterFragment();
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:D+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;
OUT float vStrokeWeight;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  HOOK_beforeVertex();
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 localPosition = vec4(HOOK_getLocalPosition(aPosition.xyz), 1.);
  vec4 posp = vec4(HOOK_getWorldPosition((uModelViewMatrix * localPosition).xyz), 1.);
  vec4 posqIn = posp + uModelViewMatrix * vec4(aTangentIn, 0);
  vec4 posqOut = posp + uModelViewMatrix * vec4(aTangentOut, 0);
  float strokeWeight = HOOK_getStrokeWeight(uStrokeWeight);
  vStrokeWeight = strokeWeight;

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // A mix of scaling and offsetting is used based on distance
  // Discussion here:
  // https://github.com/processing/p5.js/issues/7200 

  // using a scale <1 moves the lines towards nearby camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float zDistance = -posp.z; 
  float distanceFactor = smoothstep(0.0, 800.0, zDistance); 
  
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  float scale = mix(1., 0.995, facingCamera);
  float dynamicScale = mix(scale, 1.0, distanceFactor); // Closer = more scale, farther = less

  posp.xyz = posp.xyz * dynamicScale;
  posqIn.xyz = posqIn.xyz * dynamicScale;
  posqOut.xyz = posqOut.xyz * dynamicScale;

  // Moving vertices slightly toward camera when far away 
  // https://github.com/processing/p5.js/issues/6956 
  float zOffset = mix(-0.00045, -1., facingCamera);
  float dynamicZAdjustment = mix(0.0, zOffset, distanceFactor); // Closer = less zAdjustment, farther = more

  posp.z -= dynamicZAdjustment;
  posqIn.z -= dynamicZAdjustment;
  posqOut.z -= dynamicZAdjustment;
  
  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = HOOK_getLineCenter(p.xy);

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * strokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * strokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * strokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * strokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * strokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * strokeWeight / 2.));
    } else {
      vMaxDist = strokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      strokeWeight * 0.5;
    vMaxDist = strokeWeight / 2.;
  }
  vPosition = HOOK_getLinePosition(vCenter + offset);

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = HOOK_getVertexColor(uUseLineColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,lineFrag:D+`precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vStrokeWeight;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

struct Inputs {
  vec4 color;
  vec2 tangent;
  vec2 center;
  vec2 position;
  float strokeWeight;
};

void main() {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.color = vColor;
  inputs.tangent = vTangent;
  inputs.center = vCenter;
  inputs.position = vPosition;
  inputs.strokeWeight = vStrokeWeight;
  inputs = HOOK_getPixelInputs(inputs);

  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      HOOK_shouldDiscard(dot(inputs.position - inputs.center, inputs.tangent) > 0.)
    ) {
      discard;
    // Use full area for PROJECT
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-inputs.tangent.y, inputs.tangent.x);
      if (HOOK_shouldDiscard(abs(dot(inputs.position - inputs.center, normal)) > vMaxDist)) {
        discard;
      }
    // Use full area for MITER
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  }
  OUT_COLOR = HOOK_getFinalColor(vec4(inputs.color.rgb, 1.) * inputs.color.a);
  HOOK_afterFragment();
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

void main() {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);
  gl_Position = uProjectionMatrix * viewModelPosition;  

  float pointSize = HOOK_getPointSize(uPointSize);

	gl_PointSize = pointSize;
	vStrokeWeight = pointSize;
  HOOK_afterVertex();
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  HOOK_beforeFragment();
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(HOOK_shouldDiscard(mask > 0.98)){
    discard;
  }

  OUT_COLOR = HOOK_getFinalColor(vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a);
  HOOK_afterFragment();
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`},N=U.sphereMappingFrag;for(M in U)U[M]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+U[M];E(I={},f.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),E(I,f.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),E(I,f.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),E(I,f.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),E(I,f.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),E(I,f.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),E(I,f.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),E(I,f.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var B=I;function W(V,X,fe,re,T,L,G,H,J,ee){var ie=X.getParameter(X.FRAMEBUFFER_BINDING),fe=(X.bindFramebuffer(X.FRAMEBUFFER,fe),H===X.RGBA?4:3),oe=L*G*fe,de=J===X.UNSIGNED_BYTE?Uint8Array:Float32Array;if(V instanceof de&&V.length===oe||(V=new de(oe)),X.readPixels(re,ee?ee-T-G:T,L,G,H,J,V),X.bindFramebuffer(X.FRAMEBUFFER,ie),ee)for(var ae=Math.floor(G/2),Z=new de(L*fe),ue=0;ue<ae;ue++){var pe=ue*L*4,we=(G-ue-1)*L*4;Z.set(V.subarray(pe,pe+4*L)),V.copyWithin(pe,we,we+4*L),V.set(Z,we)}return V}function z(V,J,K,re,T,L,G){var H=V.getParameter(V.FRAMEBUFFER_BINDING),J=(V.bindFramebuffer(V.FRAMEBUFFER,J),T===V.RGBA?4:3),J=new(L===V.UNSIGNED_BYTE?Uint8Array:Float32Array)(J);return V.readPixels(K,G?G-re-1:re,1,1,T,L,J),V.bindFramebuffer(V.FRAMEBUFFER,H),Array.from(J)}l.default.prototype.setAttributes=function(V,X){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var K=!0;if(X!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[V]!==X&&(this._glAttributes[V]=X,K=!1)):V instanceof Object&&this._glAttributes!==V&&(this._glAttributes=V,K=!1),this._renderer.isP3D&&!K){if(!this._setupDone){for(var re in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(re))return void l.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},l.default.RendererGL=function(V){var X=re;if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function");X.prototype=Object.create(V&&V.prototype,{constructor:{value:X,writable:!0,configurable:!0}}),V&&h(X,V);var K=w(re);function re(T,L,G,H){if(this instanceof re)return(T=K.call(this,T,L,G))._setAttributeDefaults(L),T._initContext(),T.isP3D=!0,T.geometryBuilder=void 0,T.GL=T.drawingContext,T._pInst._setProperty("drawingContext",T.drawingContext),T._isErasing=!1,T._clipDepths=[],T._isClipApplied=!1,T._stencilTestOn=!1,T._enableLighting=!1,T.ambientLightColors=[],T.mixedAmbientLight=[],T.mixedSpecularColor=[],T.specularColors=[1,1,1],T.directionalLightDirections=[],T.directionalLightDiffuseColors=[],T.directionalLightSpecularColors=[],T.pointLightPositions=[],T.pointLightDiffuseColors=[],T.pointLightSpecularColors=[],T.spotLightPositions=[],T.spotLightDirections=[],T.spotLightDiffuseColors=[],T.spotLightSpecularColors=[],T.spotLightAngle=[],T.spotLightConc=[],T.activeImageLight=null,T.diffusedTextures=new Map,T.specularTextures=new Map,T.drawMode=f.FILL,T.curFillColor=T._cachedFillStyle=[1,1,1,1],T.curAmbientColor=T._cachedFillStyle=[1,1,1,1],T.curSpecularColor=T._cachedFillStyle=[0,0,0,0],T.curEmissiveColor=T._cachedFillStyle=[0,0,0,0],T.curStrokeColor=T._cachedStrokeStyle=[0,0,0,1],T.curBlendMode=f.BLEND,T.preEraseBlend=void 0,T._cachedBlendMode=void 0,T.webglVersion===f.WEBGL2?T.blendExt=T.GL:T.blendExt=T.GL.getExtension("EXT_blend_minmax"),T._isBlending=!1,T._hasSetAmbient=!1,T._useSpecularMaterial=!1,T._useEmissiveMaterial=!1,T._useNormalMaterial=!1,T._useShininess=1,T._useMetalness=0,T._useLineColor=!1,T._useVertexColor=!1,T.registerEnabled=new Set,T._tint=[255,255,255,255],T.constantAttenuation=1,T.linearAttenuation=0,T.quadraticAttenuation=0,T.uModelMatrix=new l.default.Matrix,T.uViewMatrix=new l.default.Matrix,T.uMVMatrix=new l.default.Matrix,T.uPMatrix=new l.default.Matrix,T.uNMatrix=new l.default.Matrix("mat3"),T.curMatrix=new l.default.Matrix("mat3"),T._currentNormal=new l.default.Vector(0,0,1),T._curCamera=new l.default.Camera(_(T)),T._curCamera._computeCameraDefaultSettings(),T._curCamera._setDefaultCamera(),T.filterCamera=new l.default.Camera(_(T)),T.filterCamera._computeCameraDefaultSettings(),T.filterCamera._setDefaultCamera(),T.prevTouches=[],T.zoomVelocity=0,T.rotateVelocity=new l.default.Vector(0,0),T.moveVelocity=new l.default.Vector(0,0),T.executeZoom=!1,T.executeRotateAndMove=!1,T.specularShader=void 0,T.sphereMapping=void 0,T.diffusedShader=void 0,T._defaultLightShader=void 0,T._defaultImmediateModeShader=void 0,T._defaultNormalShader=void 0,T._defaultColorShader=void 0,T._defaultPointShader=void 0,T.userFillShader=void 0,T.userStrokeShader=void 0,T.userPointShader=void 0,T.retainedMode={geometry:{},buffers:{stroke:[new l.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",_(T)),new l.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",_(T)),new l.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",_(T)),new l.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",_(T)),new l.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",_(T))],fill:[new l.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",_(T),T._vToNArray),new l.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",_(T),T._vToNArray),new l.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",_(T)),new l.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",_(T)),new l.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",_(T),T._flatten)],text:[new l.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",_(T),T._vToNArray),new l.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",_(T),T._flatten)]}},T.immediateMode={geometry:new l.default.Geometry,shapeMode:f.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new l.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",_(T),T._vToNArray),new l.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",_(T),T._vToNArray),new l.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",_(T)),new l.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",_(T)),new l.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",_(T),T._flatten)],stroke:[new l.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",_(T)),new l.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",_(T)),new l.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",_(T)),new l.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",_(T)),new l.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",_(T))],point:T.GL.createBuffer()}},T.pointSize=5,T.curStrokeWeight=1,T.curStrokeCap=f.ROUND,T.curStrokeJoin=f.ROUND,T.textures=new Map,T.framebuffers=new Set,T.activeFramebuffers=[],T.filterShader=void 0,T.filterLayer=void 0,T.filterLayerTemp=void 0,T.defaultFilterShaders={},T.textureMode=f.IMAGE,T.textureWrapX=f.CLAMP,T.textureWrapY=f.CLAMP,T._tex=null,T._curveTightness=6,T._lookUpTableBezier=[],T._lookUpTableQuadratic=[],T._lutBezierDetail=0,T._lutQuadraticDetail=0,T.isProcessingVertices=!1,T._tessy=T._initTessy(),T.fontInfos={},T._curShader=void 0,T;throw new TypeError("Cannot call a class as a function")}return X=re,(V=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new v.default(this)}},{key:"endGeometry",value:function(){var T;if(this.geometryBuilder)return T=this.geometryBuilder.finish(),this.geometryBuilder=void 0,T;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(T){return this.beginGeometry(),T(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(T){var L={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};T._glAttributes===null?T._glAttributes=L:T._glAttributes=Object.assign(L,T._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?f.WEBGL2:f.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var T=this.drawingContext;T.enable(T.DEPTH_TEST),T.depthFunc(T.LEQUAL),T.viewport(0,0,T.drawingBufferWidth,T.drawingBufferHeight),T.pixelStorei(T.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var T=this.drawingContext;return T.getParameter(T.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(T,L){this._maxTextureSize||(this._maxTextureSize=this._getParam());var H=this._maxTextureSize,H=(l.default.prototype._maxAllowedPixelDimensions,Math.floor(H/this.pixelDensity())),G=Math.min(T,H),H=Math.min(L,H);return G===T&&H===L||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(G,", height: ").concat(H,".")),{adjustedWidth:G,adjustedHeight:H}}},{key:"_resetContext",value:function(T,L){var G,H=this.width,J=this.height,ie=this.canvas.id,ee=this._pInst instanceof l.default.Graphics,ie=(ee?((G=this._pInst).canvas.parentNode.removeChild(G.canvas),G.canvas=document.createElement("canvas"),(G._pInst._userNode||document.body).appendChild(G.canvas),l.default.Element.call(G,G.canvas,G._pInst),G.width=H,G.height=J):((G=this.canvas)&&G.parentNode.removeChild(G),(G=document.createElement("canvas")).id=ie,(this._pInst._userNode||document.body).appendChild(G),this._pInst.canvas=G,this.canvas=G),new l.default.RendererGL(this._pInst.canvas,this._pInst,!ee));this._pInst._setProperty("_renderer",ie),ie.resize(H,J),ie._applyDefaults(),ee||this._pInst._elements.push(ie),typeof L=="function"&&setTimeout(function(){L.apply(window._renderer,T)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var H=(H=this._pInst).color.apply(H,arguments),T=H.levels[0]/255,L=H.levels[1]/255,G=H.levels[2]/255,H=H.levels[3]/255;this.clear(T,L,G,H)}},{key:"fill",value:function(T,L,G,H){var J=l.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=J._array,this.drawMode=f.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(T,L,G,H){var J=l.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=J._array}},{key:"strokeCap",value:function(T){this.curStrokeCap=T}},{key:"strokeJoin",value:function(T){this.curStrokeJoin=T}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(T,L){T.width===L.width&&T.height===L.height||T.resize(L.width,L.height),T.pixelDensity()!==L.pixelDensity()&&T.pixelDensity(L.pixelDensity())}},{key:"filter",value:function(){var T,L,G=this,H=this.getFilterLayer(),J=void 0,ee=void 0,ie=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(ee=arguments.length<=0?void 0:arguments[0],E(T={},f.BLUR,3),E(T,f.POSTERIZE,4),E(T,f.THRESHOLD,.5),J=ee in(T=T)&&(arguments.length<=1?void 0:arguments[1])===void 0?T[ee]:arguments.length<=1?void 0:arguments[1],ee in this.defaultFilterShaders||(this.defaultFilterShaders[ee]=new l.default.Shader(H._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,B[ee])),this.filterShader=this.defaultFilterShaders[ee]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),fe=(this.matchSize(H,ie),H.draw(function(){return G._pInst.clear()}),[1/(ie.width*ie.pixelDensity()),1/(ie.height*ie.pixelDensity())]);ee===f.BLUR?(L=this.getFilterLayerTemp(),this.matchSize(L,ie),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(f.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",fe),this.filterShader.setUniform("canvasSize",[ie.width,ie.height]),this.filterShader.setUniform("radius",Math.max(1,J)),L.draw(function(){G.filterShader.setUniform("direction",[1,0]),G.filterShader.setUniform("tex0",ie),G._pInst.clear(),G._pInst.shader(G.filterShader),G._pInst.noLights(),G._pInst.plane(ie.width,ie.height)}),H.draw(function(){G.filterShader.setUniform("direction",[0,1]),G.filterShader.setUniform("tex0",L),G._pInst.clear(),G._pInst.shader(G.filterShader),G._pInst.noLights(),G._pInst.plane(ie.width,ie.height)}),this._pInst.pop()):H.draw(function(){G._pInst.noStroke(),G._pInst.blendMode(f.BLEND),G._pInst.shader(G.filterShader),G.filterShader.setUniform("tex0",ie),G.filterShader.setUniform("texelSize",fe),G.filterShader.setUniform("canvasSize",[ie.width,ie.height]),G.filterShader.setUniform("filterParameter",J),G._pInst.noLights(),G._pInst.plane(ie.width,ie.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(f.CORNER),this._pInst.blendMode(f.BLEND),ie.filterCamera._resize(),this._pInst.setCamera(ie.filterCamera),this._pInst.resetMatrix(),this._pInst.image(H,-ie.width/2,-ie.height/2,ie.width,ie.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(T){return T?this._pInst.pixelDensity(T):this._pInst.pixelDensity()}},{key:"blendMode",value:function(T){T===f.DARKEST||T===f.LIGHTEST||T===f.ADD||T===f.BLEND||T===f.SUBTRACT||T===f.SCREEN||T===f.EXCLUSION||T===f.REPLACE||T===f.MULTIPLY||T===f.REMOVE?this.curBlendMode=T:T!==f.BURN&&T!==f.OVERLAY&&T!==f.HARD_LIGHT&&T!==f.SOFT_LIGHT&&T!==f.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(T,L){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(f.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,T/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,L/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var T=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},T=(p(j(re.prototype),"beginClip",this).call(this,T),this.drawTarget()._isClipApplied=!0,this.GL);T.clearStencil(0),T.clear(T.STENCIL_BUFFER_BIT),T.enable(T.STENCIL_TEST),this._stencilTestOn=!0,T.stencilFunc(T.ALWAYS,1,255),T.stencilOp(T.KEEP,T.KEEP,T.REPLACE),T.disable(T.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var T=this.GL;T.stencilOp(T.KEEP,T.KEEP,T.KEEP),T.stencilFunc(this._clipInvert?T.EQUAL:T.NOTEQUAL,0,255),T.enable(T.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),p(j(re.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(T){this.curStrokeWeight!==T&&(this.pointSize=T,this.curStrokeWeight=T)}},{key:"_getPixel",value:function(T,L){var G=this.GL;return z(G,null,T,L,G.RGBA,G.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var T,L,G=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(T=this._pInst._pixelDensity,L=this.GL,G._setProperty("pixels",W(G.pixels,L,null,0,0,this.width*T,this.height*T,L.RGBA,L.UNSIGNED_BYTE,this.height*T)))}},{key:"updatePixels",value:function(){var T=this._getTempFramebuffer();T.pixels=this._pixelsState.pixels,T.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(f.CENTER),this._pInst.image(T,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:f.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:f.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(T){return this.retainedMode.geometry[T]!==void 0}},{key:"viewport",value:function(T,L){this._viewport=[0,0,T,L],this.GL.viewport(0,0,T,L)}},{key:"resize",value:function(J,H){l.default.Renderer.prototype.resize.call(this,J,H),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var J=this._pixelsState,G=(J.pixels!==void 0&&J._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),H=!1,J=void 0;try{for(var ee,ie=this.framebuffers[Symbol.iterator]();!(G=(ee=ie.next()).done);G=!0)ee.value._canvasSizeChanged()}catch(fe){H=!0,J=fe}finally{try{G||ie.return==null||ie.return()}finally{if(H)throw J}}}},{key:"clear",value:function(){var T=(arguments.length<=0?void 0:arguments[0])||0,L=(arguments.length<=1?void 0:arguments[1])||0,G=(arguments.length<=2?void 0:arguments[2])||0,H=(arguments.length<=3?void 0:arguments[3])||0,J=this.activeFramebuffer();J&&J.format===f.UNSIGNED_BYTE&&!J.antialias&&H===0&&(H=1e-10),this.GL.clearColor(T*H,L*H,G*H,H),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&arguments[0]!==void 0?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(T,L,G,H,J,ee){arguments.length===16?l.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([T,L,0,0,G,H,0,0,0,0,1,0,J,ee,0,1])}},{key:"translate",value:function(T,L,G){return T instanceof l.default.Vector&&(G=T.z,L=T.y,T=T.x),this.uModelMatrix.translate([T,L,G]),this}},{key:"scale",value:function(T,L,G){return this.uModelMatrix.scale(T,L,G),this}},{key:"rotate",value:function(T,L){return L===void 0?this.rotateZ(T):(l.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(T){return this.rotate(T,1,0,0),this}},{key:"rotateY",value:function(T){return this.rotate(T,0,1,0),this}},{key:"rotateZ",value:function(T){return this.rotate(T,0,0,1),this}},{key:"push",value:function(){var T=l.default.Renderer.prototype.push.apply(this),L=T.properties;return L.uModelMatrix=this.uModelMatrix.copy(),L.uViewMatrix=this.uViewMatrix.copy(),L.uPMatrix=this.uPMatrix.copy(),L._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),L.ambientLightColors=this.ambientLightColors.slice(),L.specularColors=this.specularColors.slice(),L.directionalLightDirections=this.directionalLightDirections.slice(),L.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),L.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),L.pointLightPositions=this.pointLightPositions.slice(),L.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),L.pointLightSpecularColors=this.pointLightSpecularColors.slice(),L.spotLightPositions=this.spotLightPositions.slice(),L.spotLightDirections=this.spotLightDirections.slice(),L.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),L.spotLightSpecularColors=this.spotLightSpecularColors.slice(),L.spotLightAngle=this.spotLightAngle.slice(),L.spotLightConc=this.spotLightConc.slice(),L.userFillShader=this.userFillShader,L.userStrokeShader=this.userStrokeShader,L.userPointShader=this.userPointShader,L.pointSize=this.pointSize,L.curStrokeWeight=this.curStrokeWeight,L.curStrokeColor=this.curStrokeColor,L.curFillColor=this.curFillColor,L.curAmbientColor=this.curAmbientColor,L.curSpecularColor=this.curSpecularColor,L.curEmissiveColor=this.curEmissiveColor,L._hasSetAmbient=this._hasSetAmbient,L._useSpecularMaterial=this._useSpecularMaterial,L._useEmissiveMaterial=this._useEmissiveMaterial,L._useShininess=this._useShininess,L._useMetalness=this._useMetalness,L.constantAttenuation=this.constantAttenuation,L.linearAttenuation=this.linearAttenuation,L.quadraticAttenuation=this.quadraticAttenuation,L._enableLighting=this._enableLighting,L._useNormalMaterial=this._useNormalMaterial,L._tex=this._tex,L.drawMode=this.drawMode,L._currentNormal=this._currentNormal,L.curBlendMode=this.curBlendMode,L.activeImageLight=this.activeImageLight,L.textureMode=this.textureMode,T}},{key:"pop",value:function(){var T;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var L=arguments.length,G=new Array(L),H=0;H<L;H++)G[H]=arguments[H];(T=p(j(re.prototype),"pop",this)).call.apply(T,[this].concat(G)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var T=this.drawTarget();T._isClipApplied!==this._stencilTestOn&&(T._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var T=this.userStrokeShader;return T&&T.isStrokeShader()?T:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(T){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(N)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",T),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var T=this.userFillShader;if(this._useNormalMaterial&&(!T||!T.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!T||!T.isLightShader())return this._getLightShader()}else if(this._tex){if(!T||!T.isTextureShader())return this._getLightShader()}else if(!T)return this._getImmediateModeShader();return T}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var T=this.userFillShader;if(this._enableLighting){if(!T||!T.isLightShader())return this._getLightShader()}else if(this._tex){if(!T||!T.isTextureShader())return this._getLightShader()}else if(!T)return this._getColorShader();return T}},{key:"_getImmediatePointShader",value:function(){var T=this.userPointShader;return T&&T.isPointShader()?T:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"baseMaterialShader",value:function(){if(this._pInst._glAttributes.perPixelLighting)return this._getLightShader();throw new Error("The material shader does not support hooks without perPixelLighting. Try turning it back on.")}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+U.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+U.phongFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 combineColors":`(ColorComponents components) {
                vec4 color = vec4(0.);
                color.rgb += components.diffuse * components.baseColor;
                color.rgb += components.ambient * components.ambientColor;
                color.rgb += components.specular * components.specularColor;
                color.rgb += components.emissive;
                color.a = components.opacity;
                return color;
              }`,"vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}}):this._defaultLightShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+U.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+U.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+U.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+U.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"baseNormalShader",value:function(){return this._getNormalShader()}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+U.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+U.normalFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultNormalShader}},{key:"baseColorShader",value:function(){return this._getColorShader()}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+U.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+U.basicFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultColorShader}},{key:"pointShader",value:function(){return this._getPointShader()}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+U.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+U.pointFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getPointSize":"(float size) { return size; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultPointShader}},{key:"baseStrokeShader",value:function(){return this._getLineShader()}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+U.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+U.lineFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getStrokeWeight":"(float weight) { return weight; }","vec2 getLineCenter":"(vec2 center) { return center; }","vec2 getLinePosition":"(vec2 position) { return position; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===f.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+U.fontVert,this._webGL2CompatibilityPrefix("frag","highp")+U.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(T,L){var G="";return this.webglVersion===f.WEBGL2&&(G+=`#version 300 es
#define WEBGL2
`),T==="vert"?G+=`#define VERTEX_SHADER
`:T==="frag"&&(G+=`#define FRAGMENT_SHADER
`),L&&(G+="precision ".concat(L,` float;
`)),G}},{key:"_getEmptyTexture",value:function(){var T;return this._emptyTexture||((T=new l.default.Image(1,1)).set(0,0,255),this._emptyTexture=new l.default.Texture(this,T)),this._emptyTexture}},{key:"getTexture",value:function(T){T instanceof l.default.Framebuffer&&(T=T.color);var L=this.textures.get(T);return L||(L=new l.default.Texture(this,T),this.textures.set(T,L),L)}},{key:"getDiffusedTexture",value:function(T){var L,G,H=this;return this.diffusedTextures.get(T)!=null?this.diffusedTextures.get(T):(L=Math.floor(T.height/T.width*200),G=this._pInst.createFramebuffer({width:200,height:L,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(U.imageLightVert,U.imageLightDiffusedFrag)),G.draw(function(){H._pInst.shader(H.diffusedShader),H.diffusedShader.setUniform("environmentMap",T),H._pInst.noStroke(),H._pInst.rectMode(f.CENTER),H._pInst.noLights(),H._pInst.rect(0,0,200,L)}),this.diffusedTextures.set(T,G),G)}},{key:"getSpecularTexture",value:function(T){var L=this;if(this.specularTextures.get(T)!=null)return this.specularTextures.get(T);for(var G,H=[],J=this._pInst.createFramebuffer({width:512,height:512,density:1}),ee=Math.log(512)/Math.log(2),ie=(this.specularShader||(this.specularShader=this._pInst.createShader(U.imageLightVert,U.imageLightSpecularFrag)),512);1<=ie;ie/=2)(function(fe){J.resize(fe,fe);var oe=1-Math.log(fe)/Math.log(2)/ee;J.draw(function(){L._pInst.shader(L.specularShader),L._pInst.clear(),L.specularShader.setUniform("environmentMap",T),L.specularShader.setUniform("roughness",oe),L._pInst.noStroke(),L._pInst.noLights(),L._pInst.plane(fe,fe)}),H.push(J.get().drawingContext.getImageData(0,0,fe,fe))})(ie);return J.remove(),G=new c.MipmapTexture(this,H,{}),this.specularTextures.set(T,G),G}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(T){return new l.default.Framebuffer(this,T)}},{key:"_setStrokeUniforms",value:function(T){T.bindShader(),T.setUniform("uUseLineColor",this._useLineColor),T.setUniform("uMaterialColor",this.curStrokeColor),T.setUniform("uStrokeWeight",this.curStrokeWeight),T.setUniform("uStrokeCap",A[this.curStrokeCap]),T.setUniform("uStrokeJoin",P[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(T){var L=this,G=(T.bindShader(),this.mixedSpecularColor=y(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(H,J){return L.curFillColor[J]*L._useMetalness+H*(1-L._useMetalness)})),T.setUniform("uUseVertexColor",this._useVertexColor),T.setUniform("uMaterialColor",this.curFillColor),T.setUniform("isTexture",!!this._tex),this._tex&&T.setUniform("uSampler",this._tex),T.setUniform("uTint",this._tint),T.setUniform("uHasSetAmbient",this._hasSetAmbient),T.setUniform("uAmbientMatColor",this.curAmbientColor),T.setUniform("uSpecularMatColor",this.mixedSpecularColor),T.setUniform("uEmissiveMatColor",this.curEmissiveColor),T.setUniform("uSpecular",this._useSpecularMaterial),T.setUniform("uEmissive",this._useEmissiveMaterial),T.setUniform("uShininess",this._useShininess),T.setUniform("uMetallic",this._useMetalness),this._setImageLightUniforms(T),T.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3),G=(T.setUniform("uPointLightCount",G),T.setUniform("uPointLightLocation",this.pointLightPositions),T.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),T.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),G=(T.setUniform("uDirectionalLightCount",G),T.setUniform("uLightingDirection",this.directionalLightDirections),T.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),T.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),G=(this.mixedAmbientLight=y(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(H){return H-=L._useMetalness,Math.max(0,H)})),T.setUniform("uAmbientLightCount",G),T.setUniform("uAmbientColor",this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);T.setUniform("uSpotLightCount",G),T.setUniform("uSpotLightAngle",this.spotLightAngle),T.setUniform("uSpotLightConc",this.spotLightConc),T.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),T.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),T.setUniform("uSpotLightLocation",this.spotLightPositions),T.setUniform("uSpotLightDirection",this.spotLightDirections),T.setUniform("uConstantAttenuation",this.constantAttenuation),T.setUniform("uLinearAttenuation",this.linearAttenuation),T.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),T.bindTextures()}},{key:"_setImageLightUniforms",value:function(T){var L;T.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(L=this.getDiffusedTexture(this.activeImageLight),T.setUniform("environmentMapDiffused",L),L=this.getSpecularTexture(this.activeImageLight),T.setUniform("environmentMapSpecular",L))}},{key:"_setPointUniforms",value:function(T){T.bindShader(),T.setUniform("uMaterialColor",this.curStrokeColor),T.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(T,L,G,H,J){L=L||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(L,T),G!==void 0&&((T=G)instanceof l.default.DataArray?T=G.dataArray():T instanceof(H||Float32Array)||(T=new(H||Float32Array)(T)),this.GL.bufferData(L,T,J||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(T,L){return T.length===L.length&&T.every(function(G,H){return G===L[H]})}},{key:"_isTypedArray",value:function(T){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(L){return T instanceof L})}},{key:"_flatten",value:function(T){return T.flat()}},{key:"_vToNArray",value:function(T){return T.flatMap(function(L){return[L.x,L.y,L.z]})}},{key:"_bezierCoefficients",value:function(T){var L=T*T,G=1-T,H=G*G;return[H*G,3*H*T,3*G*L,L*T]}},{key:"_quadraticCoefficients",value:function(T){var L=1-T;return[L*L,2*L*T,T*T]}},{key:"_bezierToCatmull",value:function(T){return[T[1],T[1]+(T[2]-T[0])/this._curveTightness,T[2]-(T[3]-T[1])/this._curveTightness,T[2]]}},{key:"_initTessy",value:function(){var T=new m.default.GluTesselator;return T.gluTessCallback(m.default.gluEnum.GLU_TESS_VERTEX_DATA,function(L,G){var H=!0,J=!1,ee=void 0;try{for(var ie,fe=L[Symbol.iterator]();!(H=(ie=fe.next()).done);H=!0){var oe=ie.value;G.push(oe)}}catch(de){J=!0,ee=de}finally{try{H||fe.return==null||fe.return()}finally{if(J)throw ee}}}),T.gluTessCallback(m.default.gluEnum.GLU_TESS_BEGIN,function(L){L!==m.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(L))}),T.gluTessCallback(m.default.gluEnum.GLU_TESS_ERROR,function(L){console.log("error callback"),console.log("error number: ".concat(L))}),T.gluTessCallback(m.default.gluEnum.GLU_TESS_COMBINE,function(L,G,H){for(var J=new Array(l.default.RendererGL.prototype.tessyVertexSize).fill(0),ee=0;ee<H.length;ee++)for(var ie=0;ie<J.length;ie++)H[ee]!==0&&G[ee]&&(J[ie]+=G[ee][ie]*H[ee]);return J}),T.gluTessCallback(m.default.gluEnum.GLU_TESS_EDGE_FLAG,function(L){}),T.gluTessProperty(m.default.gluEnum.GLU_TESS_WINDING_RULE,m.default.windingRule.GLU_TESS_WINDING_NONZERO),T}},{key:"_triangulate",value:function(T){var L=T[0]?T[0][2]:void 0,G=!0,H=!0,oe=!1,ae=void 0;try{for(var J,ee=T[Symbol.iterator]();!(H=(J=ee.next()).done);H=!0)for(var ie=J.value,fe=0;fe<ie.length;fe+=l.default.RendererGL.prototype.tessyVertexSize)if(ie[fe+2]!==L){G=!1;break}}catch(_e){oe=!0,ae=_e}finally{try{H||ee.return==null||ee.return()}finally{if(oe)throw ae}}G?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var oe=[],de=(this._tessy.gluTessBeginPolygon(oe),!0),ae=!1,Z=void 0;try{for(var ue,pe=T[Symbol.iterator]();!(de=(ue=pe.next()).done);de=!0){var we=ue.value;this._tessy.gluTessBeginContour();for(var ge=0;ge<we.length;ge+=l.default.RendererGL.prototype.tessyVertexSize){var ye=we.slice(ge,ge+l.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(ye,ye)}this._tessy.gluTessEndContour()}}catch(_e){ae=!0,Z=_e}finally{try{de||pe.return==null||pe.return()}finally{if(ae)throw Z}}return this._tessy.gluTessEndPolygon(),oe}}])&&b(X.prototype,V),re}(l.default.Renderer),l.default.prototype._assert3d=function(V){if(!this._renderer.isP3D)throw new Error("".concat(V,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},l.default.RendererGL.prototype.tessyVertexSize=12,I=l.default.RendererGL,a.default=I},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(t,i,a){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(f,v){return function(m){if(Array.isArray(m))return m}(f)||function(m,c){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]"){var d=[],g=!0,y=!1,b=void 0;try{for(var p,h=m[Symbol.iterator]();!(g=(p=h.next()).done)&&(d.push(p.value),!c||d.length!==c);g=!0);}catch(w){y=!0,b=w}finally{try{g||h.return==null||h.return()}finally{if(y)throw b}}return d}}(f,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(f,v){for(var m=0;m<v.length;m++){var c=v[m];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}s.default.Shader=function(){function f(c,d,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},b=this,p=f;if(!(b instanceof p))throw new TypeError("Cannot call a class as a function");this._renderer=c,this._vertSrc=d,this._fragSrc=g,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[],this.hooks={uniforms:y.uniforms||{},declarations:y.declarations,helpers:y.helpers||{},vertex:y.vertex||{},fragment:y.fragment||{},modified:{vertex:y.modified&&y.modified.vertex||{},fragment:y.modified&&y.modified.fragment||{}}}}var v,m;return v=f,(m=[{key:"shaderSrc",value:function(_,d){var g,y,b,p,h,_=u(_.split("void main"),2),w=_[0],_=_[1],j="";for(g in this.hooks.uniforms)j+="uniform ".concat(g,`;
`);for(y in this.hooks.declarations&&(j+=this.hooks.declarations+`
`),this.hooks[d].declarations&&(j+=this.hooks[d].declarations+`
`),this.hooks.helpers)j+="".concat(y).concat(this.hooks.helpers[y],`
`);for(b in this.hooks[d])b!=="declarations"&&(p=(h=u(b.split(" "),2))[0],h=h[1],this.hooks.modified[d][b]&&(j+="#define AUGMENTED_HOOK_"+h+`
`),j+=p+" HOOK_"+h+this.hooks[d][b]+`
`);return w+j+"void main"+_}},{key:"version",value:function(){var c=/#version (.+)$/.exec(this.vertSrc());return c?c[1]:"100 es"}},{key:"vertSrc",value:function(){return this.shaderSrc(this._vertSrc,"vertex")}},{key:"fragSrc",value:function(){return this.shaderSrc(this._fragSrc,"fragment")}},{key:"inspectHooks",value:function(){for(var c in console.log("==== Vertex shader hooks: ===="),this.hooks.vertex)console.log((this.hooks.modified.vertex[c]?"[MODIFIED] ":"")+c+this.hooks.vertex[c]);for(var d in console.log(""),console.log("==== Fragment shader hooks: ===="),this.hooks.fragment)console.log((this.hooks.modified.fragment[d]?"[MODIFIED] ":"")+d+this.hooks.fragment[d]);for(var g in console.log(""),console.log("==== Helper functions: ===="),this.hooks.helpers)console.log(g+this.hooks.helpers[g])}},{key:"modify",value:function(c){s.default._validateParameters("p5.Shader.modify",arguments);var d,g={vertex:{},fragment:{},helpers:{}};for(d in c)d!=="declarations"&&d!=="uniforms"&&(d==="vertexDeclarations"?g.vertex.declarations=(g.vertex.declarations||"")+`
`+c[d]:d==="fragmentDeclarations"?g.fragment.declarations=(g.fragment.declarations||"")+`
`+c[d]:this.hooks.vertex[d]?g.vertex[d]=c[d]:this.hooks.fragment[d]?g.fragment[d]=c[d]:g.helpers[d]=c[d]);var y,b,p=Object.assign({},this.hooks.modified.vertex),h=Object.assign({},this.hooks.modified.fragment);for(y in g.vertex||{})y!=="declarations"&&(p[y]=!0);for(b in g.fragment||{})b!=="declarations"&&(h[b]=!0);return new s.default.Shader(this._renderer,this._vertSrc,this._fragSrc,{declarations:(this.hooks.declarations||"")+`
`+(c.declarations||""),uniforms:Object.assign({},this.hooks.uniforms,c.uniforms||{}),fragment:Object.assign({},this.hooks.fragment,g.fragment||{}),vertex:Object.assign({},this.hooks.vertex,g.vertex||{}),helpers:Object.assign({},this.hooks.helpers,g.helpers||{}),modified:{vertex:p,fragment:h}})}},{key:"init",value:function(){if(this._glProgram===0){var c,d=this._renderer.GL;if(this._vertShader=d.createShader(d.VERTEX_SHADER),d.shaderSource(this._vertShader,this.vertSrc()),d.compileShader(this._vertShader),!d.getShaderParameter(this._vertShader,d.COMPILE_STATUS))return c=d.getShaderInfoLog(this._vertShader),console.error(c),null;if(this._fragShader=d.createShader(d.FRAGMENT_SHADER),d.shaderSource(this._fragShader,this.fragSrc()),d.compileShader(this._fragShader),!d.getShaderParameter(this._fragShader,d.COMPILE_STATUS))return c=d.getShaderInfoLog(this._fragShader),console.error(c),null;this._glProgram=d.createProgram(),d.attachShader(this._glProgram,this._vertShader),d.attachShader(this._glProgram,this._fragShader),d.linkProgram(this._glProgram),d.getProgramParameter(this._glProgram,d.LINK_STATUS)||s.default._friendlyError("Snap! Error linking shader program: ".concat(d.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"setDefaultUniforms",value:function(){for(var c in this.hooks.uniforms){var d=u(c.split(" "),2)[1],c=this.hooks.uniforms[c],g=void 0;(g=c instanceof Function?c():c)!=null&&this.setUniform(d,g)}}},{key:"copyToContext",value:function(c){var d=new s.default.Shader(c._renderer,this._vertSrc,this._fragSrc);return d.ensureCompiledOnContext(c),d}},{key:"ensureCompiledOnContext",value:function(c){if(this._glProgram!==0&&this._renderer!==c._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=c._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var c=this._renderer.GL,d=c.getProgramParameter(this._glProgram,c.ACTIVE_ATTRIBUTES),g=0;g<d;++g){var y=c.getActiveAttrib(this._glProgram,g),b=y.name,p=c.getAttribLocation(this._glProgram,b),h={};h.name=b,h.location=p,h.index=g,h.type=y.type,h.size=y.size,this.attributes[b]=h}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var c=this._renderer.GL,d=c.getProgramParameter(this._glProgram,c.ACTIVE_UNIFORMS),g=0,y=0;y<d;++y){var b=c.getActiveUniform(this._glProgram,y),p={},h=(p.location=c.getUniformLocation(this._glProgram,b.name),p.size=b.size,b.name);1<b.size&&(h=h.substring(0,h.indexOf("[0]"))),p.name=h,p.type=b.type,p._cachedData=void 0,p.type===c.SAMPLER_2D&&(p.samplerIndex=g,g++,this.samplers.push(p)),p.isArray=1<b.size||p.type===c.FLOAT_MAT3||p.type===c.FLOAT_MAT4||p.type===c.FLOAT_VEC2||p.type===c.FLOAT_VEC3||p.type===c.FLOAT_VEC4||p.type===c.INT_VEC2||p.type===c.INT_VEC4||p.type===c.INT_VEC3,this.uniforms[h]=p}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var c=this._renderer.GL,d=!0,g=!1,y=void 0;try{for(var b,p=this.samplers[Symbol.iterator]();!(d=(b=p.next()).done);d=!0){var h=b.value,w=h.texture;w===void 0&&(w=this._renderer._getEmptyTexture()),c.activeTexture(c.TEXTURE0+h.samplerIndex),w.bindTexture(),w.update(),c.uniform1i(h.location,h.samplerIndex)}}catch(_){g=!0,y=_}finally{try{d||p.return==null||p.return()}finally{if(g)throw y}}}},{key:"updateTextures",value:function(){var c=!0,d=!1,g=void 0;try{for(var y,b=this.samplers[Symbol.iterator]();!(c=(y=b.next()).done);c=!0){var p=y.value.texture;p&&p.update()}}catch(h){d=!0,g=h}finally{try{c||b.return==null||b.return()}finally{if(d)throw g}}}},{key:"unbindTextures",value:function(){var c=!0,d=!1,g=void 0;try{for(var y,b=this.samplers[Symbol.iterator]();!(c=(y=b.next()).done);c=!0){var p=y.value;this.setUniform(p.name,this._renderer._getEmptyTexture())}}catch(h){d=!0,g=h}finally{try{c||b.return==null||b.return()}finally{if(d)throw g}}}},{key:"_setMatrixUniforms",value:function(){var c=this._renderer.uModelMatrix,d=this._renderer.uViewMatrix,g=this._renderer.uPMatrix,y=c.copy().mult(d),b=(this._renderer.uMVMatrix=y).copy();b.mult(g),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",d.mat4),this.setUniform("uProjectionMatrix",g.mat4),this.setUniform("uModelMatrix",c.mat4),this.setUniform("uModelViewMatrix",y.mat4),this.setUniform("uModelViewProjectionMatrix",b.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var c=this._renderer.GL;return this._renderer._curShader!==this&&(c.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(c,d){var g=this.uniforms[c];if(g){var y=this._renderer.GL;if(g.isArray){if(g._cachedData&&this._renderer._arraysEqual(g._cachedData,d))return;g._cachedData=d.slice(0)}else{if(g._cachedData&&g._cachedData===d)return;Array.isArray(d)?g._cachedData=d.slice(0):g._cachedData=d}var b=g.location;switch(this.useProgram(),g.type){case y.BOOL:d===!0?y.uniform1i(b,1):y.uniform1i(b,0);break;case y.INT:1<g.size?d.length&&y.uniform1iv(b,d):y.uniform1i(b,d);break;case y.FLOAT:1<g.size?d.length&&y.uniform1fv(b,d):y.uniform1f(b,d);break;case y.FLOAT_MAT3:y.uniformMatrix3fv(b,!1,d);break;case y.FLOAT_MAT4:y.uniformMatrix4fv(b,!1,d);break;case y.FLOAT_VEC2:1<g.size?d.length&&y.uniform2fv(b,d):y.uniform2f(b,d[0],d[1]);break;case y.FLOAT_VEC3:1<g.size?d.length&&y.uniform3fv(b,d):y.uniform3f(b,d[0],d[1],d[2]);break;case y.FLOAT_VEC4:1<g.size?d.length&&y.uniform4fv(b,d):y.uniform4f(b,d[0],d[1],d[2],d[3]);break;case y.INT_VEC2:1<g.size?d.length&&y.uniform2iv(b,d):y.uniform2i(b,d[0],d[1]);break;case y.INT_VEC3:1<g.size?d.length&&y.uniform3iv(b,d):y.uniform3i(b,d[0],d[1],d[2]);break;case y.INT_VEC4:1<g.size?d.length&&y.uniform4iv(b,d):y.uniform4i(b,d[0],d[1],d[2],d[3]);break;case y.SAMPLER_2D:if(typeof d=="number"){if(d<y.TEXTURE0||d>y.TEXTURE31||d!==Math.ceil(d))return console.log("🌸 p5.js says: You're trying to use a number as the data for a texture.Please use a texture."),this;y.activeTexture(d),y.uniform1i(b,d)}else y.activeTexture(y.TEXTURE0+g.samplerIndex),g.texture=d instanceof s.default.Texture?d:this._renderer.getTexture(d),y.uniform1i(b,g.samplerIndex),g.texture.src.gifProperties&&g.texture.src._animateGif(this._renderer._pInst);break;case y.SAMPLER_CUBE:case y.SAMPLER_3D:case y.SAMPLER_2D_SHADOW:case y.SAMPLER_2D_ARRAY:case y.SAMPLER_2D_ARRAY_SHADOW:case y.SAMPLER_CUBE_SHADOW:case y.INT_SAMPLER_2D:case y.INT_SAMPLER_3D:case y.INT_SAMPLER_CUBE:case y.INT_SAMPLER_2D_ARRAY:case y.UNSIGNED_INT_SAMPLER_2D:case y.UNSIGNED_INT_SAMPLER_3D:case y.UNSIGNED_INT_SAMPLER_CUBE:case y.UNSIGNED_INT_SAMPLER_2D_ARRAY:typeof d=="number"&&(d<y.TEXTURE0||d>y.TEXTURE31||d!==Math.ceil(d)?console.log("🌸 p5.js says: You're trying to use a number as the data for a texture.Please use a texture."):(y.activeTexture(d),y.uniform1i(b,d)))}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(c){return c!==void 0})}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(c,d,g,y,b,p){var h;return c&&(c=c.location)!==-1&&(h=this._renderer.GL,this._renderer.registerEnabled.has(c)||(h.enableVertexAttribArray(c),this._renderer.registerEnabled.add(c)),this._renderer.GL.vertexAttribPointer(c,d,g||h.FLOAT,y||!1,b||0,p||0)),this}},{key:"disableRemainingAttributes",value:function(){var c=this,d=!0,g=!1,y=void 0;try{for(var b,p=this._renderer.registerEnabled.values()[Symbol.iterator]();!(d=(b=p.next()).done);d=!0)(function(){var h=b.value;Object.keys(c.attributes).some(function(w){return c.attributes[w].location===h})||(c._renderer.GL.disableVertexAttribArray(h),c._renderer.registerEnabled.delete(h))})()}catch(h){g=!0,y=h}finally{try{d||p.return==null||p.return()}finally{if(g)throw y}}}}])&&l(v.prototype,m),f}(),t=s.default.Shader,a.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(t,i,a){function s(w){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(w)}function u(w){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(_){return s(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":s(_)})(w)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(a,"__esModule",{value:!0}),a.checkWebGLCapabilities=h,a.default=a.MipmapTexture=void 0;var l=(p=t("../core/main"))&&p.__esModule?p:{default:p},f=function(w){if(w&&w.__esModule)return w;if(w===null||u(w)!=="object"&&typeof w!="function")return{default:w};var _=v();if(_&&_.has(w))return _.get(w);var j,E={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(j in w){var C;Object.prototype.hasOwnProperty.call(w,j)&&((C=S?Object.getOwnPropertyDescriptor(w,j):null)&&(C.get||C.set)?Object.defineProperty(E,j,C):E[j]=w[j])}return E.default=w,_&&_.set(w,E),E}(t("../core/constants"));function v(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,v=function(){return w},w)}function m(w,_){return(m=Object.setPrototypeOf||function(j,E){return j.__proto__=E,j})(w,_)}function c(w){return function(){var _,j=d(w),j=(_=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(_=d(this).constructor,Reflect.construct(j,arguments,_)):j.apply(this,arguments),this);if(!_||u(_)!=="object"&&typeof _!="function"){if(j!==void 0)return j;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return _}}function d(w){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(w)}function g(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function y(w,_){for(var j=0;j<_.length;j++){var E=_[j];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}function b(w,_,j){_&&y(w.prototype,_)}l.default.Texture=function(){function w(M,j,C){g(this,w),this._renderer=M;var S=this._renderer.GL,C=(C=C||{},this.src=j,this.glTex=void 0,this.glTarget=S.TEXTURE_2D,this.glFormat=C.format||S.RGBA,this.mipmaps=!1,this.glMinFilter=C.minFilter||S.LINEAR,this.glMagFilter=C.magFilter||S.LINEAR,this.glWrapS=C.wrapS||S.CLAMP_TO_EDGE,this.glWrapT=C.wrapT||S.CLAMP_TO_EDGE,this.glDataType=C.dataType||S.UNSIGNED_BYTE,h(M)),M=(this.glFormat!==S.HALF_FLOAT||C.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=S.FLOAT),this.glFormat!==S.HALF_FLOAT||this.glMinFilter!==S.LINEAR&&this.glMagFilter!==S.LINEAR||C.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===S.LINEAR&&(this.glMinFilter=S.NEAREST),this.glMagFilter===S.LINEAR&&(this.glMagFilter=S.NEAREST)),this.glFormat!==S.FLOAT||C.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=S.UNSIGNED_BYTE),this.glFormat!==S.FLOAT||this.glMinFilter!==S.LINEAR&&this.glMagFilter!==S.LINEAR||C.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===S.LINEAR&&(this.glMinFilter=S.NEAREST),this.glMagFilter===S.LINEAR&&(this.glMagFilter=S.NEAREST)),this.isSrcMediaElement=l.default.MediaElement!==void 0&&j instanceof l.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=l.default.Element!==void 0&&j instanceof l.default.Element&&!(j instanceof l.default.Graphics)&&!(j instanceof l.default.Renderer),this.isSrcP5Image=j instanceof l.default.Image,this.isSrcP5Graphics=j instanceof l.default.Graphics,this.isSrcP5Renderer=j instanceof l.default.Renderer,this.isImageData=typeof ImageData<"u"&&j instanceof ImageData,this.isFramebufferTexture=j instanceof l.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=M.width,this.height=M.height,this.init(M),this}return b(w,[{key:"_getTextureDataFromSource",value:function(){var _;return this.isFramebufferTexture?_=this.src.rawTexture():this.isSrcP5Image?_=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?(this.src._ensureCanvas&&this.src._ensureCanvas(),_=this.src.canvas||this.src.elt):this.isImageData&&(_=this.src),_}},{key:"init",value:function(_){var j,E=this._renderer.GL;this.isFramebufferTexture||(this.glTex=E.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,this.glMagFilter),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(j=new Uint8Array([1,1,1,1]),E.texImage2D(this.glTarget,0,E.RGBA,1,1,0,this.glFormat,this.glDataType,j)):E.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,_))}},{key:"update",value:function(){var _,j,E,S=this.src;return S.width!==0&&S.height!==0&&!this.isFramebufferTexture&&(_=this._getTextureDataFromSource(),j=!1,E=this._renderer.GL,_.width!==this.width||_.height!==this.height?(j=!0,this.width=_.width||S.width,this.height=_.height||S.height,this.isSrcP5Image?S.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&S.setModified(!0)):this.isSrcP5Image?S.isModified()&&S.setModified(!(j=!0)):this.isSrcMediaElement?S.isModified()?S.setModified(!(j=!0)):S.loadedmetadata&&this._videoPrevUpdateTime!==S.time()&&(this._videoPrevUpdateTime=S.time(),j=!0):this.isImageData?S._dirty&&(j=!(S._dirty=!1)):j=!0,j&&(this.bindTexture(),E.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,_)),j)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(_,j){var E=this._renderer.GL;this.glMinFilter=this.glFilter(_),this.glMagFilter=this.glFilter(j),this.bindTexture(),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,this.glMinFilter),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(_){var j=this._renderer.GL;return _===f.NEAREST?j.NEAREST:j.LINEAR}},{key:"setWrapMode",value:function(_,j){function E(A){return(A&A-1)==0}var S=this._renderer.GL,M=this._getTextureDataFromSource(),M=M.naturalWidth&&M.naturalHeight?(C=M.naturalWidth,M.naturalHeight):(C=this.width,this.height),C=E(C),M=E(M);_===f.REPEAT?this._renderer.webglVersion===f.WEBGL2||C&&M?this.glWrapS=S.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=S.CLAMP_TO_EDGE):_===f.MIRROR?this._renderer.webglVersion===f.WEBGL2||C&&M?this.glWrapS=S.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=S.CLAMP_TO_EDGE):this.glWrapS=S.CLAMP_TO_EDGE,j===f.REPEAT?this._renderer.webglVersion===f.WEBGL2||C&&M?this.glWrapT=S.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=S.CLAMP_TO_EDGE):j===f.MIRROR?this._renderer.webglVersion===f.WEBGL2||C&&M?this.glWrapT=S.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=S.CLAMP_TO_EDGE):this.glWrapT=S.CLAMP_TO_EDGE,this.bindTexture(),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,this.glWrapS),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),w}();var p=function(w){var _=E;if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),w&&m(_,w);var j=c(E);function E(S,C,M){return g(this,E),C=(S=j.call(this,S,C,M))._renderer.GL,S.glMinFilter===C.LINEAR&&(S.glMinFilter=C.LINEAR_MIPMAP_LINEAR),S}return b(E,[{key:"glFilter",value:function(S){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(S){var C=this._renderer.GL;this.glTex=C.createTexture(),this.bindTexture();for(var M=0;M<S.length;M++)C.texImage2D(this.glTarget,M,this.glFormat,this.glFormat,this.glDataType,S[M]);this.glMinFilter=C.LINEAR_MIPMAP_LINEAR,C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,this.glMagFilter),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),E}(l.default.Texture);function h(S){var _=S.GL,S=S.webglVersion,j=S===f.WEBGL2?_.getExtension("EXT_color_buffer_float")&&_.getExtension("EXT_float_blend"):_.getExtension("OES_texture_float"),E=j&&_.getExtension("OES_texture_float_linear"),S=S===f.WEBGL2?_.getExtension("EXT_color_buffer_float"):_.getExtension("OES_texture_half_float");return{float:j,floatLinear:E,halfFloat:S,halfFloatLinear:S&&_.getExtension("OES_texture_half_float_linear")}}a.MipmapTexture=p,t=l.default.Texture,a.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(t,i,a){function s(w){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(w)}function u(w){return(u=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(_){return s(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":s(_)})(w)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var l,f=(l=t("../core/main"))&&l.__esModule?l:{default:l},v=function(w){if(w&&w.__esModule)return w;if(w===null||u(w)!=="object"&&typeof w!="function")return{default:w};var _=m();if(_&&_.has(w))return _.get(w);var j,E={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(j in w){var C;Object.prototype.hasOwnProperty.call(w,j)&&((C=S?Object.getOwnPropertyDescriptor(w,j):null)&&(C.get||C.set)?Object.defineProperty(E,j,C):E[j]=w[j])}return E.default=w,_&&_.set(w,E),E}(t("../core/constants"));function m(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,m=function(){return w},w)}function c(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function d(w,_){for(var j=0;j<_.length;j++){var E=_[j];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}function g(w,_,j){_&&d(w.prototype,_)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),f.default.RendererGL.prototype._applyTextProperties=function(){this._setProperty("_textAscent",null),this._setProperty("_textDescent",null)},f.default.RendererGL.prototype.textWidth=function(w){return this._isOpenType()?this._textFont._textWidth(w,this._textSize):0};var y=function(){function w(_,j){c(this,w),this.width=_,this.height=j,this.infos=[]}return g(w,[{key:"findImage",value:function(_){var j,E,S=this.width*this.height;if(S<_)throw new Error("font is too complex to render in 3D");for(var C=this.infos.length-1;0<=C;--C){var M=this.infos[C];if(M.index+_<S){E=(j=M).imageData;break}}if(!j){try{E=new ImageData(this.width,this.height)}catch{var A=document.getElementsByTagName("canvas")[0],P=!A,D=(A||((A=document.createElement("canvas")).style.display="none",document.body.appendChild(A)),A.getContext("2d"));D&&(E=D.createImageData(this.width,this.height)),P&&document.body.removeChild(A)}this.infos.push(j={index:0,imageData:E})}return D=j.index,j.index+=_,E._dirty=!0,{imageData:E,index:D}}}]),w}();function b(M,_,j,E,S){var C=M.imageData.data,M=4*M.index++;C[M++]=_,C[M++]=j,C[M++]=E,C[+M]=S}var p=Math.sqrt(3),h=function(){function w(_){c(this,w),this.font=_,this.strokeImageInfos=new y(64,64),this.colDimImageInfos=new y(64,64),this.rowDimImageInfos=new y(64,64),this.colCellImageInfos=new y(64,64),this.rowCellImageInfos=new y(64,64),this.glyphInfos={}}return g(w,[{key:"getGlyphInfo",value:function(_){var j=this.glyphInfos[_.index];if(!j){var E=_.getBoundingBox(),S=E.x1,C=E.y1,M=E.x2-S,A=E.y2-C,P=_.path.commands;if(M==0||A==0||!P.length)return this.glyphInfos[_.index]={};for(var D=[],I=[],U=[],N=8;0<=N;--N)U.push([]);for(N=8;0<=N;--N)I.push([]);var B,W,z,V,X=function(){function $e(ze,Xe,Ye,xe){c(this,$e),this.p0=ze,this.c0=Xe,this.c1=Ye,this.p1=xe}return g($e,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return f.default.Vector.sub(f.default.Vector.sub(this.p1,this.p0),f.default.Vector.mult(f.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(De){var Xe=f.default.Vector.lerp(this.p0,this.c0,De),xe=f.default.Vector.lerp(this.c0,this.c1,De),Ye=f.default.Vector.lerp(Xe,xe,De),xe=(this.c1=f.default.Vector.lerp(this.c1,this.p1,De),this.c0=f.default.Vector.lerp(xe,this.c1,De),f.default.Vector.lerp(Ye,this.c0,De)),De=new $e(this.p0,Xe,Ye,xe);return this.p0=xe,De}},{key:"splitInflections",value:function(){var ze=f.default.Vector.sub(this.c0,this.p0),Xe=f.default.Vector.sub(f.default.Vector.sub(this.c1,this.c0),ze),Ye=f.default.Vector.sub(f.default.Vector.sub(f.default.Vector.sub(this.p1,this.c1),ze),f.default.Vector.mult(Xe,2)),xe=[],De=Xe.x*Ye.y-Xe.y*Ye.x;return De!==0&&0<=(ze=(Ye=ze.x*Ye.y-ze.y*Ye.x)*Ye-4*De*(ze.x*Xe.y-ze.y*Xe.x))&&(De<0&&(De=-De,Ye=-Ye),ze=(-Ye+(Xe=Math.sqrt(ze)))/(2*De),0<(Ye=(-Ye-Xe)/(2*De))&&Ye<1&&(xe.push(this.split(Ye)),ze=1-(1-ze)/(1-Ye)),0<ze&&ze<1&&xe.push(this.split(ze))),xe.push(this),xe}}]),$e}(),K=!0,re=!1,T=void 0;try{for(var L,G=P[Symbol.iterator]();!(K=(L=G.next()).done);K=!0){var H=L.value,J=(H.x-S)/M,ee=(H.y-C)/A;if(!Ce(B,W,J,ee)){switch(H.type){case"M":z=J,V=ee;break;case"L":Le(B,W,J,ee);break;case"Q":var ie=(H.x1-S)/M,fe=(H.y1-C)/A;ye([B,J,ie],[W,ee,fe],{x:B,y:W,cx:ie,cy:fe});break;case"Z":Ce(B,W,z,V)?D.push({x:B,y:W}):(Le(B,W,z,V),D.push({x:z,y:V}));break;case"C":for(var oe=function(ne,Ee,Ae,Ye,xe,De,ke,Q){var ne=new X(new f.default.Vector(ne,Ee),new f.default.Vector(Ae,Ye),new f.default.Vector(xe,De),new f.default.Vector(ke,Q)).splitInflections(),Y=[],se=30/p,ve=!0,Ee=!1,Ae=void 0;try{for(var Be,He=ne[Symbol.iterator]();!(ve=(Be=He.next()).done);ve=!0){for(var qe=Be.value,Ze=[],ht=void 0;!(.125<=(ht=se/qe.quadError()));){var ct=Math.pow(ht,.3333333333333333),nt=qe.split(ct),ft=qe.split(1-ct/(1-ct));Y.push(nt),Ze.push(qe),qe=ft}ht<1&&Y.push(qe.split(.5)),Y.push(qe),Array.prototype.push.apply(Y,Ze.reverse())}}catch(ut){Ee=!0,Ae=ut}finally{try{ve||He.return==null||He.return()}finally{if(Ee)throw Ae}}return Y}(B,W,(H.x1-S)/M,(H.y1-C)/A,(H.x2-S)/M,(H.y2-C)/A,J,ee),de=0;de<oe.length;de++){var ae=oe[de].toQuadratic();ye([ae.x,ae.x1,ae.cx],[ae.y,ae.y1,ae.cy],ae)}break;default:throw new Error("unknown command type: ".concat(H.type))}B=J,W=ee}}}catch($e){re=!0,T=$e}finally{try{K||G.return==null||G.return()}finally{if(re)throw T}}for(var Z=D.length,ue=this.strokeImageInfos.findImage(Z),pe=ue.index,we=0;we<Z;++we){var ge=D[we];b(ue,_e(ge.x),_e(ge.y),_e(ge.cx),_e(ge.cy))}(j=this.glyphInfos[_.index]={glyph:_,uGlyphRect:[E.x1,-E.y1,E.x2,-E.y2],strokeImageInfo:ue,strokes:D,colInfo:tt(U,this.colDimImageInfos,this.colCellImageInfos),rowInfo:tt(I,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[j.colInfo.dimOffset,j.rowInfo.dimOffset]}return j;function ye($e,ze,Xe){var Ye=D.length;function xe(Y,se,ve){for(var Ee=Y.length;0<Ee--;){var Ae=Y[Ee];Ae<se&&(se=Ae),ve<Ae&&(ve=Ae)}return{min:se,max:ve}}D.push(Xe);for(var Xe=xe($e,1,0),$e=Math.max(Math.floor(9*Xe.min-.5),0),De=Math.min(Math.ceil(9*Xe.max+.5),9),ke=$e;ke<De;++ke)U[ke].push(Ye);for(var Xe=xe(ze,1,0),$e=Math.max(Math.floor(9*Xe.min-.5),0),Q=Math.min(Math.ceil(9*Xe.max+.5),9),ne=$e;ne<Q;++ne)I[ne].push(Ye)}function _e($e){return($e=(Xe=255)*$e)<(ze=0)?ze:Xe<$e?Xe:$e;var ze,Xe}function Le($e,ze,Xe,Ye){ye([$e,Xe],[ze,Ye],{x:$e,y:ze,cx:($e+Xe)/2,cy:(ze+Ye)/2})}function Ce($e,ze,Xe,Ye){return Math.abs(Xe-$e)<1e-5&&Math.abs(Ye-ze)<1e-5}function tt($e,ze,Xe){for(var Ye=$e.length,xe=ze.findImage(Ye),ze=xe.index,De=0,ke=0;ke<Ye;++ke)De+=$e[ke].length;for(var Q=Xe.findImage(De),ne=0;ne<Ye;++ne){var Y=$e[ne],se=Y.length,ve=Q.index;b(xe,ve>>7,127&ve,se>>7,127&se);for(var Ee=0;Ee<se;++Ee){var Ae=Y[Ee]+pe;b(Q,Ae>>7,127&Ae,0,0)}}return{cellImageInfo:Q,dimOffset:ze,dimImageInfo:xe}}}}]),w}();f.default.RendererGL.prototype._renderText=function(w,_,j,E,S){if(this._textFont&&typeof this._textFont!="string"){if(!(S<=E)&&this._doFill){if(this._isOpenType()){w.push();var S=this._doStroke,C=this.drawMode,M=(this._doStroke=!1,this.drawMode=v.TEXTURE,this._textFont.font),A=(A=this._textFont._fontInfo)||(this._textFont._fontInfo=new h(M)),j=this._textFont._handleAlignment(this,_,j,E),E=this._textSize/M.unitsPerEm,P=(this.translate(j.x,j.y,0),this.scale(E,E,1),this.GL),j=!this._defaultFontShader,D=this._getFontShader(),I=(D.init(),D.bindShader(),j&&(D.setUniform("uGridImageSize",[64,64]),D.setUniform("uCellsImageSize",[64,64]),D.setUniform("uStrokeImageSize",[64,64]),D.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),U=(I||((E=this._textGeom=new f.default.Geometry(1,1,function(){for(var de=0;de<=1;de++)for(var ae=0;ae<=1;ae++)this.vertices.push(new f.default.Vector(ae,de,0)),this.uvs.push(ae,de)})).computeFaces().computeNormals(),I=this.createBuffers("glyph",E)),!0),j=!1,E=void 0;try{for(var N,B=this.retainedMode.buffers.text[Symbol.iterator]();!(U=(N=B.next()).done);U=!0)N.value._prepareBuffer(I,D)}catch(de){j=!0,E=de}finally{try{U||B.return==null||B.return()}finally{if(j)throw E}}this._bindBuffer(I.indexBuffer,P.ELEMENT_ARRAY_BUFFER),D.setUniform("uMaterialColor",this.curFillColor),P.pixelStorei(P.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var W=0,z=null,V=M.stringToGlyphs(_),X=!0,K=!1,re=void 0;try{for(var T,L=V[Symbol.iterator]();!(X=(T=L.next()).done);X=!0){var G,H,J=T.value,ee=(z&&(W+=M.getKerningValue(z,J)),A.getGlyphInfo(J));ee.uGlyphRect&&(G=ee.rowInfo,H=ee.colInfo,D.setUniform("uSamplerStrokes",ee.strokeImageInfo.imageData),D.setUniform("uSamplerRowStrokes",G.cellImageInfo.imageData),D.setUniform("uSamplerRows",G.dimImageInfo.imageData),D.setUniform("uSamplerColStrokes",H.cellImageInfo.imageData),D.setUniform("uSamplerCols",H.dimImageInfo.imageData),D.setUniform("uGridOffset",ee.uGridOffset),D.setUniform("uGlyphRect",ee.uGlyphRect),D.setUniform("uGlyphOffset",W),D.bindTextures(),P.drawElements(P.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),W+=J.advanceWidth,z=J}}catch(de){K=!0,re=de}finally{try{X||L.return==null||L.return()}finally{if(K)throw re}}}finally{D.unbindShader(),this._doStroke=S,this.drawMode=C,P.pixelStorei(P.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),w.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return w}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)})})(gx);var uL=gx.exports;const cL=rc(uL),dL=ki("https://zahrotkjbhfegvwsevjy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InphaHJvdGtqYmhmZWd2d3Nldmp5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1MzcwNDksImV4cCI6MjA3MTExMzA0OX0.PJHE_2uvVuixA1velpE-KPmD4o2W-UENiegcZl1wFI8");function fL(){const r=je.useRef(),[n,o]=je.useState(0),[t,i]=je.useState(!1);return je.useEffect(()=>{const a=u=>{let l,f=[],v=[];u.setup=()=>{u.createCanvas(400,400),l={x:200,y:360,w:40,h:20};for(let m=0;m<5;m++)v.push({x:50+m*60,y:50,w:40,h:20})},u.draw=()=>{u.background(0),u.fill(255),u.rect(l.x,l.y,l.w,l.h),v.forEach(m=>u.rect(m.x,m.y,m.w,m.h)),f.forEach(m=>{u.rect(m.x,m.y,5,10),m.y-=5,v=v.filter(c=>m.x>c.x&&m.x<c.x+c.w&&m.y>c.y&&m.y<c.y+c.h?(o(d=>d+10),!1):!0)}),f=f.filter(m=>m.y>0),u.frameCount%60===0&&(v.forEach(m=>m.y+=10),v.some(m=>m.y>350)&&i(!0)),t&&(u.noLoop(),u.textSize(32),u.textAlign(u.CENTER),u.text("Game Over",200,200),u.text(`Score: ${n}`,200,250))},u.keyPressed=()=>{u.keyCode===u.LEFT_ARROW&&(l.x=Math.max(0,l.x-10)),u.keyCode===u.RIGHT_ARROW&&(l.x=Math.min(400-l.w,l.x+10)),u.key===" "&&!t&&f.push({x:l.x+l.w/2,y:l.y})}},s=new cL(a,r.current);return()=>s.remove()},[t,n]),je.useEffect(()=>{var a,s;t&&n>0&&dL.from("game_scores").insert({user_id:(s=(a=window.Clerk)==null?void 0:a.user)==null?void 0:s.id,game:"Space Invaders",score:n}).then(({error:u})=>{u&&console.error("Error saving score:",u)})},[t,n]),Ve.jsxs("div",{className:"p-4",children:[Ve.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Space Invaders"}),Ve.jsx("div",{ref:r}),Ve.jsxs("p",{className:"mt-4",children:["Score: ",n]}),t&&Ve.jsx("p",{className:"text-red-500",children:"Game Over! Your score has been saved."})]})}console.log("Dashboard.jsx - Checking environment variables:");try{const r="https://zahrotkjbhfegvwsevjy.supabase.co";console.log("VITE_SUPABASE_URL:",r);const n=new URL(r);console.log("Validated URL:",n.href);const o=ki(r,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InphaHJvdGtqYmhmZWd2d3Nldmp5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1MzcwNDksImV4cCI6MjA3MTExMzA0OX0.PJHE_2uvVuixA1velpE-KPmD4o2W-UENiegcZl1wFI8");console.log("Supabase client initialized with URL:",r)}catch(r){console.error("Invalid URL in Dashboard.jsx:",r,"Value:","https://zahrotkjbhfegvwsevjy.supabase.co")}const hL=ki("https://zahrotkjbhfegvwsevjy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InphaHJvdGtqYmhmZWd2d3Nldmp5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1MzcwNDksImV4cCI6MjA3MTExMzA0OX0.PJHE_2uvVuixA1velpE-KPmD4o2W-UENiegcZl1wFI8");function pL({user:r}){const[n,o]=je.useState(0),[t,i]=je.useState(!0);return je.useEffect(()=>{async function a(){console.log("Fetching progress for user_id:",r.id,"with URL:",supabaseUrl);const{data:s,error:u}=await hL.from("user_progress").select("points").eq("user_id",r.id);if(u)console.error("Error fetching progress:",u,"Response:",s);else{const l=s.reduce((f,v)=>f+v.points,0);o(l)}i(!1)}a()},[r.id]),t?Ve.jsx("div",{className:"p-4 text-center","aria-live":"polite",children:"Loading..."}):Ve.jsxs("div",{className:"p-4 max-w-4xl mx-auto",children:[Ve.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Your Dashboard"}),Ve.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[Ve.jsxs("h2",{className:"text-xl font-semibold",children:["Welcome, ",r.age,"-year-old Grade ",r.grade," Student!"]}),Ve.jsxs("p",{className:"mt-2",children:["LearnCoins: ",Ve.jsx("span",{className:"font-bold text-blue-600",children:n})]}),Ve.jsx("p",{className:"mt-2",children:"Keep completing quizzes and games to earn more LearnCoins!"})]})]})}class mL extends je.Component{constructor(){super(...arguments);fg(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(o){return{hasError:!0,error:o}}componentDidCatch(o,t){console.error("ErrorBoundary caught an error:",o,t)}render(){var o;return this.state.hasError?Ve.jsxs("div",{className:"p-4 max-w-4xl mx-auto text-center",children:[Ve.jsx("h1",{className:"text-2xl font-bold text-red-600",children:"Something went wrong"}),Ve.jsxs("p",{className:"mt-2",children:["An error occurred: ",((o=this.state.error)==null?void 0:o.message)||"Unknown error"]}),Ve.jsx("button",{className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>window.location.reload(),children:"Reload Page"})]}):this.props.children}}function gL({user:r}){var i;const[n,o]=je.useState(localStorage.getItem("theme")||((i=r.unsafeMetadata)==null?void 0:i.theme)||"light");je.useEffect(()=>{document.documentElement.classList.toggle("dark",n==="dark"),localStorage.setItem("theme",n),r&&r.update({unsafeMetadata:{...r.unsafeMetadata,theme:n}}).catch(a=>console.error("Error updating theme:",a))},[n,r]);const t=()=>{o(n==="light"?"dark":"light")};return Ve.jsx("button",{className:"p-2 rounded hover:bg-blue-700",onClick:t,"aria-label":`Switch to ${n==="light"?"dark":"light"} mode`,children:n==="light"?"🌙 Dark":"☀️ Light"})}console.log("App.jsx - Checking environment variables:");try{const r="https://zahrotkjbhfegvwsevjy.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InphaHJvdGtqYmhmZWd2d3Nldmp5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1MzcwNDksImV4cCI6MjA3MTExMzA0OX0.PJHE_2uvVuixA1velpE-KPmD4o2W-UENiegcZl1wFI8",o="pk_test_ZGVzdGluZWQtc2F0eXItMzEuY2xlcmsuYWNjb3VudHMuZGV2JA";console.log("VITE_SUPABASE_URL:",r),console.log("VITE_SUPABASE_ANON_KEY:",n),console.log("VITE_CLERK_PUBLISHABLE_KEY:",o);const t=new URL(r);console.log("Validated URL:",t.href)}catch(r){console.error("Invalid URL in App.jsx:",r,"Values:",{VITE_SUPABASE_URL:"https://zahrotkjbhfegvwsevjy.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InphaHJvdGtqYmhmZWd2d3Nldmp5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1MzcwNDksImV4cCI6MjA3MTExMzA0OX0.PJHE_2uvVuixA1velpE-KPmD4o2W-UENiegcZl1wFI8",VITE_CLERK_PUBLISHABLE_KEY:"pk_test_ZGVzdGluZWQtc2F0eXItMzEuY2xlcmsuYWNjb3VudHMuZGV2JA"})}const yL=ki("https://zahrotkjbhfegvwsevjy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InphaHJvdGtqYmhmZWd2d3Nldmp5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1MzcwNDksImV4cCI6MjA3MTExMzA0OX0.PJHE_2uvVuixA1velpE-KPmD4o2W-UENiegcZl1wFI8");function vL(){const{user:r,isLoaded:n,error:o}=sP(),[t,i]=je.useState(null),[a,s]=je.useState(!0);return je.useEffect(()=>{var u,l,f;if(o){console.error("Clerk useUser error:",o.message);return}if(n&&r){const v={id:r.id,email:((u=r.emailAddresses[0])==null?void 0:u.email)||null,age:((l=r.unsafeMetadata)==null?void 0:l.age)||6,grade:((f=r.unsafeMetadata)==null?void 0:f.grade)||1};i(v);const m=`${supabaseUrl}/rest/v1/users?upsert=true`;console.log("Upsert URL:",m),yL.from("users").upsert({id:v.id,email:v.email,age:v.age,grade:v.grade}).then(({error:c})=>{c&&console.error("Error upserting user:",c.message,"URL:",m)})}s(!1)},[r,n,o]),a||!n?Ve.jsx("div",{className:"p-4 text-center","aria-live":"polite",children:"Loading..."}):Ve.jsx(Zw,{publishableKey:"pk_test_ZGVzdGluZWQtc2F0eXItMzEuY2xlcmsuYWNjb3VudHMuZGV2JA",children:Ve.jsx(mL,{children:Ve.jsx(uE,{children:Ve.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-white",children:[Ve.jsxs("nav",{className:"p-4 bg-blue-600 text-white flex justify-between items-center",children:[Ve.jsxs("div",{children:[Ve.jsx(Ns,{to:"/",className:"mr-4 hover:underline",children:"Home"}),Ve.jsx(Ns,{to:"/feed",className:"mr-4 hover:underline",children:"Feed"}),Ve.jsx(Ns,{to:"/grading",className:"mr-4 hover:underline",children:"Grading"}),Ve.jsx(Ns,{to:"/game",className:"mr-4 hover:underline",children:"Game"}),Ve.jsx(Ns,{to:"/dashboard",className:"mr-4 hover:underline",children:"Dashboard"})]}),Ve.jsx("div",{className:"flex items-center",children:r&&Ve.jsxs(Ve.Fragment,{children:[Ve.jsx(gL,{user:r}),Ve.jsx("button",{onClick:()=>window.Clerk.signOut(),className:"ml-4 hover:underline",children:"Sign Out"})]})})]}),Ve.jsx(FP,{children:Ve.jsxs(Cy,{children:[Ve.jsx(Qn,{path:"/",element:Ve.jsx("h1",{className:"p-4 text-3xl",children:"Welcome to SA Homeschool"})}),Ve.jsx(Qn,{path:"/feed",element:t?Ve.jsx(aL,{user:t}):Ve.jsx(Ps,{to:"/sign-in"})}),Ve.jsx(Qn,{path:"/grading",element:t?Ve.jsx(lL,{user:t,setUser:i}):Ve.jsx(Ps,{to:"/sign-in"})}),Ve.jsx(Qn,{path:"/game",element:t?Ve.jsx(fL,{}):Ve.jsx(Ps,{to:"/sign-in"})}),Ve.jsx(Qn,{path:"/dashboard",element:t?Ve.jsx(pL,{user:t}):Ve.jsx(Ps,{to:"/sign-in"})}),Ve.jsx(Qn,{path:"/sign-in",element:Ve.jsx(Ps,{to:"/"})})]})}),Ve.jsx(BP,{children:Ve.jsxs(Cy,{children:[Ve.jsx(Qn,{path:"/sign-in",element:Ve.jsx(qP,{routing:"path",path:"/sign-in"})}),Ve.jsx(Qn,{path:"*",element:Ve.jsx(Ps,{to:"/sign-in"})})]})})]})})})})}yf.createRoot(document.getElementById("root")).render(Ve.jsx(Me.StrictMode,{children:Ve.jsx(vL,{})}));
