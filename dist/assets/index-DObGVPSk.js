function X1(n,r){for(var d=0;d<r.length;d++){const t=r[d];if(typeof t!="string"&&!Array.isArray(t)){for(const f in t)if(f!=="default"&&!(f in n)){const u=Object.getOwnPropertyDescriptor(t,f);u&&Object.defineProperty(n,f,u.get?u:{enumerable:!0,get:()=>t[f]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))t(f);new MutationObserver(f=>{for(const u of f)if(u.type==="childList")for(const o of u.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function d(f){const u={};return f.integrity&&(u.integrity=f.integrity),f.referrerPolicy&&(u.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?u.credentials="include":f.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function t(f){if(f.ep)return;f.ep=!0;const u=d(f);fetch(f.href,u)}})();var Ou=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function da(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Y1(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var r=n.default;if(typeof r=="function"){var d=function t(){var f=!1;try{f=this instanceof t}catch{}return f?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};d.prototype=r.prototype}else d={};return Object.defineProperty(d,"__esModule",{value:!0}),Object.keys(n).forEach(function(t){var f=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(d,t,f.get?f:{enumerable:!0,get:function(){return n[t]}})}),d}var of={exports:{}},qa={},sf={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg;function K1(){if(fg)return Wt;fg=1;var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),t=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),i=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),m=Symbol.iterator;function s(K){return K===null||typeof K!="object"?null:(K=m&&K[m]||K["@@iterator"],typeof K=="function"?K:null)}var c={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function b(K,ne,T){this.props=K,this.context=ne,this.refs=g,this.updater=T||c}b.prototype.isReactComponent={},b.prototype.setState=function(K,ne){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,ne,"setState")},b.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function y(){}y.prototype=b.prototype;function v(K,ne,T){this.props=K,this.context=ne,this.refs=g,this.updater=T||c}var j=v.prototype=new y;j.constructor=v,p(j,b.prototype),j.isPureReactComponent=!0;var x=Array.isArray,E=Object.prototype.hasOwnProperty,P={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function M(K,ne,T){var F,W={},J=null,oe=null;if(ne!=null)for(F in ne.ref!==void 0&&(oe=ne.ref),ne.key!==void 0&&(J=""+ne.key),ne)E.call(ne,F)&&!O.hasOwnProperty(F)&&(W[F]=ne[F]);var se=arguments.length-2;if(se===1)W.children=T;else if(1<se){for(var fe=Array(se),ve=0;ve<se;ve++)fe[ve]=arguments[ve+2];W.children=fe}if(K&&K.defaultProps)for(F in se=K.defaultProps,se)W[F]===void 0&&(W[F]=se[F]);return{$$typeof:n,type:K,key:J,ref:oe,props:W,_owner:P.current}}function D(K,ne){return{$$typeof:n,type:K.type,key:ne,ref:K.ref,props:K.props,_owner:K._owner}}function U(K){return typeof K=="object"&&K!==null&&K.$$typeof===n}function I(K){var ne={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(T){return ne[T]})}var B=/\/+/g;function R(K,ne){return typeof K=="object"&&K!==null&&K.key!=null?I(""+K.key):ne.toString(36)}function G(K,ne,T,F,W){var J=typeof K;(J==="undefined"||J==="boolean")&&(K=null);var oe=!1;if(K===null)oe=!0;else switch(J){case"string":case"number":oe=!0;break;case"object":switch(K.$$typeof){case n:case r:oe=!0}}if(oe)return oe=K,W=W(oe),K=F===""?"."+R(oe,0):F,x(W)?(T="",K!=null&&(T=K.replace(B,"$&/")+"/"),G(W,ne,T,"",function(ve){return ve})):W!=null&&(U(W)&&(W=D(W,T+(!W.key||oe&&oe.key===W.key?"":(""+W.key).replace(B,"$&/")+"/")+K)),ne.push(W)),1;if(oe=0,F=F===""?".":F+":",x(K))for(var se=0;se<K.length;se++){J=K[se];var fe=F+R(J,se);oe+=G(J,ne,T,fe,W)}else if(fe=s(K),typeof fe=="function")for(K=fe.call(K),se=0;!(J=K.next()).done;)J=J.value,fe=F+R(J,se++),oe+=G(J,ne,T,fe,W);else if(J==="object")throw ne=String(K),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return oe}function z(K,ne,T){if(K==null)return K;var F=[],W=0;return G(K,F,"","",function(J){return ne.call(T,J,W++)}),F}function q(K){if(K._status===-1){var ne=K._result;ne=ne(),ne.then(function(T){(K._status===0||K._status===-1)&&(K._status=1,K._result=T)},function(T){(K._status===0||K._status===-1)&&(K._status=2,K._result=T)}),K._status===-1&&(K._status=0,K._result=ne)}if(K._status===1)return K._result.default;throw K._result}var Y={current:null},$={transition:null},X={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:$,ReactCurrentOwner:P};function ee(){throw Error("act(...) is not supported in production builds of React.")}return Wt.Children={map:z,forEach:function(K,ne,T){z(K,function(){ne.apply(this,arguments)},T)},count:function(K){var ne=0;return z(K,function(){ne++}),ne},toArray:function(K){return z(K,function(ne){return ne})||[]},only:function(K){if(!U(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},Wt.Component=b,Wt.Fragment=d,Wt.Profiler=f,Wt.PureComponent=v,Wt.StrictMode=t,Wt.Suspense=i,Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Wt.act=ee,Wt.cloneElement=function(K,ne,T){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var F=p({},K.props),W=K.key,J=K.ref,oe=K._owner;if(ne!=null){if(ne.ref!==void 0&&(J=ne.ref,oe=P.current),ne.key!==void 0&&(W=""+ne.key),K.type&&K.type.defaultProps)var se=K.type.defaultProps;for(fe in ne)E.call(ne,fe)&&!O.hasOwnProperty(fe)&&(F[fe]=ne[fe]===void 0&&se!==void 0?se[fe]:ne[fe])}var fe=arguments.length-2;if(fe===1)F.children=T;else if(1<fe){se=Array(fe);for(var ve=0;ve<fe;ve++)se[ve]=arguments[ve+2];F.children=se}return{$$typeof:n,type:K.type,key:W,ref:J,props:F,_owner:oe}},Wt.createContext=function(K){return K={$$typeof:o,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:u,_context:K},K.Consumer=K},Wt.createElement=M,Wt.createFactory=function(K){var ne=M.bind(null,K);return ne.type=K,ne},Wt.createRef=function(){return{current:null}},Wt.forwardRef=function(K){return{$$typeof:l,render:K}},Wt.isValidElement=U,Wt.lazy=function(K){return{$$typeof:_,_payload:{_status:-1,_result:K},_init:q}},Wt.memo=function(K,ne){return{$$typeof:h,type:K,compare:ne===void 0?null:ne}},Wt.startTransition=function(K){var ne=$.transition;$.transition={};try{K()}finally{$.transition=ne}},Wt.unstable_act=ee,Wt.useCallback=function(K,ne){return Y.current.useCallback(K,ne)},Wt.useContext=function(K){return Y.current.useContext(K)},Wt.useDebugValue=function(){},Wt.useDeferredValue=function(K){return Y.current.useDeferredValue(K)},Wt.useEffect=function(K,ne){return Y.current.useEffect(K,ne)},Wt.useId=function(){return Y.current.useId()},Wt.useImperativeHandle=function(K,ne,T){return Y.current.useImperativeHandle(K,ne,T)},Wt.useInsertionEffect=function(K,ne){return Y.current.useInsertionEffect(K,ne)},Wt.useLayoutEffect=function(K,ne){return Y.current.useLayoutEffect(K,ne)},Wt.useMemo=function(K,ne){return Y.current.useMemo(K,ne)},Wt.useReducer=function(K,ne,T){return Y.current.useReducer(K,ne,T)},Wt.useRef=function(K){return Y.current.useRef(K)},Wt.useState=function(K){return Y.current.useState(K)},Wt.useSyncExternalStore=function(K,ne,T){return Y.current.useSyncExternalStore(K,ne,T)},Wt.useTransition=function(){return Y.current.useTransition()},Wt.version="18.3.1",Wt}var hg;function hc(){return hg||(hg=1,sf.exports=K1()),sf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg;function J1(){if(pg)return qa;pg=1;var n=hc(),r=Symbol.for("react.element"),d=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,f=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function o(l,i,h){var _,m={},s=null,c=null;h!==void 0&&(s=""+h),i.key!==void 0&&(s=""+i.key),i.ref!==void 0&&(c=i.ref);for(_ in i)t.call(i,_)&&!u.hasOwnProperty(_)&&(m[_]=i[_]);if(l&&l.defaultProps)for(_ in i=l.defaultProps,i)m[_]===void 0&&(m[_]=i[_]);return{$$typeof:r,type:l,key:s,ref:c,props:m,_owner:f.current}}return qa.Fragment=d,qa.jsx=o,qa.jsxs=o,qa}var mg;function Z1(){return mg||(mg=1,of.exports=J1()),of.exports}var ot=Z1(),De=hc();const Ve=da(De),Q1=X1({__proto__:null,default:Ve},[De]);var Mu={},af={exports:{}},kn={},lf={exports:{}},uf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg;function ew(){return gg||(gg=1,(function(n){function r($,X){var ee=$.length;$.push(X);e:for(;0<ee;){var K=ee-1>>>1,ne=$[K];if(0<f(ne,X))$[K]=X,$[ee]=ne,ee=K;else break e}}function d($){return $.length===0?null:$[0]}function t($){if($.length===0)return null;var X=$[0],ee=$.pop();if(ee!==X){$[0]=ee;e:for(var K=0,ne=$.length,T=ne>>>1;K<T;){var F=2*(K+1)-1,W=$[F],J=F+1,oe=$[J];if(0>f(W,ee))J<ne&&0>f(oe,W)?($[K]=oe,$[J]=ee,K=J):($[K]=W,$[F]=ee,K=F);else if(J<ne&&0>f(oe,ee))$[K]=oe,$[J]=ee,K=J;else break e}}return X}function f($,X){var ee=$.sortIndex-X.sortIndex;return ee!==0?ee:$.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var i=[],h=[],_=1,m=null,s=3,c=!1,p=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j($){for(var X=d(h);X!==null;){if(X.callback===null)t(h);else if(X.startTime<=$)t(h),X.sortIndex=X.expirationTime,r(i,X);else break;X=d(h)}}function x($){if(g=!1,j($),!p)if(d(i)!==null)p=!0,q(E);else{var X=d(h);X!==null&&Y(x,X.startTime-$)}}function E($,X){p=!1,g&&(g=!1,y(M),M=-1),c=!0;var ee=s;try{for(j(X),m=d(i);m!==null&&(!(m.expirationTime>X)||$&&!I());){var K=m.callback;if(typeof K=="function"){m.callback=null,s=m.priorityLevel;var ne=K(m.expirationTime<=X);X=n.unstable_now(),typeof ne=="function"?m.callback=ne:m===d(i)&&t(i),j(X)}else t(i);m=d(i)}if(m!==null)var T=!0;else{var F=d(h);F!==null&&Y(x,F.startTime-X),T=!1}return T}finally{m=null,s=ee,c=!1}}var P=!1,O=null,M=-1,D=5,U=-1;function I(){return!(n.unstable_now()-U<D)}function B(){if(O!==null){var $=n.unstable_now();U=$;var X=!0;try{X=O(!0,$)}finally{X?R():(P=!1,O=null)}}else P=!1}var R;if(typeof v=="function")R=function(){v(B)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,z=G.port2;G.port1.onmessage=B,R=function(){z.postMessage(null)}}else R=function(){b(B,0)};function q($){O=$,P||(P=!0,R())}function Y($,X){M=b(function(){$(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_continueExecution=function(){p||c||(p=!0,q(E))},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return s},n.unstable_getFirstCallbackNode=function(){return d(i)},n.unstable_next=function($){switch(s){case 1:case 2:case 3:var X=3;break;default:X=s}var ee=s;s=X;try{return $()}finally{s=ee}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function($,X){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ee=s;s=$;try{return X()}finally{s=ee}},n.unstable_scheduleCallback=function($,X,ee){var K=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?K+ee:K):ee=K,$){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=ee+ne,$={id:_++,callback:X,priorityLevel:$,startTime:ee,expirationTime:ne,sortIndex:-1},ee>K?($.sortIndex=ee,r(h,$),d(i)===null&&$===d(h)&&(g?(y(M),M=-1):g=!0,Y(x,ee-K))):($.sortIndex=ne,r(i,$),p||c||(p=!0,q(E))),$},n.unstable_shouldYield=I,n.unstable_wrapCallback=function($){var X=s;return function(){var ee=s;s=X;try{return $.apply(this,arguments)}finally{s=ee}}}})(uf)),uf}var yg;function tw(){return yg||(yg=1,lf.exports=ew()),lf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function rw(){if(vg)return kn;vg=1;var n=hc(),r=tw();function d(a){for(var w="https://reactjs.org/docs/error-decoder.html?invariant="+a,k=1;k<arguments.length;k++)w+="&args[]="+encodeURIComponent(arguments[k]);return"Minified React error #"+a+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var t=new Set,f={};function u(a,w){o(a,w),o(a+"Capture",w)}function o(a,w){for(f[a]=w,a=0;a<w.length;a++)t.add(w[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),i=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},m={};function s(a){return i.call(m,a)?!0:i.call(_,a)?!1:h.test(a)?m[a]=!0:(_[a]=!0,!1)}function c(a,w,k,L){if(k!==null&&k.type===0)return!1;switch(typeof w){case"function":case"symbol":return!0;case"boolean":return L?!1:k!==null?!k.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function p(a,w,k,L){if(w===null||typeof w>"u"||c(a,w,k,L))return!0;if(L)return!1;if(k!==null)switch(k.type){case 3:return!w;case 4:return w===!1;case 5:return isNaN(w);case 6:return isNaN(w)||1>w}return!1}function g(a,w,k,L,H,Z,ue){this.acceptsBooleans=w===2||w===3||w===4,this.attributeName=L,this.attributeNamespace=H,this.mustUseProperty=k,this.propertyName=a,this.type=w,this.sanitizeURL=Z,this.removeEmptyString=ue}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){b[a]=new g(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var w=a[0];b[w]=new g(w,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){b[a]=new g(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){b[a]=new g(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){b[a]=new g(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){b[a]=new g(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){b[a]=new g(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){b[a]=new g(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){b[a]=new g(a,5,!1,a.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var w=a.replace(y,v);b[w]=new g(w,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var w=a.replace(y,v);b[w]=new g(w,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var w=a.replace(y,v);b[w]=new g(w,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){b[a]=new g(a,1,!1,a.toLowerCase(),null,!1,!1)}),b.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){b[a]=new g(a,1,!1,a.toLowerCase(),null,!0,!0)});function j(a,w,k,L){var H=b.hasOwnProperty(w)?b[w]:null;(H!==null?H.type!==0:L||!(2<w.length)||w[0]!=="o"&&w[0]!=="O"||w[1]!=="n"&&w[1]!=="N")&&(p(w,k,H,L)&&(k=null),L||H===null?s(w)&&(k===null?a.removeAttribute(w):a.setAttribute(w,""+k)):H.mustUseProperty?a[H.propertyName]=k===null?H.type===3?!1:"":k:(w=H.attributeName,L=H.attributeNamespace,k===null?a.removeAttribute(w):(H=H.type,k=H===3||H===4&&k===!0?"":""+k,L?a.setAttributeNS(L,w,k):a.setAttribute(w,k))))}var x=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),P=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),I=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),$=Symbol.iterator;function X(a){return a===null||typeof a!="object"?null:(a=$&&a[$]||a["@@iterator"],typeof a=="function"?a:null)}var ee=Object.assign,K;function ne(a){if(K===void 0)try{throw Error()}catch(k){var w=k.stack.trim().match(/\n( *(at )?)/);K=w&&w[1]||""}return`
`+K+a}var T=!1;function F(a,w){if(!a||T)return"";T=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(w)if(w=function(){throw Error()},Object.defineProperty(w.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(w,[])}catch(qe){var L=qe}Reflect.construct(a,[],w)}else{try{w.call()}catch(qe){L=qe}a.call(w.prototype)}else{try{throw Error()}catch(qe){L=qe}a()}}catch(qe){if(qe&&L&&typeof qe.stack=="string"){for(var H=qe.stack.split(`
`),Z=L.stack.split(`
`),ue=H.length-1,je=Z.length-1;1<=ue&&0<=je&&H[ue]!==Z[je];)je--;for(;1<=ue&&0<=je;ue--,je--)if(H[ue]!==Z[je]){if(ue!==1||je!==1)do if(ue--,je--,0>je||H[ue]!==Z[je]){var Pe=`
`+H[ue].replace(" at new "," at ");return a.displayName&&Pe.includes("<anonymous>")&&(Pe=Pe.replace("<anonymous>",a.displayName)),Pe}while(1<=ue&&0<=je);break}}}finally{T=!1,Error.prepareStackTrace=k}return(a=a?a.displayName||a.name:"")?ne(a):""}function W(a){switch(a.tag){case 5:return ne(a.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return a=F(a.type,!1),a;case 11:return a=F(a.type.render,!1),a;case 1:return a=F(a.type,!0),a;default:return""}}function J(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case O:return"Fragment";case P:return"Portal";case D:return"Profiler";case M:return"StrictMode";case R:return"Suspense";case G:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case I:return(a.displayName||"Context")+".Consumer";case U:return(a._context.displayName||"Context")+".Provider";case B:var w=a.render;return a=a.displayName,a||(a=w.displayName||w.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case z:return w=a.displayName||null,w!==null?w:J(a.type)||"Memo";case q:w=a._payload,a=a._init;try{return J(a(w))}catch{}}return null}function oe(a){var w=a.type;switch(a.tag){case 24:return"Cache";case 9:return(w.displayName||"Context")+".Consumer";case 10:return(w._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=w.render,a=a.displayName||a.name||"",w.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return w;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J(w);case 8:return w===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof w=="function")return w.displayName||w.name||null;if(typeof w=="string")return w}return null}function se(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function fe(a){var w=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(w==="checkbox"||w==="radio")}function ve(a){var w=fe(a)?"checked":"value",k=Object.getOwnPropertyDescriptor(a.constructor.prototype,w),L=""+a[w];if(!a.hasOwnProperty(w)&&typeof k<"u"&&typeof k.get=="function"&&typeof k.set=="function"){var H=k.get,Z=k.set;return Object.defineProperty(a,w,{configurable:!0,get:function(){return H.call(this)},set:function(ue){L=""+ue,Z.call(this,ue)}}),Object.defineProperty(a,w,{enumerable:k.enumerable}),{getValue:function(){return L},setValue:function(ue){L=""+ue},stopTracking:function(){a._valueTracker=null,delete a[w]}}}}function de(a){a._valueTracker||(a._valueTracker=ve(a))}function be(a){if(!a)return!1;var w=a._valueTracker;if(!w)return!0;var k=w.getValue(),L="";return a&&(L=fe(a)?a.checked?"true":"false":a.value),a=L,a!==k?(w.setValue(a),!0):!1}function pe(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function ie(a,w){var k=w.checked;return ee({},w,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:k??a._wrapperState.initialChecked})}function ye(a,w){var k=w.defaultValue==null?"":w.defaultValue,L=w.checked!=null?w.checked:w.defaultChecked;k=se(w.value!=null?w.value:k),a._wrapperState={initialChecked:L,initialValue:k,controlled:w.type==="checkbox"||w.type==="radio"?w.checked!=null:w.value!=null}}function _e(a,w){w=w.checked,w!=null&&j(a,"checked",w,!1)}function Te(a,w){_e(a,w);var k=se(w.value),L=w.type;if(k!=null)L==="number"?(k===0&&a.value===""||a.value!=k)&&(a.value=""+k):a.value!==""+k&&(a.value=""+k);else if(L==="submit"||L==="reset"){a.removeAttribute("value");return}w.hasOwnProperty("value")?Se(a,w.type,k):w.hasOwnProperty("defaultValue")&&Se(a,w.type,se(w.defaultValue)),w.checked==null&&w.defaultChecked!=null&&(a.defaultChecked=!!w.defaultChecked)}function Ee(a,w,k){if(w.hasOwnProperty("value")||w.hasOwnProperty("defaultValue")){var L=w.type;if(!(L!=="submit"&&L!=="reset"||w.value!==void 0&&w.value!==null))return;w=""+a._wrapperState.initialValue,k||w===a.value||(a.value=w),a.defaultValue=w}k=a.name,k!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,k!==""&&(a.name=k)}function Se(a,w,k){(w!=="number"||pe(a.ownerDocument)!==a)&&(k==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+k&&(a.defaultValue=""+k))}var Oe=Array.isArray;function Xe(a,w,k,L){if(a=a.options,w){w={};for(var H=0;H<k.length;H++)w["$"+k[H]]=!0;for(k=0;k<a.length;k++)H=w.hasOwnProperty("$"+a[k].value),a[k].selected!==H&&(a[k].selected=H),H&&L&&(a[k].defaultSelected=!0)}else{for(k=""+se(k),w=null,H=0;H<a.length;H++){if(a[H].value===k){a[H].selected=!0,L&&(a[H].defaultSelected=!0);return}w!==null||a[H].disabled||(w=a[H])}w!==null&&(w.selected=!0)}}function Ne(a,w){if(w.dangerouslySetInnerHTML!=null)throw Error(d(91));return ee({},w,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function yt(a,w){var k=w.value;if(k==null){if(k=w.children,w=w.defaultValue,k!=null){if(w!=null)throw Error(d(92));if(Oe(k)){if(1<k.length)throw Error(d(93));k=k[0]}w=k}w==null&&(w=""),k=w}a._wrapperState={initialValue:se(k)}}function lt(a,w){var k=se(w.value),L=se(w.defaultValue);k!=null&&(k=""+k,k!==a.value&&(a.value=k),w.defaultValue==null&&a.defaultValue!==k&&(a.defaultValue=k)),L!=null&&(a.defaultValue=""+L)}function rt(a){var w=a.textContent;w===a._wrapperState.initialValue&&w!==""&&w!==null&&(a.value=w)}function ut(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ct(a,w){return a==null||a==="http://www.w3.org/1999/xhtml"?ut(w):a==="http://www.w3.org/2000/svg"&&w==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Me,Ye=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(w,k,L,H){MSApp.execUnsafeLocalFunction(function(){return a(w,k,L,H)})}:a})(function(a,w){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=w;else{for(Me=Me||document.createElement("div"),Me.innerHTML="<svg>"+w.valueOf().toString()+"</svg>",w=Me.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;w.firstChild;)a.appendChild(w.firstChild)}});function Le(a,w){if(w){var k=a.firstChild;if(k&&k===a.lastChild&&k.nodeType===3){k.nodeValue=w;return}}a.textContent=w}var ae={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ce=["Webkit","ms","Moz","O"];Object.keys(ae).forEach(function(a){ce.forEach(function(w){w=w+a.charAt(0).toUpperCase()+a.substring(1),ae[w]=ae[a]})});function re(a,w,k){return w==null||typeof w=="boolean"||w===""?"":k||typeof w!="number"||w===0||ae.hasOwnProperty(a)&&ae[a]?(""+w).trim():w+"px"}function he(a,w){a=a.style;for(var k in w)if(w.hasOwnProperty(k)){var L=k.indexOf("--")===0,H=re(k,w[k],L);k==="float"&&(k="cssFloat"),L?a.setProperty(k,H):a[k]=H}}var ke=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Re(a,w){if(w){if(ke[a]&&(w.children!=null||w.dangerouslySetInnerHTML!=null))throw Error(d(137,a));if(w.dangerouslySetInnerHTML!=null){if(w.children!=null)throw Error(d(60));if(typeof w.dangerouslySetInnerHTML!="object"||!("__html"in w.dangerouslySetInnerHTML))throw Error(d(61))}if(w.style!=null&&typeof w.style!="object")throw Error(d(62))}}function He(a,w){if(a.indexOf("-")===-1)return typeof w.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qe=null;function it(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var at=null,ft=null,It=null;function Ot(a){if(a=Ma(a)){if(typeof at!="function")throw Error(d(280));var w=a.stateNode;w&&(w=Hl(w),at(a.stateNode,a.type,w))}}function bt(a){ft?It?It.push(a):It=[a]:ft=a}function At(){if(ft){var a=ft,w=It;if(It=ft=null,Ot(a),w)for(a=0;a<w.length;a++)Ot(w[a])}}function Tt(a,w){return a(w)}function or(){}var Ar=!1;function _r(a,w,k){if(Ar)return a(w,k);Ar=!0;try{return Tt(a,w,k)}finally{Ar=!1,(ft!==null||It!==null)&&(or(),At())}}function qt(a,w){var k=a.stateNode;if(k===null)return null;var L=Hl(k);if(L===null)return null;k=L[w];e:switch(w){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(L=!L.disabled)||(a=a.type,L=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!L;break e;default:a=!1}if(a)return null;if(k&&typeof k!="function")throw Error(d(231,w,typeof k));return k}var sr=!1;if(l)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){sr=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch{sr=!1}function Fr(a,w,k,L,H,Z,ue,je,Pe){var qe=Array.prototype.slice.call(arguments,3);try{w.apply(k,qe)}catch(nt){this.onError(nt)}}var yr=!1,Yt=null,kr=!1,Eo=null,Ms={onError:function(a){yr=!0,Yt=a}};function Is(a,w,k,L,H,Z,ue,je,Pe){yr=!1,Yt=null,Fr.apply(Ms,arguments)}function pi(a,w,k,L,H,Z,ue,je,Pe){if(Is.apply(this,arguments),yr){if(yr){var qe=Yt;yr=!1,Yt=null}else throw Error(d(198));kr||(kr=!0,Eo=qe)}}function Tn(a){var w=a,k=a;if(a.alternate)for(;w.return;)w=w.return;else{a=w;do w=a,(w.flags&4098)!==0&&(k=w.return),a=w.return;while(a)}return w.tag===3?k:null}function zo(a){if(a.tag===13){var w=a.memoizedState;if(w===null&&(a=a.alternate,a!==null&&(w=a.memoizedState)),w!==null)return w.dehydrated}return null}function xe(a){if(Tn(a)!==a)throw Error(d(188))}function et(a){var w=a.alternate;if(!w){if(w=Tn(a),w===null)throw Error(d(188));return w!==a?null:a}for(var k=a,L=w;;){var H=k.return;if(H===null)break;var Z=H.alternate;if(Z===null){if(L=H.return,L!==null){k=L;continue}break}if(H.child===Z.child){for(Z=H.child;Z;){if(Z===k)return xe(H),a;if(Z===L)return xe(H),w;Z=Z.sibling}throw Error(d(188))}if(k.return!==L.return)k=H,L=Z;else{for(var ue=!1,je=H.child;je;){if(je===k){ue=!0,k=H,L=Z;break}if(je===L){ue=!0,L=H,k=Z;break}je=je.sibling}if(!ue){for(je=Z.child;je;){if(je===k){ue=!0,k=Z,L=H;break}if(je===L){ue=!0,L=Z,k=H;break}je=je.sibling}if(!ue)throw Error(d(189))}}if(k.alternate!==L)throw Error(d(190))}if(k.tag!==3)throw Error(d(188));return k.stateNode.current===k?a:w}function mt(a){return a=et(a),a!==null?Ze(a):null}function Ze(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var w=Ze(a);if(w!==null)return w;a=a.sibling}return null}var Gt=r.unstable_scheduleCallback,Je=r.unstable_cancelCallback,$t=r.unstable_shouldYield,pt=r.unstable_requestPaint,Pt=r.unstable_now,gt=r.unstable_getCurrentPriorityLevel,hr=r.unstable_ImmediatePriority,Cr=r.unstable_UserBlockingPriority,ur=r.unstable_NormalPriority,Rr=r.unstable_LowPriority,Pn=r.unstable_IdlePriority,qr=null,Or=null;function Dr(a){if(Or&&typeof Or.onCommitFiberRoot=="function")try{Or.onCommitFiberRoot(qr,a,void 0,(a.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:mi,On=Math.log,Vo=Math.LN2;function mi(a){return a>>>=0,a===0?32:31-(On(a)/Vo|0)|0}var As=64,Rs=4194304;function Wo(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Ho(a,w){var k=a.pendingLanes;if(k===0)return 0;var L=0,H=a.suspendedLanes,Z=a.pingedLanes,ue=k&268435455;if(ue!==0){var je=ue&~H;je!==0?L=Wo(je):(Z&=ue,Z!==0&&(L=Wo(Z)))}else ue=k&~H,ue!==0?L=Wo(ue):Z!==0&&(L=Wo(Z));if(L===0)return 0;if(w!==0&&w!==L&&(w&H)===0&&(H=L&-L,Z=w&-w,H>=Z||H===16&&(Z&4194240)!==0))return w;if((L&4)!==0&&(L|=k&16),w=a.entangledLanes,w!==0)for(a=a.entanglements,w&=L;0<w;)k=31-yn(w),H=1<<k,L|=a[k],w&=~H;return L}function Tl(a,w){switch(a){case 1:case 2:case 4:return w+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pl(a,w){for(var k=a.suspendedLanes,L=a.pingedLanes,H=a.expirationTimes,Z=a.pendingLanes;0<Z;){var ue=31-yn(Z),je=1<<ue,Pe=H[ue];Pe===-1?((je&k)===0||(je&L)!==0)&&(H[ue]=Tl(je,w)):Pe<=w&&(a.expiredLanes|=je),Z&=~je}}function gi(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Ol(){var a=As;return As<<=1,(As&4194240)===0&&(As=64),a}function Ds(a){for(var w=[],k=0;31>k;k++)w.push(a);return w}function qo(a,w,k){a.pendingLanes|=w,w!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,w=31-yn(w),a[w]=k}function Ml(a,w){var k=a.pendingLanes&~w;a.pendingLanes=w,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=w,a.mutableReadLanes&=w,a.entangledLanes&=w,w=a.entanglements;var L=a.eventTimes;for(a=a.expirationTimes;0<k;){var H=31-yn(k),Z=1<<H;w[H]=0,L[H]=-1,a[H]=-1,k&=~Z}}function $o(a,w){var k=a.entangledLanes|=w;for(a=a.entanglements;k;){var L=31-yn(k),H=1<<L;H&w|a[L]&w&&(a[L]|=w),k&=~H}}var Xt=0;function Mn(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var va,yi,ko,ba,Il,Ls=!1,Ns=[],mo=null,Qn=null,eo=null,Us=new Map,Xo=new Map,go=[],Mc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Al(a,w){switch(a){case"focusin":case"focusout":mo=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":Us.delete(w.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xo.delete(w.pointerId)}}function Fs(a,w,k,L,H,Z){return a===null||a.nativeEvent!==Z?(a={blockedOn:w,domEventName:k,eventSystemFlags:L,nativeEvent:Z,targetContainers:[H]},w!==null&&(w=Ma(w),w!==null&&yi(w)),a):(a.eventSystemFlags|=L,w=a.targetContainers,H!==null&&w.indexOf(H)===-1&&w.push(H),a)}function Rl(a,w,k,L,H){switch(w){case"focusin":return mo=Fs(mo,a,w,k,L,H),!0;case"dragenter":return Qn=Fs(Qn,a,w,k,L,H),!0;case"mouseover":return eo=Fs(eo,a,w,k,L,H),!0;case"pointerover":var Z=H.pointerId;return Us.set(Z,Fs(Us.get(Z)||null,a,w,k,L,H)),!0;case"gotpointercapture":return Z=H.pointerId,Xo.set(Z,Fs(Xo.get(Z)||null,a,w,k,L,H)),!0}return!1}function In(a){var w=$s(a.target);if(w!==null){var k=Tn(w);if(k!==null){if(w=k.tag,w===13){if(w=zo(k),w!==null){a.blockedOn=w,Il(a.priority,function(){ko(k)});return}}else if(w===3&&k.stateNode.current.memoizedState.isDehydrated){a.blockedOn=k.tag===3?k.stateNode.containerInfo:null;return}}}a.blockedOn=null}function vn(a){if(a.blockedOn!==null)return!1;for(var w=a.targetContainers;0<w.length;){var k=wi(a.domEventName,a.eventSystemFlags,w[0],a.nativeEvent);if(k===null){k=a.nativeEvent;var L=new k.constructor(k.type,k);Qe=L,k.target.dispatchEvent(L),Qe=null}else return w=Ma(k),w!==null&&yi(w),a.blockedOn=k,!1;w.shift()}return!0}function Yo(a,w,k){vn(a)&&k.delete(w)}function Bs(){Ls=!1,mo!==null&&vn(mo)&&(mo=null),Qn!==null&&vn(Qn)&&(Qn=null),eo!==null&&vn(eo)&&(eo=null),Us.forEach(Yo),Xo.forEach(Yo)}function un(a,w){a.blockedOn===w&&(a.blockedOn=null,Ls||(Ls=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bs)))}function to(a){function w(H){return un(H,a)}if(0<Ns.length){un(Ns[0],a);for(var k=1;k<Ns.length;k++){var L=Ns[k];L.blockedOn===a&&(L.blockedOn=null)}}for(mo!==null&&un(mo,a),Qn!==null&&un(Qn,a),eo!==null&&un(eo,a),Us.forEach(w),Xo.forEach(w),k=0;k<go.length;k++)L=go[k],L.blockedOn===a&&(L.blockedOn=null);for(;0<go.length&&(k=go[0],k.blockedOn===null);)In(k),k.blockedOn===null&&go.shift()}var Ko=x.ReactCurrentBatchConfig,An=!0;function vi(a,w,k,L){var H=Xt,Z=Ko.transition;Ko.transition=null;try{Xt=1,bi(a,w,k,L)}finally{Xt=H,Ko.transition=Z}}function Dl(a,w,k,L){var H=Xt,Z=Ko.transition;Ko.transition=null;try{Xt=4,bi(a,w,k,L)}finally{Xt=H,Ko.transition=Z}}function bi(a,w,k,L){if(An){var H=wi(a,w,k,L);if(H===null)Xc(a,w,L,Gs,k),Al(a,L);else if(Rl(H,a,w,k,L))L.stopPropagation();else if(Al(a,L),w&4&&-1<Mc.indexOf(a)){for(;H!==null;){var Z=Ma(H);if(Z!==null&&va(Z),Z=wi(a,w,k,L),Z===null&&Xc(a,w,L,Gs,k),Z===H)break;H=Z}H!==null&&L.stopPropagation()}else Xc(a,w,L,null,k)}}var Gs=null;function wi(a,w,k,L){if(Gs=null,a=it(L),a=$s(a),a!==null)if(w=Tn(a),w===null)a=null;else if(k=w.tag,k===13){if(a=zo(w),a!==null)return a;a=null}else if(k===3){if(w.stateNode.current.memoizedState.isDehydrated)return w.tag===3?w.stateNode.containerInfo:null;a=null}else w!==a&&(a=null);return Gs=a,null}function wa(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gt()){case hr:return 1;case Cr:return 4;case ur:case Rr:return 16;case Pn:return 536870912;default:return 16}default:return 16}}var ro=null,zs=null,Vs=null;function _a(){if(Vs)return Vs;var a,w=zs,k=w.length,L,H="value"in ro?ro.value:ro.textContent,Z=H.length;for(a=0;a<k&&w[a]===H[a];a++);var ue=k-a;for(L=1;L<=ue&&w[k-L]===H[Z-L];L++);return Vs=H.slice(a,1<L?1-L:void 0)}function Ws(a){var w=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&w===13&&(a=13)):a=w,a===10&&(a=13),32<=a||a===13?a:0}function Hs(){return!0}function xa(){return!1}function nn(a){function w(k,L,H,Z,ue){this._reactName=k,this._targetInst=H,this.type=L,this.nativeEvent=Z,this.target=ue,this.currentTarget=null;for(var je in a)a.hasOwnProperty(je)&&(k=a[je],this[je]=k?k(Z):Z[je]);return this.isDefaultPrevented=(Z.defaultPrevented!=null?Z.defaultPrevented:Z.returnValue===!1)?Hs:xa,this.isPropagationStopped=xa,this}return ee(w.prototype,{preventDefault:function(){this.defaultPrevented=!0;var k=this.nativeEvent;k&&(k.preventDefault?k.preventDefault():typeof k.returnValue!="unknown"&&(k.returnValue=!1),this.isDefaultPrevented=Hs)},stopPropagation:function(){var k=this.nativeEvent;k&&(k.stopPropagation?k.stopPropagation():typeof k.cancelBubble!="unknown"&&(k.cancelBubble=!0),this.isPropagationStopped=Hs)},persist:function(){},isPersistent:Hs}),w}var Co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=nn(Co),Jo=ee({},Co,{view:0,detail:0}),ja=nn(Jo),Zo,qs,Qo,Rn=ee({},Jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sa,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Qo&&(Qo&&a.type==="mousemove"?(Zo=a.screenX-Qo.screenX,qs=a.screenY-Qo.screenY):qs=Zo=0,Qo=a),Zo)},movementY:function(a){return"movementY"in a?a.movementY:qs}}),no=nn(Rn),wt=ee({},Rn,{dataTransfer:0}),Ic=nn(wt),Ll=ee({},Jo,{relatedTarget:0}),yo=nn(Ll),Ac=ee({},Co,{animationName:0,elapsedTime:0,pseudoElement:0}),Rc=nn(Ac),ir=ee({},Co,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Nl=nn(ir),Dc=ee({},Co,{data:0}),bn=nn(Dc),Lc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fc(a){var w=this.nativeEvent;return w.getModifierState?w.getModifierState(a):(a=Uc[a])?!!w[a]:!1}function Sa(){return Fc}var Bc=ee({},Jo,{key:function(a){if(a.key){var w=Lc[a.key]||a.key;if(w!=="Unidentified")return w}return a.type==="keypress"?(a=Ws(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Nc[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sa,charCode:function(a){return a.type==="keypress"?Ws(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ws(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Ul=nn(Bc),Tr=ee({},Rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xi=nn(Tr),S=ee({},Jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sa}),C=nn(S),A=ee({},Co,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=nn(A),V=ee({},Rn,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=nn(V),te=[9,13,27,32],le=l&&"CompositionEvent"in window,me=null;l&&"documentMode"in document&&(me=document.documentMode);var ge=l&&"TextEvent"in window&&!me,Ce=l&&(!le||me&&8<me&&11>=me),Ue=" ",Ie=!1;function we(a,w){switch(a){case"keyup":return te.indexOf(w.keyCode)!==-1;case"keydown":return w.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ke(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ge=!1;function $e(a,w){switch(a){case"compositionend":return Ke(w);case"keypress":return w.which!==32?null:(Ie=!0,Ue);case"textInput":return a=w.data,a===Ue&&Ie?null:a;default:return null}}function Fe(a,w){if(Ge)return a==="compositionend"||!le&&we(a,w)?(a=_a(),Vs=zs=ro=null,Ge=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(w.ctrlKey||w.altKey||w.metaKey)||w.ctrlKey&&w.altKey){if(w.char&&1<w.char.length)return w.char;if(w.which)return String.fromCharCode(w.which)}return null;case"compositionend":return Ce&&w.locale!=="ko"?null:w.data;default:return null}}var Be={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function St(a){var w=a&&a.nodeName&&a.nodeName.toLowerCase();return w==="input"?!!Be[a.type]:w==="textarea"}function Nt(a,w,k,L){bt(L),w=zl(w,"onChange"),0<w.length&&(k=new _i("onChange","change",null,k,L),a.push({event:k,listeners:w}))}var _t=null,jt=null;function Ft(a){Tp(a,0)}function Qt(a){var w=Ci(a);if(be(w))return a}function vr(a,w){if(a==="change")return w}var xr=!1;if(l){var Lr;if(l){var Nr="oninput"in document;if(!Nr){var wn=document.createElement("div");wn.setAttribute("oninput","return;"),Nr=typeof wn.oninput=="function"}Lr=Nr}else Lr=!1;xr=Lr&&(!document.documentMode||9<document.documentMode)}function tr(){_t&&(_t.detachEvent("onpropertychange",ar),jt=_t=null)}function ar(a){if(a.propertyName==="value"&&Qt(jt)){var w=[];Nt(w,jt,a,it(a)),_r(Ft,w)}}function er(a,w,k){a==="focusin"?(tr(),_t=w,jt=k,_t.attachEvent("onpropertychange",ar)):a==="focusout"&&tr()}function $r(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Qt(jt)}function pr(a,w){if(a==="click")return Qt(w)}function Br(a,w){if(a==="input"||a==="change")return Qt(w)}function cr(a,w){return a===w&&(a!==0||1/a===1/w)||a!==a&&w!==w}var rr=typeof Object.is=="function"?Object.is:cr;function oo(a,w){if(rr(a,w))return!0;if(typeof a!="object"||a===null||typeof w!="object"||w===null)return!1;var k=Object.keys(a),L=Object.keys(w);if(k.length!==L.length)return!1;for(L=0;L<k.length;L++){var H=k[L];if(!i.call(w,H)||!rr(a[H],w[H]))return!1}return!0}function To(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ea(a,w){var k=To(a);a=0;for(var L;k;){if(k.nodeType===3){if(L=a+k.textContent.length,a<=w&&L>=w)return{node:k,offset:w-a};a=L}e:{for(;k;){if(k.nextSibling){k=k.nextSibling;break e}k=k.parentNode}k=void 0}k=To(k)}}function yp(a,w){return a&&w?a===w?!0:a&&a.nodeType===3?!1:w&&w.nodeType===3?yp(a,w.parentNode):"contains"in a?a.contains(w):a.compareDocumentPosition?!!(a.compareDocumentPosition(w)&16):!1:!1}function vp(){for(var a=window,w=pe();w instanceof a.HTMLIFrameElement;){try{var k=typeof w.contentWindow.location.href=="string"}catch{k=!1}if(k)a=w.contentWindow;else break;w=pe(a.document)}return w}function Gc(a){var w=a&&a.nodeName&&a.nodeName.toLowerCase();return w&&(w==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||w==="textarea"||a.contentEditable==="true")}function t1(a){var w=vp(),k=a.focusedElem,L=a.selectionRange;if(w!==k&&k&&k.ownerDocument&&yp(k.ownerDocument.documentElement,k)){if(L!==null&&Gc(k)){if(w=L.start,a=L.end,a===void 0&&(a=w),"selectionStart"in k)k.selectionStart=w,k.selectionEnd=Math.min(a,k.value.length);else if(a=(w=k.ownerDocument||document)&&w.defaultView||window,a.getSelection){a=a.getSelection();var H=k.textContent.length,Z=Math.min(L.start,H);L=L.end===void 0?Z:Math.min(L.end,H),!a.extend&&Z>L&&(H=L,L=Z,Z=H),H=Ea(k,Z);var ue=Ea(k,L);H&&ue&&(a.rangeCount!==1||a.anchorNode!==H.node||a.anchorOffset!==H.offset||a.focusNode!==ue.node||a.focusOffset!==ue.offset)&&(w=w.createRange(),w.setStart(H.node,H.offset),a.removeAllRanges(),Z>L?(a.addRange(w),a.extend(ue.node,ue.offset)):(w.setEnd(ue.node,ue.offset),a.addRange(w)))}}for(w=[],a=k;a=a.parentNode;)a.nodeType===1&&w.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<w.length;k++)a=w[k],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var r1=l&&"documentMode"in document&&11>=document.documentMode,ji=null,zc=null,ka=null,Vc=!1;function bp(a,w,k){var L=k.window===k?k.document:k.nodeType===9?k:k.ownerDocument;Vc||ji==null||ji!==pe(L)||(L=ji,"selectionStart"in L&&Gc(L)?L={start:L.selectionStart,end:L.selectionEnd}:(L=(L.ownerDocument&&L.ownerDocument.defaultView||window).getSelection(),L={anchorNode:L.anchorNode,anchorOffset:L.anchorOffset,focusNode:L.focusNode,focusOffset:L.focusOffset}),ka&&oo(ka,L)||(ka=L,L=zl(zc,"onSelect"),0<L.length&&(w=new _i("onSelect","select",null,w,k),a.push({event:w,listeners:L}),w.target=ji)))}function Fl(a,w){var k={};return k[a.toLowerCase()]=w.toLowerCase(),k["Webkit"+a]="webkit"+w,k["Moz"+a]="moz"+w,k}var Si={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionend:Fl("Transition","TransitionEnd")},Wc={},wp={};l&&(wp=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function Bl(a){if(Wc[a])return Wc[a];if(!Si[a])return a;var w=Si[a],k;for(k in w)if(w.hasOwnProperty(k)&&k in wp)return Wc[a]=w[k];return a}var _p=Bl("animationend"),xp=Bl("animationiteration"),jp=Bl("animationstart"),Sp=Bl("transitionend"),Ep=new Map,kp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function es(a,w){Ep.set(a,w),u(w,[a])}for(var Hc=0;Hc<kp.length;Hc++){var qc=kp[Hc],n1=qc.toLowerCase(),o1=qc[0].toUpperCase()+qc.slice(1);es(n1,"on"+o1)}es(_p,"onAnimationEnd"),es(xp,"onAnimationIteration"),es(jp,"onAnimationStart"),es("dblclick","onDoubleClick"),es("focusin","onFocus"),es("focusout","onBlur"),es(Sp,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ca));function Cp(a,w,k){var L=a.type||"unknown-event";a.currentTarget=k,pi(L,w,void 0,a),a.currentTarget=null}function Tp(a,w){w=(w&4)!==0;for(var k=0;k<a.length;k++){var L=a[k],H=L.event;L=L.listeners;e:{var Z=void 0;if(w)for(var ue=L.length-1;0<=ue;ue--){var je=L[ue],Pe=je.instance,qe=je.currentTarget;if(je=je.listener,Pe!==Z&&H.isPropagationStopped())break e;Cp(H,je,qe),Z=Pe}else for(ue=0;ue<L.length;ue++){if(je=L[ue],Pe=je.instance,qe=je.currentTarget,je=je.listener,Pe!==Z&&H.isPropagationStopped())break e;Cp(H,je,qe),Z=Pe}}}if(kr)throw a=Eo,kr=!1,Eo=null,a}function mr(a,w){var k=w[ed];k===void 0&&(k=w[ed]=new Set);var L=a+"__bubble";k.has(L)||(Pp(w,a,2,!1),k.add(L))}function $c(a,w,k){var L=0;w&&(L|=4),Pp(k,a,L,w)}var Gl="_reactListening"+Math.random().toString(36).slice(2);function Ta(a){if(!a[Gl]){a[Gl]=!0,t.forEach(function(k){k!=="selectionchange"&&(s1.has(k)||$c(k,!1,a),$c(k,!0,a))});var w=a.nodeType===9?a:a.ownerDocument;w===null||w[Gl]||(w[Gl]=!0,$c("selectionchange",!1,w))}}function Pp(a,w,k,L){switch(wa(w)){case 1:var H=vi;break;case 4:H=Dl;break;default:H=bi}k=H.bind(null,w,k,a),H=void 0,!sr||w!=="touchstart"&&w!=="touchmove"&&w!=="wheel"||(H=!0),L?H!==void 0?a.addEventListener(w,k,{capture:!0,passive:H}):a.addEventListener(w,k,!0):H!==void 0?a.addEventListener(w,k,{passive:H}):a.addEventListener(w,k,!1)}function Xc(a,w,k,L,H){var Z=L;if((w&1)===0&&(w&2)===0&&L!==null)e:for(;;){if(L===null)return;var ue=L.tag;if(ue===3||ue===4){var je=L.stateNode.containerInfo;if(je===H||je.nodeType===8&&je.parentNode===H)break;if(ue===4)for(ue=L.return;ue!==null;){var Pe=ue.tag;if((Pe===3||Pe===4)&&(Pe=ue.stateNode.containerInfo,Pe===H||Pe.nodeType===8&&Pe.parentNode===H))return;ue=ue.return}for(;je!==null;){if(ue=$s(je),ue===null)return;if(Pe=ue.tag,Pe===5||Pe===6){L=Z=ue;continue e}je=je.parentNode}}L=L.return}_r(function(){var qe=Z,nt=it(k),st=[];e:{var tt=Ep.get(a);if(tt!==void 0){var vt=_i,Et=a;switch(a){case"keypress":if(Ws(k)===0)break e;case"keydown":case"keyup":vt=Ul;break;case"focusin":Et="focus",vt=yo;break;case"focusout":Et="blur",vt=yo;break;case"beforeblur":case"afterblur":vt=yo;break;case"click":if(k.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vt=no;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vt=Ic;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vt=C;break;case _p:case xp:case jp:vt=Rc;break;case Sp:vt=N;break;case"scroll":vt=ja;break;case"wheel":vt=Q;break;case"copy":case"cut":case"paste":vt=Nl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vt=xi}var kt=(w&4)!==0,Mr=!kt&&a==="scroll",ze=kt?tt!==null?tt+"Capture":null:tt;kt=[];for(var Ae=qe,We;Ae!==null;){We=Ae;var dt=We.stateNode;if(We.tag===5&&dt!==null&&(We=dt,ze!==null&&(dt=qt(Ae,ze),dt!=null&&kt.push(Pa(Ae,dt,We)))),Mr)break;Ae=Ae.return}0<kt.length&&(tt=new vt(tt,Et,null,k,nt),st.push({event:tt,listeners:kt}))}}if((w&7)===0){e:{if(tt=a==="mouseover"||a==="pointerover",vt=a==="mouseout"||a==="pointerout",tt&&k!==Qe&&(Et=k.relatedTarget||k.fromElement)&&($s(Et)||Et[Po]))break e;if((vt||tt)&&(tt=nt.window===nt?nt:(tt=nt.ownerDocument)?tt.defaultView||tt.parentWindow:window,vt?(Et=k.relatedTarget||k.toElement,vt=qe,Et=Et?$s(Et):null,Et!==null&&(Mr=Tn(Et),Et!==Mr||Et.tag!==5&&Et.tag!==6)&&(Et=null)):(vt=null,Et=qe),vt!==Et)){if(kt=no,dt="onMouseLeave",ze="onMouseEnter",Ae="mouse",(a==="pointerout"||a==="pointerover")&&(kt=xi,dt="onPointerLeave",ze="onPointerEnter",Ae="pointer"),Mr=vt==null?tt:Ci(vt),We=Et==null?tt:Ci(Et),tt=new kt(dt,Ae+"leave",vt,k,nt),tt.target=Mr,tt.relatedTarget=We,dt=null,$s(nt)===qe&&(kt=new kt(ze,Ae+"enter",Et,k,nt),kt.target=We,kt.relatedTarget=Mr,dt=kt),Mr=dt,vt&&Et)t:{for(kt=vt,ze=Et,Ae=0,We=kt;We;We=Ei(We))Ae++;for(We=0,dt=ze;dt;dt=Ei(dt))We++;for(;0<Ae-We;)kt=Ei(kt),Ae--;for(;0<We-Ae;)ze=Ei(ze),We--;for(;Ae--;){if(kt===ze||ze!==null&&kt===ze.alternate)break t;kt=Ei(kt),ze=Ei(ze)}kt=null}else kt=null;vt!==null&&Op(st,tt,vt,kt,!1),Et!==null&&Mr!==null&&Op(st,Mr,Et,kt,!0)}}e:{if(tt=qe?Ci(qe):window,vt=tt.nodeName&&tt.nodeName.toLowerCase(),vt==="select"||vt==="input"&&tt.type==="file")var Ct=vr;else if(St(tt))if(xr)Ct=Br;else{Ct=$r;var Rt=er}else(vt=tt.nodeName)&&vt.toLowerCase()==="input"&&(tt.type==="checkbox"||tt.type==="radio")&&(Ct=pr);if(Ct&&(Ct=Ct(a,qe))){Nt(st,Ct,k,nt);break e}Rt&&Rt(a,tt,qe),a==="focusout"&&(Rt=tt._wrapperState)&&Rt.controlled&&tt.type==="number"&&Se(tt,"number",tt.value)}switch(Rt=qe?Ci(qe):window,a){case"focusin":(St(Rt)||Rt.contentEditable==="true")&&(ji=Rt,zc=qe,ka=null);break;case"focusout":ka=zc=ji=null;break;case"mousedown":Vc=!0;break;case"contextmenu":case"mouseup":case"dragend":Vc=!1,bp(st,k,nt);break;case"selectionchange":if(r1)break;case"keydown":case"keyup":bp(st,k,nt)}var Dt;if(le)e:{switch(a){case"compositionstart":var Ut="onCompositionStart";break e;case"compositionend":Ut="onCompositionEnd";break e;case"compositionupdate":Ut="onCompositionUpdate";break e}Ut=void 0}else Ge?we(a,k)&&(Ut="onCompositionEnd"):a==="keydown"&&k.keyCode===229&&(Ut="onCompositionStart");Ut&&(Ce&&k.locale!=="ko"&&(Ge||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Ge&&(Dt=_a()):(ro=nt,zs="value"in ro?ro.value:ro.textContent,Ge=!0)),Rt=zl(qe,Ut),0<Rt.length&&(Ut=new bn(Ut,a,null,k,nt),st.push({event:Ut,listeners:Rt}),Dt?Ut.data=Dt:(Dt=Ke(k),Dt!==null&&(Ut.data=Dt)))),(Dt=ge?$e(a,k):Fe(a,k))&&(qe=zl(qe,"onBeforeInput"),0<qe.length&&(nt=new bn("onBeforeInput","beforeinput",null,k,nt),st.push({event:nt,listeners:qe}),nt.data=Dt))}Tp(st,w)})}function Pa(a,w,k){return{instance:a,listener:w,currentTarget:k}}function zl(a,w){for(var k=w+"Capture",L=[];a!==null;){var H=a,Z=H.stateNode;H.tag===5&&Z!==null&&(H=Z,Z=qt(a,k),Z!=null&&L.unshift(Pa(a,Z,H)),Z=qt(a,w),Z!=null&&L.push(Pa(a,Z,H))),a=a.return}return L}function Ei(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Op(a,w,k,L,H){for(var Z=w._reactName,ue=[];k!==null&&k!==L;){var je=k,Pe=je.alternate,qe=je.stateNode;if(Pe!==null&&Pe===L)break;je.tag===5&&qe!==null&&(je=qe,H?(Pe=qt(k,Z),Pe!=null&&ue.unshift(Pa(k,Pe,je))):H||(Pe=qt(k,Z),Pe!=null&&ue.push(Pa(k,Pe,je)))),k=k.return}ue.length!==0&&a.push({event:w,listeners:ue})}var i1=/\r\n?/g,a1=/\u0000|\uFFFD/g;function Mp(a){return(typeof a=="string"?a:""+a).replace(i1,`
`).replace(a1,"")}function Vl(a,w,k){if(w=Mp(w),Mp(a)!==w&&k)throw Error(d(425))}function Wl(){}var Yc=null,Kc=null;function Jc(a,w){return a==="textarea"||a==="noscript"||typeof w.children=="string"||typeof w.children=="number"||typeof w.dangerouslySetInnerHTML=="object"&&w.dangerouslySetInnerHTML!==null&&w.dangerouslySetInnerHTML.__html!=null}var Zc=typeof setTimeout=="function"?setTimeout:void 0,l1=typeof clearTimeout=="function"?clearTimeout:void 0,Ip=typeof Promise=="function"?Promise:void 0,u1=typeof queueMicrotask=="function"?queueMicrotask:typeof Ip<"u"?function(a){return Ip.resolve(null).then(a).catch(c1)}:Zc;function c1(a){setTimeout(function(){throw a})}function Qc(a,w){var k=w,L=0;do{var H=k.nextSibling;if(a.removeChild(k),H&&H.nodeType===8)if(k=H.data,k==="/$"){if(L===0){a.removeChild(H),to(w);return}L--}else k!=="$"&&k!=="$?"&&k!=="$!"||L++;k=H}while(k);to(w)}function ts(a){for(;a!=null;a=a.nextSibling){var w=a.nodeType;if(w===1||w===3)break;if(w===8){if(w=a.data,w==="$"||w==="$!"||w==="$?")break;if(w==="/$")return null}}return a}function Ap(a){a=a.previousSibling;for(var w=0;a;){if(a.nodeType===8){var k=a.data;if(k==="$"||k==="$!"||k==="$?"){if(w===0)return a;w--}else k==="/$"&&w++}a=a.previousSibling}return null}var ki=Math.random().toString(36).slice(2),vo="__reactFiber$"+ki,Oa="__reactProps$"+ki,Po="__reactContainer$"+ki,ed="__reactEvents$"+ki,d1="__reactListeners$"+ki,f1="__reactHandles$"+ki;function $s(a){var w=a[vo];if(w)return w;for(var k=a.parentNode;k;){if(w=k[Po]||k[vo]){if(k=w.alternate,w.child!==null||k!==null&&k.child!==null)for(a=Ap(a);a!==null;){if(k=a[vo])return k;a=Ap(a)}return w}a=k,k=a.parentNode}return null}function Ma(a){return a=a[vo]||a[Po],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Ci(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(d(33))}function Hl(a){return a[Oa]||null}var td=[],Ti=-1;function rs(a){return{current:a}}function gr(a){0>Ti||(a.current=td[Ti],td[Ti]=null,Ti--)}function dr(a,w){Ti++,td[Ti]=a.current,a.current=w}var ns={},on=rs(ns),_n=rs(!1),Xs=ns;function Pi(a,w){var k=a.type.contextTypes;if(!k)return ns;var L=a.stateNode;if(L&&L.__reactInternalMemoizedUnmaskedChildContext===w)return L.__reactInternalMemoizedMaskedChildContext;var H={},Z;for(Z in k)H[Z]=w[Z];return L&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=w,a.__reactInternalMemoizedMaskedChildContext=H),H}function xn(a){return a=a.childContextTypes,a!=null}function ql(){gr(_n),gr(on)}function Rp(a,w,k){if(on.current!==ns)throw Error(d(168));dr(on,w),dr(_n,k)}function Dp(a,w,k){var L=a.stateNode;if(w=w.childContextTypes,typeof L.getChildContext!="function")return k;L=L.getChildContext();for(var H in L)if(!(H in w))throw Error(d(108,oe(a)||"Unknown",H));return ee({},k,L)}function $l(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||ns,Xs=on.current,dr(on,a),dr(_n,_n.current),!0}function Lp(a,w,k){var L=a.stateNode;if(!L)throw Error(d(169));k?(a=Dp(a,w,Xs),L.__reactInternalMemoizedMergedChildContext=a,gr(_n),gr(on),dr(on,a)):gr(_n),dr(_n,k)}var Oo=null,Xl=!1,rd=!1;function Np(a){Oo===null?Oo=[a]:Oo.push(a)}function h1(a){Xl=!0,Np(a)}function os(){if(!rd&&Oo!==null){rd=!0;var a=0,w=Xt;try{var k=Oo;for(Xt=1;a<k.length;a++){var L=k[a];do L=L(!0);while(L!==null)}Oo=null,Xl=!1}catch(H){throw Oo!==null&&(Oo=Oo.slice(a+1)),Gt(hr,os),H}finally{Xt=w,rd=!1}}return null}var Oi=[],Mi=0,Yl=null,Kl=0,Vn=[],Wn=0,Ys=null,Mo=1,Io="";function Ks(a,w){Oi[Mi++]=Kl,Oi[Mi++]=Yl,Yl=a,Kl=w}function Up(a,w,k){Vn[Wn++]=Mo,Vn[Wn++]=Io,Vn[Wn++]=Ys,Ys=a;var L=Mo;a=Io;var H=32-yn(L)-1;L&=~(1<<H),k+=1;var Z=32-yn(w)+H;if(30<Z){var ue=H-H%5;Z=(L&(1<<ue)-1).toString(32),L>>=ue,H-=ue,Mo=1<<32-yn(w)+H|k<<H|L,Io=Z+a}else Mo=1<<Z|k<<H|L,Io=a}function nd(a){a.return!==null&&(Ks(a,1),Up(a,1,0))}function od(a){for(;a===Yl;)Yl=Oi[--Mi],Oi[Mi]=null,Kl=Oi[--Mi],Oi[Mi]=null;for(;a===Ys;)Ys=Vn[--Wn],Vn[Wn]=null,Io=Vn[--Wn],Vn[Wn]=null,Mo=Vn[--Wn],Vn[Wn]=null}var Dn=null,Ln=null,br=!1,so=null;function Fp(a,w){var k=Xn(5,null,null,0);k.elementType="DELETED",k.stateNode=w,k.return=a,w=a.deletions,w===null?(a.deletions=[k],a.flags|=16):w.push(k)}function Bp(a,w){switch(a.tag){case 5:var k=a.type;return w=w.nodeType!==1||k.toLowerCase()!==w.nodeName.toLowerCase()?null:w,w!==null?(a.stateNode=w,Dn=a,Ln=ts(w.firstChild),!0):!1;case 6:return w=a.pendingProps===""||w.nodeType!==3?null:w,w!==null?(a.stateNode=w,Dn=a,Ln=null,!0):!1;case 13:return w=w.nodeType!==8?null:w,w!==null?(k=Ys!==null?{id:Mo,overflow:Io}:null,a.memoizedState={dehydrated:w,treeContext:k,retryLane:1073741824},k=Xn(18,null,null,0),k.stateNode=w,k.return=a,a.child=k,Dn=a,Ln=null,!0):!1;default:return!1}}function sd(a){return(a.mode&1)!==0&&(a.flags&128)===0}function id(a){if(br){var w=Ln;if(w){var k=w;if(!Bp(a,w)){if(sd(a))throw Error(d(418));w=ts(k.nextSibling);var L=Dn;w&&Bp(a,w)?Fp(L,k):(a.flags=a.flags&-4097|2,br=!1,Dn=a)}}else{if(sd(a))throw Error(d(418));a.flags=a.flags&-4097|2,br=!1,Dn=a}}}function Gp(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Dn=a}function Jl(a){if(a!==Dn)return!1;if(!br)return Gp(a),br=!0,!1;var w;if((w=a.tag!==3)&&!(w=a.tag!==5)&&(w=a.type,w=w!=="head"&&w!=="body"&&!Jc(a.type,a.memoizedProps)),w&&(w=Ln)){if(sd(a))throw zp(),Error(d(418));for(;w;)Fp(a,w),w=ts(w.nextSibling)}if(Gp(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(d(317));e:{for(a=a.nextSibling,w=0;a;){if(a.nodeType===8){var k=a.data;if(k==="/$"){if(w===0){Ln=ts(a.nextSibling);break e}w--}else k!=="$"&&k!=="$!"&&k!=="$?"||w++}a=a.nextSibling}Ln=null}}else Ln=Dn?ts(a.stateNode.nextSibling):null;return!0}function zp(){for(var a=Ln;a;)a=ts(a.nextSibling)}function Ii(){Ln=Dn=null,br=!1}function ad(a){so===null?so=[a]:so.push(a)}var p1=x.ReactCurrentBatchConfig;function Ia(a,w,k){if(a=k.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(k._owner){if(k=k._owner,k){if(k.tag!==1)throw Error(d(309));var L=k.stateNode}if(!L)throw Error(d(147,a));var H=L,Z=""+a;return w!==null&&w.ref!==null&&typeof w.ref=="function"&&w.ref._stringRef===Z?w.ref:(w=function(ue){var je=H.refs;ue===null?delete je[Z]:je[Z]=ue},w._stringRef=Z,w)}if(typeof a!="string")throw Error(d(284));if(!k._owner)throw Error(d(290,a))}return a}function Zl(a,w){throw a=Object.prototype.toString.call(w),Error(d(31,a==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":a))}function Vp(a){var w=a._init;return w(a._payload)}function Wp(a){function w(ze,Ae){if(a){var We=ze.deletions;We===null?(ze.deletions=[Ae],ze.flags|=16):We.push(Ae)}}function k(ze,Ae){if(!a)return null;for(;Ae!==null;)w(ze,Ae),Ae=Ae.sibling;return null}function L(ze,Ae){for(ze=new Map;Ae!==null;)Ae.key!==null?ze.set(Ae.key,Ae):ze.set(Ae.index,Ae),Ae=Ae.sibling;return ze}function H(ze,Ae){return ze=fs(ze,Ae),ze.index=0,ze.sibling=null,ze}function Z(ze,Ae,We){return ze.index=We,a?(We=ze.alternate,We!==null?(We=We.index,We<Ae?(ze.flags|=2,Ae):We):(ze.flags|=2,Ae)):(ze.flags|=1048576,Ae)}function ue(ze){return a&&ze.alternate===null&&(ze.flags|=2),ze}function je(ze,Ae,We,dt){return Ae===null||Ae.tag!==6?(Ae=Zd(We,ze.mode,dt),Ae.return=ze,Ae):(Ae=H(Ae,We),Ae.return=ze,Ae)}function Pe(ze,Ae,We,dt){var Ct=We.type;return Ct===O?nt(ze,Ae,We.props.children,dt,We.key):Ae!==null&&(Ae.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===q&&Vp(Ct)===Ae.type)?(dt=H(Ae,We.props),dt.ref=Ia(ze,Ae,We),dt.return=ze,dt):(dt=xu(We.type,We.key,We.props,null,ze.mode,dt),dt.ref=Ia(ze,Ae,We),dt.return=ze,dt)}function qe(ze,Ae,We,dt){return Ae===null||Ae.tag!==4||Ae.stateNode.containerInfo!==We.containerInfo||Ae.stateNode.implementation!==We.implementation?(Ae=Qd(We,ze.mode,dt),Ae.return=ze,Ae):(Ae=H(Ae,We.children||[]),Ae.return=ze,Ae)}function nt(ze,Ae,We,dt,Ct){return Ae===null||Ae.tag!==7?(Ae=oi(We,ze.mode,dt,Ct),Ae.return=ze,Ae):(Ae=H(Ae,We),Ae.return=ze,Ae)}function st(ze,Ae,We){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return Ae=Zd(""+Ae,ze.mode,We),Ae.return=ze,Ae;if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case E:return We=xu(Ae.type,Ae.key,Ae.props,null,ze.mode,We),We.ref=Ia(ze,null,Ae),We.return=ze,We;case P:return Ae=Qd(Ae,ze.mode,We),Ae.return=ze,Ae;case q:var dt=Ae._init;return st(ze,dt(Ae._payload),We)}if(Oe(Ae)||X(Ae))return Ae=oi(Ae,ze.mode,We,null),Ae.return=ze,Ae;Zl(ze,Ae)}return null}function tt(ze,Ae,We,dt){var Ct=Ae!==null?Ae.key:null;if(typeof We=="string"&&We!==""||typeof We=="number")return Ct!==null?null:je(ze,Ae,""+We,dt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case E:return We.key===Ct?Pe(ze,Ae,We,dt):null;case P:return We.key===Ct?qe(ze,Ae,We,dt):null;case q:return Ct=We._init,tt(ze,Ae,Ct(We._payload),dt)}if(Oe(We)||X(We))return Ct!==null?null:nt(ze,Ae,We,dt,null);Zl(ze,We)}return null}function vt(ze,Ae,We,dt,Ct){if(typeof dt=="string"&&dt!==""||typeof dt=="number")return ze=ze.get(We)||null,je(Ae,ze,""+dt,Ct);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case E:return ze=ze.get(dt.key===null?We:dt.key)||null,Pe(Ae,ze,dt,Ct);case P:return ze=ze.get(dt.key===null?We:dt.key)||null,qe(Ae,ze,dt,Ct);case q:var Rt=dt._init;return vt(ze,Ae,We,Rt(dt._payload),Ct)}if(Oe(dt)||X(dt))return ze=ze.get(We)||null,nt(Ae,ze,dt,Ct,null);Zl(Ae,dt)}return null}function Et(ze,Ae,We,dt){for(var Ct=null,Rt=null,Dt=Ae,Ut=Ae=0,Kr=null;Dt!==null&&Ut<We.length;Ut++){Dt.index>Ut?(Kr=Dt,Dt=null):Kr=Dt.sibling;var Zt=tt(ze,Dt,We[Ut],dt);if(Zt===null){Dt===null&&(Dt=Kr);break}a&&Dt&&Zt.alternate===null&&w(ze,Dt),Ae=Z(Zt,Ae,Ut),Rt===null?Ct=Zt:Rt.sibling=Zt,Rt=Zt,Dt=Kr}if(Ut===We.length)return k(ze,Dt),br&&Ks(ze,Ut),Ct;if(Dt===null){for(;Ut<We.length;Ut++)Dt=st(ze,We[Ut],dt),Dt!==null&&(Ae=Z(Dt,Ae,Ut),Rt===null?Ct=Dt:Rt.sibling=Dt,Rt=Dt);return br&&Ks(ze,Ut),Ct}for(Dt=L(ze,Dt);Ut<We.length;Ut++)Kr=vt(Dt,ze,Ut,We[Ut],dt),Kr!==null&&(a&&Kr.alternate!==null&&Dt.delete(Kr.key===null?Ut:Kr.key),Ae=Z(Kr,Ae,Ut),Rt===null?Ct=Kr:Rt.sibling=Kr,Rt=Kr);return a&&Dt.forEach(function(hs){return w(ze,hs)}),br&&Ks(ze,Ut),Ct}function kt(ze,Ae,We,dt){var Ct=X(We);if(typeof Ct!="function")throw Error(d(150));if(We=Ct.call(We),We==null)throw Error(d(151));for(var Rt=Ct=null,Dt=Ae,Ut=Ae=0,Kr=null,Zt=We.next();Dt!==null&&!Zt.done;Ut++,Zt=We.next()){Dt.index>Ut?(Kr=Dt,Dt=null):Kr=Dt.sibling;var hs=tt(ze,Dt,Zt.value,dt);if(hs===null){Dt===null&&(Dt=Kr);break}a&&Dt&&hs.alternate===null&&w(ze,Dt),Ae=Z(hs,Ae,Ut),Rt===null?Ct=hs:Rt.sibling=hs,Rt=hs,Dt=Kr}if(Zt.done)return k(ze,Dt),br&&Ks(ze,Ut),Ct;if(Dt===null){for(;!Zt.done;Ut++,Zt=We.next())Zt=st(ze,Zt.value,dt),Zt!==null&&(Ae=Z(Zt,Ae,Ut),Rt===null?Ct=Zt:Rt.sibling=Zt,Rt=Zt);return br&&Ks(ze,Ut),Ct}for(Dt=L(ze,Dt);!Zt.done;Ut++,Zt=We.next())Zt=vt(Dt,ze,Ut,Zt.value,dt),Zt!==null&&(a&&Zt.alternate!==null&&Dt.delete(Zt.key===null?Ut:Zt.key),Ae=Z(Zt,Ae,Ut),Rt===null?Ct=Zt:Rt.sibling=Zt,Rt=Zt);return a&&Dt.forEach(function($1){return w(ze,$1)}),br&&Ks(ze,Ut),Ct}function Mr(ze,Ae,We,dt){if(typeof We=="object"&&We!==null&&We.type===O&&We.key===null&&(We=We.props.children),typeof We=="object"&&We!==null){switch(We.$$typeof){case E:e:{for(var Ct=We.key,Rt=Ae;Rt!==null;){if(Rt.key===Ct){if(Ct=We.type,Ct===O){if(Rt.tag===7){k(ze,Rt.sibling),Ae=H(Rt,We.props.children),Ae.return=ze,ze=Ae;break e}}else if(Rt.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===q&&Vp(Ct)===Rt.type){k(ze,Rt.sibling),Ae=H(Rt,We.props),Ae.ref=Ia(ze,Rt,We),Ae.return=ze,ze=Ae;break e}k(ze,Rt);break}else w(ze,Rt);Rt=Rt.sibling}We.type===O?(Ae=oi(We.props.children,ze.mode,dt,We.key),Ae.return=ze,ze=Ae):(dt=xu(We.type,We.key,We.props,null,ze.mode,dt),dt.ref=Ia(ze,Ae,We),dt.return=ze,ze=dt)}return ue(ze);case P:e:{for(Rt=We.key;Ae!==null;){if(Ae.key===Rt)if(Ae.tag===4&&Ae.stateNode.containerInfo===We.containerInfo&&Ae.stateNode.implementation===We.implementation){k(ze,Ae.sibling),Ae=H(Ae,We.children||[]),Ae.return=ze,ze=Ae;break e}else{k(ze,Ae);break}else w(ze,Ae);Ae=Ae.sibling}Ae=Qd(We,ze.mode,dt),Ae.return=ze,ze=Ae}return ue(ze);case q:return Rt=We._init,Mr(ze,Ae,Rt(We._payload),dt)}if(Oe(We))return Et(ze,Ae,We,dt);if(X(We))return kt(ze,Ae,We,dt);Zl(ze,We)}return typeof We=="string"&&We!==""||typeof We=="number"?(We=""+We,Ae!==null&&Ae.tag===6?(k(ze,Ae.sibling),Ae=H(Ae,We),Ae.return=ze,ze=Ae):(k(ze,Ae),Ae=Zd(We,ze.mode,dt),Ae.return=ze,ze=Ae),ue(ze)):k(ze,Ae)}return Mr}var Ai=Wp(!0),Hp=Wp(!1),Ql=rs(null),eu=null,Ri=null,ld=null;function ud(){ld=Ri=eu=null}function cd(a){var w=Ql.current;gr(Ql),a._currentValue=w}function dd(a,w,k){for(;a!==null;){var L=a.alternate;if((a.childLanes&w)!==w?(a.childLanes|=w,L!==null&&(L.childLanes|=w)):L!==null&&(L.childLanes&w)!==w&&(L.childLanes|=w),a===k)break;a=a.return}}function Di(a,w){eu=a,ld=Ri=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&w)!==0&&(jn=!0),a.firstContext=null)}function Hn(a){var w=a._currentValue;if(ld!==a)if(a={context:a,memoizedValue:w,next:null},Ri===null){if(eu===null)throw Error(d(308));Ri=a,eu.dependencies={lanes:0,firstContext:a}}else Ri=Ri.next=a;return w}var Js=null;function fd(a){Js===null?Js=[a]:Js.push(a)}function qp(a,w,k,L){var H=w.interleaved;return H===null?(k.next=k,fd(w)):(k.next=H.next,H.next=k),w.interleaved=k,Ao(a,L)}function Ao(a,w){a.lanes|=w;var k=a.alternate;for(k!==null&&(k.lanes|=w),k=a,a=a.return;a!==null;)a.childLanes|=w,k=a.alternate,k!==null&&(k.childLanes|=w),k=a,a=a.return;return k.tag===3?k.stateNode:null}var ss=!1;function hd(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $p(a,w){a=a.updateQueue,w.updateQueue===a&&(w.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Ro(a,w){return{eventTime:a,lane:w,tag:0,payload:null,callback:null,next:null}}function is(a,w,k){var L=a.updateQueue;if(L===null)return null;if(L=L.shared,(Kt&2)!==0){var H=L.pending;return H===null?w.next=w:(w.next=H.next,H.next=w),L.pending=w,Ao(a,k)}return H=L.interleaved,H===null?(w.next=w,fd(L)):(w.next=H.next,H.next=w),L.interleaved=w,Ao(a,k)}function tu(a,w,k){if(w=w.updateQueue,w!==null&&(w=w.shared,(k&4194240)!==0)){var L=w.lanes;L&=a.pendingLanes,k|=L,w.lanes=k,$o(a,k)}}function Xp(a,w){var k=a.updateQueue,L=a.alternate;if(L!==null&&(L=L.updateQueue,k===L)){var H=null,Z=null;if(k=k.firstBaseUpdate,k!==null){do{var ue={eventTime:k.eventTime,lane:k.lane,tag:k.tag,payload:k.payload,callback:k.callback,next:null};Z===null?H=Z=ue:Z=Z.next=ue,k=k.next}while(k!==null);Z===null?H=Z=w:Z=Z.next=w}else H=Z=w;k={baseState:L.baseState,firstBaseUpdate:H,lastBaseUpdate:Z,shared:L.shared,effects:L.effects},a.updateQueue=k;return}a=k.lastBaseUpdate,a===null?k.firstBaseUpdate=w:a.next=w,k.lastBaseUpdate=w}function ru(a,w,k,L){var H=a.updateQueue;ss=!1;var Z=H.firstBaseUpdate,ue=H.lastBaseUpdate,je=H.shared.pending;if(je!==null){H.shared.pending=null;var Pe=je,qe=Pe.next;Pe.next=null,ue===null?Z=qe:ue.next=qe,ue=Pe;var nt=a.alternate;nt!==null&&(nt=nt.updateQueue,je=nt.lastBaseUpdate,je!==ue&&(je===null?nt.firstBaseUpdate=qe:je.next=qe,nt.lastBaseUpdate=Pe))}if(Z!==null){var st=H.baseState;ue=0,nt=qe=Pe=null,je=Z;do{var tt=je.lane,vt=je.eventTime;if((L&tt)===tt){nt!==null&&(nt=nt.next={eventTime:vt,lane:0,tag:je.tag,payload:je.payload,callback:je.callback,next:null});e:{var Et=a,kt=je;switch(tt=w,vt=k,kt.tag){case 1:if(Et=kt.payload,typeof Et=="function"){st=Et.call(vt,st,tt);break e}st=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=kt.payload,tt=typeof Et=="function"?Et.call(vt,st,tt):Et,tt==null)break e;st=ee({},st,tt);break e;case 2:ss=!0}}je.callback!==null&&je.lane!==0&&(a.flags|=64,tt=H.effects,tt===null?H.effects=[je]:tt.push(je))}else vt={eventTime:vt,lane:tt,tag:je.tag,payload:je.payload,callback:je.callback,next:null},nt===null?(qe=nt=vt,Pe=st):nt=nt.next=vt,ue|=tt;if(je=je.next,je===null){if(je=H.shared.pending,je===null)break;tt=je,je=tt.next,tt.next=null,H.lastBaseUpdate=tt,H.shared.pending=null}}while(!0);if(nt===null&&(Pe=st),H.baseState=Pe,H.firstBaseUpdate=qe,H.lastBaseUpdate=nt,w=H.shared.interleaved,w!==null){H=w;do ue|=H.lane,H=H.next;while(H!==w)}else Z===null&&(H.shared.lanes=0);ei|=ue,a.lanes=ue,a.memoizedState=st}}function Yp(a,w,k){if(a=w.effects,w.effects=null,a!==null)for(w=0;w<a.length;w++){var L=a[w],H=L.callback;if(H!==null){if(L.callback=null,L=k,typeof H!="function")throw Error(d(191,H));H.call(L)}}}var Aa={},bo=rs(Aa),Ra=rs(Aa),Da=rs(Aa);function Zs(a){if(a===Aa)throw Error(d(174));return a}function pd(a,w){switch(dr(Da,w),dr(Ra,a),dr(bo,Aa),a=w.nodeType,a){case 9:case 11:w=(w=w.documentElement)?w.namespaceURI:ct(null,"");break;default:a=a===8?w.parentNode:w,w=a.namespaceURI||null,a=a.tagName,w=ct(w,a)}gr(bo),dr(bo,w)}function Li(){gr(bo),gr(Ra),gr(Da)}function Kp(a){Zs(Da.current);var w=Zs(bo.current),k=ct(w,a.type);w!==k&&(dr(Ra,a),dr(bo,k))}function md(a){Ra.current===a&&(gr(bo),gr(Ra))}var jr=rs(0);function nu(a){for(var w=a;w!==null;){if(w.tag===13){var k=w.memoizedState;if(k!==null&&(k=k.dehydrated,k===null||k.data==="$?"||k.data==="$!"))return w}else if(w.tag===19&&w.memoizedProps.revealOrder!==void 0){if((w.flags&128)!==0)return w}else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===a)break;for(;w.sibling===null;){if(w.return===null||w.return===a)return null;w=w.return}w.sibling.return=w.return,w=w.sibling}return null}var gd=[];function yd(){for(var a=0;a<gd.length;a++)gd[a]._workInProgressVersionPrimary=null;gd.length=0}var ou=x.ReactCurrentDispatcher,vd=x.ReactCurrentBatchConfig,Qs=0,Sr=null,Gr=null,Xr=null,su=!1,La=!1,Na=0,m1=0;function sn(){throw Error(d(321))}function bd(a,w){if(w===null)return!1;for(var k=0;k<w.length&&k<a.length;k++)if(!rr(a[k],w[k]))return!1;return!0}function wd(a,w,k,L,H,Z){if(Qs=Z,Sr=w,w.memoizedState=null,w.updateQueue=null,w.lanes=0,ou.current=a===null||a.memoizedState===null?b1:w1,a=k(L,H),La){Z=0;do{if(La=!1,Na=0,25<=Z)throw Error(d(301));Z+=1,Xr=Gr=null,w.updateQueue=null,ou.current=_1,a=k(L,H)}while(La)}if(ou.current=lu,w=Gr!==null&&Gr.next!==null,Qs=0,Xr=Gr=Sr=null,su=!1,w)throw Error(d(300));return a}function _d(){var a=Na!==0;return Na=0,a}function wo(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xr===null?Sr.memoizedState=Xr=a:Xr=Xr.next=a,Xr}function qn(){if(Gr===null){var a=Sr.alternate;a=a!==null?a.memoizedState:null}else a=Gr.next;var w=Xr===null?Sr.memoizedState:Xr.next;if(w!==null)Xr=w,Gr=a;else{if(a===null)throw Error(d(310));Gr=a,a={memoizedState:Gr.memoizedState,baseState:Gr.baseState,baseQueue:Gr.baseQueue,queue:Gr.queue,next:null},Xr===null?Sr.memoizedState=Xr=a:Xr=Xr.next=a}return Xr}function Ua(a,w){return typeof w=="function"?w(a):w}function xd(a){var w=qn(),k=w.queue;if(k===null)throw Error(d(311));k.lastRenderedReducer=a;var L=Gr,H=L.baseQueue,Z=k.pending;if(Z!==null){if(H!==null){var ue=H.next;H.next=Z.next,Z.next=ue}L.baseQueue=H=Z,k.pending=null}if(H!==null){Z=H.next,L=L.baseState;var je=ue=null,Pe=null,qe=Z;do{var nt=qe.lane;if((Qs&nt)===nt)Pe!==null&&(Pe=Pe.next={lane:0,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null}),L=qe.hasEagerState?qe.eagerState:a(L,qe.action);else{var st={lane:nt,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null};Pe===null?(je=Pe=st,ue=L):Pe=Pe.next=st,Sr.lanes|=nt,ei|=nt}qe=qe.next}while(qe!==null&&qe!==Z);Pe===null?ue=L:Pe.next=je,rr(L,w.memoizedState)||(jn=!0),w.memoizedState=L,w.baseState=ue,w.baseQueue=Pe,k.lastRenderedState=L}if(a=k.interleaved,a!==null){H=a;do Z=H.lane,Sr.lanes|=Z,ei|=Z,H=H.next;while(H!==a)}else H===null&&(k.lanes=0);return[w.memoizedState,k.dispatch]}function jd(a){var w=qn(),k=w.queue;if(k===null)throw Error(d(311));k.lastRenderedReducer=a;var L=k.dispatch,H=k.pending,Z=w.memoizedState;if(H!==null){k.pending=null;var ue=H=H.next;do Z=a(Z,ue.action),ue=ue.next;while(ue!==H);rr(Z,w.memoizedState)||(jn=!0),w.memoizedState=Z,w.baseQueue===null&&(w.baseState=Z),k.lastRenderedState=Z}return[Z,L]}function Jp(){}function Zp(a,w){var k=Sr,L=qn(),H=w(),Z=!rr(L.memoizedState,H);if(Z&&(L.memoizedState=H,jn=!0),L=L.queue,Sd(tm.bind(null,k,L,a),[a]),L.getSnapshot!==w||Z||Xr!==null&&Xr.memoizedState.tag&1){if(k.flags|=2048,Fa(9,em.bind(null,k,L,H,w),void 0,null),Yr===null)throw Error(d(349));(Qs&30)!==0||Qp(k,w,H)}return H}function Qp(a,w,k){a.flags|=16384,a={getSnapshot:w,value:k},w=Sr.updateQueue,w===null?(w={lastEffect:null,stores:null},Sr.updateQueue=w,w.stores=[a]):(k=w.stores,k===null?w.stores=[a]:k.push(a))}function em(a,w,k,L){w.value=k,w.getSnapshot=L,rm(w)&&nm(a)}function tm(a,w,k){return k(function(){rm(w)&&nm(a)})}function rm(a){var w=a.getSnapshot;a=a.value;try{var k=w();return!rr(a,k)}catch{return!0}}function nm(a){var w=Ao(a,1);w!==null&&uo(w,a,1,-1)}function om(a){var w=wo();return typeof a=="function"&&(a=a()),w.memoizedState=w.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:a},w.queue=a,a=a.dispatch=v1.bind(null,Sr,a),[w.memoizedState,a]}function Fa(a,w,k,L){return a={tag:a,create:w,destroy:k,deps:L,next:null},w=Sr.updateQueue,w===null?(w={lastEffect:null,stores:null},Sr.updateQueue=w,w.lastEffect=a.next=a):(k=w.lastEffect,k===null?w.lastEffect=a.next=a:(L=k.next,k.next=a,a.next=L,w.lastEffect=a)),a}function sm(){return qn().memoizedState}function iu(a,w,k,L){var H=wo();Sr.flags|=a,H.memoizedState=Fa(1|w,k,void 0,L===void 0?null:L)}function au(a,w,k,L){var H=qn();L=L===void 0?null:L;var Z=void 0;if(Gr!==null){var ue=Gr.memoizedState;if(Z=ue.destroy,L!==null&&bd(L,ue.deps)){H.memoizedState=Fa(w,k,Z,L);return}}Sr.flags|=a,H.memoizedState=Fa(1|w,k,Z,L)}function im(a,w){return iu(8390656,8,a,w)}function Sd(a,w){return au(2048,8,a,w)}function am(a,w){return au(4,2,a,w)}function lm(a,w){return au(4,4,a,w)}function um(a,w){if(typeof w=="function")return a=a(),w(a),function(){w(null)};if(w!=null)return a=a(),w.current=a,function(){w.current=null}}function cm(a,w,k){return k=k!=null?k.concat([a]):null,au(4,4,um.bind(null,w,a),k)}function Ed(){}function dm(a,w){var k=qn();w=w===void 0?null:w;var L=k.memoizedState;return L!==null&&w!==null&&bd(w,L[1])?L[0]:(k.memoizedState=[a,w],a)}function fm(a,w){var k=qn();w=w===void 0?null:w;var L=k.memoizedState;return L!==null&&w!==null&&bd(w,L[1])?L[0]:(a=a(),k.memoizedState=[a,w],a)}function hm(a,w,k){return(Qs&21)===0?(a.baseState&&(a.baseState=!1,jn=!0),a.memoizedState=k):(rr(k,w)||(k=Ol(),Sr.lanes|=k,ei|=k,a.baseState=!0),w)}function g1(a,w){var k=Xt;Xt=k!==0&&4>k?k:4,a(!0);var L=vd.transition;vd.transition={};try{a(!1),w()}finally{Xt=k,vd.transition=L}}function pm(){return qn().memoizedState}function y1(a,w,k){var L=cs(a);if(k={lane:L,action:k,hasEagerState:!1,eagerState:null,next:null},mm(a))gm(w,k);else if(k=qp(a,w,k,L),k!==null){var H=dn();uo(k,a,L,H),ym(k,w,L)}}function v1(a,w,k){var L=cs(a),H={lane:L,action:k,hasEagerState:!1,eagerState:null,next:null};if(mm(a))gm(w,H);else{var Z=a.alternate;if(a.lanes===0&&(Z===null||Z.lanes===0)&&(Z=w.lastRenderedReducer,Z!==null))try{var ue=w.lastRenderedState,je=Z(ue,k);if(H.hasEagerState=!0,H.eagerState=je,rr(je,ue)){var Pe=w.interleaved;Pe===null?(H.next=H,fd(w)):(H.next=Pe.next,Pe.next=H),w.interleaved=H;return}}catch{}finally{}k=qp(a,w,H,L),k!==null&&(H=dn(),uo(k,a,L,H),ym(k,w,L))}}function mm(a){var w=a.alternate;return a===Sr||w!==null&&w===Sr}function gm(a,w){La=su=!0;var k=a.pending;k===null?w.next=w:(w.next=k.next,k.next=w),a.pending=w}function ym(a,w,k){if((k&4194240)!==0){var L=w.lanes;L&=a.pendingLanes,k|=L,w.lanes=k,$o(a,k)}}var lu={readContext:Hn,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},b1={readContext:Hn,useCallback:function(a,w){return wo().memoizedState=[a,w===void 0?null:w],a},useContext:Hn,useEffect:im,useImperativeHandle:function(a,w,k){return k=k!=null?k.concat([a]):null,iu(4194308,4,um.bind(null,w,a),k)},useLayoutEffect:function(a,w){return iu(4194308,4,a,w)},useInsertionEffect:function(a,w){return iu(4,2,a,w)},useMemo:function(a,w){var k=wo();return w=w===void 0?null:w,a=a(),k.memoizedState=[a,w],a},useReducer:function(a,w,k){var L=wo();return w=k!==void 0?k(w):w,L.memoizedState=L.baseState=w,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:w},L.queue=a,a=a.dispatch=y1.bind(null,Sr,a),[L.memoizedState,a]},useRef:function(a){var w=wo();return a={current:a},w.memoizedState=a},useState:om,useDebugValue:Ed,useDeferredValue:function(a){return wo().memoizedState=a},useTransition:function(){var a=om(!1),w=a[0];return a=g1.bind(null,a[1]),wo().memoizedState=a,[w,a]},useMutableSource:function(){},useSyncExternalStore:function(a,w,k){var L=Sr,H=wo();if(br){if(k===void 0)throw Error(d(407));k=k()}else{if(k=w(),Yr===null)throw Error(d(349));(Qs&30)!==0||Qp(L,w,k)}H.memoizedState=k;var Z={value:k,getSnapshot:w};return H.queue=Z,im(tm.bind(null,L,Z,a),[a]),L.flags|=2048,Fa(9,em.bind(null,L,Z,k,w),void 0,null),k},useId:function(){var a=wo(),w=Yr.identifierPrefix;if(br){var k=Io,L=Mo;k=(L&~(1<<32-yn(L)-1)).toString(32)+k,w=":"+w+"R"+k,k=Na++,0<k&&(w+="H"+k.toString(32)),w+=":"}else k=m1++,w=":"+w+"r"+k.toString(32)+":";return a.memoizedState=w},unstable_isNewReconciler:!1},w1={readContext:Hn,useCallback:dm,useContext:Hn,useEffect:Sd,useImperativeHandle:cm,useInsertionEffect:am,useLayoutEffect:lm,useMemo:fm,useReducer:xd,useRef:sm,useState:function(){return xd(Ua)},useDebugValue:Ed,useDeferredValue:function(a){var w=qn();return hm(w,Gr.memoizedState,a)},useTransition:function(){var a=xd(Ua)[0],w=qn().memoizedState;return[a,w]},useMutableSource:Jp,useSyncExternalStore:Zp,useId:pm,unstable_isNewReconciler:!1},_1={readContext:Hn,useCallback:dm,useContext:Hn,useEffect:Sd,useImperativeHandle:cm,useInsertionEffect:am,useLayoutEffect:lm,useMemo:fm,useReducer:jd,useRef:sm,useState:function(){return jd(Ua)},useDebugValue:Ed,useDeferredValue:function(a){var w=qn();return Gr===null?w.memoizedState=a:hm(w,Gr.memoizedState,a)},useTransition:function(){var a=jd(Ua)[0],w=qn().memoizedState;return[a,w]},useMutableSource:Jp,useSyncExternalStore:Zp,useId:pm,unstable_isNewReconciler:!1};function io(a,w){if(a&&a.defaultProps){w=ee({},w),a=a.defaultProps;for(var k in a)w[k]===void 0&&(w[k]=a[k]);return w}return w}function kd(a,w,k,L){w=a.memoizedState,k=k(L,w),k=k==null?w:ee({},w,k),a.memoizedState=k,a.lanes===0&&(a.updateQueue.baseState=k)}var uu={isMounted:function(a){return(a=a._reactInternals)?Tn(a)===a:!1},enqueueSetState:function(a,w,k){a=a._reactInternals;var L=dn(),H=cs(a),Z=Ro(L,H);Z.payload=w,k!=null&&(Z.callback=k),w=is(a,Z,H),w!==null&&(uo(w,a,H,L),tu(w,a,H))},enqueueReplaceState:function(a,w,k){a=a._reactInternals;var L=dn(),H=cs(a),Z=Ro(L,H);Z.tag=1,Z.payload=w,k!=null&&(Z.callback=k),w=is(a,Z,H),w!==null&&(uo(w,a,H,L),tu(w,a,H))},enqueueForceUpdate:function(a,w){a=a._reactInternals;var k=dn(),L=cs(a),H=Ro(k,L);H.tag=2,w!=null&&(H.callback=w),w=is(a,H,L),w!==null&&(uo(w,a,L,k),tu(w,a,L))}};function vm(a,w,k,L,H,Z,ue){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(L,Z,ue):w.prototype&&w.prototype.isPureReactComponent?!oo(k,L)||!oo(H,Z):!0}function bm(a,w,k){var L=!1,H=ns,Z=w.contextType;return typeof Z=="object"&&Z!==null?Z=Hn(Z):(H=xn(w)?Xs:on.current,L=w.contextTypes,Z=(L=L!=null)?Pi(a,H):ns),w=new w(k,Z),a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=uu,a.stateNode=w,w._reactInternals=a,L&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=H,a.__reactInternalMemoizedMaskedChildContext=Z),w}function wm(a,w,k,L){a=w.state,typeof w.componentWillReceiveProps=="function"&&w.componentWillReceiveProps(k,L),typeof w.UNSAFE_componentWillReceiveProps=="function"&&w.UNSAFE_componentWillReceiveProps(k,L),w.state!==a&&uu.enqueueReplaceState(w,w.state,null)}function Cd(a,w,k,L){var H=a.stateNode;H.props=k,H.state=a.memoizedState,H.refs={},hd(a);var Z=w.contextType;typeof Z=="object"&&Z!==null?H.context=Hn(Z):(Z=xn(w)?Xs:on.current,H.context=Pi(a,Z)),H.state=a.memoizedState,Z=w.getDerivedStateFromProps,typeof Z=="function"&&(kd(a,w,Z,k),H.state=a.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(w=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),w!==H.state&&uu.enqueueReplaceState(H,H.state,null),ru(a,k,H,L),H.state=a.memoizedState),typeof H.componentDidMount=="function"&&(a.flags|=4194308)}function Ni(a,w){try{var k="",L=w;do k+=W(L),L=L.return;while(L);var H=k}catch(Z){H=`
Error generating stack: `+Z.message+`
`+Z.stack}return{value:a,source:w,stack:H,digest:null}}function Td(a,w,k){return{value:a,source:null,stack:k??null,digest:w??null}}function Pd(a,w){try{console.error(w.value)}catch(k){setTimeout(function(){throw k})}}var x1=typeof WeakMap=="function"?WeakMap:Map;function _m(a,w,k){k=Ro(-1,k),k.tag=3,k.payload={element:null};var L=w.value;return k.callback=function(){gu||(gu=!0,Wd=L),Pd(a,w)},k}function xm(a,w,k){k=Ro(-1,k),k.tag=3;var L=a.type.getDerivedStateFromError;if(typeof L=="function"){var H=w.value;k.payload=function(){return L(H)},k.callback=function(){Pd(a,w)}}var Z=a.stateNode;return Z!==null&&typeof Z.componentDidCatch=="function"&&(k.callback=function(){Pd(a,w),typeof L!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var ue=w.stack;this.componentDidCatch(w.value,{componentStack:ue!==null?ue:""})}),k}function jm(a,w,k){var L=a.pingCache;if(L===null){L=a.pingCache=new x1;var H=new Set;L.set(w,H)}else H=L.get(w),H===void 0&&(H=new Set,L.set(w,H));H.has(k)||(H.add(k),a=L1.bind(null,a,w,k),w.then(a,a))}function Sm(a){do{var w;if((w=a.tag===13)&&(w=a.memoizedState,w=w!==null?w.dehydrated!==null:!0),w)return a;a=a.return}while(a!==null);return null}function Em(a,w,k,L,H){return(a.mode&1)===0?(a===w?a.flags|=65536:(a.flags|=128,k.flags|=131072,k.flags&=-52805,k.tag===1&&(k.alternate===null?k.tag=17:(w=Ro(-1,1),w.tag=2,is(k,w,1))),k.lanes|=1),a):(a.flags|=65536,a.lanes=H,a)}var j1=x.ReactCurrentOwner,jn=!1;function cn(a,w,k,L){w.child=a===null?Hp(w,null,k,L):Ai(w,a.child,k,L)}function km(a,w,k,L,H){k=k.render;var Z=w.ref;return Di(w,H),L=wd(a,w,k,L,Z,H),k=_d(),a!==null&&!jn?(w.updateQueue=a.updateQueue,w.flags&=-2053,a.lanes&=~H,Do(a,w,H)):(br&&k&&nd(w),w.flags|=1,cn(a,w,L,H),w.child)}function Cm(a,w,k,L,H){if(a===null){var Z=k.type;return typeof Z=="function"&&!Jd(Z)&&Z.defaultProps===void 0&&k.compare===null&&k.defaultProps===void 0?(w.tag=15,w.type=Z,Tm(a,w,Z,L,H)):(a=xu(k.type,null,L,w,w.mode,H),a.ref=w.ref,a.return=w,w.child=a)}if(Z=a.child,(a.lanes&H)===0){var ue=Z.memoizedProps;if(k=k.compare,k=k!==null?k:oo,k(ue,L)&&a.ref===w.ref)return Do(a,w,H)}return w.flags|=1,a=fs(Z,L),a.ref=w.ref,a.return=w,w.child=a}function Tm(a,w,k,L,H){if(a!==null){var Z=a.memoizedProps;if(oo(Z,L)&&a.ref===w.ref)if(jn=!1,w.pendingProps=L=Z,(a.lanes&H)!==0)(a.flags&131072)!==0&&(jn=!0);else return w.lanes=a.lanes,Do(a,w,H)}return Od(a,w,k,L,H)}function Pm(a,w,k){var L=w.pendingProps,H=L.children,Z=a!==null?a.memoizedState:null;if(L.mode==="hidden")if((w.mode&1)===0)w.memoizedState={baseLanes:0,cachePool:null,transitions:null},dr(Fi,Nn),Nn|=k;else{if((k&1073741824)===0)return a=Z!==null?Z.baseLanes|k:k,w.lanes=w.childLanes=1073741824,w.memoizedState={baseLanes:a,cachePool:null,transitions:null},w.updateQueue=null,dr(Fi,Nn),Nn|=a,null;w.memoizedState={baseLanes:0,cachePool:null,transitions:null},L=Z!==null?Z.baseLanes:k,dr(Fi,Nn),Nn|=L}else Z!==null?(L=Z.baseLanes|k,w.memoizedState=null):L=k,dr(Fi,Nn),Nn|=L;return cn(a,w,H,k),w.child}function Om(a,w){var k=w.ref;(a===null&&k!==null||a!==null&&a.ref!==k)&&(w.flags|=512,w.flags|=2097152)}function Od(a,w,k,L,H){var Z=xn(k)?Xs:on.current;return Z=Pi(w,Z),Di(w,H),k=wd(a,w,k,L,Z,H),L=_d(),a!==null&&!jn?(w.updateQueue=a.updateQueue,w.flags&=-2053,a.lanes&=~H,Do(a,w,H)):(br&&L&&nd(w),w.flags|=1,cn(a,w,k,H),w.child)}function Mm(a,w,k,L,H){if(xn(k)){var Z=!0;$l(w)}else Z=!1;if(Di(w,H),w.stateNode===null)du(a,w),bm(w,k,L),Cd(w,k,L,H),L=!0;else if(a===null){var ue=w.stateNode,je=w.memoizedProps;ue.props=je;var Pe=ue.context,qe=k.contextType;typeof qe=="object"&&qe!==null?qe=Hn(qe):(qe=xn(k)?Xs:on.current,qe=Pi(w,qe));var nt=k.getDerivedStateFromProps,st=typeof nt=="function"||typeof ue.getSnapshotBeforeUpdate=="function";st||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(je!==L||Pe!==qe)&&wm(w,ue,L,qe),ss=!1;var tt=w.memoizedState;ue.state=tt,ru(w,L,ue,H),Pe=w.memoizedState,je!==L||tt!==Pe||_n.current||ss?(typeof nt=="function"&&(kd(w,k,nt,L),Pe=w.memoizedState),(je=ss||vm(w,k,je,L,tt,Pe,qe))?(st||typeof ue.UNSAFE_componentWillMount!="function"&&typeof ue.componentWillMount!="function"||(typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount()),typeof ue.componentDidMount=="function"&&(w.flags|=4194308)):(typeof ue.componentDidMount=="function"&&(w.flags|=4194308),w.memoizedProps=L,w.memoizedState=Pe),ue.props=L,ue.state=Pe,ue.context=qe,L=je):(typeof ue.componentDidMount=="function"&&(w.flags|=4194308),L=!1)}else{ue=w.stateNode,$p(a,w),je=w.memoizedProps,qe=w.type===w.elementType?je:io(w.type,je),ue.props=qe,st=w.pendingProps,tt=ue.context,Pe=k.contextType,typeof Pe=="object"&&Pe!==null?Pe=Hn(Pe):(Pe=xn(k)?Xs:on.current,Pe=Pi(w,Pe));var vt=k.getDerivedStateFromProps;(nt=typeof vt=="function"||typeof ue.getSnapshotBeforeUpdate=="function")||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(je!==st||tt!==Pe)&&wm(w,ue,L,Pe),ss=!1,tt=w.memoizedState,ue.state=tt,ru(w,L,ue,H);var Et=w.memoizedState;je!==st||tt!==Et||_n.current||ss?(typeof vt=="function"&&(kd(w,k,vt,L),Et=w.memoizedState),(qe=ss||vm(w,k,qe,L,tt,Et,Pe)||!1)?(nt||typeof ue.UNSAFE_componentWillUpdate!="function"&&typeof ue.componentWillUpdate!="function"||(typeof ue.componentWillUpdate=="function"&&ue.componentWillUpdate(L,Et,Pe),typeof ue.UNSAFE_componentWillUpdate=="function"&&ue.UNSAFE_componentWillUpdate(L,Et,Pe)),typeof ue.componentDidUpdate=="function"&&(w.flags|=4),typeof ue.getSnapshotBeforeUpdate=="function"&&(w.flags|=1024)):(typeof ue.componentDidUpdate!="function"||je===a.memoizedProps&&tt===a.memoizedState||(w.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||je===a.memoizedProps&&tt===a.memoizedState||(w.flags|=1024),w.memoizedProps=L,w.memoizedState=Et),ue.props=L,ue.state=Et,ue.context=Pe,L=qe):(typeof ue.componentDidUpdate!="function"||je===a.memoizedProps&&tt===a.memoizedState||(w.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||je===a.memoizedProps&&tt===a.memoizedState||(w.flags|=1024),L=!1)}return Md(a,w,k,L,Z,H)}function Md(a,w,k,L,H,Z){Om(a,w);var ue=(w.flags&128)!==0;if(!L&&!ue)return H&&Lp(w,k,!1),Do(a,w,Z);L=w.stateNode,j1.current=w;var je=ue&&typeof k.getDerivedStateFromError!="function"?null:L.render();return w.flags|=1,a!==null&&ue?(w.child=Ai(w,a.child,null,Z),w.child=Ai(w,null,je,Z)):cn(a,w,je,Z),w.memoizedState=L.state,H&&Lp(w,k,!0),w.child}function Im(a){var w=a.stateNode;w.pendingContext?Rp(a,w.pendingContext,w.pendingContext!==w.context):w.context&&Rp(a,w.context,!1),pd(a,w.containerInfo)}function Am(a,w,k,L,H){return Ii(),ad(H),w.flags|=256,cn(a,w,k,L),w.child}var Id={dehydrated:null,treeContext:null,retryLane:0};function Ad(a){return{baseLanes:a,cachePool:null,transitions:null}}function Rm(a,w,k){var L=w.pendingProps,H=jr.current,Z=!1,ue=(w.flags&128)!==0,je;if((je=ue)||(je=a!==null&&a.memoizedState===null?!1:(H&2)!==0),je?(Z=!0,w.flags&=-129):(a===null||a.memoizedState!==null)&&(H|=1),dr(jr,H&1),a===null)return id(w),a=w.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((w.mode&1)===0?w.lanes=1:a.data==="$!"?w.lanes=8:w.lanes=1073741824,null):(ue=L.children,a=L.fallback,Z?(L=w.mode,Z=w.child,ue={mode:"hidden",children:ue},(L&1)===0&&Z!==null?(Z.childLanes=0,Z.pendingProps=ue):Z=ju(ue,L,0,null),a=oi(a,L,k,null),Z.return=w,a.return=w,Z.sibling=a,w.child=Z,w.child.memoizedState=Ad(k),w.memoizedState=Id,a):Rd(w,ue));if(H=a.memoizedState,H!==null&&(je=H.dehydrated,je!==null))return S1(a,w,ue,L,je,H,k);if(Z){Z=L.fallback,ue=w.mode,H=a.child,je=H.sibling;var Pe={mode:"hidden",children:L.children};return(ue&1)===0&&w.child!==H?(L=w.child,L.childLanes=0,L.pendingProps=Pe,w.deletions=null):(L=fs(H,Pe),L.subtreeFlags=H.subtreeFlags&14680064),je!==null?Z=fs(je,Z):(Z=oi(Z,ue,k,null),Z.flags|=2),Z.return=w,L.return=w,L.sibling=Z,w.child=L,L=Z,Z=w.child,ue=a.child.memoizedState,ue=ue===null?Ad(k):{baseLanes:ue.baseLanes|k,cachePool:null,transitions:ue.transitions},Z.memoizedState=ue,Z.childLanes=a.childLanes&~k,w.memoizedState=Id,L}return Z=a.child,a=Z.sibling,L=fs(Z,{mode:"visible",children:L.children}),(w.mode&1)===0&&(L.lanes=k),L.return=w,L.sibling=null,a!==null&&(k=w.deletions,k===null?(w.deletions=[a],w.flags|=16):k.push(a)),w.child=L,w.memoizedState=null,L}function Rd(a,w){return w=ju({mode:"visible",children:w},a.mode,0,null),w.return=a,a.child=w}function cu(a,w,k,L){return L!==null&&ad(L),Ai(w,a.child,null,k),a=Rd(w,w.pendingProps.children),a.flags|=2,w.memoizedState=null,a}function S1(a,w,k,L,H,Z,ue){if(k)return w.flags&256?(w.flags&=-257,L=Td(Error(d(422))),cu(a,w,ue,L)):w.memoizedState!==null?(w.child=a.child,w.flags|=128,null):(Z=L.fallback,H=w.mode,L=ju({mode:"visible",children:L.children},H,0,null),Z=oi(Z,H,ue,null),Z.flags|=2,L.return=w,Z.return=w,L.sibling=Z,w.child=L,(w.mode&1)!==0&&Ai(w,a.child,null,ue),w.child.memoizedState=Ad(ue),w.memoizedState=Id,Z);if((w.mode&1)===0)return cu(a,w,ue,null);if(H.data==="$!"){if(L=H.nextSibling&&H.nextSibling.dataset,L)var je=L.dgst;return L=je,Z=Error(d(419)),L=Td(Z,L,void 0),cu(a,w,ue,L)}if(je=(ue&a.childLanes)!==0,jn||je){if(L=Yr,L!==null){switch(ue&-ue){case 4:H=2;break;case 16:H=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:H=32;break;case 536870912:H=268435456;break;default:H=0}H=(H&(L.suspendedLanes|ue))!==0?0:H,H!==0&&H!==Z.retryLane&&(Z.retryLane=H,Ao(a,H),uo(L,a,H,-1))}return Kd(),L=Td(Error(d(421))),cu(a,w,ue,L)}return H.data==="$?"?(w.flags|=128,w.child=a.child,w=N1.bind(null,a),H._reactRetry=w,null):(a=Z.treeContext,Ln=ts(H.nextSibling),Dn=w,br=!0,so=null,a!==null&&(Vn[Wn++]=Mo,Vn[Wn++]=Io,Vn[Wn++]=Ys,Mo=a.id,Io=a.overflow,Ys=w),w=Rd(w,L.children),w.flags|=4096,w)}function Dm(a,w,k){a.lanes|=w;var L=a.alternate;L!==null&&(L.lanes|=w),dd(a.return,w,k)}function Dd(a,w,k,L,H){var Z=a.memoizedState;Z===null?a.memoizedState={isBackwards:w,rendering:null,renderingStartTime:0,last:L,tail:k,tailMode:H}:(Z.isBackwards=w,Z.rendering=null,Z.renderingStartTime=0,Z.last=L,Z.tail=k,Z.tailMode=H)}function Lm(a,w,k){var L=w.pendingProps,H=L.revealOrder,Z=L.tail;if(cn(a,w,L.children,k),L=jr.current,(L&2)!==0)L=L&1|2,w.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=w.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Dm(a,k,w);else if(a.tag===19)Dm(a,k,w);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===w)break e;for(;a.sibling===null;){if(a.return===null||a.return===w)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}L&=1}if(dr(jr,L),(w.mode&1)===0)w.memoizedState=null;else switch(H){case"forwards":for(k=w.child,H=null;k!==null;)a=k.alternate,a!==null&&nu(a)===null&&(H=k),k=k.sibling;k=H,k===null?(H=w.child,w.child=null):(H=k.sibling,k.sibling=null),Dd(w,!1,H,k,Z);break;case"backwards":for(k=null,H=w.child,w.child=null;H!==null;){if(a=H.alternate,a!==null&&nu(a)===null){w.child=H;break}a=H.sibling,H.sibling=k,k=H,H=a}Dd(w,!0,k,null,Z);break;case"together":Dd(w,!1,null,null,void 0);break;default:w.memoizedState=null}return w.child}function du(a,w){(w.mode&1)===0&&a!==null&&(a.alternate=null,w.alternate=null,w.flags|=2)}function Do(a,w,k){if(a!==null&&(w.dependencies=a.dependencies),ei|=w.lanes,(k&w.childLanes)===0)return null;if(a!==null&&w.child!==a.child)throw Error(d(153));if(w.child!==null){for(a=w.child,k=fs(a,a.pendingProps),w.child=k,k.return=w;a.sibling!==null;)a=a.sibling,k=k.sibling=fs(a,a.pendingProps),k.return=w;k.sibling=null}return w.child}function E1(a,w,k){switch(w.tag){case 3:Im(w),Ii();break;case 5:Kp(w);break;case 1:xn(w.type)&&$l(w);break;case 4:pd(w,w.stateNode.containerInfo);break;case 10:var L=w.type._context,H=w.memoizedProps.value;dr(Ql,L._currentValue),L._currentValue=H;break;case 13:if(L=w.memoizedState,L!==null)return L.dehydrated!==null?(dr(jr,jr.current&1),w.flags|=128,null):(k&w.child.childLanes)!==0?Rm(a,w,k):(dr(jr,jr.current&1),a=Do(a,w,k),a!==null?a.sibling:null);dr(jr,jr.current&1);break;case 19:if(L=(k&w.childLanes)!==0,(a.flags&128)!==0){if(L)return Lm(a,w,k);w.flags|=128}if(H=w.memoizedState,H!==null&&(H.rendering=null,H.tail=null,H.lastEffect=null),dr(jr,jr.current),L)break;return null;case 22:case 23:return w.lanes=0,Pm(a,w,k)}return Do(a,w,k)}var Nm,Ld,Um,Fm;Nm=function(a,w){for(var k=w.child;k!==null;){if(k.tag===5||k.tag===6)a.appendChild(k.stateNode);else if(k.tag!==4&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===w)break;for(;k.sibling===null;){if(k.return===null||k.return===w)return;k=k.return}k.sibling.return=k.return,k=k.sibling}},Ld=function(){},Um=function(a,w,k,L){var H=a.memoizedProps;if(H!==L){a=w.stateNode,Zs(bo.current);var Z=null;switch(k){case"input":H=ie(a,H),L=ie(a,L),Z=[];break;case"select":H=ee({},H,{value:void 0}),L=ee({},L,{value:void 0}),Z=[];break;case"textarea":H=Ne(a,H),L=Ne(a,L),Z=[];break;default:typeof H.onClick!="function"&&typeof L.onClick=="function"&&(a.onclick=Wl)}Re(k,L);var ue;k=null;for(qe in H)if(!L.hasOwnProperty(qe)&&H.hasOwnProperty(qe)&&H[qe]!=null)if(qe==="style"){var je=H[qe];for(ue in je)je.hasOwnProperty(ue)&&(k||(k={}),k[ue]="")}else qe!=="dangerouslySetInnerHTML"&&qe!=="children"&&qe!=="suppressContentEditableWarning"&&qe!=="suppressHydrationWarning"&&qe!=="autoFocus"&&(f.hasOwnProperty(qe)?Z||(Z=[]):(Z=Z||[]).push(qe,null));for(qe in L){var Pe=L[qe];if(je=H?.[qe],L.hasOwnProperty(qe)&&Pe!==je&&(Pe!=null||je!=null))if(qe==="style")if(je){for(ue in je)!je.hasOwnProperty(ue)||Pe&&Pe.hasOwnProperty(ue)||(k||(k={}),k[ue]="");for(ue in Pe)Pe.hasOwnProperty(ue)&&je[ue]!==Pe[ue]&&(k||(k={}),k[ue]=Pe[ue])}else k||(Z||(Z=[]),Z.push(qe,k)),k=Pe;else qe==="dangerouslySetInnerHTML"?(Pe=Pe?Pe.__html:void 0,je=je?je.__html:void 0,Pe!=null&&je!==Pe&&(Z=Z||[]).push(qe,Pe)):qe==="children"?typeof Pe!="string"&&typeof Pe!="number"||(Z=Z||[]).push(qe,""+Pe):qe!=="suppressContentEditableWarning"&&qe!=="suppressHydrationWarning"&&(f.hasOwnProperty(qe)?(Pe!=null&&qe==="onScroll"&&mr("scroll",a),Z||je===Pe||(Z=[])):(Z=Z||[]).push(qe,Pe))}k&&(Z=Z||[]).push("style",k);var qe=Z;(w.updateQueue=qe)&&(w.flags|=4)}},Fm=function(a,w,k,L){k!==L&&(w.flags|=4)};function Ba(a,w){if(!br)switch(a.tailMode){case"hidden":w=a.tail;for(var k=null;w!==null;)w.alternate!==null&&(k=w),w=w.sibling;k===null?a.tail=null:k.sibling=null;break;case"collapsed":k=a.tail;for(var L=null;k!==null;)k.alternate!==null&&(L=k),k=k.sibling;L===null?w||a.tail===null?a.tail=null:a.tail.sibling=null:L.sibling=null}}function an(a){var w=a.alternate!==null&&a.alternate.child===a.child,k=0,L=0;if(w)for(var H=a.child;H!==null;)k|=H.lanes|H.childLanes,L|=H.subtreeFlags&14680064,L|=H.flags&14680064,H.return=a,H=H.sibling;else for(H=a.child;H!==null;)k|=H.lanes|H.childLanes,L|=H.subtreeFlags,L|=H.flags,H.return=a,H=H.sibling;return a.subtreeFlags|=L,a.childLanes=k,w}function k1(a,w,k){var L=w.pendingProps;switch(od(w),w.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(w),null;case 1:return xn(w.type)&&ql(),an(w),null;case 3:return L=w.stateNode,Li(),gr(_n),gr(on),yd(),L.pendingContext&&(L.context=L.pendingContext,L.pendingContext=null),(a===null||a.child===null)&&(Jl(w)?w.flags|=4:a===null||a.memoizedState.isDehydrated&&(w.flags&256)===0||(w.flags|=1024,so!==null&&($d(so),so=null))),Ld(a,w),an(w),null;case 5:md(w);var H=Zs(Da.current);if(k=w.type,a!==null&&w.stateNode!=null)Um(a,w,k,L,H),a.ref!==w.ref&&(w.flags|=512,w.flags|=2097152);else{if(!L){if(w.stateNode===null)throw Error(d(166));return an(w),null}if(a=Zs(bo.current),Jl(w)){L=w.stateNode,k=w.type;var Z=w.memoizedProps;switch(L[vo]=w,L[Oa]=Z,a=(w.mode&1)!==0,k){case"dialog":mr("cancel",L),mr("close",L);break;case"iframe":case"object":case"embed":mr("load",L);break;case"video":case"audio":for(H=0;H<Ca.length;H++)mr(Ca[H],L);break;case"source":mr("error",L);break;case"img":case"image":case"link":mr("error",L),mr("load",L);break;case"details":mr("toggle",L);break;case"input":ye(L,Z),mr("invalid",L);break;case"select":L._wrapperState={wasMultiple:!!Z.multiple},mr("invalid",L);break;case"textarea":yt(L,Z),mr("invalid",L)}Re(k,Z),H=null;for(var ue in Z)if(Z.hasOwnProperty(ue)){var je=Z[ue];ue==="children"?typeof je=="string"?L.textContent!==je&&(Z.suppressHydrationWarning!==!0&&Vl(L.textContent,je,a),H=["children",je]):typeof je=="number"&&L.textContent!==""+je&&(Z.suppressHydrationWarning!==!0&&Vl(L.textContent,je,a),H=["children",""+je]):f.hasOwnProperty(ue)&&je!=null&&ue==="onScroll"&&mr("scroll",L)}switch(k){case"input":de(L),Ee(L,Z,!0);break;case"textarea":de(L),rt(L);break;case"select":case"option":break;default:typeof Z.onClick=="function"&&(L.onclick=Wl)}L=H,w.updateQueue=L,L!==null&&(w.flags|=4)}else{ue=H.nodeType===9?H:H.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=ut(k)),a==="http://www.w3.org/1999/xhtml"?k==="script"?(a=ue.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof L.is=="string"?a=ue.createElement(k,{is:L.is}):(a=ue.createElement(k),k==="select"&&(ue=a,L.multiple?ue.multiple=!0:L.size&&(ue.size=L.size))):a=ue.createElementNS(a,k),a[vo]=w,a[Oa]=L,Nm(a,w,!1,!1),w.stateNode=a;e:{switch(ue=He(k,L),k){case"dialog":mr("cancel",a),mr("close",a),H=L;break;case"iframe":case"object":case"embed":mr("load",a),H=L;break;case"video":case"audio":for(H=0;H<Ca.length;H++)mr(Ca[H],a);H=L;break;case"source":mr("error",a),H=L;break;case"img":case"image":case"link":mr("error",a),mr("load",a),H=L;break;case"details":mr("toggle",a),H=L;break;case"input":ye(a,L),H=ie(a,L),mr("invalid",a);break;case"option":H=L;break;case"select":a._wrapperState={wasMultiple:!!L.multiple},H=ee({},L,{value:void 0}),mr("invalid",a);break;case"textarea":yt(a,L),H=Ne(a,L),mr("invalid",a);break;default:H=L}Re(k,H),je=H;for(Z in je)if(je.hasOwnProperty(Z)){var Pe=je[Z];Z==="style"?he(a,Pe):Z==="dangerouslySetInnerHTML"?(Pe=Pe?Pe.__html:void 0,Pe!=null&&Ye(a,Pe)):Z==="children"?typeof Pe=="string"?(k!=="textarea"||Pe!=="")&&Le(a,Pe):typeof Pe=="number"&&Le(a,""+Pe):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(f.hasOwnProperty(Z)?Pe!=null&&Z==="onScroll"&&mr("scroll",a):Pe!=null&&j(a,Z,Pe,ue))}switch(k){case"input":de(a),Ee(a,L,!1);break;case"textarea":de(a),rt(a);break;case"option":L.value!=null&&a.setAttribute("value",""+se(L.value));break;case"select":a.multiple=!!L.multiple,Z=L.value,Z!=null?Xe(a,!!L.multiple,Z,!1):L.defaultValue!=null&&Xe(a,!!L.multiple,L.defaultValue,!0);break;default:typeof H.onClick=="function"&&(a.onclick=Wl)}switch(k){case"button":case"input":case"select":case"textarea":L=!!L.autoFocus;break e;case"img":L=!0;break e;default:L=!1}}L&&(w.flags|=4)}w.ref!==null&&(w.flags|=512,w.flags|=2097152)}return an(w),null;case 6:if(a&&w.stateNode!=null)Fm(a,w,a.memoizedProps,L);else{if(typeof L!="string"&&w.stateNode===null)throw Error(d(166));if(k=Zs(Da.current),Zs(bo.current),Jl(w)){if(L=w.stateNode,k=w.memoizedProps,L[vo]=w,(Z=L.nodeValue!==k)&&(a=Dn,a!==null))switch(a.tag){case 3:Vl(L.nodeValue,k,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Vl(L.nodeValue,k,(a.mode&1)!==0)}Z&&(w.flags|=4)}else L=(k.nodeType===9?k:k.ownerDocument).createTextNode(L),L[vo]=w,w.stateNode=L}return an(w),null;case 13:if(gr(jr),L=w.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(br&&Ln!==null&&(w.mode&1)!==0&&(w.flags&128)===0)zp(),Ii(),w.flags|=98560,Z=!1;else if(Z=Jl(w),L!==null&&L.dehydrated!==null){if(a===null){if(!Z)throw Error(d(318));if(Z=w.memoizedState,Z=Z!==null?Z.dehydrated:null,!Z)throw Error(d(317));Z[vo]=w}else Ii(),(w.flags&128)===0&&(w.memoizedState=null),w.flags|=4;an(w),Z=!1}else so!==null&&($d(so),so=null),Z=!0;if(!Z)return w.flags&65536?w:null}return(w.flags&128)!==0?(w.lanes=k,w):(L=L!==null,L!==(a!==null&&a.memoizedState!==null)&&L&&(w.child.flags|=8192,(w.mode&1)!==0&&(a===null||(jr.current&1)!==0?zr===0&&(zr=3):Kd())),w.updateQueue!==null&&(w.flags|=4),an(w),null);case 4:return Li(),Ld(a,w),a===null&&Ta(w.stateNode.containerInfo),an(w),null;case 10:return cd(w.type._context),an(w),null;case 17:return xn(w.type)&&ql(),an(w),null;case 19:if(gr(jr),Z=w.memoizedState,Z===null)return an(w),null;if(L=(w.flags&128)!==0,ue=Z.rendering,ue===null)if(L)Ba(Z,!1);else{if(zr!==0||a!==null&&(a.flags&128)!==0)for(a=w.child;a!==null;){if(ue=nu(a),ue!==null){for(w.flags|=128,Ba(Z,!1),L=ue.updateQueue,L!==null&&(w.updateQueue=L,w.flags|=4),w.subtreeFlags=0,L=k,k=w.child;k!==null;)Z=k,a=L,Z.flags&=14680066,ue=Z.alternate,ue===null?(Z.childLanes=0,Z.lanes=a,Z.child=null,Z.subtreeFlags=0,Z.memoizedProps=null,Z.memoizedState=null,Z.updateQueue=null,Z.dependencies=null,Z.stateNode=null):(Z.childLanes=ue.childLanes,Z.lanes=ue.lanes,Z.child=ue.child,Z.subtreeFlags=0,Z.deletions=null,Z.memoizedProps=ue.memoizedProps,Z.memoizedState=ue.memoizedState,Z.updateQueue=ue.updateQueue,Z.type=ue.type,a=ue.dependencies,Z.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),k=k.sibling;return dr(jr,jr.current&1|2),w.child}a=a.sibling}Z.tail!==null&&Pt()>Bi&&(w.flags|=128,L=!0,Ba(Z,!1),w.lanes=4194304)}else{if(!L)if(a=nu(ue),a!==null){if(w.flags|=128,L=!0,k=a.updateQueue,k!==null&&(w.updateQueue=k,w.flags|=4),Ba(Z,!0),Z.tail===null&&Z.tailMode==="hidden"&&!ue.alternate&&!br)return an(w),null}else 2*Pt()-Z.renderingStartTime>Bi&&k!==1073741824&&(w.flags|=128,L=!0,Ba(Z,!1),w.lanes=4194304);Z.isBackwards?(ue.sibling=w.child,w.child=ue):(k=Z.last,k!==null?k.sibling=ue:w.child=ue,Z.last=ue)}return Z.tail!==null?(w=Z.tail,Z.rendering=w,Z.tail=w.sibling,Z.renderingStartTime=Pt(),w.sibling=null,k=jr.current,dr(jr,L?k&1|2:k&1),w):(an(w),null);case 22:case 23:return Yd(),L=w.memoizedState!==null,a!==null&&a.memoizedState!==null!==L&&(w.flags|=8192),L&&(w.mode&1)!==0?(Nn&1073741824)!==0&&(an(w),w.subtreeFlags&6&&(w.flags|=8192)):an(w),null;case 24:return null;case 25:return null}throw Error(d(156,w.tag))}function C1(a,w){switch(od(w),w.tag){case 1:return xn(w.type)&&ql(),a=w.flags,a&65536?(w.flags=a&-65537|128,w):null;case 3:return Li(),gr(_n),gr(on),yd(),a=w.flags,(a&65536)!==0&&(a&128)===0?(w.flags=a&-65537|128,w):null;case 5:return md(w),null;case 13:if(gr(jr),a=w.memoizedState,a!==null&&a.dehydrated!==null){if(w.alternate===null)throw Error(d(340));Ii()}return a=w.flags,a&65536?(w.flags=a&-65537|128,w):null;case 19:return gr(jr),null;case 4:return Li(),null;case 10:return cd(w.type._context),null;case 22:case 23:return Yd(),null;case 24:return null;default:return null}}var fu=!1,ln=!1,T1=typeof WeakSet=="function"?WeakSet:Set,xt=null;function Ui(a,w){var k=a.ref;if(k!==null)if(typeof k=="function")try{k(null)}catch(L){Pr(a,w,L)}else k.current=null}function Nd(a,w,k){try{k()}catch(L){Pr(a,w,L)}}var Bm=!1;function P1(a,w){if(Yc=An,a=vp(),Gc(a)){if("selectionStart"in a)var k={start:a.selectionStart,end:a.selectionEnd};else e:{k=(k=a.ownerDocument)&&k.defaultView||window;var L=k.getSelection&&k.getSelection();if(L&&L.rangeCount!==0){k=L.anchorNode;var H=L.anchorOffset,Z=L.focusNode;L=L.focusOffset;try{k.nodeType,Z.nodeType}catch{k=null;break e}var ue=0,je=-1,Pe=-1,qe=0,nt=0,st=a,tt=null;t:for(;;){for(var vt;st!==k||H!==0&&st.nodeType!==3||(je=ue+H),st!==Z||L!==0&&st.nodeType!==3||(Pe=ue+L),st.nodeType===3&&(ue+=st.nodeValue.length),(vt=st.firstChild)!==null;)tt=st,st=vt;for(;;){if(st===a)break t;if(tt===k&&++qe===H&&(je=ue),tt===Z&&++nt===L&&(Pe=ue),(vt=st.nextSibling)!==null)break;st=tt,tt=st.parentNode}st=vt}k=je===-1||Pe===-1?null:{start:je,end:Pe}}else k=null}k=k||{start:0,end:0}}else k=null;for(Kc={focusedElem:a,selectionRange:k},An=!1,xt=w;xt!==null;)if(w=xt,a=w.child,(w.subtreeFlags&1028)!==0&&a!==null)a.return=w,xt=a;else for(;xt!==null;){w=xt;try{var Et=w.alternate;if((w.flags&1024)!==0)switch(w.tag){case 0:case 11:case 15:break;case 1:if(Et!==null){var kt=Et.memoizedProps,Mr=Et.memoizedState,ze=w.stateNode,Ae=ze.getSnapshotBeforeUpdate(w.elementType===w.type?kt:io(w.type,kt),Mr);ze.__reactInternalSnapshotBeforeUpdate=Ae}break;case 3:var We=w.stateNode.containerInfo;We.nodeType===1?We.textContent="":We.nodeType===9&&We.documentElement&&We.removeChild(We.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(d(163))}}catch(dt){Pr(w,w.return,dt)}if(a=w.sibling,a!==null){a.return=w.return,xt=a;break}xt=w.return}return Et=Bm,Bm=!1,Et}function Ga(a,w,k){var L=w.updateQueue;if(L=L!==null?L.lastEffect:null,L!==null){var H=L=L.next;do{if((H.tag&a)===a){var Z=H.destroy;H.destroy=void 0,Z!==void 0&&Nd(w,k,Z)}H=H.next}while(H!==L)}}function hu(a,w){if(w=w.updateQueue,w=w!==null?w.lastEffect:null,w!==null){var k=w=w.next;do{if((k.tag&a)===a){var L=k.create;k.destroy=L()}k=k.next}while(k!==w)}}function Ud(a){var w=a.ref;if(w!==null){var k=a.stateNode;switch(a.tag){case 5:a=k;break;default:a=k}typeof w=="function"?w(a):w.current=a}}function Gm(a){var w=a.alternate;w!==null&&(a.alternate=null,Gm(w)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(w=a.stateNode,w!==null&&(delete w[vo],delete w[Oa],delete w[ed],delete w[d1],delete w[f1])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function zm(a){return a.tag===5||a.tag===3||a.tag===4}function Vm(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||zm(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Fd(a,w,k){var L=a.tag;if(L===5||L===6)a=a.stateNode,w?k.nodeType===8?k.parentNode.insertBefore(a,w):k.insertBefore(a,w):(k.nodeType===8?(w=k.parentNode,w.insertBefore(a,k)):(w=k,w.appendChild(a)),k=k._reactRootContainer,k!=null||w.onclick!==null||(w.onclick=Wl));else if(L!==4&&(a=a.child,a!==null))for(Fd(a,w,k),a=a.sibling;a!==null;)Fd(a,w,k),a=a.sibling}function Bd(a,w,k){var L=a.tag;if(L===5||L===6)a=a.stateNode,w?k.insertBefore(a,w):k.appendChild(a);else if(L!==4&&(a=a.child,a!==null))for(Bd(a,w,k),a=a.sibling;a!==null;)Bd(a,w,k),a=a.sibling}var en=null,ao=!1;function as(a,w,k){for(k=k.child;k!==null;)Wm(a,w,k),k=k.sibling}function Wm(a,w,k){if(Or&&typeof Or.onCommitFiberUnmount=="function")try{Or.onCommitFiberUnmount(qr,k)}catch{}switch(k.tag){case 5:ln||Ui(k,w);case 6:var L=en,H=ao;en=null,as(a,w,k),en=L,ao=H,en!==null&&(ao?(a=en,k=k.stateNode,a.nodeType===8?a.parentNode.removeChild(k):a.removeChild(k)):en.removeChild(k.stateNode));break;case 18:en!==null&&(ao?(a=en,k=k.stateNode,a.nodeType===8?Qc(a.parentNode,k):a.nodeType===1&&Qc(a,k),to(a)):Qc(en,k.stateNode));break;case 4:L=en,H=ao,en=k.stateNode.containerInfo,ao=!0,as(a,w,k),en=L,ao=H;break;case 0:case 11:case 14:case 15:if(!ln&&(L=k.updateQueue,L!==null&&(L=L.lastEffect,L!==null))){H=L=L.next;do{var Z=H,ue=Z.destroy;Z=Z.tag,ue!==void 0&&((Z&2)!==0||(Z&4)!==0)&&Nd(k,w,ue),H=H.next}while(H!==L)}as(a,w,k);break;case 1:if(!ln&&(Ui(k,w),L=k.stateNode,typeof L.componentWillUnmount=="function"))try{L.props=k.memoizedProps,L.state=k.memoizedState,L.componentWillUnmount()}catch(je){Pr(k,w,je)}as(a,w,k);break;case 21:as(a,w,k);break;case 22:k.mode&1?(ln=(L=ln)||k.memoizedState!==null,as(a,w,k),ln=L):as(a,w,k);break;default:as(a,w,k)}}function Hm(a){var w=a.updateQueue;if(w!==null){a.updateQueue=null;var k=a.stateNode;k===null&&(k=a.stateNode=new T1),w.forEach(function(L){var H=U1.bind(null,a,L);k.has(L)||(k.add(L),L.then(H,H))})}}function lo(a,w){var k=w.deletions;if(k!==null)for(var L=0;L<k.length;L++){var H=k[L];try{var Z=a,ue=w,je=ue;e:for(;je!==null;){switch(je.tag){case 5:en=je.stateNode,ao=!1;break e;case 3:en=je.stateNode.containerInfo,ao=!0;break e;case 4:en=je.stateNode.containerInfo,ao=!0;break e}je=je.return}if(en===null)throw Error(d(160));Wm(Z,ue,H),en=null,ao=!1;var Pe=H.alternate;Pe!==null&&(Pe.return=null),H.return=null}catch(qe){Pr(H,w,qe)}}if(w.subtreeFlags&12854)for(w=w.child;w!==null;)qm(w,a),w=w.sibling}function qm(a,w){var k=a.alternate,L=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(lo(w,a),_o(a),L&4){try{Ga(3,a,a.return),hu(3,a)}catch(kt){Pr(a,a.return,kt)}try{Ga(5,a,a.return)}catch(kt){Pr(a,a.return,kt)}}break;case 1:lo(w,a),_o(a),L&512&&k!==null&&Ui(k,k.return);break;case 5:if(lo(w,a),_o(a),L&512&&k!==null&&Ui(k,k.return),a.flags&32){var H=a.stateNode;try{Le(H,"")}catch(kt){Pr(a,a.return,kt)}}if(L&4&&(H=a.stateNode,H!=null)){var Z=a.memoizedProps,ue=k!==null?k.memoizedProps:Z,je=a.type,Pe=a.updateQueue;if(a.updateQueue=null,Pe!==null)try{je==="input"&&Z.type==="radio"&&Z.name!=null&&_e(H,Z),He(je,ue);var qe=He(je,Z);for(ue=0;ue<Pe.length;ue+=2){var nt=Pe[ue],st=Pe[ue+1];nt==="style"?he(H,st):nt==="dangerouslySetInnerHTML"?Ye(H,st):nt==="children"?Le(H,st):j(H,nt,st,qe)}switch(je){case"input":Te(H,Z);break;case"textarea":lt(H,Z);break;case"select":var tt=H._wrapperState.wasMultiple;H._wrapperState.wasMultiple=!!Z.multiple;var vt=Z.value;vt!=null?Xe(H,!!Z.multiple,vt,!1):tt!==!!Z.multiple&&(Z.defaultValue!=null?Xe(H,!!Z.multiple,Z.defaultValue,!0):Xe(H,!!Z.multiple,Z.multiple?[]:"",!1))}H[Oa]=Z}catch(kt){Pr(a,a.return,kt)}}break;case 6:if(lo(w,a),_o(a),L&4){if(a.stateNode===null)throw Error(d(162));H=a.stateNode,Z=a.memoizedProps;try{H.nodeValue=Z}catch(kt){Pr(a,a.return,kt)}}break;case 3:if(lo(w,a),_o(a),L&4&&k!==null&&k.memoizedState.isDehydrated)try{to(w.containerInfo)}catch(kt){Pr(a,a.return,kt)}break;case 4:lo(w,a),_o(a);break;case 13:lo(w,a),_o(a),H=a.child,H.flags&8192&&(Z=H.memoizedState!==null,H.stateNode.isHidden=Z,!Z||H.alternate!==null&&H.alternate.memoizedState!==null||(Vd=Pt())),L&4&&Hm(a);break;case 22:if(nt=k!==null&&k.memoizedState!==null,a.mode&1?(ln=(qe=ln)||nt,lo(w,a),ln=qe):lo(w,a),_o(a),L&8192){if(qe=a.memoizedState!==null,(a.stateNode.isHidden=qe)&&!nt&&(a.mode&1)!==0)for(xt=a,nt=a.child;nt!==null;){for(st=xt=nt;xt!==null;){switch(tt=xt,vt=tt.child,tt.tag){case 0:case 11:case 14:case 15:Ga(4,tt,tt.return);break;case 1:Ui(tt,tt.return);var Et=tt.stateNode;if(typeof Et.componentWillUnmount=="function"){L=tt,k=tt.return;try{w=L,Et.props=w.memoizedProps,Et.state=w.memoizedState,Et.componentWillUnmount()}catch(kt){Pr(L,k,kt)}}break;case 5:Ui(tt,tt.return);break;case 22:if(tt.memoizedState!==null){Ym(st);continue}}vt!==null?(vt.return=tt,xt=vt):Ym(st)}nt=nt.sibling}e:for(nt=null,st=a;;){if(st.tag===5){if(nt===null){nt=st;try{H=st.stateNode,qe?(Z=H.style,typeof Z.setProperty=="function"?Z.setProperty("display","none","important"):Z.display="none"):(je=st.stateNode,Pe=st.memoizedProps.style,ue=Pe!=null&&Pe.hasOwnProperty("display")?Pe.display:null,je.style.display=re("display",ue))}catch(kt){Pr(a,a.return,kt)}}}else if(st.tag===6){if(nt===null)try{st.stateNode.nodeValue=qe?"":st.memoizedProps}catch(kt){Pr(a,a.return,kt)}}else if((st.tag!==22&&st.tag!==23||st.memoizedState===null||st===a)&&st.child!==null){st.child.return=st,st=st.child;continue}if(st===a)break e;for(;st.sibling===null;){if(st.return===null||st.return===a)break e;nt===st&&(nt=null),st=st.return}nt===st&&(nt=null),st.sibling.return=st.return,st=st.sibling}}break;case 19:lo(w,a),_o(a),L&4&&Hm(a);break;case 21:break;default:lo(w,a),_o(a)}}function _o(a){var w=a.flags;if(w&2){try{e:{for(var k=a.return;k!==null;){if(zm(k)){var L=k;break e}k=k.return}throw Error(d(160))}switch(L.tag){case 5:var H=L.stateNode;L.flags&32&&(Le(H,""),L.flags&=-33);var Z=Vm(a);Bd(a,Z,H);break;case 3:case 4:var ue=L.stateNode.containerInfo,je=Vm(a);Fd(a,je,ue);break;default:throw Error(d(161))}}catch(Pe){Pr(a,a.return,Pe)}a.flags&=-3}w&4096&&(a.flags&=-4097)}function O1(a,w,k){xt=a,$m(a)}function $m(a,w,k){for(var L=(a.mode&1)!==0;xt!==null;){var H=xt,Z=H.child;if(H.tag===22&&L){var ue=H.memoizedState!==null||fu;if(!ue){var je=H.alternate,Pe=je!==null&&je.memoizedState!==null||ln;je=fu;var qe=ln;if(fu=ue,(ln=Pe)&&!qe)for(xt=H;xt!==null;)ue=xt,Pe=ue.child,ue.tag===22&&ue.memoizedState!==null?Km(H):Pe!==null?(Pe.return=ue,xt=Pe):Km(H);for(;Z!==null;)xt=Z,$m(Z),Z=Z.sibling;xt=H,fu=je,ln=qe}Xm(a)}else(H.subtreeFlags&8772)!==0&&Z!==null?(Z.return=H,xt=Z):Xm(a)}}function Xm(a){for(;xt!==null;){var w=xt;if((w.flags&8772)!==0){var k=w.alternate;try{if((w.flags&8772)!==0)switch(w.tag){case 0:case 11:case 15:ln||hu(5,w);break;case 1:var L=w.stateNode;if(w.flags&4&&!ln)if(k===null)L.componentDidMount();else{var H=w.elementType===w.type?k.memoizedProps:io(w.type,k.memoizedProps);L.componentDidUpdate(H,k.memoizedState,L.__reactInternalSnapshotBeforeUpdate)}var Z=w.updateQueue;Z!==null&&Yp(w,Z,L);break;case 3:var ue=w.updateQueue;if(ue!==null){if(k=null,w.child!==null)switch(w.child.tag){case 5:k=w.child.stateNode;break;case 1:k=w.child.stateNode}Yp(w,ue,k)}break;case 5:var je=w.stateNode;if(k===null&&w.flags&4){k=je;var Pe=w.memoizedProps;switch(w.type){case"button":case"input":case"select":case"textarea":Pe.autoFocus&&k.focus();break;case"img":Pe.src&&(k.src=Pe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(w.memoizedState===null){var qe=w.alternate;if(qe!==null){var nt=qe.memoizedState;if(nt!==null){var st=nt.dehydrated;st!==null&&to(st)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(d(163))}ln||w.flags&512&&Ud(w)}catch(tt){Pr(w,w.return,tt)}}if(w===a){xt=null;break}if(k=w.sibling,k!==null){k.return=w.return,xt=k;break}xt=w.return}}function Ym(a){for(;xt!==null;){var w=xt;if(w===a){xt=null;break}var k=w.sibling;if(k!==null){k.return=w.return,xt=k;break}xt=w.return}}function Km(a){for(;xt!==null;){var w=xt;try{switch(w.tag){case 0:case 11:case 15:var k=w.return;try{hu(4,w)}catch(Pe){Pr(w,k,Pe)}break;case 1:var L=w.stateNode;if(typeof L.componentDidMount=="function"){var H=w.return;try{L.componentDidMount()}catch(Pe){Pr(w,H,Pe)}}var Z=w.return;try{Ud(w)}catch(Pe){Pr(w,Z,Pe)}break;case 5:var ue=w.return;try{Ud(w)}catch(Pe){Pr(w,ue,Pe)}}}catch(Pe){Pr(w,w.return,Pe)}if(w===a){xt=null;break}var je=w.sibling;if(je!==null){je.return=w.return,xt=je;break}xt=w.return}}var M1=Math.ceil,pu=x.ReactCurrentDispatcher,Gd=x.ReactCurrentOwner,$n=x.ReactCurrentBatchConfig,Kt=0,Yr=null,Ur=null,tn=0,Nn=0,Fi=rs(0),zr=0,za=null,ei=0,mu=0,zd=0,Va=null,Sn=null,Vd=0,Bi=1/0,Lo=null,gu=!1,Wd=null,ls=null,yu=!1,us=null,vu=0,Wa=0,Hd=null,bu=-1,wu=0;function dn(){return(Kt&6)!==0?Pt():bu!==-1?bu:bu=Pt()}function cs(a){return(a.mode&1)===0?1:(Kt&2)!==0&&tn!==0?tn&-tn:p1.transition!==null?(wu===0&&(wu=Ol()),wu):(a=Xt,a!==0||(a=window.event,a=a===void 0?16:wa(a.type)),a)}function uo(a,w,k,L){if(50<Wa)throw Wa=0,Hd=null,Error(d(185));qo(a,k,L),((Kt&2)===0||a!==Yr)&&(a===Yr&&((Kt&2)===0&&(mu|=k),zr===4&&ds(a,tn)),En(a,L),k===1&&Kt===0&&(w.mode&1)===0&&(Bi=Pt()+500,Xl&&os()))}function En(a,w){var k=a.callbackNode;Pl(a,w);var L=Ho(a,a===Yr?tn:0);if(L===0)k!==null&&Je(k),a.callbackNode=null,a.callbackPriority=0;else if(w=L&-L,a.callbackPriority!==w){if(k!=null&&Je(k),w===1)a.tag===0?h1(Zm.bind(null,a)):Np(Zm.bind(null,a)),u1(function(){(Kt&6)===0&&os()}),k=null;else{switch(Mn(L)){case 1:k=hr;break;case 4:k=Cr;break;case 16:k=ur;break;case 536870912:k=Pn;break;default:k=ur}k=ig(k,Jm.bind(null,a))}a.callbackPriority=w,a.callbackNode=k}}function Jm(a,w){if(bu=-1,wu=0,(Kt&6)!==0)throw Error(d(327));var k=a.callbackNode;if(Gi()&&a.callbackNode!==k)return null;var L=Ho(a,a===Yr?tn:0);if(L===0)return null;if((L&30)!==0||(L&a.expiredLanes)!==0||w)w=_u(a,L);else{w=L;var H=Kt;Kt|=2;var Z=eg();(Yr!==a||tn!==w)&&(Lo=null,Bi=Pt()+500,ri(a,w));do try{R1();break}catch(je){Qm(a,je)}while(!0);ud(),pu.current=Z,Kt=H,Ur!==null?w=0:(Yr=null,tn=0,w=zr)}if(w!==0){if(w===2&&(H=gi(a),H!==0&&(L=H,w=qd(a,H))),w===1)throw k=za,ri(a,0),ds(a,L),En(a,Pt()),k;if(w===6)ds(a,L);else{if(H=a.current.alternate,(L&30)===0&&!I1(H)&&(w=_u(a,L),w===2&&(Z=gi(a),Z!==0&&(L=Z,w=qd(a,Z))),w===1))throw k=za,ri(a,0),ds(a,L),En(a,Pt()),k;switch(a.finishedWork=H,a.finishedLanes=L,w){case 0:case 1:throw Error(d(345));case 2:ni(a,Sn,Lo);break;case 3:if(ds(a,L),(L&130023424)===L&&(w=Vd+500-Pt(),10<w)){if(Ho(a,0)!==0)break;if(H=a.suspendedLanes,(H&L)!==L){dn(),a.pingedLanes|=a.suspendedLanes&H;break}a.timeoutHandle=Zc(ni.bind(null,a,Sn,Lo),w);break}ni(a,Sn,Lo);break;case 4:if(ds(a,L),(L&4194240)===L)break;for(w=a.eventTimes,H=-1;0<L;){var ue=31-yn(L);Z=1<<ue,ue=w[ue],ue>H&&(H=ue),L&=~Z}if(L=H,L=Pt()-L,L=(120>L?120:480>L?480:1080>L?1080:1920>L?1920:3e3>L?3e3:4320>L?4320:1960*M1(L/1960))-L,10<L){a.timeoutHandle=Zc(ni.bind(null,a,Sn,Lo),L);break}ni(a,Sn,Lo);break;case 5:ni(a,Sn,Lo);break;default:throw Error(d(329))}}}return En(a,Pt()),a.callbackNode===k?Jm.bind(null,a):null}function qd(a,w){var k=Va;return a.current.memoizedState.isDehydrated&&(ri(a,w).flags|=256),a=_u(a,w),a!==2&&(w=Sn,Sn=k,w!==null&&$d(w)),a}function $d(a){Sn===null?Sn=a:Sn.push.apply(Sn,a)}function I1(a){for(var w=a;;){if(w.flags&16384){var k=w.updateQueue;if(k!==null&&(k=k.stores,k!==null))for(var L=0;L<k.length;L++){var H=k[L],Z=H.getSnapshot;H=H.value;try{if(!rr(Z(),H))return!1}catch{return!1}}}if(k=w.child,w.subtreeFlags&16384&&k!==null)k.return=w,w=k;else{if(w===a)break;for(;w.sibling===null;){if(w.return===null||w.return===a)return!0;w=w.return}w.sibling.return=w.return,w=w.sibling}}return!0}function ds(a,w){for(w&=~zd,w&=~mu,a.suspendedLanes|=w,a.pingedLanes&=~w,a=a.expirationTimes;0<w;){var k=31-yn(w),L=1<<k;a[k]=-1,w&=~L}}function Zm(a){if((Kt&6)!==0)throw Error(d(327));Gi();var w=Ho(a,0);if((w&1)===0)return En(a,Pt()),null;var k=_u(a,w);if(a.tag!==0&&k===2){var L=gi(a);L!==0&&(w=L,k=qd(a,L))}if(k===1)throw k=za,ri(a,0),ds(a,w),En(a,Pt()),k;if(k===6)throw Error(d(345));return a.finishedWork=a.current.alternate,a.finishedLanes=w,ni(a,Sn,Lo),En(a,Pt()),null}function Xd(a,w){var k=Kt;Kt|=1;try{return a(w)}finally{Kt=k,Kt===0&&(Bi=Pt()+500,Xl&&os())}}function ti(a){us!==null&&us.tag===0&&(Kt&6)===0&&Gi();var w=Kt;Kt|=1;var k=$n.transition,L=Xt;try{if($n.transition=null,Xt=1,a)return a()}finally{Xt=L,$n.transition=k,Kt=w,(Kt&6)===0&&os()}}function Yd(){Nn=Fi.current,gr(Fi)}function ri(a,w){a.finishedWork=null,a.finishedLanes=0;var k=a.timeoutHandle;if(k!==-1&&(a.timeoutHandle=-1,l1(k)),Ur!==null)for(k=Ur.return;k!==null;){var L=k;switch(od(L),L.tag){case 1:L=L.type.childContextTypes,L!=null&&ql();break;case 3:Li(),gr(_n),gr(on),yd();break;case 5:md(L);break;case 4:Li();break;case 13:gr(jr);break;case 19:gr(jr);break;case 10:cd(L.type._context);break;case 22:case 23:Yd()}k=k.return}if(Yr=a,Ur=a=fs(a.current,null),tn=Nn=w,zr=0,za=null,zd=mu=ei=0,Sn=Va=null,Js!==null){for(w=0;w<Js.length;w++)if(k=Js[w],L=k.interleaved,L!==null){k.interleaved=null;var H=L.next,Z=k.pending;if(Z!==null){var ue=Z.next;Z.next=H,L.next=ue}k.pending=L}Js=null}return a}function Qm(a,w){do{var k=Ur;try{if(ud(),ou.current=lu,su){for(var L=Sr.memoizedState;L!==null;){var H=L.queue;H!==null&&(H.pending=null),L=L.next}su=!1}if(Qs=0,Xr=Gr=Sr=null,La=!1,Na=0,Gd.current=null,k===null||k.return===null){zr=1,za=w,Ur=null;break}e:{var Z=a,ue=k.return,je=k,Pe=w;if(w=tn,je.flags|=32768,Pe!==null&&typeof Pe=="object"&&typeof Pe.then=="function"){var qe=Pe,nt=je,st=nt.tag;if((nt.mode&1)===0&&(st===0||st===11||st===15)){var tt=nt.alternate;tt?(nt.updateQueue=tt.updateQueue,nt.memoizedState=tt.memoizedState,nt.lanes=tt.lanes):(nt.updateQueue=null,nt.memoizedState=null)}var vt=Sm(ue);if(vt!==null){vt.flags&=-257,Em(vt,ue,je,Z,w),vt.mode&1&&jm(Z,qe,w),w=vt,Pe=qe;var Et=w.updateQueue;if(Et===null){var kt=new Set;kt.add(Pe),w.updateQueue=kt}else Et.add(Pe);break e}else{if((w&1)===0){jm(Z,qe,w),Kd();break e}Pe=Error(d(426))}}else if(br&&je.mode&1){var Mr=Sm(ue);if(Mr!==null){(Mr.flags&65536)===0&&(Mr.flags|=256),Em(Mr,ue,je,Z,w),ad(Ni(Pe,je));break e}}Z=Pe=Ni(Pe,je),zr!==4&&(zr=2),Va===null?Va=[Z]:Va.push(Z),Z=ue;do{switch(Z.tag){case 3:Z.flags|=65536,w&=-w,Z.lanes|=w;var ze=_m(Z,Pe,w);Xp(Z,ze);break e;case 1:je=Pe;var Ae=Z.type,We=Z.stateNode;if((Z.flags&128)===0&&(typeof Ae.getDerivedStateFromError=="function"||We!==null&&typeof We.componentDidCatch=="function"&&(ls===null||!ls.has(We)))){Z.flags|=65536,w&=-w,Z.lanes|=w;var dt=xm(Z,je,w);Xp(Z,dt);break e}}Z=Z.return}while(Z!==null)}rg(k)}catch(Ct){w=Ct,Ur===k&&k!==null&&(Ur=k=k.return);continue}break}while(!0)}function eg(){var a=pu.current;return pu.current=lu,a===null?lu:a}function Kd(){(zr===0||zr===3||zr===2)&&(zr=4),Yr===null||(ei&268435455)===0&&(mu&268435455)===0||ds(Yr,tn)}function _u(a,w){var k=Kt;Kt|=2;var L=eg();(Yr!==a||tn!==w)&&(Lo=null,ri(a,w));do try{A1();break}catch(H){Qm(a,H)}while(!0);if(ud(),Kt=k,pu.current=L,Ur!==null)throw Error(d(261));return Yr=null,tn=0,zr}function A1(){for(;Ur!==null;)tg(Ur)}function R1(){for(;Ur!==null&&!$t();)tg(Ur)}function tg(a){var w=sg(a.alternate,a,Nn);a.memoizedProps=a.pendingProps,w===null?rg(a):Ur=w,Gd.current=null}function rg(a){var w=a;do{var k=w.alternate;if(a=w.return,(w.flags&32768)===0){if(k=k1(k,w,Nn),k!==null){Ur=k;return}}else{if(k=C1(k,w),k!==null){k.flags&=32767,Ur=k;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{zr=6,Ur=null;return}}if(w=w.sibling,w!==null){Ur=w;return}Ur=w=a}while(w!==null);zr===0&&(zr=5)}function ni(a,w,k){var L=Xt,H=$n.transition;try{$n.transition=null,Xt=1,D1(a,w,k,L)}finally{$n.transition=H,Xt=L}return null}function D1(a,w,k,L){do Gi();while(us!==null);if((Kt&6)!==0)throw Error(d(327));k=a.finishedWork;var H=a.finishedLanes;if(k===null)return null;if(a.finishedWork=null,a.finishedLanes=0,k===a.current)throw Error(d(177));a.callbackNode=null,a.callbackPriority=0;var Z=k.lanes|k.childLanes;if(Ml(a,Z),a===Yr&&(Ur=Yr=null,tn=0),(k.subtreeFlags&2064)===0&&(k.flags&2064)===0||yu||(yu=!0,ig(ur,function(){return Gi(),null})),Z=(k.flags&15990)!==0,(k.subtreeFlags&15990)!==0||Z){Z=$n.transition,$n.transition=null;var ue=Xt;Xt=1;var je=Kt;Kt|=4,Gd.current=null,P1(a,k),qm(k,a),t1(Kc),An=!!Yc,Kc=Yc=null,a.current=k,O1(k),pt(),Kt=je,Xt=ue,$n.transition=Z}else a.current=k;if(yu&&(yu=!1,us=a,vu=H),Z=a.pendingLanes,Z===0&&(ls=null),Dr(k.stateNode),En(a,Pt()),w!==null)for(L=a.onRecoverableError,k=0;k<w.length;k++)H=w[k],L(H.value,{componentStack:H.stack,digest:H.digest});if(gu)throw gu=!1,a=Wd,Wd=null,a;return(vu&1)!==0&&a.tag!==0&&Gi(),Z=a.pendingLanes,(Z&1)!==0?a===Hd?Wa++:(Wa=0,Hd=a):Wa=0,os(),null}function Gi(){if(us!==null){var a=Mn(vu),w=$n.transition,k=Xt;try{if($n.transition=null,Xt=16>a?16:a,us===null)var L=!1;else{if(a=us,us=null,vu=0,(Kt&6)!==0)throw Error(d(331));var H=Kt;for(Kt|=4,xt=a.current;xt!==null;){var Z=xt,ue=Z.child;if((xt.flags&16)!==0){var je=Z.deletions;if(je!==null){for(var Pe=0;Pe<je.length;Pe++){var qe=je[Pe];for(xt=qe;xt!==null;){var nt=xt;switch(nt.tag){case 0:case 11:case 15:Ga(8,nt,Z)}var st=nt.child;if(st!==null)st.return=nt,xt=st;else for(;xt!==null;){nt=xt;var tt=nt.sibling,vt=nt.return;if(Gm(nt),nt===qe){xt=null;break}if(tt!==null){tt.return=vt,xt=tt;break}xt=vt}}}var Et=Z.alternate;if(Et!==null){var kt=Et.child;if(kt!==null){Et.child=null;do{var Mr=kt.sibling;kt.sibling=null,kt=Mr}while(kt!==null)}}xt=Z}}if((Z.subtreeFlags&2064)!==0&&ue!==null)ue.return=Z,xt=ue;else e:for(;xt!==null;){if(Z=xt,(Z.flags&2048)!==0)switch(Z.tag){case 0:case 11:case 15:Ga(9,Z,Z.return)}var ze=Z.sibling;if(ze!==null){ze.return=Z.return,xt=ze;break e}xt=Z.return}}var Ae=a.current;for(xt=Ae;xt!==null;){ue=xt;var We=ue.child;if((ue.subtreeFlags&2064)!==0&&We!==null)We.return=ue,xt=We;else e:for(ue=Ae;xt!==null;){if(je=xt,(je.flags&2048)!==0)try{switch(je.tag){case 0:case 11:case 15:hu(9,je)}}catch(Ct){Pr(je,je.return,Ct)}if(je===ue){xt=null;break e}var dt=je.sibling;if(dt!==null){dt.return=je.return,xt=dt;break e}xt=je.return}}if(Kt=H,os(),Or&&typeof Or.onPostCommitFiberRoot=="function")try{Or.onPostCommitFiberRoot(qr,a)}catch{}L=!0}return L}finally{Xt=k,$n.transition=w}}return!1}function ng(a,w,k){w=Ni(k,w),w=_m(a,w,1),a=is(a,w,1),w=dn(),a!==null&&(qo(a,1,w),En(a,w))}function Pr(a,w,k){if(a.tag===3)ng(a,a,k);else for(;w!==null;){if(w.tag===3){ng(w,a,k);break}else if(w.tag===1){var L=w.stateNode;if(typeof w.type.getDerivedStateFromError=="function"||typeof L.componentDidCatch=="function"&&(ls===null||!ls.has(L))){a=Ni(k,a),a=xm(w,a,1),w=is(w,a,1),a=dn(),w!==null&&(qo(w,1,a),En(w,a));break}}w=w.return}}function L1(a,w,k){var L=a.pingCache;L!==null&&L.delete(w),w=dn(),a.pingedLanes|=a.suspendedLanes&k,Yr===a&&(tn&k)===k&&(zr===4||zr===3&&(tn&130023424)===tn&&500>Pt()-Vd?ri(a,0):zd|=k),En(a,w)}function og(a,w){w===0&&((a.mode&1)===0?w=1:(w=Rs,Rs<<=1,(Rs&130023424)===0&&(Rs=4194304)));var k=dn();a=Ao(a,w),a!==null&&(qo(a,w,k),En(a,k))}function N1(a){var w=a.memoizedState,k=0;w!==null&&(k=w.retryLane),og(a,k)}function U1(a,w){var k=0;switch(a.tag){case 13:var L=a.stateNode,H=a.memoizedState;H!==null&&(k=H.retryLane);break;case 19:L=a.stateNode;break;default:throw Error(d(314))}L!==null&&L.delete(w),og(a,k)}var sg;sg=function(a,w,k){if(a!==null)if(a.memoizedProps!==w.pendingProps||_n.current)jn=!0;else{if((a.lanes&k)===0&&(w.flags&128)===0)return jn=!1,E1(a,w,k);jn=(a.flags&131072)!==0}else jn=!1,br&&(w.flags&1048576)!==0&&Up(w,Kl,w.index);switch(w.lanes=0,w.tag){case 2:var L=w.type;du(a,w),a=w.pendingProps;var H=Pi(w,on.current);Di(w,k),H=wd(null,w,L,a,H,k);var Z=_d();return w.flags|=1,typeof H=="object"&&H!==null&&typeof H.render=="function"&&H.$$typeof===void 0?(w.tag=1,w.memoizedState=null,w.updateQueue=null,xn(L)?(Z=!0,$l(w)):Z=!1,w.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,hd(w),H.updater=uu,w.stateNode=H,H._reactInternals=w,Cd(w,L,a,k),w=Md(null,w,L,!0,Z,k)):(w.tag=0,br&&Z&&nd(w),cn(null,w,H,k),w=w.child),w;case 16:L=w.elementType;e:{switch(du(a,w),a=w.pendingProps,H=L._init,L=H(L._payload),w.type=L,H=w.tag=B1(L),a=io(L,a),H){case 0:w=Od(null,w,L,a,k);break e;case 1:w=Mm(null,w,L,a,k);break e;case 11:w=km(null,w,L,a,k);break e;case 14:w=Cm(null,w,L,io(L.type,a),k);break e}throw Error(d(306,L,""))}return w;case 0:return L=w.type,H=w.pendingProps,H=w.elementType===L?H:io(L,H),Od(a,w,L,H,k);case 1:return L=w.type,H=w.pendingProps,H=w.elementType===L?H:io(L,H),Mm(a,w,L,H,k);case 3:e:{if(Im(w),a===null)throw Error(d(387));L=w.pendingProps,Z=w.memoizedState,H=Z.element,$p(a,w),ru(w,L,null,k);var ue=w.memoizedState;if(L=ue.element,Z.isDehydrated)if(Z={element:L,isDehydrated:!1,cache:ue.cache,pendingSuspenseBoundaries:ue.pendingSuspenseBoundaries,transitions:ue.transitions},w.updateQueue.baseState=Z,w.memoizedState=Z,w.flags&256){H=Ni(Error(d(423)),w),w=Am(a,w,L,k,H);break e}else if(L!==H){H=Ni(Error(d(424)),w),w=Am(a,w,L,k,H);break e}else for(Ln=ts(w.stateNode.containerInfo.firstChild),Dn=w,br=!0,so=null,k=Hp(w,null,L,k),w.child=k;k;)k.flags=k.flags&-3|4096,k=k.sibling;else{if(Ii(),L===H){w=Do(a,w,k);break e}cn(a,w,L,k)}w=w.child}return w;case 5:return Kp(w),a===null&&id(w),L=w.type,H=w.pendingProps,Z=a!==null?a.memoizedProps:null,ue=H.children,Jc(L,H)?ue=null:Z!==null&&Jc(L,Z)&&(w.flags|=32),Om(a,w),cn(a,w,ue,k),w.child;case 6:return a===null&&id(w),null;case 13:return Rm(a,w,k);case 4:return pd(w,w.stateNode.containerInfo),L=w.pendingProps,a===null?w.child=Ai(w,null,L,k):cn(a,w,L,k),w.child;case 11:return L=w.type,H=w.pendingProps,H=w.elementType===L?H:io(L,H),km(a,w,L,H,k);case 7:return cn(a,w,w.pendingProps,k),w.child;case 8:return cn(a,w,w.pendingProps.children,k),w.child;case 12:return cn(a,w,w.pendingProps.children,k),w.child;case 10:e:{if(L=w.type._context,H=w.pendingProps,Z=w.memoizedProps,ue=H.value,dr(Ql,L._currentValue),L._currentValue=ue,Z!==null)if(rr(Z.value,ue)){if(Z.children===H.children&&!_n.current){w=Do(a,w,k);break e}}else for(Z=w.child,Z!==null&&(Z.return=w);Z!==null;){var je=Z.dependencies;if(je!==null){ue=Z.child;for(var Pe=je.firstContext;Pe!==null;){if(Pe.context===L){if(Z.tag===1){Pe=Ro(-1,k&-k),Pe.tag=2;var qe=Z.updateQueue;if(qe!==null){qe=qe.shared;var nt=qe.pending;nt===null?Pe.next=Pe:(Pe.next=nt.next,nt.next=Pe),qe.pending=Pe}}Z.lanes|=k,Pe=Z.alternate,Pe!==null&&(Pe.lanes|=k),dd(Z.return,k,w),je.lanes|=k;break}Pe=Pe.next}}else if(Z.tag===10)ue=Z.type===w.type?null:Z.child;else if(Z.tag===18){if(ue=Z.return,ue===null)throw Error(d(341));ue.lanes|=k,je=ue.alternate,je!==null&&(je.lanes|=k),dd(ue,k,w),ue=Z.sibling}else ue=Z.child;if(ue!==null)ue.return=Z;else for(ue=Z;ue!==null;){if(ue===w){ue=null;break}if(Z=ue.sibling,Z!==null){Z.return=ue.return,ue=Z;break}ue=ue.return}Z=ue}cn(a,w,H.children,k),w=w.child}return w;case 9:return H=w.type,L=w.pendingProps.children,Di(w,k),H=Hn(H),L=L(H),w.flags|=1,cn(a,w,L,k),w.child;case 14:return L=w.type,H=io(L,w.pendingProps),H=io(L.type,H),Cm(a,w,L,H,k);case 15:return Tm(a,w,w.type,w.pendingProps,k);case 17:return L=w.type,H=w.pendingProps,H=w.elementType===L?H:io(L,H),du(a,w),w.tag=1,xn(L)?(a=!0,$l(w)):a=!1,Di(w,k),bm(w,L,H),Cd(w,L,H,k),Md(null,w,L,!0,a,k);case 19:return Lm(a,w,k);case 22:return Pm(a,w,k)}throw Error(d(156,w.tag))};function ig(a,w){return Gt(a,w)}function F1(a,w,k,L){this.tag=a,this.key=k,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=w,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=L,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(a,w,k,L){return new F1(a,w,k,L)}function Jd(a){return a=a.prototype,!(!a||!a.isReactComponent)}function B1(a){if(typeof a=="function")return Jd(a)?1:0;if(a!=null){if(a=a.$$typeof,a===B)return 11;if(a===z)return 14}return 2}function fs(a,w){var k=a.alternate;return k===null?(k=Xn(a.tag,w,a.key,a.mode),k.elementType=a.elementType,k.type=a.type,k.stateNode=a.stateNode,k.alternate=a,a.alternate=k):(k.pendingProps=w,k.type=a.type,k.flags=0,k.subtreeFlags=0,k.deletions=null),k.flags=a.flags&14680064,k.childLanes=a.childLanes,k.lanes=a.lanes,k.child=a.child,k.memoizedProps=a.memoizedProps,k.memoizedState=a.memoizedState,k.updateQueue=a.updateQueue,w=a.dependencies,k.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext},k.sibling=a.sibling,k.index=a.index,k.ref=a.ref,k}function xu(a,w,k,L,H,Z){var ue=2;if(L=a,typeof a=="function")Jd(a)&&(ue=1);else if(typeof a=="string")ue=5;else e:switch(a){case O:return oi(k.children,H,Z,w);case M:ue=8,H|=8;break;case D:return a=Xn(12,k,w,H|2),a.elementType=D,a.lanes=Z,a;case R:return a=Xn(13,k,w,H),a.elementType=R,a.lanes=Z,a;case G:return a=Xn(19,k,w,H),a.elementType=G,a.lanes=Z,a;case Y:return ju(k,H,Z,w);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case U:ue=10;break e;case I:ue=9;break e;case B:ue=11;break e;case z:ue=14;break e;case q:ue=16,L=null;break e}throw Error(d(130,a==null?a:typeof a,""))}return w=Xn(ue,k,w,H),w.elementType=a,w.type=L,w.lanes=Z,w}function oi(a,w,k,L){return a=Xn(7,a,L,w),a.lanes=k,a}function ju(a,w,k,L){return a=Xn(22,a,L,w),a.elementType=Y,a.lanes=k,a.stateNode={isHidden:!1},a}function Zd(a,w,k){return a=Xn(6,a,null,w),a.lanes=k,a}function Qd(a,w,k){return w=Xn(4,a.children!==null?a.children:[],a.key,w),w.lanes=k,w.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},w}function G1(a,w,k,L,H){this.tag=w,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ds(0),this.expirationTimes=Ds(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ds(0),this.identifierPrefix=L,this.onRecoverableError=H,this.mutableSourceEagerHydrationData=null}function ef(a,w,k,L,H,Z,ue,je,Pe){return a=new G1(a,w,k,je,Pe),w===1?(w=1,Z===!0&&(w|=8)):w=0,Z=Xn(3,null,null,w),a.current=Z,Z.stateNode=a,Z.memoizedState={element:L,isDehydrated:k,cache:null,transitions:null,pendingSuspenseBoundaries:null},hd(Z),a}function z1(a,w,k){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:L==null?null:""+L,children:a,containerInfo:w,implementation:k}}function ag(a){if(!a)return ns;a=a._reactInternals;e:{if(Tn(a)!==a||a.tag!==1)throw Error(d(170));var w=a;do{switch(w.tag){case 3:w=w.stateNode.context;break e;case 1:if(xn(w.type)){w=w.stateNode.__reactInternalMemoizedMergedChildContext;break e}}w=w.return}while(w!==null);throw Error(d(171))}if(a.tag===1){var k=a.type;if(xn(k))return Dp(a,k,w)}return w}function lg(a,w,k,L,H,Z,ue,je,Pe){return a=ef(k,L,!0,a,H,Z,ue,je,Pe),a.context=ag(null),k=a.current,L=dn(),H=cs(k),Z=Ro(L,H),Z.callback=w??null,is(k,Z,H),a.current.lanes=H,qo(a,H,L),En(a,L),a}function Su(a,w,k,L){var H=w.current,Z=dn(),ue=cs(H);return k=ag(k),w.context===null?w.context=k:w.pendingContext=k,w=Ro(Z,ue),w.payload={element:a},L=L===void 0?null:L,L!==null&&(w.callback=L),a=is(H,w,ue),a!==null&&(uo(a,H,ue,Z),tu(a,H,ue)),ue}function Eu(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function ug(a,w){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var k=a.retryLane;a.retryLane=k!==0&&k<w?k:w}}function tf(a,w){ug(a,w),(a=a.alternate)&&ug(a,w)}function V1(){return null}var cg=typeof reportError=="function"?reportError:function(a){console.error(a)};function rf(a){this._internalRoot=a}ku.prototype.render=rf.prototype.render=function(a){var w=this._internalRoot;if(w===null)throw Error(d(409));Su(a,w,null,null)},ku.prototype.unmount=rf.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var w=a.containerInfo;ti(function(){Su(null,a,null,null)}),w[Po]=null}};function ku(a){this._internalRoot=a}ku.prototype.unstable_scheduleHydration=function(a){if(a){var w=ba();a={blockedOn:null,target:a,priority:w};for(var k=0;k<go.length&&w!==0&&w<go[k].priority;k++);go.splice(k,0,a),k===0&&In(a)}};function nf(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Cu(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function dg(){}function W1(a,w,k,L,H){if(H){if(typeof L=="function"){var Z=L;L=function(){var qe=Eu(ue);Z.call(qe)}}var ue=lg(w,L,a,0,null,!1,!1,"",dg);return a._reactRootContainer=ue,a[Po]=ue.current,Ta(a.nodeType===8?a.parentNode:a),ti(),ue}for(;H=a.lastChild;)a.removeChild(H);if(typeof L=="function"){var je=L;L=function(){var qe=Eu(Pe);je.call(qe)}}var Pe=ef(a,0,!1,null,null,!1,!1,"",dg);return a._reactRootContainer=Pe,a[Po]=Pe.current,Ta(a.nodeType===8?a.parentNode:a),ti(function(){Su(w,Pe,k,L)}),Pe}function Tu(a,w,k,L,H){var Z=k._reactRootContainer;if(Z){var ue=Z;if(typeof H=="function"){var je=H;H=function(){var Pe=Eu(ue);je.call(Pe)}}Su(w,ue,a,H)}else ue=W1(k,w,a,H,L);return Eu(ue)}va=function(a){switch(a.tag){case 3:var w=a.stateNode;if(w.current.memoizedState.isDehydrated){var k=Wo(w.pendingLanes);k!==0&&($o(w,k|1),En(w,Pt()),(Kt&6)===0&&(Bi=Pt()+500,os()))}break;case 13:ti(function(){var L=Ao(a,1);if(L!==null){var H=dn();uo(L,a,1,H)}}),tf(a,1)}},yi=function(a){if(a.tag===13){var w=Ao(a,134217728);if(w!==null){var k=dn();uo(w,a,134217728,k)}tf(a,134217728)}},ko=function(a){if(a.tag===13){var w=cs(a),k=Ao(a,w);if(k!==null){var L=dn();uo(k,a,w,L)}tf(a,w)}},ba=function(){return Xt},Il=function(a,w){var k=Xt;try{return Xt=a,w()}finally{Xt=k}},at=function(a,w,k){switch(w){case"input":if(Te(a,k),w=k.name,k.type==="radio"&&w!=null){for(k=a;k.parentNode;)k=k.parentNode;for(k=k.querySelectorAll("input[name="+JSON.stringify(""+w)+'][type="radio"]'),w=0;w<k.length;w++){var L=k[w];if(L!==a&&L.form===a.form){var H=Hl(L);if(!H)throw Error(d(90));be(L),Te(L,H)}}}break;case"textarea":lt(a,k);break;case"select":w=k.value,w!=null&&Xe(a,!!k.multiple,w,!1)}},Tt=Xd,or=ti;var H1={usingClientEntryPoint:!1,Events:[Ma,Ci,Hl,bt,At,Xd]},Ha={findFiberByHostInstance:$s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},q1={bundleType:Ha.bundleType,version:Ha.version,rendererPackageName:Ha.rendererPackageName,rendererConfig:Ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=mt(a),a===null?null:a.stateNode},findFiberByHostInstance:Ha.findFiberByHostInstance||V1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{qr=Pu.inject(q1),Or=Pu}catch{}}return kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H1,kn.createPortal=function(a,w){var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nf(w))throw Error(d(200));return z1(a,w,null,k)},kn.createRoot=function(a,w){if(!nf(a))throw Error(d(299));var k=!1,L="",H=cg;return w!=null&&(w.unstable_strictMode===!0&&(k=!0),w.identifierPrefix!==void 0&&(L=w.identifierPrefix),w.onRecoverableError!==void 0&&(H=w.onRecoverableError)),w=ef(a,1,!1,null,null,k,!1,L,H),a[Po]=w.current,Ta(a.nodeType===8?a.parentNode:a),new rf(w)},kn.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var w=a._reactInternals;if(w===void 0)throw typeof a.render=="function"?Error(d(188)):(a=Object.keys(a).join(","),Error(d(268,a)));return a=mt(w),a=a===null?null:a.stateNode,a},kn.flushSync=function(a){return ti(a)},kn.hydrate=function(a,w,k){if(!Cu(w))throw Error(d(200));return Tu(null,a,w,!0,k)},kn.hydrateRoot=function(a,w,k){if(!nf(a))throw Error(d(405));var L=k!=null&&k.hydratedSources||null,H=!1,Z="",ue=cg;if(k!=null&&(k.unstable_strictMode===!0&&(H=!0),k.identifierPrefix!==void 0&&(Z=k.identifierPrefix),k.onRecoverableError!==void 0&&(ue=k.onRecoverableError)),w=lg(w,null,a,1,k??null,H,!1,Z,ue),a[Po]=w.current,Ta(a),L)for(a=0;a<L.length;a++)k=L[a],H=k._getVersion,H=H(k._source),w.mutableSourceEagerHydrationData==null?w.mutableSourceEagerHydrationData=[k,H]:w.mutableSourceEagerHydrationData.push(k,H);return new ku(w)},kn.render=function(a,w,k){if(!Cu(w))throw Error(d(200));return Tu(null,a,w,!1,k)},kn.unmountComponentAtNode=function(a){if(!Cu(a))throw Error(d(40));return a._reactRootContainer?(ti(function(){Tu(null,null,a,!1,function(){a._reactRootContainer=null,a[Po]=null})}),!0):!1},kn.unstable_batchedUpdates=Xd,kn.unstable_renderSubtreeIntoContainer=function(a,w,k,L){if(!Cu(k))throw Error(d(200));if(a==null||a._reactInternals===void 0)throw Error(d(38));return Tu(a,w,k,!1,L)},kn.version="18.3.1-next-f1338f8080-20240426",kn}var bg;function Cv(){if(bg)return af.exports;bg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),af.exports=rw(),af.exports}var wg;function nw(){if(wg)return Mu;wg=1;var n=Cv();return Mu.createRoot=n.createRoot,Mu.hydrateRoot=n.hydrateRoot,Mu}var ow=nw();const sw=da(ow);var Ah=Cv();const iw=da(Ah);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ll(){return ll=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var d=arguments[r];for(var t in d)Object.prototype.hasOwnProperty.call(d,t)&&(n[t]=d[t])}return n},ll.apply(this,arguments)}var ws;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ws||(ws={}));const _g="popstate";function aw(n){n===void 0&&(n={});function r(t,f){let{pathname:u,search:o,hash:l}=t.location;return Jf("",{pathname:u,search:o,hash:l},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function d(t,f){return typeof f=="string"?f:Qu(f)}return uw(r,d,null,n)}function Ir(n,r){if(n===!1||n===null||typeof n>"u")throw new Error(r)}function Tv(n,r){if(!n){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function lw(){return Math.random().toString(36).substr(2,8)}function xg(n,r){return{usr:n.state,key:n.key,idx:r}}function Jf(n,r,d,t){return d===void 0&&(d=null),ll({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof r=="string"?fa(r):r,{state:d,key:r&&r.key||t||lw()})}function Qu(n){let{pathname:r="/",search:d="",hash:t=""}=n;return d&&d!=="?"&&(r+=d.charAt(0)==="?"?d:"?"+d),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function fa(n){let r={};if(n){let d=n.indexOf("#");d>=0&&(r.hash=n.substr(d),n=n.substr(0,d));let t=n.indexOf("?");t>=0&&(r.search=n.substr(t),n=n.substr(0,t)),n&&(r.pathname=n)}return r}function uw(n,r,d,t){t===void 0&&(t={});let{window:f=document.defaultView,v5Compat:u=!1}=t,o=f.history,l=ws.Pop,i=null,h=_();h==null&&(h=0,o.replaceState(ll({},o.state,{idx:h}),""));function _(){return(o.state||{idx:null}).idx}function m(){l=ws.Pop;let b=_(),y=b==null?null:b-h;h=b,i&&i({action:l,location:g.location,delta:y})}function s(b,y){l=ws.Push;let v=Jf(g.location,b,y);h=_()+1;let j=xg(v,h),x=g.createHref(v);try{o.pushState(j,"",x)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;f.location.assign(x)}u&&i&&i({action:l,location:g.location,delta:1})}function c(b,y){l=ws.Replace;let v=Jf(g.location,b,y);h=_();let j=xg(v,h),x=g.createHref(v);o.replaceState(j,"",x),u&&i&&i({action:l,location:g.location,delta:0})}function p(b){let y=f.location.origin!=="null"?f.location.origin:f.location.href,v=typeof b=="string"?b:Qu(b);return v=v.replace(/ $/,"%20"),Ir(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let g={get action(){return l},get location(){return n(f,o)},listen(b){if(i)throw new Error("A history only accepts one active listener");return f.addEventListener(_g,m),i=b,()=>{f.removeEventListener(_g,m),i=null}},createHref(b){return r(f,b)},createURL:p,encodeLocation(b){let y=p(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:s,replace:c,go(b){return o.go(b)}};return g}var jg;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(jg||(jg={}));function cw(n,r,d){return d===void 0&&(d="/"),dw(n,r,d)}function dw(n,r,d,t){let f=typeof r=="string"?fa(r):r,u=Rh(f.pathname||"/",d);if(u==null)return null;let o=Pv(n);fw(o);let l=null;for(let i=0;l==null&&i<o.length;++i){let h=Sw(u);l=_w(o[i],h)}return l}function Pv(n,r,d,t){r===void 0&&(r=[]),d===void 0&&(d=[]),t===void 0&&(t="");let f=(u,o,l)=>{let i={relativePath:l===void 0?u.path||"":l,caseSensitive:u.caseSensitive===!0,childrenIndex:o,route:u};i.relativePath.startsWith("/")&&(Ir(i.relativePath.startsWith(t),'Absolute route path "'+i.relativePath+'" nested under path '+('"'+t+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),i.relativePath=i.relativePath.slice(t.length));let h=xs([t,i.relativePath]),_=d.concat(i);u.children&&u.children.length>0&&(Ir(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Pv(u.children,r,_,h)),!(u.path==null&&!u.index)&&r.push({path:h,score:bw(h,u.index),routesMeta:_})};return n.forEach((u,o)=>{var l;if(u.path===""||!((l=u.path)!=null&&l.includes("?")))f(u,o);else for(let i of Ov(u.path))f(u,o,i)}),r}function Ov(n){let r=n.split("/");if(r.length===0)return[];let[d,...t]=r,f=d.endsWith("?"),u=d.replace(/\?$/,"");if(t.length===0)return f?[u,""]:[u];let o=Ov(t.join("/")),l=[];return l.push(...o.map(i=>i===""?u:[u,i].join("/"))),f&&l.push(...o),l.map(i=>n.startsWith("/")&&i===""?"/":i)}function fw(n){n.sort((r,d)=>r.score!==d.score?d.score-r.score:ww(r.routesMeta.map(t=>t.childrenIndex),d.routesMeta.map(t=>t.childrenIndex)))}const hw=/^:[\w-]+$/,pw=3,mw=2,gw=1,yw=10,vw=-2,Sg=n=>n==="*";function bw(n,r){let d=n.split("/"),t=d.length;return d.some(Sg)&&(t+=vw),r&&(t+=mw),d.filter(f=>!Sg(f)).reduce((f,u)=>f+(hw.test(u)?pw:u===""?gw:yw),t)}function ww(n,r){return n.length===r.length&&n.slice(0,-1).every((t,f)=>t===r[f])?n[n.length-1]-r[r.length-1]:0}function _w(n,r,d){let{routesMeta:t}=n,f={},u="/",o=[];for(let l=0;l<t.length;++l){let i=t[l],h=l===t.length-1,_=u==="/"?r:r.slice(u.length)||"/",m=xw({path:i.relativePath,caseSensitive:i.caseSensitive,end:h},_),s=i.route;if(!m)return null;Object.assign(f,m.params),o.push({params:f,pathname:xs([u,m.pathname]),pathnameBase:Tw(xs([u,m.pathnameBase])),route:s}),m.pathnameBase!=="/"&&(u=xs([u,m.pathnameBase]))}return o}function xw(n,r){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[d,t]=jw(n.path,n.caseSensitive,n.end),f=r.match(d);if(!f)return null;let u=f[0],o=u.replace(/(.)\/+$/,"$1"),l=f.slice(1);return{params:t.reduce((h,_,m)=>{let{paramName:s,isOptional:c}=_;if(s==="*"){let g=l[m]||"";o=u.slice(0,u.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[m];return c&&!p?h[s]=void 0:h[s]=(p||"").replace(/%2F/g,"/"),h},{}),pathname:u,pathnameBase:o,pattern:n}}function jw(n,r,d){r===void 0&&(r=!1),d===void 0&&(d=!0),Tv(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let t=[],f="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,i)=>(t.push({paramName:l,isOptional:i!=null}),i?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(t.push({paramName:"*"}),f+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):d?f+="\\/*$":n!==""&&n!=="/"&&(f+="(?:(?=\\/|$))"),[new RegExp(f,r?void 0:"i"),t]}function Sw(n){try{return n.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Tv(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),n}}function Rh(n,r){if(r==="/")return n;if(!n.toLowerCase().startsWith(r.toLowerCase()))return null;let d=r.endsWith("/")?r.length-1:r.length,t=n.charAt(d);return t&&t!=="/"?null:n.slice(d)||"/"}function Ew(n,r){r===void 0&&(r="/");let{pathname:d,search:t="",hash:f=""}=typeof n=="string"?fa(n):n;return{pathname:d?d.startsWith("/")?d:kw(d,r):r,search:Pw(t),hash:Ow(f)}}function kw(n,r){let d=r.replace(/\/+$/,"").split("/");return n.split("/").forEach(f=>{f===".."?d.length>1&&d.pop():f!=="."&&d.push(f)}),d.length>1?d.join("/"):"/"}function cf(n,r,d,t){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(t)+"].  Please separate it out to the ")+("`to."+d+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cw(n){return n.filter((r,d)=>d===0||r.route.path&&r.route.path.length>0)}function Dh(n,r){let d=Cw(n);return r?d.map((t,f)=>f===d.length-1?t.pathname:t.pathnameBase):d.map(t=>t.pathnameBase)}function Lh(n,r,d,t){t===void 0&&(t=!1);let f;typeof n=="string"?f=fa(n):(f=ll({},n),Ir(!f.pathname||!f.pathname.includes("?"),cf("?","pathname","search",f)),Ir(!f.pathname||!f.pathname.includes("#"),cf("#","pathname","hash",f)),Ir(!f.search||!f.search.includes("#"),cf("#","search","hash",f)));let u=n===""||f.pathname==="",o=u?"/":f.pathname,l;if(o==null)l=d;else{let m=r.length-1;if(!t&&o.startsWith("..")){let s=o.split("/");for(;s[0]==="..";)s.shift(),m-=1;f.pathname=s.join("/")}l=m>=0?r[m]:"/"}let i=Ew(f,l),h=o&&o!=="/"&&o.endsWith("/"),_=(u||o===".")&&d.endsWith("/");return!i.pathname.endsWith("/")&&(h||_)&&(i.pathname+="/"),i}const xs=n=>n.join("/").replace(/\/\/+/g,"/"),Tw=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Pw=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Ow=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Mw(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Mv=["post","put","patch","delete"];new Set(Mv);const Iw=["get",...Mv];new Set(Iw);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ul(){return ul=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var d=arguments[r];for(var t in d)Object.prototype.hasOwnProperty.call(d,t)&&(n[t]=d[t])}return n},ul.apply(this,arguments)}const Nh=De.createContext(null),Aw=De.createContext(null),Cs=De.createContext(null),pc=De.createContext(null),Ts=De.createContext({outlet:null,matches:[],isDataRoute:!1}),Iv=De.createContext(null);function Rw(n,r){let{relative:d}=r===void 0?{}:r;ha()||Ir(!1);let{basename:t,navigator:f}=De.useContext(Cs),{hash:u,pathname:o,search:l}=Dv(n,{relative:d}),i=o;return t!=="/"&&(i=o==="/"?t:xs([t,o])),f.createHref({pathname:i,search:l,hash:u})}function ha(){return De.useContext(pc)!=null}function vl(){return ha()||Ir(!1),De.useContext(pc).location}function Av(n){De.useContext(Cs).static||De.useLayoutEffect(n)}function Rv(){let{isDataRoute:n}=De.useContext(Ts);return n?$w():Dw()}function Dw(){ha()||Ir(!1);let n=De.useContext(Nh),{basename:r,future:d,navigator:t}=De.useContext(Cs),{matches:f}=De.useContext(Ts),{pathname:u}=vl(),o=JSON.stringify(Dh(f,d.v7_relativeSplatPath)),l=De.useRef(!1);return Av(()=>{l.current=!0}),De.useCallback(function(h,_){if(_===void 0&&(_={}),!l.current)return;if(typeof h=="number"){t.go(h);return}let m=Lh(h,JSON.parse(o),u,_.relative==="path");n==null&&r!=="/"&&(m.pathname=m.pathname==="/"?r:xs([r,m.pathname])),(_.replace?t.replace:t.push)(m,_.state,_)},[r,t,o,u,n])}function Dv(n,r){let{relative:d}=r===void 0?{}:r,{future:t}=De.useContext(Cs),{matches:f}=De.useContext(Ts),{pathname:u}=vl(),o=JSON.stringify(Dh(f,t.v7_relativeSplatPath));return De.useMemo(()=>Lh(n,JSON.parse(o),u,d==="path"),[n,o,u,d])}function Lw(n,r){return Nw(n,r)}function Nw(n,r,d,t){ha()||Ir(!1);let{navigator:f}=De.useContext(Cs),{matches:u}=De.useContext(Ts),o=u[u.length-1],l=o?o.params:{};o&&o.pathname;let i=o?o.pathnameBase:"/";o&&o.route;let h=vl(),_;if(r){var m;let b=typeof r=="string"?fa(r):r;i==="/"||(m=b.pathname)!=null&&m.startsWith(i)||Ir(!1),_=b}else _=h;let s=_.pathname||"/",c=s;if(i!=="/"){let b=i.replace(/^\//,"").split("/");c="/"+s.replace(/^\//,"").split("/").slice(b.length).join("/")}let p=cw(n,{pathname:c}),g=zw(p&&p.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:xs([i,f.encodeLocation?f.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?i:xs([i,f.encodeLocation?f.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),u,d,t);return r&&g?De.createElement(pc.Provider,{value:{location:ul({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:ws.Pop}},g):g}function Uw(){let n=qw(),r=Mw(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),d=n instanceof Error?n.stack:null,f={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return De.createElement(De.Fragment,null,De.createElement("h2",null,"Unexpected Application Error!"),De.createElement("h3",{style:{fontStyle:"italic"}},r),d?De.createElement("pre",{style:f},d):null,null)}const Fw=De.createElement(Uw,null);class Bw extends De.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,d){return d.location!==r.location||d.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:d.error,location:d.location,revalidation:r.revalidation||d.revalidation}}componentDidCatch(r,d){console.error("React Router caught the following error during render",r,d)}render(){return this.state.error!==void 0?De.createElement(Ts.Provider,{value:this.props.routeContext},De.createElement(Iv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gw(n){let{routeContext:r,match:d,children:t}=n,f=De.useContext(Nh);return f&&f.static&&f.staticContext&&(d.route.errorElement||d.route.ErrorBoundary)&&(f.staticContext._deepestRenderedBoundaryId=d.route.id),De.createElement(Ts.Provider,{value:r},t)}function zw(n,r,d,t){var f;if(r===void 0&&(r=[]),d===void 0&&(d=null),t===void 0&&(t=null),n==null){var u;if(!d)return null;if(d.errors)n=d.matches;else if((u=t)!=null&&u.v7_partialHydration&&r.length===0&&!d.initialized&&d.matches.length>0)n=d.matches;else return null}let o=n,l=(f=d)==null?void 0:f.errors;if(l!=null){let _=o.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);_>=0||Ir(!1),o=o.slice(0,Math.min(o.length,_+1))}let i=!1,h=-1;if(d&&t&&t.v7_partialHydration)for(let _=0;_<o.length;_++){let m=o[_];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=_),m.route.id){let{loaderData:s,errors:c}=d,p=m.route.loader&&s[m.route.id]===void 0&&(!c||c[m.route.id]===void 0);if(m.route.lazy||p){i=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((_,m,s)=>{let c,p=!1,g=null,b=null;d&&(c=l&&m.route.id?l[m.route.id]:void 0,g=m.route.errorElement||Fw,i&&(h<0&&s===0?(Xw("route-fallback"),p=!0,b=null):h===s&&(p=!0,b=m.route.hydrateFallbackElement||null)));let y=r.concat(o.slice(0,s+1)),v=()=>{let j;return c?j=g:p?j=b:m.route.Component?j=De.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=_,De.createElement(Gw,{match:m,routeContext:{outlet:_,matches:y,isDataRoute:d!=null},children:j})};return d&&(m.route.ErrorBoundary||m.route.errorElement||s===0)?De.createElement(Bw,{location:d.location,revalidation:d.revalidation,component:g,error:c,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var Lv=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(Lv||{}),Nv=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(Nv||{});function Vw(n){let r=De.useContext(Nh);return r||Ir(!1),r}function Ww(n){let r=De.useContext(Aw);return r||Ir(!1),r}function Hw(n){let r=De.useContext(Ts);return r||Ir(!1),r}function Uv(n){let r=Hw(),d=r.matches[r.matches.length-1];return d.route.id||Ir(!1),d.route.id}function qw(){var n;let r=De.useContext(Iv),d=Ww(),t=Uv();return r!==void 0?r:(n=d.errors)==null?void 0:n[t]}function $w(){let{router:n}=Vw(Lv.UseNavigateStable),r=Uv(Nv.UseNavigateStable),d=De.useRef(!1);return Av(()=>{d.current=!0}),De.useCallback(function(f,u){u===void 0&&(u={}),d.current&&(typeof f=="number"?n.navigate(f):n.navigate(f,ul({fromRouteId:r},u)))},[n,r])}const Eg={};function Xw(n,r,d){Eg[n]||(Eg[n]=!0)}function Yw(n,r){n?.v7_startTransition,n?.v7_relativeSplatPath}function zi(n){let{to:r,replace:d,state:t,relative:f}=n;ha()||Ir(!1);let{future:u,static:o}=De.useContext(Cs),{matches:l}=De.useContext(Ts),{pathname:i}=vl(),h=Rv(),_=Lh(r,Dh(l,u.v7_relativeSplatPath),i,f==="path"),m=JSON.stringify(_);return De.useEffect(()=>h(JSON.parse(m),{replace:d,state:t,relative:f}),[h,m,f,d,t]),null}function No(n){Ir(!1)}function Kw(n){let{basename:r="/",children:d=null,location:t,navigationType:f=ws.Pop,navigator:u,static:o=!1,future:l}=n;ha()&&Ir(!1);let i=r.replace(/^\/*/,"/"),h=De.useMemo(()=>({basename:i,navigator:u,static:o,future:ul({v7_relativeSplatPath:!1},l)}),[i,l,u,o]);typeof t=="string"&&(t=fa(t));let{pathname:_="/",search:m="",hash:s="",state:c=null,key:p="default"}=t,g=De.useMemo(()=>{let b=Rh(_,i);return b==null?null:{location:{pathname:b,search:m,hash:s,state:c,key:p},navigationType:f}},[i,_,m,s,c,p,f]);return g==null?null:De.createElement(Cs.Provider,{value:h},De.createElement(pc.Provider,{children:d,value:g}))}function kg(n){let{children:r,location:d}=n;return Lw(Zf(r),d)}new Promise(()=>{});function Zf(n,r){r===void 0&&(r=[]);let d=[];return De.Children.forEach(n,(t,f)=>{if(!De.isValidElement(t))return;let u=[...r,f];if(t.type===De.Fragment){d.push.apply(d,Zf(t.props.children,u));return}t.type!==No&&Ir(!1),!t.props.index||!t.props.children||Ir(!1);let o={id:t.props.id||u.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:t.props.ErrorBoundary!=null||t.props.errorElement!=null,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=Zf(t.props.children,u)),d.push(o)}),d}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qf(){return Qf=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var d=arguments[r];for(var t in d)Object.prototype.hasOwnProperty.call(d,t)&&(n[t]=d[t])}return n},Qf.apply(this,arguments)}function Jw(n,r){if(n==null)return{};var d={},t=Object.keys(n),f,u;for(u=0;u<t.length;u++)f=t[u],!(r.indexOf(f)>=0)&&(d[f]=n[f]);return d}function Zw(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Qw(n,r){return n.button===0&&(!r||r==="_self")&&!Zw(n)}const e_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],t_="6";try{window.__reactRouterVersion=t_}catch{}const r_="startTransition",Cg=Q1[r_];function n_(n){let{basename:r,children:d,future:t,window:f}=n,u=De.useRef();u.current==null&&(u.current=aw({window:f,v5Compat:!0}));let o=u.current,[l,i]=De.useState({action:o.action,location:o.location}),{v7_startTransition:h}=t||{},_=De.useCallback(m=>{h&&Cg?Cg(()=>i(m)):i(m)},[i,h]);return De.useLayoutEffect(()=>o.listen(_),[o,_]),De.useEffect(()=>Yw(t),[t]),De.createElement(Kw,{basename:r,children:d,location:l.location,navigationType:l.action,navigator:o,future:t})}const o_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",s_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ta=De.forwardRef(function(r,d){let{onClick:t,relative:f,reloadDocument:u,replace:o,state:l,target:i,to:h,preventScrollReset:_,viewTransition:m}=r,s=Jw(r,e_),{basename:c}=De.useContext(Cs),p,g=!1;if(typeof h=="string"&&s_.test(h)&&(p=h,o_))try{let j=new URL(window.location.href),x=h.startsWith("//")?new URL(j.protocol+h):new URL(h),E=Rh(x.pathname,c);x.origin===j.origin&&E!=null?h=E+x.search+x.hash:g=!0}catch{}let b=Rw(h,{relative:f}),y=i_(h,{replace:o,state:l,target:i,preventScrollReset:_,relative:f,viewTransition:m});function v(j){t&&t(j),j.defaultPrevented||y(j)}return De.createElement("a",Qf({},s,{href:p||b,onClick:g||u?t:v,ref:d,target:i}))});var Tg;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Tg||(Tg={}));var Pg;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Pg||(Pg={}));function i_(n,r){let{target:d,replace:t,state:f,preventScrollReset:u,relative:o,viewTransition:l}=r===void 0?{}:r,i=Rv(),h=vl(),_=Dv(n,{relative:o});return De.useCallback(m=>{if(Qw(m,d)){m.preventDefault();let s=t!==void 0?t:Qu(h)===Qu(_);i(n,{replace:s,state:f,preventScrollReset:u,relative:o,viewTransition:l})}},[h,i,_,t,f,d,n,u,o,l])}const a_="modulepreload",l_=function(n){return"/"+n},Og={},bl=function(r,d,t){let f=Promise.resolve();if(d&&d.length>0){let h=function(_){return Promise.all(_.map(m=>Promise.resolve(m).then(s=>({status:"fulfilled",value:s}),s=>({status:"rejected",reason:s}))))};var o=h;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),i=l?.nonce||l?.getAttribute("nonce");f=h(d.map(_=>{if(_=l_(_),_ in Og)return;Og[_]=!0;const m=_.endsWith(".css"),s=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${s}`))return;const c=document.createElement("link");if(c.rel=m?"stylesheet":a_,m||(c.as="script"),c.crossOrigin="",c.href=_,i&&c.setAttribute("nonce",i),document.head.appendChild(c),m)return new Promise((p,g)=>{c.addEventListener("load",p),c.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${_}`)))})}))}function u(l){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=l,window.dispatchEvent(i),!i.defaultPrevented)throw l}return f.then(l=>{for(const i of l||[])i.status==="rejected"&&u(i.reason);return r().catch(u)})},u_=n=>{let r;return n?r=n:typeof fetch>"u"?r=(...d)=>bl(async()=>{const{default:t}=await Promise.resolve().then(()=>pa);return{default:t}},void 0).then(({default:t})=>t(...d)):r=fetch,(...d)=>r(...d)};class Uh extends Error{constructor(r,d="FunctionsError",t){super(r),this.name=d,this.context=t}}class c_ extends Uh{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Mg extends Uh{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Ig extends Uh{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var eh;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(eh||(eh={}));var d_=function(n,r,d,t){function f(u){return u instanceof d?u:new d(function(o){o(u)})}return new(d||(d=Promise))(function(u,o){function l(_){try{h(t.next(_))}catch(m){o(m)}}function i(_){try{h(t.throw(_))}catch(m){o(m)}}function h(_){_.done?u(_.value):f(_.value).then(l,i)}h((t=t.apply(n,r||[])).next())})};class f_{constructor(r,{headers:d={},customFetch:t,region:f=eh.Any}={}){this.url=r,this.headers=d,this.region=f,this.fetch=u_(t)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,d={}){var t;return d_(this,void 0,void 0,function*(){try{const{headers:f,method:u,body:o}=d;let l={},{region:i}=d;i||(i=this.region);const h=new URL(`${this.url}/${r}`);i&&i!=="any"&&(l["x-region"]=i,h.searchParams.set("forceFunctionRegion",i));let _;o&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",_=o):typeof o=="string"?(l["Content-Type"]="text/plain",_=o):typeof FormData<"u"&&o instanceof FormData?_=o:(l["Content-Type"]="application/json",_=JSON.stringify(o)));const m=yield this.fetch(h.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),f),body:_}).catch(g=>{throw new c_(g)}),s=m.headers.get("x-relay-error");if(s&&s==="true")throw new Mg(m);if(!m.ok)throw new Ig(m);let c=((t=m.headers.get("Content-Type"))!==null&&t!==void 0?t:"text/plain").split(";")[0].trim(),p;return c==="application/json"?p=yield m.json():c==="application/octet-stream"?p=yield m.blob():c==="text/event-stream"?p=m:c==="multipart/form-data"?p=yield m.formData():p=yield m.text(),{data:p,error:null,response:m}}catch(f){return{data:null,error:f,response:f instanceof Ig||f instanceof Mg?f.context:void 0}}})}}var Jr={},Vi={},Wi={},Hi={},qi={},$i={},h_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ia=h_();const p_=ia.fetch,Fv=ia.fetch.bind(ia),Bv=ia.Headers,m_=ia.Request,g_=ia.Response,pa=Object.freeze(Object.defineProperty({__proto__:null,Headers:Bv,Request:m_,Response:g_,default:Fv,fetch:p_},Symbol.toStringTag,{value:"Module"})),y_=Y1(pa);var Iu={},Ag;function Gv(){if(Ag)return Iu;Ag=1,Object.defineProperty(Iu,"__esModule",{value:!0});class n extends Error{constructor(d){super(d.message),this.name="PostgrestError",this.details=d.details,this.hint=d.hint,this.code=d.code}}return Iu.default=n,Iu}var Rg;function zv(){if(Rg)return $i;Rg=1;var n=$i&&$i.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty($i,"__esModule",{value:!0});const r=n(y_),d=n(Gv());class t{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,o){return this.headers=Object.assign({},this.headers),this.headers[u]=o,this}then(u,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let i=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var _,m,s;let c=null,p=null,g=null,b=h.status,y=h.statusText;if(h.ok){if(this.method!=="HEAD"){const E=await h.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=E:p=JSON.parse(E))}const j=(_=this.headers.Prefer)===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),x=(m=h.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");j&&x&&x.length>1&&(g=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(c={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,g=null,b=406,y="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const j=await h.text();try{c=JSON.parse(j),Array.isArray(c)&&h.status===404&&(p=[],c=null,b=200,y="OK")}catch{h.status===404&&j===""?(b=204,y="No Content"):c={message:j}}if(c&&this.isMaybeSingle&&(!((s=c?.details)===null||s===void 0)&&s.includes("0 rows"))&&(c=null,b=200,y="OK"),c&&this.shouldThrowOnError)throw new d.default(c)}return{error:c,data:p,count:g,status:b,statusText:y}});return this.shouldThrowOnError||(i=i.catch(h=>{var _,m,s;return{error:{message:`${(_=h?.name)!==null&&_!==void 0?_:"FetchError"}: ${h?.message}`,details:`${(m=h?.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(s=h?.code)!==null&&s!==void 0?s:""}`},data:null,count:null,status:0,statusText:""}})),i.then(u,o)}returns(){return this}overrideTypes(){return this}}return $i.default=t,$i}var Dg;function Vv(){if(Dg)return qi;Dg=1;var n=qi&&qi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qi,"__esModule",{value:!0});const r=n(zv());class d extends r.default{select(f){let u=!1;const o=(f??"*").split("").map(l=>/\s/.test(l)&&!u?"":(l==='"'&&(u=!u),l)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(f,{ascending:u=!0,nullsFirst:o,foreignTable:l,referencedTable:i=l}={}){const h=i?`${i}.order`:"order",_=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${_?`${_},`:""}${f}.${u?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(f,{foreignTable:u,referencedTable:o=u}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${f}`),this}range(f,u,{foreignTable:o,referencedTable:l=o}={}){const i=typeof l>"u"?"offset":`${l}.offset`,h=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(i,`${f}`),this.url.searchParams.set(h,`${u-f+1}`),this}abortSignal(f){return this.signal=f,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:f=!1,verbose:u=!1,settings:o=!1,buffers:l=!1,wal:i=!1,format:h="text"}={}){var _;const m=[f?"analyze":null,u?"verbose":null,o?"settings":null,l?"buffers":null,i?"wal":null].filter(Boolean).join("|"),s=(_=this.headers.Accept)!==null&&_!==void 0?_:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${s}"; options=${m};`,h==="json"?this:this}rollback(){var f;return((f=this.headers.Prefer)!==null&&f!==void 0?f:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return qi.default=d,qi}var Lg;function Fh(){if(Lg)return Hi;Lg=1;var n=Hi&&Hi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hi,"__esModule",{value:!0});const r=n(Vv());class d extends r.default{eq(f,u){return this.url.searchParams.append(f,`eq.${u}`),this}neq(f,u){return this.url.searchParams.append(f,`neq.${u}`),this}gt(f,u){return this.url.searchParams.append(f,`gt.${u}`),this}gte(f,u){return this.url.searchParams.append(f,`gte.${u}`),this}lt(f,u){return this.url.searchParams.append(f,`lt.${u}`),this}lte(f,u){return this.url.searchParams.append(f,`lte.${u}`),this}like(f,u){return this.url.searchParams.append(f,`like.${u}`),this}likeAllOf(f,u){return this.url.searchParams.append(f,`like(all).{${u.join(",")}}`),this}likeAnyOf(f,u){return this.url.searchParams.append(f,`like(any).{${u.join(",")}}`),this}ilike(f,u){return this.url.searchParams.append(f,`ilike.${u}`),this}ilikeAllOf(f,u){return this.url.searchParams.append(f,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(f,u){return this.url.searchParams.append(f,`ilike(any).{${u.join(",")}}`),this}is(f,u){return this.url.searchParams.append(f,`is.${u}`),this}in(f,u){const o=Array.from(new Set(u)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(f,`in.(${o})`),this}contains(f,u){return typeof u=="string"?this.url.searchParams.append(f,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(f,`cs.{${u.join(",")}}`):this.url.searchParams.append(f,`cs.${JSON.stringify(u)}`),this}containedBy(f,u){return typeof u=="string"?this.url.searchParams.append(f,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(f,`cd.{${u.join(",")}}`):this.url.searchParams.append(f,`cd.${JSON.stringify(u)}`),this}rangeGt(f,u){return this.url.searchParams.append(f,`sr.${u}`),this}rangeGte(f,u){return this.url.searchParams.append(f,`nxl.${u}`),this}rangeLt(f,u){return this.url.searchParams.append(f,`sl.${u}`),this}rangeLte(f,u){return this.url.searchParams.append(f,`nxr.${u}`),this}rangeAdjacent(f,u){return this.url.searchParams.append(f,`adj.${u}`),this}overlaps(f,u){return typeof u=="string"?this.url.searchParams.append(f,`ov.${u}`):this.url.searchParams.append(f,`ov.{${u.join(",")}}`),this}textSearch(f,u,{config:o,type:l}={}){let i="";l==="plain"?i="pl":l==="phrase"?i="ph":l==="websearch"&&(i="w");const h=o===void 0?"":`(${o})`;return this.url.searchParams.append(f,`${i}fts${h}.${u}`),this}match(f){return Object.entries(f).forEach(([u,o])=>{this.url.searchParams.append(u,`eq.${o}`)}),this}not(f,u,o){return this.url.searchParams.append(f,`not.${u}.${o}`),this}or(f,{foreignTable:u,referencedTable:o=u}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${f})`),this}filter(f,u,o){return this.url.searchParams.append(f,`${u}.${o}`),this}}return Hi.default=d,Hi}var Ng;function Wv(){if(Ng)return Wi;Ng=1;var n=Wi&&Wi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wi,"__esModule",{value:!0});const r=n(Fh());class d{constructor(f,{headers:u={},schema:o,fetch:l}){this.url=f,this.headers=u,this.schema=o,this.fetch=l}select(f,{head:u=!1,count:o}={}){const l=u?"HEAD":"GET";let i=!1;const h=(f??"*").split("").map(_=>/\s/.test(_)&&!i?"":(_==='"'&&(i=!i),_)).join("");return this.url.searchParams.set("select",h),o&&(this.headers.Prefer=`count=${o}`),new r.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(f,{count:u,defaultToNull:o=!0}={}){const l="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),u&&i.push(`count=${u}`),o||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(f)){const h=f.reduce((_,m)=>_.concat(Object.keys(m)),[]);if(h.length>0){const _=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",_.join(","))}}return new r.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:f,fetch:this.fetch,allowEmpty:!1})}upsert(f,{onConflict:u,ignoreDuplicates:o=!1,count:l,defaultToNull:i=!0}={}){const h="POST",_=[`resolution=${o?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&_.push(this.headers.Prefer),l&&_.push(`count=${l}`),i||_.push("missing=default"),this.headers.Prefer=_.join(","),Array.isArray(f)){const m=f.reduce((s,c)=>s.concat(Object.keys(c)),[]);if(m.length>0){const s=[...new Set(m)].map(c=>`"${c}"`);this.url.searchParams.set("columns",s.join(","))}}return new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:f,fetch:this.fetch,allowEmpty:!1})}update(f,{count:u}={}){const o="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),u&&l.push(`count=${u}`),this.headers.Prefer=l.join(","),new r.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:f,fetch:this.fetch,allowEmpty:!1})}delete({count:f}={}){const u="DELETE",o=[];return f&&o.push(`count=${f}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new r.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Wi.default=d,Wi}var $a={},Xa={},Ug;function v_(){return Ug||(Ug=1,Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.version=void 0,Xa.version="0.0.0-automated"),Xa}var Fg;function b_(){if(Fg)return $a;Fg=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.DEFAULT_HEADERS=void 0;const n=v_();return $a.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},$a}var Bg;function w_(){if(Bg)return Vi;Bg=1;var n=Vi&&Vi.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Vi,"__esModule",{value:!0});const r=n(Wv()),d=n(Fh()),t=b_();class f{constructor(o,{headers:l={},schema:i,fetch:h}={}){this.url=o,this.headers=Object.assign(Object.assign({},t.DEFAULT_HEADERS),l),this.schemaName=i,this.fetch=h}from(o){const l=new URL(`${this.url}/${o}`);return new r.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new f(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:i=!1,get:h=!1,count:_}={}){let m;const s=new URL(`${this.url}/rpc/${o}`);let c;i||h?(m=i?"HEAD":"GET",Object.entries(l).filter(([g,b])=>b!==void 0).map(([g,b])=>[g,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([g,b])=>{s.searchParams.append(g,b)})):(m="POST",c=l);const p=Object.assign({},this.headers);return _&&(p.Prefer=`count=${_}`),new d.default({method:m,url:s,headers:p,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}}return Vi.default=f,Vi}var Gg;function __(){if(Gg)return Jr;Gg=1;var n=Jr&&Jr.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.PostgrestError=Jr.PostgrestBuilder=Jr.PostgrestTransformBuilder=Jr.PostgrestFilterBuilder=Jr.PostgrestQueryBuilder=Jr.PostgrestClient=void 0;const r=n(w_());Jr.PostgrestClient=r.default;const d=n(Wv());Jr.PostgrestQueryBuilder=d.default;const t=n(Fh());Jr.PostgrestFilterBuilder=t.default;const f=n(Vv());Jr.PostgrestTransformBuilder=f.default;const u=n(zv());Jr.PostgrestBuilder=u.default;const o=n(Gv());return Jr.PostgrestError=o.default,Jr.default={PostgrestClient:r.default,PostgrestQueryBuilder:d.default,PostgrestFilterBuilder:t.default,PostgrestTransformBuilder:f.default,PostgrestBuilder:u.default,PostgrestError:o.default},Jr}var x_=__();const j_=da(x_),{PostgrestClient:S_,PostgrestQueryBuilder:MO,PostgrestFilterBuilder:IO,PostgrestTransformBuilder:AO,PostgrestBuilder:RO,PostgrestError:DO}=j_;class E_{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const d=parseInt(process.versions.node.split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let d=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(d+=`

Suggested solution: ${r.workaround}`),new Error(d)}static createWebSocket(r,d){const t=this.getWebSocketConstructor();return new t(r,d)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const k_="2.15.1",C_=`realtime-js/${k_}`,T_="1.0.0",th=1e4,P_=1e3,O_=100;var el;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(el||(el={}));var Vr;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Vr||(Vr={}));var fo;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(fo||(fo={}));var rh;(function(n){n.websocket="websocket"})(rh||(rh={}));var di;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(di||(di={}));class M_{constructor(){this.HEADER_LENGTH=1}decode(r,d){return r.constructor===ArrayBuffer?d(this._binaryDecode(r)):d(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const d=new DataView(r),t=new TextDecoder;return this._decodeBroadcast(r,d,t)}_decodeBroadcast(r,d,t){const f=d.getUint8(1),u=d.getUint8(2);let o=this.HEADER_LENGTH+2;const l=t.decode(r.slice(o,o+f));o=o+f;const i=t.decode(r.slice(o,o+u));o=o+u;const h=JSON.parse(t.decode(r.slice(o,r.byteLength)));return{ref:null,topic:l,event:i,payload:h}}}class Hv{constructor(r,d){this.callback=r,this.timerCalc=d,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=d}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var fr;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(fr||(fr={}));const zg=(n,r,d={})=>{var t;const f=(t=d.skipTypes)!==null&&t!==void 0?t:[];return Object.keys(r).reduce((u,o)=>(u[o]=I_(o,n,r,f),u),{})},I_=(n,r,d,t)=>{const f=r.find(l=>l.name===n),u=f?.type,o=d[n];return u&&!t.includes(u)?qv(u,o):nh(o)},qv=(n,r)=>{if(n.charAt(0)==="_"){const d=n.slice(1,n.length);return L_(r,d)}switch(n){case fr.bool:return A_(r);case fr.float4:case fr.float8:case fr.int2:case fr.int4:case fr.int8:case fr.numeric:case fr.oid:return R_(r);case fr.json:case fr.jsonb:return D_(r);case fr.timestamp:return N_(r);case fr.abstime:case fr.date:case fr.daterange:case fr.int4range:case fr.int8range:case fr.money:case fr.reltime:case fr.text:case fr.time:case fr.timestamptz:case fr.timetz:case fr.tsrange:case fr.tstzrange:return nh(r);default:return nh(r)}},nh=n=>n,A_=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},R_=n=>{if(typeof n=="string"){const r=parseFloat(n);if(!Number.isNaN(r))return r}return n},D_=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(r){return console.log(`JSON parse error: ${r}`),n}return n},L_=(n,r)=>{if(typeof n!="string")return n;const d=n.length-1,t=n[d];if(n[0]==="{"&&t==="}"){let u;const o=n.slice(1,d);try{u=JSON.parse("["+o+"]")}catch{u=o?o.split(","):[]}return u.map(l=>qv(r,l))}return n},N_=n=>typeof n=="string"?n.replace(" ","T"):n,$v=n=>{let r=n;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")+"/api/broadcast"};class df{constructor(r,d,t={},f=th){this.channel=r,this.event=d,this.payload=t,this.timeout=f,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,d){var t;return this._hasReceived(r)&&d((t=this.receivedResp)===null||t===void 0?void 0:t.response),this.recHooks.push({status:r,callback:d}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=d=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=d,this._matchReceive(d)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,d){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:d})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:d}){this.recHooks.filter(t=>t.status===r).forEach(t=>t.callback(d))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Vg;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Vg||(Vg={}));class tl{constructor(r,d){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const t=d?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(t.state,{},f=>{const{onJoin:u,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=tl.syncState(this.state,f,u,o),this.pendingDiffs.forEach(i=>{this.state=tl.syncDiff(this.state,i,u,o)}),this.pendingDiffs=[],l()}),this.channel._on(t.diff,{},f=>{const{onJoin:u,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(f):(this.state=tl.syncDiff(this.state,f,u,o),l())}),this.onJoin((f,u,o)=>{this.channel._trigger("presence",{event:"join",key:f,currentPresences:u,newPresences:o})}),this.onLeave((f,u,o)=>{this.channel._trigger("presence",{event:"leave",key:f,currentPresences:u,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,d,t,f){const u=this.cloneDeep(r),o=this.transformState(d),l={},i={};return this.map(u,(h,_)=>{o[h]||(i[h]=_)}),this.map(o,(h,_)=>{const m=u[h];if(m){const s=_.map(b=>b.presence_ref),c=m.map(b=>b.presence_ref),p=_.filter(b=>c.indexOf(b.presence_ref)<0),g=m.filter(b=>s.indexOf(b.presence_ref)<0);p.length>0&&(l[h]=p),g.length>0&&(i[h]=g)}else l[h]=_}),this.syncDiff(u,{joins:l,leaves:i},t,f)}static syncDiff(r,d,t,f){const{joins:u,leaves:o}={joins:this.transformState(d.joins),leaves:this.transformState(d.leaves)};return t||(t=()=>{}),f||(f=()=>{}),this.map(u,(l,i)=>{var h;const _=(h=r[l])!==null&&h!==void 0?h:[];if(r[l]=this.cloneDeep(i),_.length>0){const m=r[l].map(c=>c.presence_ref),s=_.filter(c=>m.indexOf(c.presence_ref)<0);r[l].unshift(...s)}t(l,_,i)}),this.map(o,(l,i)=>{let h=r[l];if(!h)return;const _=i.map(m=>m.presence_ref);h=h.filter(m=>_.indexOf(m.presence_ref)<0),r[l]=h,f(l,h,i),h.length===0&&delete r[l]}),r}static map(r,d){return Object.getOwnPropertyNames(r).map(t=>d(t,r[t]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((d,t)=>{const f=r[t];return"metas"in f?d[t]=f.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):d[t]=f,d},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Wg;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Wg||(Wg={}));var rl;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(rl||(rl={}));var Bo;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Bo||(Bo={}));class Bh{constructor(r,d={config:{}},t){this.topic=r,this.params=d,this.socket=t,this.bindings={},this.state=Vr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},d.config),this.timeout=this.socket.timeout,this.joinPush=new df(this,fo.join,this.params,this.timeout),this.rejoinTimer=new Hv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vr.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Vr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Vr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fo.reply,{},(f,u)=>{this._trigger(this._replyEventName(u),f)}),this.presence=new tl(this),this.broadcastEndpointURL=$v(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(r,d=this.timeout){var t,f;if(this.socket.isConnected()||this.socket.connect(),this.state==Vr.closed){const{config:{broadcast:u,presence:o,private:l}}=this.params,i=(f=(t=this.bindings.postgres_changes)===null||t===void 0?void 0:t.map(s=>s.filter))!==null&&f!==void 0?f:[],h=!!this.bindings[rl.PRESENCE]&&this.bindings[rl.PRESENCE].length>0,_={},m={broadcast:u,presence:Object.assign(Object.assign({},o),{enabled:h}),postgres_changes:i,private:l};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(s=>r?.(Bo.CHANNEL_ERROR,s)),this._onClose(()=>r?.(Bo.CLOSED)),this.updateJoinPayload(Object.assign({config:m},_)),this.joinedOnce=!0,this._rejoin(d),this.joinPush.receive("ok",async({postgres_changes:s})=>{var c;if(this.socket.setAuth(),s===void 0){r?.(Bo.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(c=p?.length)!==null&&c!==void 0?c:0,b=[];for(let y=0;y<g;y++){const v=p[y],{filter:{event:j,schema:x,table:E,filter:P}}=v,O=s&&s[y];if(O&&O.event===j&&O.schema===x&&O.table===E&&O.filter===P)b.push(Object.assign(Object.assign({},v),{id:O.id}));else{this.unsubscribe(),this.state=Vr.errored,r?.(Bo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,r&&r(Bo.SUBSCRIBED);return}}).receive("error",s=>{this.state=Vr.errored,r?.(Bo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(s).join(", ")||"error")))}).receive("timeout",()=>{r?.(Bo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,d={}){return await this.send({type:"presence",event:"track",payload:r},d.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,d,t){return this.state===Vr.joined&&r===rl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,d,t)}async send(r,d={}){var t,f;if(!this._canPush()&&r.type==="broadcast"){const{event:u,payload:o}=r,i={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:o,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(t=d.timeout)!==null&&t!==void 0?t:this.timeout);return await((f=h.body)===null||f===void 0?void 0:f.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var o,l,i;const h=this._push(r.type,r,d.timeout||this.timeout);r.type==="broadcast"&&!(!((i=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||i===void 0)&&i.ack)&&u("ok"),h.receive("ok",()=>u("ok")),h.receive("error",()=>u("error")),h.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Vr.leaving;const d=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fo.close,"leave",this._joinRef())};this.joinPush.destroy();let t=null;return new Promise(f=>{t=new df(this,fo.leave,{},r),t.receive("ok",()=>{d(),f("ok")}).receive("timeout",()=>{d(),f("timed out")}).receive("error",()=>{f("error")}),t.send(),this._canPush()||t.trigger("ok",{})}).finally(()=>{t?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Vr.closed,this.bindings={}}async _fetchWithTimeout(r,d,t){const f=new AbortController,u=setTimeout(()=>f.abort(),t),o=await this.socket.fetch(r,Object.assign(Object.assign({},d),{signal:f.signal}));return clearTimeout(u),o}_push(r,d,t=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let f=new df(this,r,d,t);return this._canPush()?f.send():this._addToPushBuffer(f),f}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>O_){const d=this.pushBuffer.shift();d&&(d.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${d.event}`,d.payload))}}_onMessage(r,d,t){return d}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,d,t){var f,u;const o=r.toLocaleLowerCase(),{close:l,error:i,leave:h,join:_}=fo;if(t&&[l,i,h,_].indexOf(o)>=0&&t!==this._joinRef())return;let s=this._onMessage(o,d,t);if(d&&!s)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(f=this.bindings.postgres_changes)===null||f===void 0||f.filter(c=>{var p,g,b;return((p=c.filter)===null||p===void 0?void 0:p.event)==="*"||((b=(g=c.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(c=>c.callback(s,t)):(u=this.bindings[o])===null||u===void 0||u.filter(c=>{var p,g,b,y,v,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in c){const x=c.id,E=(p=c.filter)===null||p===void 0?void 0:p.event;return x&&((g=d.ids)===null||g===void 0?void 0:g.includes(x))&&(E==="*"||E?.toLocaleLowerCase()===((b=d.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const x=(v=(y=c?.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return x==="*"||x===((j=d?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return c.type.toLocaleLowerCase()===o}).map(c=>{if(typeof s=="object"&&"ids"in s){const p=s.data,{schema:g,table:b,commit_timestamp:y,type:v,errors:j}=p;s=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:y,eventType:v,new:{},old:{},errors:j}),this._getPayloadRecords(p))}c.callback(s,t)})}_isClosed(){return this.state===Vr.closed}_isJoined(){return this.state===Vr.joined}_isJoining(){return this.state===Vr.joining}_isLeaving(){return this.state===Vr.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,d,t){const f=r.toLocaleLowerCase(),u={type:f,filter:d,callback:t};return this.bindings[f]?this.bindings[f].push(u):this.bindings[f]=[u],this}_off(r,d){const t=r.toLocaleLowerCase();return this.bindings[t]&&(this.bindings[t]=this.bindings[t].filter(f=>{var u;return!(((u=f.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===t&&Bh.isEqual(f.filter,d))})),this}static isEqual(r,d){if(Object.keys(r).length!==Object.keys(d).length)return!1;for(const t in r)if(r[t]!==d[t])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(fo.close,{},r)}_onError(r){this._on(fo.error,{},d=>r(d))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vr.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const d={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(d.new=zg(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(d.old=zg(r.columns,r.old_record)),d}}const Hg=()=>{},Au={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},U_=[1e3,2e3,5e3,1e4],F_=1e4,B_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class G_{constructor(r,d){var t;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=th,this.transport=null,this.heartbeatIntervalMs=Au.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hg,this.ref=0,this.reconnectTimer=null,this.logger=Hg,this.conn=null,this.sendBuffer=[],this.serializer=new M_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=f=>{let u;return f?u=f:typeof fetch>"u"?u=(...o)=>bl(async()=>{const{default:l}=await Promise.resolve().then(()=>pa);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...o)=>u(...o)},!(!((t=d?.params)===null||t===void 0)&&t.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=d.params.apikey,this.endPoint=`${r}/${rh.websocket}`,this.httpEndpoint=$v(r),this._initializeOptions(d),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(d?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=E_.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const d=r.message;throw d.includes("Node.js")?new Error(`${d}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${d}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:T_}))}disconnect(r,d){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const t=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(t),this._setConnectionState("disconnected")},r?this.conn.close(r,d??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const d=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),d}async removeAllChannels(){const r=await Promise.all(this.channels.map(d=>d.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,d,t){this.logger(r,d,t)}connectionState(){switch(this.conn&&this.conn.readyState){case el.connecting:return di.Connecting;case el.open:return di.Open;case el.closing:return di.Closing;default:return di.Closed}}isConnected(){return this.connectionState()===di.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,d={config:{}}){const t=`realtime:${r}`,f=this.getChannels().find(u=>u.topic===t);if(f)return f;{const u=new Bh(`realtime:${r}`,d,this);return this.channels.push(u),u}}push(r){const{topic:d,event:t,payload:f,ref:u}=r,o=()=>{this.encode(r,l=>{var i;(i=this.conn)===null||i===void 0||i.send(l)})};this.log("push",`${d} ${t} (${u})`,f),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(P_,"heartbeat timeout"),setTimeout(()=>{var d;this.isConnected()||(d=this.reconnectTimer)===null||d===void 0||d.scheduleTimeout()},Au.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let d=this.channels.find(t=>t.topic===r&&(t._isJoined()||t._isJoining()));d&&(this.log("transport",`leaving duplicate topic "${r}"`),d.unsubscribe())}_remove(r){this.channels=this.channels.filter(d=>d.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,d=>{d.topic==="phoenix"&&d.event==="phx_reply"&&this.heartbeatCallback(d.payload.status==="ok"?"ok":"error"),d.ref&&d.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:f,payload:u,ref:o}=d,l=o?`(${o})`:"",i=u.status||"";this.log("receive",`${i} ${t} ${f} ${l}`.trim(),u),this.channels.filter(h=>h._isMember(t)).forEach(h=>h._trigger(f,u,o)),this._triggerStateCallbacks("message",d)})}_clearTimer(r){var d;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((d=this.reconnectTimer)===null||d===void 0||d.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=d=>{this.log("worker","worker error",d.message),this.workerRef.terminate()},this.workerRef.onmessage=d=>{d.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var d;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(d=this.reconnectTimer)===null||d===void 0||d.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(fo.error))}_appendParams(r,d){if(Object.keys(d).length===0)return r;const t=r.match(/\?/)?"&":"?",f=new URLSearchParams(d);return`${r}${t}${f}`}_workerObjectUrl(r){let d;if(r)d=r;else{const t=new Blob([B_],{type:"application/javascript"});d=URL.createObjectURL(t)}return d}_setConnectionState(r,d=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=d)}async _performAuth(r=null){let d;r?d=r:this.accessToken?d=await this.accessToken():d=this.accessTokenValue,this.accessTokenValue!=d&&(this.accessTokenValue=d,this.channels.forEach(t=>{const f={access_token:d,version:C_};d&&t.updateJoinPayload(f),t.joinedOnce&&t._isJoined()&&t._push(fo.access_token,{access_token:d})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(d=>{this.log("error",`error setting auth in ${r}`,d)})}_triggerStateCallbacks(r,d){try{this.stateChangeCallbacks[r].forEach(t=>{try{t(d)}catch(f){this.log("error",`error in ${r} callback`,f)}})}catch(t){this.log("error",`error triggering ${r} callbacks`,t)}}_setupReconnectionTimer(){this.reconnectTimer=new Hv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Au.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var d,t,f,u,o,l,i,h;if(this.transport=(d=r?.transport)!==null&&d!==void 0?d:null,this.timeout=(t=r?.timeout)!==null&&t!==void 0?t:th,this.heartbeatIntervalMs=(f=r?.heartbeatIntervalMs)!==null&&f!==void 0?f:Au.HEARTBEAT_INTERVAL,this.worker=(u=r?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(o=r?.accessToken)!==null&&o!==void 0?o:null,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=r?.reconnectAfterMs)!==null&&l!==void 0?l:(_=>U_[_-1]||F_),this.encode=(i=r?.encode)!==null&&i!==void 0?i:((_,m)=>m(JSON.stringify(_))),this.decode=(h=r?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}class Gh extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Wr(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class z_ extends Gh{constructor(r,d,t){super(r),this.name="StorageApiError",this.status=d,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class oh extends Gh{constructor(r,d){super(r),this.name="StorageUnknownError",this.originalError=d}}var V_=function(n,r,d,t){function f(u){return u instanceof d?u:new d(function(o){o(u)})}return new(d||(d=Promise))(function(u,o){function l(_){try{h(t.next(_))}catch(m){o(m)}}function i(_){try{h(t.throw(_))}catch(m){o(m)}}function h(_){_.done?u(_.value):f(_.value).then(l,i)}h((t=t.apply(n,r||[])).next())})};const Xv=n=>{let r;return n?r=n:typeof fetch>"u"?r=(...d)=>bl(async()=>{const{default:t}=await Promise.resolve().then(()=>pa);return{default:t}},void 0).then(({default:t})=>t(...d)):r=fetch,(...d)=>r(...d)},W_=()=>V_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield bl(()=>Promise.resolve().then(()=>pa),void 0)).Response:Response}),sh=n=>{if(Array.isArray(n))return n.map(d=>sh(d));if(typeof n=="function"||n!==Object(n))return n;const r={};return Object.entries(n).forEach(([d,t])=>{const f=d.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[f]=sh(t)}),r},H_=n=>{if(typeof n!="object"||n===null)return!1;const r=Object.getPrototypeOf(n);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var hi=function(n,r,d,t){function f(u){return u instanceof d?u:new d(function(o){o(u)})}return new(d||(d=Promise))(function(u,o){function l(_){try{h(t.next(_))}catch(m){o(m)}}function i(_){try{h(t.throw(_))}catch(m){o(m)}}function h(_){_.done?u(_.value):f(_.value).then(l,i)}h((t=t.apply(n,r||[])).next())})};const ff=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),q_=(n,r,d)=>hi(void 0,void 0,void 0,function*(){const t=yield W_();n instanceof t&&!d?.noResolveJson?n.json().then(f=>{const u=n.status||500,o=f?.statusCode||u+"";r(new z_(ff(f),u,o))}).catch(f=>{r(new oh(ff(f),f))}):r(new oh(ff(n),n))}),$_=(n,r,d,t)=>{const f={method:n,headers:r?.headers||{}};return n==="GET"||!t?f:(H_(t)?(f.headers=Object.assign({"Content-Type":"application/json"},r?.headers),f.body=JSON.stringify(t)):f.body=t,r?.duplex&&(f.duplex=r.duplex),Object.assign(Object.assign({},f),d))};function wl(n,r,d,t,f,u){return hi(this,void 0,void 0,function*(){return new Promise((o,l)=>{n(d,$_(r,t,f,u)).then(i=>{if(!i.ok)throw i;return t?.noResolveJson?i:i.json()}).then(i=>o(i)).catch(i=>q_(i,l,t))})})}function ec(n,r,d,t){return hi(this,void 0,void 0,function*(){return wl(n,"GET",r,d,t)})}function xo(n,r,d,t,f){return hi(this,void 0,void 0,function*(){return wl(n,"POST",r,t,f,d)})}function ih(n,r,d,t,f){return hi(this,void 0,void 0,function*(){return wl(n,"PUT",r,t,f,d)})}function X_(n,r,d,t){return hi(this,void 0,void 0,function*(){return wl(n,"HEAD",r,Object.assign(Object.assign({},d),{noResolveJson:!0}),t)})}function Yv(n,r,d,t,f){return hi(this,void 0,void 0,function*(){return wl(n,"DELETE",r,t,f,d)})}var fn=function(n,r,d,t){function f(u){return u instanceof d?u:new d(function(o){o(u)})}return new(d||(d=Promise))(function(u,o){function l(_){try{h(t.next(_))}catch(m){o(m)}}function i(_){try{h(t.throw(_))}catch(m){o(m)}}function h(_){_.done?u(_.value):f(_.value).then(l,i)}h((t=t.apply(n,r||[])).next())})};const Y_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class K_{constructor(r,d={},t,f){this.url=r,this.headers=d,this.bucketId=t,this.fetch=Xv(f)}uploadOrUpdate(r,d,t,f){return fn(this,void 0,void 0,function*(){try{let u;const o=Object.assign(Object.assign({},qg),f);let l=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(o.upsert)});const i=o.metadata;typeof Blob<"u"&&t instanceof Blob?(u=new FormData,u.append("cacheControl",o.cacheControl),i&&u.append("metadata",this.encodeMetadata(i)),u.append("",t)):typeof FormData<"u"&&t instanceof FormData?(u=t,u.append("cacheControl",o.cacheControl),i&&u.append("metadata",this.encodeMetadata(i))):(u=t,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,i&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(i)))),f?.headers&&(l=Object.assign(Object.assign({},l),f.headers));const h=this._removeEmptyFolders(d),_=this._getFinalPath(h),m=yield(r=="PUT"?ih:xo)(this.fetch,`${this.url}/object/${_}`,u,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:h,id:m.Id,fullPath:m.Key},error:null}}catch(u){if(Wr(u))return{data:null,error:u};throw u}})}upload(r,d,t){return fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,d,t)})}uploadToSignedUrl(r,d,t,f){return fn(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),o=this._getFinalPath(u),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",d);try{let i;const h=Object.assign({upsert:qg.upsert},f),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&t instanceof Blob?(i=new FormData,i.append("cacheControl",h.cacheControl),i.append("",t)):typeof FormData<"u"&&t instanceof FormData?(i=t,i.append("cacheControl",h.cacheControl)):(i=t,_["cache-control"]=`max-age=${h.cacheControl}`,_["content-type"]=h.contentType);const m=yield ih(this.fetch,l.toString(),i,{headers:_});return{data:{path:u,fullPath:m.Key},error:null}}catch(i){if(Wr(i))return{data:null,error:i};throw i}})}createSignedUploadUrl(r,d){return fn(this,void 0,void 0,function*(){try{let t=this._getFinalPath(r);const f=Object.assign({},this.headers);d?.upsert&&(f["x-upsert"]="true");const u=yield xo(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:f}),o=new URL(this.url+u.url),l=o.searchParams.get("token");if(!l)throw new Gh("No token returned by API");return{data:{signedUrl:o.toString(),path:r,token:l},error:null}}catch(t){if(Wr(t))return{data:null,error:t};throw t}})}update(r,d,t){return fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,d,t)})}move(r,d,t){return fn(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:d,destinationBucket:t?.destinationBucket},{headers:this.headers}),error:null}}catch(f){if(Wr(f))return{data:null,error:f};throw f}})}copy(r,d,t){return fn(this,void 0,void 0,function*(){try{return{data:{path:(yield xo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:d,destinationBucket:t?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(f){if(Wr(f))return{data:null,error:f};throw f}})}createSignedUrl(r,d,t){return fn(this,void 0,void 0,function*(){try{let f=this._getFinalPath(r),u=yield xo(this.fetch,`${this.url}/object/sign/${f}`,Object.assign({expiresIn:d},t?.transform?{transform:t.transform}:{}),{headers:this.headers});const o=t?.download?`&download=${t.download===!0?"":t.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${o}`)},{data:u,error:null}}catch(f){if(Wr(f))return{data:null,error:f};throw f}})}createSignedUrls(r,d,t){return fn(this,void 0,void 0,function*(){try{const f=yield xo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:d,paths:r},{headers:this.headers}),u=t?.download?`&download=${t.download===!0?"":t.download}`:"";return{data:f.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${u}`):null})),error:null}}catch(f){if(Wr(f))return{data:null,error:f};throw f}})}download(r,d){return fn(this,void 0,void 0,function*(){const f=typeof d?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(d?.transform||{}),o=u?`?${u}`:"";try{const l=this._getFinalPath(r);return{data:yield(yield ec(this.fetch,`${this.url}/${f}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Wr(l))return{data:null,error:l};throw l}})}info(r){return fn(this,void 0,void 0,function*(){const d=this._getFinalPath(r);try{const t=yield ec(this.fetch,`${this.url}/object/info/${d}`,{headers:this.headers});return{data:sh(t),error:null}}catch(t){if(Wr(t))return{data:null,error:t};throw t}})}exists(r){return fn(this,void 0,void 0,function*(){const d=this._getFinalPath(r);try{return yield X_(this.fetch,`${this.url}/object/${d}`,{headers:this.headers}),{data:!0,error:null}}catch(t){if(Wr(t)&&t instanceof oh){const f=t.originalError;if([400,404].includes(f?.status))return{data:!1,error:t}}throw t}})}getPublicUrl(r,d){const t=this._getFinalPath(r),f=[],u=d?.download?`download=${d.download===!0?"":d.download}`:"";u!==""&&f.push(u);const l=typeof d?.transform<"u"?"render/image":"object",i=this.transformOptsToQueryString(d?.transform||{});i!==""&&f.push(i);let h=f.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${t}${h}`)}}}remove(r){return fn(this,void 0,void 0,function*(){try{return{data:yield Yv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(d){if(Wr(d))return{data:null,error:d};throw d}})}list(r,d,t){return fn(this,void 0,void 0,function*(){try{const f=Object.assign(Object.assign(Object.assign({},Y_),d),{prefix:r||""});return{data:yield xo(this.fetch,`${this.url}/object/list/${this.bucketId}`,f,{headers:this.headers},t),error:null}}catch(f){if(Wr(f))return{data:null,error:f};throw f}})}listV2(r,d){return fn(this,void 0,void 0,function*(){try{const t=Object.assign({},r);return{data:yield xo(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,t,{headers:this.headers},d),error:null}}catch(t){if(Wr(t))return{data:null,error:t};throw t}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const d=[];return r.width&&d.push(`width=${r.width}`),r.height&&d.push(`height=${r.height}`),r.resize&&d.push(`resize=${r.resize}`),r.format&&d.push(`format=${r.format}`),r.quality&&d.push(`quality=${r.quality}`),d.join("&")}}const J_="2.11.0",Z_={"X-Client-Info":`storage-js/${J_}`};var Xi=function(n,r,d,t){function f(u){return u instanceof d?u:new d(function(o){o(u)})}return new(d||(d=Promise))(function(u,o){function l(_){try{h(t.next(_))}catch(m){o(m)}}function i(_){try{h(t.throw(_))}catch(m){o(m)}}function h(_){_.done?u(_.value):f(_.value).then(l,i)}h((t=t.apply(n,r||[])).next())})};class Q_{constructor(r,d={},t,f){const u=new URL(r);f?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},Z_),d),this.fetch=Xv(t)}listBuckets(){return Xi(this,void 0,void 0,function*(){try{return{data:yield ec(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(Wr(r))return{data:null,error:r};throw r}})}getBucket(r){return Xi(this,void 0,void 0,function*(){try{return{data:yield ec(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(d){if(Wr(d))return{data:null,error:d};throw d}})}createBucket(r,d={public:!1}){return Xi(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:d.type,public:d.public,file_size_limit:d.fileSizeLimit,allowed_mime_types:d.allowedMimeTypes},{headers:this.headers}),error:null}}catch(t){if(Wr(t))return{data:null,error:t};throw t}})}updateBucket(r,d){return Xi(this,void 0,void 0,function*(){try{return{data:yield ih(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:d.public,file_size_limit:d.fileSizeLimit,allowed_mime_types:d.allowedMimeTypes},{headers:this.headers}),error:null}}catch(t){if(Wr(t))return{data:null,error:t};throw t}})}emptyBucket(r){return Xi(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(d){if(Wr(d))return{data:null,error:d};throw d}})}deleteBucket(r){return Xi(this,void 0,void 0,function*(){try{return{data:yield Yv(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(d){if(Wr(d))return{data:null,error:d};throw d}})}}class ex extends Q_{constructor(r,d={},t,f){super(r,d,t,f)}from(r){return new K_(this.url,this.headers,r,this.fetch)}}const tx="2.55.0";let Za="";typeof Deno<"u"?Za="deno":typeof document<"u"?Za="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Za="react-native":Za="node";const rx={"X-Client-Info":`supabase-js-${Za}/${tx}`},nx={headers:rx},ox={schema:"public"},sx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ix={};var ax=function(n,r,d,t){function f(u){return u instanceof d?u:new d(function(o){o(u)})}return new(d||(d=Promise))(function(u,o){function l(_){try{h(t.next(_))}catch(m){o(m)}}function i(_){try{h(t.throw(_))}catch(m){o(m)}}function h(_){_.done?u(_.value):f(_.value).then(l,i)}h((t=t.apply(n,r||[])).next())})};const lx=n=>{let r;return n?r=n:typeof fetch>"u"?r=Fv:r=fetch,(...d)=>r(...d)},ux=()=>typeof Headers>"u"?Bv:Headers,cx=(n,r,d)=>{const t=lx(d),f=ux();return(u,o)=>ax(void 0,void 0,void 0,function*(){var l;const i=(l=yield r())!==null&&l!==void 0?l:n;let h=new f(o?.headers);return h.has("apikey")||h.set("apikey",n),h.has("Authorization")||h.set("Authorization",`Bearer ${i}`),t(u,Object.assign(Object.assign({},o),{headers:h}))})};var dx=function(n,r,d,t){function f(u){return u instanceof d?u:new d(function(o){o(u)})}return new(d||(d=Promise))(function(u,o){function l(_){try{h(t.next(_))}catch(m){o(m)}}function i(_){try{h(t.throw(_))}catch(m){o(m)}}function h(_){_.done?u(_.value):f(_.value).then(l,i)}h((t=t.apply(n,r||[])).next())})};function fx(n){return n.endsWith("/")?n:n+"/"}function hx(n,r){var d,t;const{db:f,auth:u,realtime:o,global:l}=n,{db:i,auth:h,realtime:_,global:m}=r,s={db:Object.assign(Object.assign({},i),f),auth:Object.assign(Object.assign({},h),u),realtime:Object.assign(Object.assign({},_),o),storage:{},global:Object.assign(Object.assign(Object.assign({},m),l),{headers:Object.assign(Object.assign({},(d=m?.headers)!==null&&d!==void 0?d:{}),(t=l?.headers)!==null&&t!==void 0?t:{})}),accessToken:()=>dx(this,void 0,void 0,function*(){return""})};return n.accessToken?s.accessToken=n.accessToken:delete s.accessToken,s}const Kv="2.71.1",ra=30*1e3,ah=3,hf=ah*ra,px="http://localhost:9999",mx="supabase.auth.token",gx={"X-Client-Info":`gotrue-js/${Kv}`},lh="X-Supabase-Api-Version",Jv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vx=600*1e3;class zh extends Error{constructor(r,d,t){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=d,this.code=t}}function Bt(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class bx extends zh{constructor(r,d,t){super(r,d,t),this.name="AuthApiError",this.status=d,this.code=t}}function wx(n){return Bt(n)&&n.name==="AuthApiError"}class Zv extends zh{constructor(r,d){super(r),this.name="AuthUnknownError",this.originalError=d}}class Ps extends zh{constructor(r,d,t,f){super(r,t,f),this.name=d,this.status=t}}class ms extends Ps{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _x(n){return Bt(n)&&n.name==="AuthSessionMissingError"}class Ru extends Ps{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Du extends Ps{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Lu extends Ps{constructor(r,d=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=d}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xx(n){return Bt(n)&&n.name==="AuthImplicitGrantRedirectError"}class $g extends Ps{constructor(r,d=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=d}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uh extends Ps{constructor(r,d){super(r,"AuthRetryableFetchError",d,void 0)}}function pf(n){return Bt(n)&&n.name==="AuthRetryableFetchError"}class Xg extends Ps{constructor(r,d,t){super(r,"AuthWeakPasswordError",d,"weak_password"),this.reasons=t}}class ch extends Ps{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const tc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yg=` 	
\r=`.split(""),jx=(()=>{const n=new Array(128);for(let r=0;r<n.length;r+=1)n[r]=-1;for(let r=0;r<Yg.length;r+=1)n[Yg[r].charCodeAt(0)]=-2;for(let r=0;r<tc.length;r+=1)n[tc[r].charCodeAt(0)]=r;return n})();function Kg(n,r,d){if(n!==null)for(r.queue=r.queue<<8|n,r.queuedBits+=8;r.queuedBits>=6;){const t=r.queue>>r.queuedBits-6&63;d(tc[t]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const t=r.queue>>r.queuedBits-6&63;d(tc[t]),r.queuedBits-=6}}function Qv(n,r,d){const t=jx[n];if(t>-1)for(r.queue=r.queue<<6|t,r.queuedBits+=6;r.queuedBits>=8;)d(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(t===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Jg(n){const r=[],d=o=>{r.push(String.fromCodePoint(o))},t={utf8seq:0,codepoint:0},f={queue:0,queuedBits:0},u=o=>{kx(o,t,d)};for(let o=0;o<n.length;o+=1)Qv(n.charCodeAt(o),f,u);return r.join("")}function Sx(n,r){if(n<=127){r(n);return}else if(n<=2047){r(192|n>>6),r(128|n&63);return}else if(n<=65535){r(224|n>>12),r(128|n>>6&63),r(128|n&63);return}else if(n<=1114111){r(240|n>>18),r(128|n>>12&63),r(128|n>>6&63),r(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Ex(n,r){for(let d=0;d<n.length;d+=1){let t=n.charCodeAt(d);if(t>55295&&t<=56319){const f=(t-55296)*1024&65535;t=(n.charCodeAt(d+1)-56320&65535|f)+65536,d+=1}Sx(t,r)}}function kx(n,r,d){if(r.utf8seq===0){if(n<=127){d(n);return}for(let t=1;t<6;t+=1)if((n>>7-t&1)===0){r.utf8seq=t;break}if(r.utf8seq===2)r.codepoint=n&31;else if(r.utf8seq===3)r.codepoint=n&15;else if(r.utf8seq===4)r.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|n&63,r.utf8seq-=1,r.utf8seq===0&&d(r.codepoint)}}function Cx(n){const r=[],d={queue:0,queuedBits:0},t=f=>{r.push(f)};for(let f=0;f<n.length;f+=1)Qv(n.charCodeAt(f),d,t);return new Uint8Array(r)}function Tx(n){const r=[];return Ex(n,d=>r.push(d)),new Uint8Array(r)}function Px(n){const r=[],d={queue:0,queuedBits:0},t=f=>{r.push(f)};return n.forEach(f=>Kg(f,d,t)),Kg(null,d,t),r.join("")}function Ox(n){return Math.round(Date.now()/1e3)+n}function Mx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const r=Math.random()*16|0;return(n=="x"?r:r&3|8).toString(16)})}const co=()=>typeof window<"u"&&typeof document<"u",si={tested:!1,writable:!1},e0=()=>{if(!co())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(si.tested)return si.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),si.tested=!0,si.writable=!0}catch{si.tested=!0,si.writable=!1}return si.writable};function Ix(n){const r={},d=new URL(n);if(d.hash&&d.hash[0]==="#")try{new URLSearchParams(d.hash.substring(1)).forEach((f,u)=>{r[u]=f})}catch{}return d.searchParams.forEach((t,f)=>{r[f]=t}),r}const t0=n=>{let r;return n?r=n:typeof fetch>"u"?r=(...d)=>bl(async()=>{const{default:t}=await Promise.resolve().then(()=>pa);return{default:t}},void 0).then(({default:t})=>t(...d)):r=fetch,(...d)=>r(...d)},Ax=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",na=async(n,r,d)=>{await n.setItem(r,JSON.stringify(d))},ii=async(n,r)=>{const d=await n.getItem(r);if(!d)return null;try{return JSON.parse(d)}catch{return d}},ps=async(n,r)=>{await n.removeItem(r)};class mc{constructor(){this.promise=new mc.promiseConstructor((r,d)=>{this.resolve=r,this.reject=d})}}mc.promiseConstructor=Promise;function mf(n){const r=n.split(".");if(r.length!==3)throw new ch("Invalid JWT structure");for(let t=0;t<r.length;t++)if(!yx.test(r[t]))throw new ch("JWT not in base64url format");return{header:JSON.parse(Jg(r[0])),payload:JSON.parse(Jg(r[1])),signature:Cx(r[2]),raw:{header:r[0],payload:r[1]}}}async function Rx(n){return await new Promise(r=>{setTimeout(()=>r(null),n)})}function Dx(n,r){return new Promise((t,f)=>{(async()=>{for(let u=0;u<1/0;u++)try{const o=await n(u);if(!r(u,null,o)){t(o);return}}catch(o){if(!r(u,o)){f(o);return}}})()})}function Lx(n){return("0"+n.toString(16)).substr(-2)}function Nx(){const r=new Uint32Array(56);if(typeof crypto>"u"){const d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=d.length;let f="";for(let u=0;u<56;u++)f+=d.charAt(Math.floor(Math.random()*t));return f}return crypto.getRandomValues(r),Array.from(r,Lx).join("")}async function Ux(n){const d=new TextEncoder().encode(n),t=await crypto.subtle.digest("SHA-256",d),f=new Uint8Array(t);return Array.from(f).map(u=>String.fromCharCode(u)).join("")}async function Fx(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const d=await Ux(n);return btoa(d).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yi(n,r,d=!1){const t=Nx();let f=t;d&&(f+="/PASSWORD_RECOVERY"),await na(n,`${r}-code-verifier`,f);const u=await Fx(t);return[u,t===u?"plain":"s256"]}const Bx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Gx(n){const r=n.headers.get(lh);if(!r||!r.match(Bx))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function zx(n){if(!n)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(n<=r)throw new Error("JWT has expired")}function Vx(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Wx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ki(n){if(!Wx.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gf(){const n={};return new Proxy(n,{get:(r,d)=>{if(d==="__isUserNotAvailableProxy")return!0;if(typeof d=="symbol"){const t=d.toString();if(t==="Symbol(Symbol.toPrimitive)"||t==="Symbol(Symbol.toStringTag)"||t==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${d}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,d)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${d}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,d)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${d}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Zg(n){return JSON.parse(JSON.stringify(n))}var Hx=function(n,r){var d={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&r.indexOf(t)<0&&(d[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,t=Object.getOwnPropertySymbols(n);f<t.length;f++)r.indexOf(t[f])<0&&Object.prototype.propertyIsEnumerable.call(n,t[f])&&(d[t[f]]=n[t[f]]);return d};const li=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),qx=[502,503,504];async function Qg(n){var r;if(!Ax(n))throw new uh(li(n),0);if(qx.includes(n.status))throw new uh(li(n),n.status);let d;try{d=await n.json()}catch(u){throw new Zv(li(u),u)}let t;const f=Gx(n);if(f&&f.getTime()>=Jv["2024-01-01"].timestamp&&typeof d=="object"&&d&&typeof d.code=="string"?t=d.code:typeof d=="object"&&d&&typeof d.error_code=="string"&&(t=d.error_code),t){if(t==="weak_password")throw new Xg(li(d),n.status,((r=d.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(t==="session_not_found")throw new ms}else if(typeof d=="object"&&d&&typeof d.weak_password=="object"&&d.weak_password&&Array.isArray(d.weak_password.reasons)&&d.weak_password.reasons.length&&d.weak_password.reasons.reduce((u,o)=>u&&typeof o=="string",!0))throw new Xg(li(d),n.status,d.weak_password.reasons);throw new bx(li(d),n.status||500,t)}const $x=(n,r,d,t)=>{const f={method:n,headers:r?.headers||{}};return n==="GET"?f:(f.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),f.body=JSON.stringify(t),Object.assign(Object.assign({},f),d))};async function Ht(n,r,d,t){var f;const u=Object.assign({},t?.headers);u[lh]||(u[lh]=Jv["2024-01-01"].name),t?.jwt&&(u.Authorization=`Bearer ${t.jwt}`);const o=(f=t?.query)!==null&&f!==void 0?f:{};t?.redirectTo&&(o.redirect_to=t.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",i=await Xx(n,r,d+l,{headers:u,noResolveJson:t?.noResolveJson},{},t?.body);return t?.xform?t?.xform(i):{data:Object.assign({},i),error:null}}async function Xx(n,r,d,t,f,u){const o=$x(r,t,f,u);let l;try{l=await n(d,Object.assign({},o))}catch(i){throw console.error(i),new uh(li(i),0)}if(l.ok||await Qg(l),t?.noResolveJson)return l;try{return await l.json()}catch(i){await Qg(i)}}function Uo(n){var r;let d=null;Zx(n)&&(d=Object.assign({},n),n.expires_at||(d.expires_at=Ox(n.expires_in)));const t=(r=n.user)!==null&&r!==void 0?r:n;return{data:{session:d,user:t},error:null}}function ey(n){const r=Uo(n);return!r.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((d,t)=>d&&typeof t=="string",!0)&&(r.data.weak_password=n.weak_password),r}function bs(n){var r;return{data:{user:(r=n.user)!==null&&r!==void 0?r:n},error:null}}function Yx(n){return{data:n,error:null}}function Kx(n){const{action_link:r,email_otp:d,hashed_token:t,redirect_to:f,verification_type:u}=n,o=Hx(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:r,email_otp:d,hashed_token:t,redirect_to:f,verification_type:u},i=Object.assign({},o);return{data:{properties:l,user:i},error:null}}function Jx(n){return n}function Zx(n){return n.access_token&&n.refresh_token&&n.expires_in}const yf=["global","local","others"];var Qx=function(n,r){var d={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&r.indexOf(t)<0&&(d[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,t=Object.getOwnPropertySymbols(n);f<t.length;f++)r.indexOf(t[f])<0&&Object.prototype.propertyIsEnumerable.call(n,t[f])&&(d[t[f]]=n[t[f]]);return d};class ej{constructor({url:r="",headers:d={},fetch:t}){this.url=r,this.headers=d,this.fetch=t0(t),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,d=yf[0]){if(yf.indexOf(d)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yf.join(", ")}`);try{return await Ht(this.fetch,"POST",`${this.url}/logout?scope=${d}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(t){if(Bt(t))return{data:null,error:t};throw t}}async inviteUserByEmail(r,d={}){try{return await Ht(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:d.data},headers:this.headers,redirectTo:d.redirectTo,xform:bs})}catch(t){if(Bt(t))return{data:{user:null},error:t};throw t}}async generateLink(r){try{const{options:d}=r,t=Qx(r,["options"]),f=Object.assign(Object.assign({},t),d);return"newEmail"in t&&(f.new_email=t?.newEmail,delete f.newEmail),await Ht(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:f,headers:this.headers,xform:Kx,redirectTo:d?.redirectTo})}catch(d){if(Bt(d))return{data:{properties:null,user:null},error:d};throw d}}async createUser(r){try{return await Ht(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:bs})}catch(d){if(Bt(d))return{data:{user:null},error:d};throw d}}async listUsers(r){var d,t,f,u,o,l,i;try{const h={nextPage:null,lastPage:0,total:0},_=await Ht(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(t=(d=r?.page)===null||d===void 0?void 0:d.toString())!==null&&t!==void 0?t:"",per_page:(u=(f=r?.perPage)===null||f===void 0?void 0:f.toString())!==null&&u!==void 0?u:""},xform:Jx});if(_.error)throw _.error;const m=await _.json(),s=(o=_.headers.get("x-total-count"))!==null&&o!==void 0?o:0,c=(i=(l=_.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&i!==void 0?i:[];return c.length>0&&(c.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(p.split(";")[1].split("=")[1]);h[`${b}Page`]=g}),h.total=parseInt(s)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(Bt(h))return{data:{users:[]},error:h};throw h}}async getUserById(r){Ki(r);try{return await Ht(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:bs})}catch(d){if(Bt(d))return{data:{user:null},error:d};throw d}}async updateUserById(r,d){Ki(r);try{return await Ht(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:d,headers:this.headers,xform:bs})}catch(t){if(Bt(t))return{data:{user:null},error:t};throw t}}async deleteUser(r,d=!1){Ki(r);try{return await Ht(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:d},xform:bs})}catch(t){if(Bt(t))return{data:{user:null},error:t};throw t}}async _listFactors(r){Ki(r.userId);try{const{data:d,error:t}=await Ht(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:f=>({data:{factors:f},error:null})});return{data:d,error:t}}catch(d){if(Bt(d))return{data:null,error:d};throw d}}async _deleteFactor(r){Ki(r.userId),Ki(r.id);try{return{data:await Ht(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(d){if(Bt(d))return{data:null,error:d};throw d}}}function ty(n={}){return{getItem:r=>n[r]||null,setItem:(r,d)=>{n[r]=d},removeItem:r=>{delete n[r]}}}function tj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ji={debug:!!(globalThis&&e0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class r0 extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class rj extends r0{}async function nj(n,r,d){Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,r);const t=new globalThis.AbortController;return r>0&&setTimeout(()=>{t.abort(),Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:t.signal},async f=>{if(f){Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,f.name);try{return await d()}finally{Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,f.name)}}else{if(r===0)throw Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new rj(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Ji.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await d()}}))}tj();const oj={url:px,storageKey:mx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ry(n,r,d){return await d()}const Zi={};class cl{constructor(r){var d,t;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cl.nextInstanceID,cl.nextInstanceID+=1,this.instanceID>0&&co()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const f=Object.assign(Object.assign({},oj),r);if(this.logDebugMessages=!!f.debug,typeof f.debug=="function"&&(this.logger=f.debug),this.persistSession=f.persistSession,this.storageKey=f.storageKey,this.autoRefreshToken=f.autoRefreshToken,this.admin=new ej({url:f.url,headers:f.headers,fetch:f.fetch}),this.url=f.url,this.headers=f.headers,this.fetch=t0(f.fetch),this.lock=f.lock||ry,this.detectSessionInUrl=f.detectSessionInUrl,this.flowType=f.flowType,this.hasCustomAuthorizationHeader=f.hasCustomAuthorizationHeader,f.lock?this.lock=f.lock:co()&&(!((d=globalThis?.navigator)===null||d===void 0)&&d.locks)?this.lock=nj:this.lock=ry,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(f.storage?this.storage=f.storage:e0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ty(this.memoryStorage)),f.userStorage&&(this.userStorage=f.userStorage)):(this.memoryStorage={},this.storage=ty(this.memoryStorage)),co()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(t=this.broadcastChannel)===null||t===void 0||t.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var r,d;return(d=(r=Zi[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&d!==void 0?d:{keys:[]}}set jwks(r){Zi[this.storageKey]=Object.assign(Object.assign({},Zi[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,d;return(d=(r=Zi[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&d!==void 0?d:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Zi[this.storageKey]=Object.assign(Object.assign({},Zi[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Kv}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const d=Ix(window.location.href);let t="none";if(this._isImplicitGrantCallback(d)?t="implicit":await this._isPKCECallback(d)&&(t="pkce"),co()&&this.detectSessionInUrl&&t!=="none"){const{data:f,error:u}=await this._getSessionFromURL(d,t);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),xx(u)){const i=(r=u.details)===null||r===void 0?void 0:r.code;if(i==="identity_already_exists"||i==="identity_not_found"||i==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:o,redirectType:l}=f;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(d){return Bt(d)?{error:d}:{error:new Zv("Unexpected error during initialization",d)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var d,t,f;try{const u=await Ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(t=(d=r?.options)===null||d===void 0?void 0:d.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:(f=r?.options)===null||f===void 0?void 0:f.captchaToken}},xform:Uo}),{data:o,error:l}=u;if(l||!o)return{data:{user:null,session:null},error:l};const i=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",i)),{data:{user:h,session:i},error:null}}catch(u){if(Bt(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(r){var d,t,f;try{let u;if("email"in r){const{email:_,password:m,options:s}=r;let c=null,p=null;this.flowType==="pkce"&&([c,p]=await Yi(this.storage,this.storageKey)),u=await Ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:{email:_,password:m,data:(d=s?.data)!==null&&d!==void 0?d:{},gotrue_meta_security:{captcha_token:s?.captchaToken},code_challenge:c,code_challenge_method:p},xform:Uo})}else if("phone"in r){const{phone:_,password:m,options:s}=r;u=await Ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:m,data:(t=s?.data)!==null&&t!==void 0?t:{},channel:(f=s?.channel)!==null&&f!==void 0?f:"sms",gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Uo})}else throw new Du("You must provide either an email or phone number and a password");const{data:o,error:l}=u;if(l||!o)return{data:{user:null,session:null},error:l};const i=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",i)),{data:{user:h,session:i},error:null}}catch(u){if(Bt(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(r){try{let d;if("email"in r){const{email:u,password:o,options:l}=r;d=await Ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:ey})}else if("phone"in r){const{phone:u,password:o,options:l}=r;d=await Ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:ey})}else throw new Du("You must provide either an email or phone number and a password");const{data:t,error:f}=d;return f?{data:{user:null,session:null},error:f}:!t||!t.session||!t.user?{data:{user:null,session:null},error:new Ru}:(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({user:t.user,session:t.session},t.weak_password?{weakPassword:t.weak_password}:null),error:f})}catch(d){if(Bt(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithOAuth(r){var d,t,f,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(d=r.options)===null||d===void 0?void 0:d.redirectTo,scopes:(t=r.options)===null||t===void 0?void 0:t.scopes,queryParams:(f=r.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:d}=r;if(d==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${d}"`)}async signInWithSolana(r){var d,t,f,u,o,l,i,h,_,m,s,c;let p,g;if("message"in r)p=r.message,g=r.signature;else{const{chain:b,wallet:y,statement:v,options:j}=r;let x;if(co())if(typeof y=="object")x=y;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))x=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=y}const E=new URL((d=j?.url)!==null&&d!==void 0?d:window.location.href);if("signIn"in x&&x.signIn){const P=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),v?{statement:v}:null));let O;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")O=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)O=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)p=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),g=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${E.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(f=(t=j?.signInWithSolana)===null||t===void 0?void 0:t.issuedAt)!==null&&f!==void 0?f:new Date().toISOString()}`,...!((u=j?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((i=j?.signInWithSolana)===null||i===void 0)&&i.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((h=j?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((m=(_=j?.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||m===void 0)&&m.length?["Resources",...j.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const P=await x.signMessage(new TextEncoder().encode(p),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=P}}try{const{data:b,error:y}=await Ht(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Px(g)},!((s=r.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:(c=r.options)===null||c===void 0?void 0:c.captchaToken}}:null),xform:Uo});if(y)throw y;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Ru}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:y})}catch(b){if(Bt(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(r){const d=await ii(this.storage,`${this.storageKey}-code-verifier`),[t,f]=(d??"").split("/");try{const{data:u,error:o}=await Ht(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:t},xform:Uo});if(await ps(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new Ru}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:f??null}),error:o})}catch(u){if(Bt(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(r){try{const{options:d,provider:t,token:f,access_token:u,nonce:o}=r,l=await Ht(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:t,id_token:f,access_token:u,nonce:o,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Uo}),{data:i,error:h}=l;return h?{data:{user:null,session:null},error:h}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Ru}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:i,error:h})}catch(d){if(Bt(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithOtp(r){var d,t,f,u,o;try{if("email"in r){const{email:l,options:i}=r;let h=null,_=null;this.flowType==="pkce"&&([h,_]=await Yi(this.storage,this.storageKey));const{error:m}=await Ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(d=i?.data)!==null&&d!==void 0?d:{},create_user:(t=i?.shouldCreateUser)!==null&&t!==void 0?t:!0,gotrue_meta_security:{captcha_token:i?.captchaToken},code_challenge:h,code_challenge_method:_},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in r){const{phone:l,options:i}=r,{data:h,error:_}=await Ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(f=i?.data)!==null&&f!==void 0?f:{},create_user:(u=i?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:i?.captchaToken},channel:(o=i?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:_}}throw new Du("You must provide either an email or phone number.")}catch(l){if(Bt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(r){var d,t;try{let f,u;"options"in r&&(f=(d=r.options)===null||d===void 0?void 0:d.redirectTo,u=(t=r.options)===null||t===void 0?void 0:t.captchaToken);const{data:o,error:l}=await Ht(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:f,xform:Uo});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const i=o.session,h=o.user;return i?.access_token&&(await this._saveSession(i),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",i)),{data:{user:h,session:i},error:null}}catch(f){if(Bt(f))return{data:{user:null,session:null},error:f};throw f}}async signInWithSSO(r){var d,t,f;try{let u=null,o=null;return this.flowType==="pkce"&&([u,o]=await Yi(this.storage,this.storageKey)),await Ht(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(t=(d=r.options)===null||d===void 0?void 0:d.redirectTo)!==null&&t!==void 0?t:void 0}),!((f=r?.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:o}),headers:this.headers,xform:Yx})}catch(u){if(Bt(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:d},error:t}=r;if(t)throw t;if(!d)throw new ms;const{error:f}=await Ht(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:d.access_token});return{data:{user:null,session:null},error:f}})}catch(r){if(Bt(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const d=`${this.url}/resend`;if("email"in r){const{email:t,type:f,options:u}=r,{error:o}=await Ht(this.fetch,"POST",d,{headers:this.headers,body:{email:t,type:f,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in r){const{phone:t,type:f,options:u}=r,{data:o,error:l}=await Ht(this.fetch,"POST",d,{headers:this.headers,body:{phone:t,type:f,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:l}}throw new Du("You must provide either an email or phone number and a type")}catch(d){if(Bt(d))return{data:{user:null,session:null},error:d};throw d}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async d=>d))}async _acquireLock(r,d){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const t=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),f=(async()=>(await t,await d()))();return this.pendingInLock.push((async()=>{try{await f}catch{}})()),f}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const t=d();for(this.pendingInLock.push((async()=>{try{await t}catch{}})()),await t;this.pendingInLock.length;){const f=[...this.pendingInLock];await Promise.all(f),this.pendingInLock.splice(0,f.length)}return await t}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const d=await this.__loadSession();return await r(d)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const d=await ii(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",d),d!==null&&(this._isValidSession(d)?r=d:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const t=r.expires_at?r.expires_at*1e3-Date.now()<hf:!1;if(this._debug("#__loadSession()",`session has${t?"":" not"} expired`,"expires_at",r.expires_at),!t){if(this.userStorage){const o=await ii(this.userStorage,this.storageKey+"-user");o?.user?r.user=o.user:r.user=gf()}if(this.storage.isServer&&r.user){let o=this.suppressGetSessionWarning;r=new Proxy(r,{get:(i,h,_)=>(!o&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(i,h,_))})}return{data:{session:r},error:null}}const{session:f,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{session:null},error:u}:{data:{session:f},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await Ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:bs}):await this._useSession(async d=>{var t,f,u;const{data:o,error:l}=d;if(l)throw l;return!(!((t=o.session)===null||t===void 0)&&t.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ms}:await Ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(f=o.session)===null||f===void 0?void 0:f.access_token)!==null&&u!==void 0?u:void 0,xform:bs})})}catch(d){if(Bt(d))return _x(d)&&(await this._removeSession(),await ps(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:d};throw d}}async updateUser(r,d={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,d))}async _updateUser(r,d={}){try{return await this._useSession(async t=>{const{data:f,error:u}=t;if(u)throw u;if(!f.session)throw new ms;const o=f.session;let l=null,i=null;this.flowType==="pkce"&&r.email!=null&&([l,i]=await Yi(this.storage,this.storageKey));const{data:h,error:_}=await Ht(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:d?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:l,code_challenge_method:i}),jwt:o.access_token,xform:bs});if(_)throw _;return o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(t){if(Bt(t))return{data:{user:null},error:t};throw t}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new ms;const d=Date.now()/1e3;let t=d,f=!0,u=null;const{payload:o}=mf(r.access_token);if(o.exp&&(t=o.exp,f=t<=d),f){const{session:l,error:i}=await this._callRefreshToken(r.refresh_token);if(i)return{data:{user:null,session:null},error:i};if(!l)return{data:{user:null,session:null},error:null};u=l}else{const{data:l,error:i}=await this._getUser(r.access_token);if(i)throw i;u={access_token:r.access_token,refresh_token:r.refresh_token,user:l.user,token_type:"bearer",expires_in:t-d,expires_at:t},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(d){if(Bt(d))return{data:{session:null,user:null},error:d};throw d}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async d=>{var t;if(!r){const{data:o,error:l}=d;if(l)throw l;r=(t=o.session)!==null&&t!==void 0?t:void 0}if(!r?.refresh_token)throw new ms;const{session:f,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{user:null,session:null},error:u}:f?{data:{user:f.user,session:f},error:null}:{data:{user:null,session:null},error:null}})}catch(d){if(Bt(d))return{data:{user:null,session:null},error:d};throw d}}async _getSessionFromURL(r,d){try{if(!co())throw new Lu("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Lu(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(d){case"implicit":if(this.flowType==="pkce")throw new $g("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Lu("Not a valid implicit grant flow url.");break;default:}if(d==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new $g("No code detected.");const{data:v,error:j}=await this._exchangeCodeForSession(r.code);if(j)throw j;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:t,provider_refresh_token:f,access_token:u,refresh_token:o,expires_in:l,expires_at:i,token_type:h}=r;if(!u||!l||!o||!h)throw new Lu("No session defined in URL");const _=Math.round(Date.now()/1e3),m=parseInt(l);let s=_+m;i&&(s=parseInt(i));const c=s-_;c*1e3<=ra&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${c}s, should have been closer to ${m}s`);const p=s-m;_-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,s,_):_-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,s,_);const{data:g,error:b}=await this._getUser(u);if(b)throw b;const y={provider_token:t,provider_refresh_token:f,access_token:u,expires_in:m,expires_at:s,refresh_token:o,token_type:h,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:r.type},error:null}}catch(t){if(Bt(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const d=await ii(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&d)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async d=>{var t;const{data:f,error:u}=d;if(u)return{error:u};const o=(t=f.session)===null||t===void 0?void 0:t.access_token;if(o){const{error:l}=await this.admin.signOut(o,r);if(l&&!(wx(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return r!=="others"&&(await this._removeSession(),await ps(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const d=Mx(),t={id:d,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",d),this.stateChangeEmitters.delete(d)}};return this._debug("#onAuthStateChange()","registered callback with id",d),this.stateChangeEmitters.set(d,t),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(d)})))(),{data:{subscription:t}}}async _emitInitialSession(r){return await this._useSession(async d=>{var t,f;try{const{data:{session:u},error:o}=d;if(o)throw o;await((t=this.stateChangeEmitters.get(r))===null||t===void 0?void 0:t.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((f=this.stateChangeEmitters.get(r))===null||f===void 0?void 0:f.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,d={}){let t=null,f=null;this.flowType==="pkce"&&([t,f]=await Yi(this.storage,this.storageKey,!0));try{return await Ht(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:t,code_challenge_method:f,gotrue_meta_security:{captcha_token:d.captchaToken}},headers:this.headers,redirectTo:d.redirectTo})}catch(u){if(Bt(u))return{data:null,error:u};throw u}}async getUserIdentities(){var r;try{const{data:d,error:t}=await this.getUser();if(t)throw t;return{data:{identities:(r=d.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(d){if(Bt(d))return{data:null,error:d};throw d}}async linkIdentity(r){var d;try{const{data:t,error:f}=await this._useSession(async u=>{var o,l,i,h,_;const{data:m,error:s}=u;if(s)throw s;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(o=r.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=r.options)===null||l===void 0?void 0:l.scopes,queryParams:(i=r.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:!0});return await Ht(this.fetch,"GET",c,{headers:this.headers,jwt:(_=(h=m.session)===null||h===void 0?void 0:h.access_token)!==null&&_!==void 0?_:void 0})});if(f)throw f;return co()&&!(!((d=r.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(t?.url),{data:{provider:r.provider,url:t?.url},error:null}}catch(t){if(Bt(t))return{data:{provider:r.provider,url:null},error:t};throw t}}async unlinkIdentity(r){try{return await this._useSession(async d=>{var t,f;const{data:u,error:o}=d;if(o)throw o;return await Ht(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(f=(t=u.session)===null||t===void 0?void 0:t.access_token)!==null&&f!==void 0?f:void 0})})}catch(d){if(Bt(d))return{data:null,error:d};throw d}}async _refreshAccessToken(r){const d=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(d,"begin");try{const t=Date.now();return await Dx(async f=>(f>0&&await Rx(200*Math.pow(2,f-1)),this._debug(d,"refreshing attempt",f),await Ht(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Uo})),(f,u)=>{const o=200*Math.pow(2,f);return u&&pf(u)&&Date.now()+o-t<ra})}catch(t){if(this._debug(d,"error",t),Bt(t))return{data:{session:null,user:null},error:t};throw t}finally{this._debug(d,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,d){const t=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:d.redirectTo,scopes:d.scopes,queryParams:d.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",d,"url",t),co()&&!d.skipBrowserRedirect&&window.location.assign(t),{data:{provider:r,url:t},error:null}}async _recoverAndRefresh(){var r,d;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const f=await ii(this.storage,this.storageKey);if(f&&this.userStorage){let o=await ii(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:f.user},await na(this.userStorage,this.storageKey+"-user",o)),f.user=(r=o?.user)!==null&&r!==void 0?r:gf()}else if(f&&!f.user&&!f.user){const o=await ii(this.storage,this.storageKey+"-user");o&&o?.user?(f.user=o.user,await ps(this.storage,this.storageKey+"-user"),await na(this.storage,this.storageKey,f)):f.user=gf()}if(this._debug(t,"session from storage",f),!this._isValidSession(f)){this._debug(t,"session is not valid"),f!==null&&await this._removeSession();return}const u=((d=f.expires_at)!==null&&d!==void 0?d:1/0)*1e3-Date.now()<hf;if(this._debug(t,`session has${u?"":" not"} expired with margin of ${hf}s`),u){if(this.autoRefreshToken&&f.refresh_token){const{error:o}=await this._callRefreshToken(f.refresh_token);o&&(console.error(o),pf(o)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(f.user&&f.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(f.access_token);!l&&o?.user?(f.user=o.user,await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)):this._debug(t,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(t,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",f)}catch(f){this._debug(t,"error",f),console.error(f);return}finally{this._debug(t,"end")}}async _callRefreshToken(r){var d,t;if(!r)throw new ms;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const f=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(f,"begin");try{this.refreshingDeferred=new mc;const{data:u,error:o}=await this._refreshAccessToken(r);if(o)throw o;if(!u.session)throw new ms;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const l={session:u.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(u){if(this._debug(f,"error",u),Bt(u)){const o={session:null,error:u};return pf(u)||await this._removeSession(),(d=this.refreshingDeferred)===null||d===void 0||d.resolve(o),o}throw(t=this.refreshingDeferred)===null||t===void 0||t.reject(u),u}finally{this.refreshingDeferred=null,this._debug(f,"end")}}async _notifyAllSubscribers(r,d,t=!0){const f=`#_notifyAllSubscribers(${r})`;this._debug(f,"begin",d,`broadcast = ${t}`);try{this.broadcastChannel&&t&&this.broadcastChannel.postMessage({event:r,session:d});const u=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(r,d)}catch(i){u.push(i)}});if(await Promise.all(o),u.length>0){for(let l=0;l<u.length;l+=1)console.error(u[l]);throw u[0]}}finally{this._debug(f,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const d=Object.assign({},r),t=d.user&&d.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!t&&d.user&&await na(this.userStorage,this.storageKey+"-user",{user:d.user});const f=Object.assign({},d);delete f.user;const u=Zg(f);await na(this.storage,this.storageKey,u)}else{const f=Zg(d);await na(this.storage,this.storageKey,f)}}async _removeSession(){this._debug("#_removeSession()"),await ps(this.storage,this.storageKey),await ps(this.storage,this.storageKey+"-code-verifier"),await ps(this.storage,this.storageKey+"-user"),this.userStorage&&await ps(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&co()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(d){console.error("removing visibilitychange callback failed",d)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),ra);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async d=>{const{data:{session:t}}=d;if(!t||!t.refresh_token||!t.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const f=Math.floor((t.expires_at*1e3-r)/ra);this._debug("#_autoRefreshTokenTick()",`access token expires in ${f} ticks, a tick lasts ${ra}ms, refresh threshold is ${ah} ticks`),f<=ah&&await this._callRefreshToken(t.refresh_token)})}catch(d){console.error("Auto refresh tick failed with error. This is likely a transient error.",d)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof r0)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!co()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const d=`#_onVisibilityChanged(${r})`;this._debug(d,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(d,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,d,t){const f=[`provider=${encodeURIComponent(d)}`];if(t?.redirectTo&&f.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),t?.scopes&&f.push(`scopes=${encodeURIComponent(t.scopes)}`),this.flowType==="pkce"){const[u,o]=await Yi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(o)}`});f.push(l.toString())}if(t?.queryParams){const u=new URLSearchParams(t.queryParams);f.push(u.toString())}return t?.skipBrowserRedirect&&f.push(`skip_http_redirect=${t.skipBrowserRedirect}`),`${r}?${f.join("&")}`}async _unenroll(r){try{return await this._useSession(async d=>{var t;const{data:f,error:u}=d;return u?{data:null,error:u}:await Ht(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(t=f?.session)===null||t===void 0?void 0:t.access_token})})}catch(d){if(Bt(d))return{data:null,error:d};throw d}}async _enroll(r){try{return await this._useSession(async d=>{var t,f;const{data:u,error:o}=d;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:i,error:h}=await Ht(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(t=u?.session)===null||t===void 0?void 0:t.access_token});return h?{data:null,error:h}:(r.factorType==="totp"&&(!((f=i?.totp)===null||f===void 0)&&f.qr_code)&&(i.totp.qr_code=`data:image/svg+xml;utf-8,${i.totp.qr_code}`),{data:i,error:null})})}catch(d){if(Bt(d))return{data:null,error:d};throw d}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async d=>{var t;const{data:f,error:u}=d;if(u)return{data:null,error:u};const{data:o,error:l}=await Ht(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(t=f?.session)===null||t===void 0?void 0:t.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(d){if(Bt(d))return{data:null,error:d};throw d}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async d=>{var t;const{data:f,error:u}=d;return u?{data:null,error:u}:await Ht(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(t=f?.session)===null||t===void 0?void 0:t.access_token})})}catch(d){if(Bt(d))return{data:null,error:d};throw d}})}async _challengeAndVerify(r){const{data:d,error:t}=await this._challenge({factorId:r.factorId});return t?{data:null,error:t}:await this._verify({factorId:r.factorId,challengeId:d.id,code:r.code})}async _listFactors(){const{data:{user:r},error:d}=await this.getUser();if(d)return{data:null,error:d};const t=r?.factors||[],f=t.filter(o=>o.factor_type==="totp"&&o.status==="verified"),u=t.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:t,totp:f,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var d,t;const{data:{session:f},error:u}=r;if(u)return{data:null,error:u};if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=mf(f.access_token);let l=null;o.aal&&(l=o.aal);let i=l;((t=(d=f.user.factors)===null||d===void 0?void 0:d.filter(m=>m.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(i="aal2");const _=o.amr||[];return{data:{currentLevel:l,nextLevel:i,currentAuthenticationMethods:_},error:null}}))}async fetchJwk(r,d={keys:[]}){let t=d.keys.find(l=>l.kid===r);if(t)return t;const f=Date.now();if(t=this.jwks.keys.find(l=>l.kid===r),t&&this.jwks_cached_at+vx>f)return t;const{data:u,error:o}=await Ht(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=f,t=u.keys.find(l=>l.kid===r),!t)?null:t}async getClaims(r,d={}){try{let t=r;if(!t){const{data:c,error:p}=await this.getSession();if(p||!c.session)return{data:null,error:p};t=c.session.access_token}const{header:f,payload:u,signature:o,raw:{header:l,payload:i}}=mf(t);d?.allowExpired||zx(u.exp);const h=!f.alg||f.alg.startsWith("HS")||!f.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(f.kid,d?.keys?{keys:d.keys}:d?.jwks);if(!h){const{error:c}=await this.getUser(t);if(c)throw c;return{data:{claims:u,header:f,signature:o},error:null}}const _=Vx(f.alg),m=await crypto.subtle.importKey("jwk",h,_,!0,["verify"]);if(!await crypto.subtle.verify(_,m,o,Tx(`${l}.${i}`)))throw new ch("Invalid JWT signature");return{data:{claims:u,header:f,signature:o},error:null}}catch(t){if(Bt(t))return{data:null,error:t};throw t}}}cl.nextInstanceID=0;const sj=cl;class ij extends sj{constructor(r){super(r)}}var aj=function(n,r,d,t){function f(u){return u instanceof d?u:new d(function(o){o(u)})}return new(d||(d=Promise))(function(u,o){function l(_){try{h(t.next(_))}catch(m){o(m)}}function i(_){try{h(t.throw(_))}catch(m){o(m)}}function h(_){_.done?u(_.value):f(_.value).then(l,i)}h((t=t.apply(n,r||[])).next())})};class lj{constructor(r,d,t){var f,u,o;if(this.supabaseUrl=r,this.supabaseKey=d,!r)throw new Error("supabaseUrl is required.");if(!d)throw new Error("supabaseKey is required.");const l=fx(r),i=new URL(l);this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const h=`sb-${i.hostname.split(".")[0]}-auth-token`,_={db:ox,realtime:ix,auth:Object.assign(Object.assign({},sx),{storageKey:h}),global:nx},m=hx(t??{},_);this.storageKey=(f=m.auth.storageKey)!==null&&f!==void 0?f:"",this.headers=(u=m.global.headers)!==null&&u!==void 0?u:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(s,c)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(c)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=m.auth)!==null&&o!==void 0?o:{},this.headers,m.global.fetch),this.fetch=cx(d,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new S_(new URL("rest/v1",i).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new ex(this.storageUrl.href,this.headers,this.fetch,t?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new f_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,d={},t={}){return this.rest.rpc(r,d,t)}channel(r,d={config:{}}){return this.realtime.channel(r,d)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,d;return aj(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:t}=yield this.auth.getSession();return(d=(r=t.session)===null||r===void 0?void 0:r.access_token)!==null&&d!==void 0?d:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:d,detectSessionInUrl:t,storage:f,storageKey:u,flowType:o,lock:l,debug:i},h,_){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ij({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),h),storageKey:u,autoRefreshToken:r,persistSession:d,detectSessionInUrl:t,storage:f,flowType:o,lock:l,debug:i,fetch:_,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new G_(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((d,t)=>{this._handleTokenChanged(d,"CLIENT",t?.access_token)})}_handleTokenChanged(r,d,t){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==t?this.changedAccessToken=t:r==="SIGNED_OUT"&&(this.realtime.setAuth(),d=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _l=(n,r,d)=>new lj(n,r,d);function uj(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const r=n.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}uj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var cj=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function n0({packageName:n,customMessages:r}){let d=n;function t(u,o){if(!o)return`${d}: ${u}`;let l=u;const i=u.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const h of i){const _=(o[h[1]]||"").toString();l=l.replace(`{{${h[1]}}}`,_)}return`${d}: ${l}`}const f={...cj,...r};return{setPackageName({packageName:u}){return typeof u=="string"&&(d=u),this},setMessages({customMessages:u}){return Object.assign(f,u||{}),this},throwInvalidPublishableKeyError(u){throw new Error(t(f.InvalidPublishableKeyErrorMessage,u))},throwInvalidProxyUrl(u){throw new Error(t(f.InvalidProxyUrlErrorMessage,u))},throwMissingPublishableKeyError(){throw new Error(t(f.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(t(f.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(u){throw new Error(t(f.MissingClerkProvider,u))},throw(u){throw new Error(t(u))}}}var o0=Object.defineProperty,dj=Object.getOwnPropertyDescriptor,fj=Object.getOwnPropertyNames,hj=Object.prototype.hasOwnProperty,pj=(n,r)=>{for(var d in r)o0(n,d,{get:r[d],enumerable:!0})},mj=(n,r,d,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let f of fj(r))!hj.call(n,f)&&f!==d&&o0(n,f,{get:()=>r[f],enumerable:!(t=dj(r,f))||t.enumerable});return n},gj=(n,r,d)=>(mj(n,r,"default"),d),yj={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},vj=new Set(["first_factor","second_factor","multi_factor"]),bj=new Set(["strict_mfa","strict","moderate","lax"]),wj=n=>typeof n=="number"&&n>0,_j=n=>vj.has(n),xj=n=>bj.has(n),vf=n=>n.replace(/^(org:)*/,"org:"),jj=(n,r)=>{const{orgId:d,orgRole:t,orgPermissions:f}=r;return!n.role&&!n.permission||!d||!t||!f?null:n.permission?f.includes(vf(n.permission)):n.role?vf(t)===vf(n.role):null},ny=(n,r)=>{const{org:d,user:t}=Ej(n),[f,u]=r.split(":"),o=u||f;return f==="org"?d.includes(o):f==="user"?t.includes(o):[...d,...t].includes(o)},Sj=(n,r)=>{const{features:d,plans:t}=r;return n.feature&&d?ny(d,n.feature):n.plan&&t?ny(t,n.plan):null},Ej=n=>{const r=n?n.split(",").map(d=>d.trim()):[];return{org:r.filter(d=>d.split(":")[0].includes("o")).map(d=>d.split(":")[1]),user:r.filter(d=>d.split(":")[0].includes("u")).map(d=>d.split(":")[1])}},kj=n=>{if(!n)return!1;const r=f=>typeof f=="string"?yj[f]:f,d=typeof n=="string"&&xj(n),t=typeof n=="object"&&_j(n.level)&&wj(n.afterMinutes);return d||t?r.bind(null,n):!1},Cj=(n,{factorVerificationAge:r})=>{if(!n.reverification||!r)return null;const d=kj(n.reverification);if(!d)return null;const{level:t,afterMinutes:f}=d(),[u,o]=r,l=u!==-1?f>u:null,i=o!==-1?f>o:null;switch(t){case"first_factor":return l;case"second_factor":return o!==-1?i:l;case"multi_factor":return o===-1?l:l&&i}},Tj=n=>r=>{if(!n.userId)return!1;const d=Sj(r,n),t=jj(r,n),f=Cj(r,n);return[d||t,f].some(u=>u===null)?[d||t,f].some(u=>u===!0):[d||t,f].every(u=>u===!0)},Pj=({authObject:{sessionId:n,sessionStatus:r,userId:d,actor:t,orgId:f,orgRole:u,orgSlug:o,signOut:l,getToken:i,has:h,sessionClaims:_},options:{treatPendingAsSignedOut:m=!0}})=>{if(n===void 0&&d===void 0)return{isLoaded:!1,isSignedIn:void 0,sessionId:n,sessionClaims:void 0,userId:d,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,has:void 0,signOut:l,getToken:i};if(n===null&&d===null)return{isLoaded:!0,isSignedIn:!1,sessionId:n,userId:d,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:l,getToken:i};if(m&&r==="pending")return{isLoaded:!0,isSignedIn:!1,sessionId:null,userId:null,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:l,getToken:i};if(n&&_&&d&&f&&u)return{isLoaded:!0,isSignedIn:!0,sessionId:n,sessionClaims:_,userId:d,actor:t||null,orgId:f,orgRole:u,orgSlug:o||null,has:h,signOut:l,getToken:i};if(n&&_&&d&&!f)return{isLoaded:!0,isSignedIn:!0,sessionId:n,sessionClaims:_,userId:d,actor:t||null,orgId:null,orgRole:null,orgSlug:null,has:h,signOut:l,getToken:i}},s0=n=>typeof atob<"u"&&typeof atob=="function"?atob(n):typeof global<"u"&&global.Buffer?new global.Buffer(n,"base64").toString():n,Oj=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],i0="pk_live_",Mj="pk_test_";function a0(n){if(!n.endsWith("$"))return!1;const r=n.slice(0,-1);return r.includes("$")?!1:r.includes(".")}function oy(n,r={}){if(n=n||"",!n||!dh(n)){if(r.fatal&&!n)throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(r.fatal&&!dh(n))throw new Error("Publishable key not valid.");return null}const d=n.startsWith(i0)?"production":"development";let t;try{t=s0(n.split("_")[2])}catch{if(r.fatal)throw new Error("Publishable key not valid: Failed to decode key.");return null}if(!a0(t)){if(r.fatal)throw new Error("Publishable key not valid: Decoded key has invalid format.");return null}let f=t.slice(0,-1);return r.proxyUrl?f=r.proxyUrl:d!=="development"&&r.domain&&r.isSatellite&&(f=`clerk.${r.domain}`),{instanceType:d,frontendApi:f}}function dh(n=""){try{if(!(n.startsWith(i0)||n.startsWith(Mj)))return!1;const d=n.split("_");if(d.length!==3)return!1;const t=d[2];if(!t)return!1;const f=s0(t);return a0(f)}catch{return!1}}function Ij(){const n=new Map;return{isDevOrStagingUrl:r=>{if(!r)return!1;const d=typeof r=="string"?r:r.hostname;let t=n.get(d);return t===void 0&&(t=Oj.some(f=>d.endsWith(f)),n.set(d,t)),t}}}var Aj="METHOD_CALLED",Rj=.1;function l0(n,r){return{event:Aj,eventSamplingRate:Rj,payload:{method:n,...r}}}var bf={exports:{}},wf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function Dj(){if(sy)return wf;sy=1;var n=hc();function r(m,s){return m===s&&(m!==0||1/m===1/s)||m!==m&&s!==s}var d=typeof Object.is=="function"?Object.is:r,t=n.useState,f=n.useEffect,u=n.useLayoutEffect,o=n.useDebugValue;function l(m,s){var c=s(),p=t({inst:{value:c,getSnapshot:s}}),g=p[0].inst,b=p[1];return u(function(){g.value=c,g.getSnapshot=s,i(g)&&b({inst:g})},[m,c,s]),f(function(){return i(g)&&b({inst:g}),m(function(){i(g)&&b({inst:g})})},[m]),o(c),c}function i(m){var s=m.getSnapshot;m=m.value;try{var c=s();return!d(m,c)}catch{return!0}}function h(m,s){return s()}var _=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:l;return wf.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:_,wf}var iy;function Lj(){return iy||(iy=1,bf.exports=Dj()),bf.exports}var u0=Lj();const c0=0,d0=1,f0=2,ay=3;var ly=Object.prototype.hasOwnProperty;function fh(n,r){var d,t;if(n===r)return!0;if(n&&r&&(d=n.constructor)===r.constructor){if(d===Date)return n.getTime()===r.getTime();if(d===RegExp)return n.toString()===r.toString();if(d===Array){if((t=n.length)===r.length)for(;t--&&fh(n[t],r[t]););return t===-1}if(!d||typeof n=="object"){t=0;for(d in n)if(ly.call(n,d)&&++t&&!ly.call(r,d)||!(d in r)||!fh(n[d],r[d]))return!1;return Object.keys(r).length===t}}return n!==n&&r!==r}const ho=new WeakMap,_s=()=>{},Hr=_s(),rc=Object,zt=n=>n===Hr,Kn=n=>typeof n=="function",Go=(n,r)=>({...n,...r}),h0=n=>Kn(n.then),_f={},Nu={},Vh="undefined",xl=typeof window!=Vh,hh=typeof document!=Vh,Nj=xl&&"Deno"in window,Uj=()=>xl&&typeof window.requestAnimationFrame!=Vh,ys=(n,r)=>{const d=ho.get(n);return[()=>!zt(r)&&n.get(r)||_f,t=>{if(!zt(r)){const f=n.get(r);r in Nu||(Nu[r]=f),d[5](r,Go(f,t),f||_f)}},d[6],()=>!zt(r)&&r in Nu?Nu[r]:!zt(r)&&n.get(r)||_f]};let ph=!0;const Fj=()=>ph,[mh,gh]=xl&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[_s,_s],Bj=()=>{const n=hh&&document.visibilityState;return zt(n)||n!=="hidden"},Gj=n=>(hh&&document.addEventListener("visibilitychange",n),mh("focus",n),()=>{hh&&document.removeEventListener("visibilitychange",n),gh("focus",n)}),zj=n=>{const r=()=>{ph=!0,n()},d=()=>{ph=!1};return mh("online",r),mh("offline",d),()=>{gh("online",r),gh("offline",d)}},Vj={isOnline:Fj,isVisible:Bj},Wj={initFocus:Gj,initReconnect:zj},uy=!Ve.useId,dl=!xl||Nj,Hj=n=>Uj()?window.requestAnimationFrame(n):setTimeout(n,1),nl=dl?De.useEffect:De.useLayoutEffect,xf=typeof navigator<"u"&&navigator.connection,cy=!dl&&xf&&(["slow-2g","2g"].includes(xf.effectiveType)||xf.saveData),Uu=new WeakMap,qj=n=>rc.prototype.toString.call(n),jf=(n,r)=>n===`[object ${r}]`;let $j=0;const yh=n=>{const r=typeof n,d=qj(n),t=jf(d,"Date"),f=jf(d,"RegExp"),u=jf(d,"Object");let o,l;if(rc(n)===n&&!t&&!f){if(o=Uu.get(n),o)return o;if(o=++$j+"~",Uu.set(n,o),Array.isArray(n)){for(o="@",l=0;l<n.length;l++)o+=yh(n[l])+",";Uu.set(n,o)}if(u){o="#";const i=rc.keys(n).sort();for(;!zt(l=i.pop());)zt(n[l])||(o+=l+":"+yh(n[l])+",");Uu.set(n,o)}}else o=t?n.toJSON():r=="symbol"?n.toString():r=="string"?JSON.stringify(n):""+n;return o},aa=n=>{if(Kn(n))try{n=n()}catch{n=""}const r=n;return n=typeof n=="string"?n:(Array.isArray(n)?n.length:n)?yh(n):"",[n,r]};let Xj=0;const vh=()=>++Xj;async function p0(...n){const[r,d,t,f]=n,u=Go({populateCache:!0,throwOnError:!0},typeof f=="boolean"?{revalidate:f}:f||{});let o=u.populateCache;const l=u.rollbackOnError;let i=u.optimisticData;const h=s=>typeof l=="function"?l(s):l!==!1,_=u.throwOnError;if(Kn(d)){const s=d,c=[],p=r.keys();for(const g of p)!/^\$(inf|sub)\$/.test(g)&&s(r.get(g)._k)&&c.push(g);return Promise.all(c.map(m))}return m(d);async function m(s){const[c]=aa(s);if(!c)return;const[p,g]=ys(r,c),[b,y,v,j]=ho.get(r),x=()=>{const G=b[c];return(Kn(u.revalidate)?u.revalidate(p().data,s):u.revalidate!==!1)&&(delete v[c],delete j[c],G&&G[0])?G[0](f0).then(()=>p().data):p().data};if(n.length<3)return x();let E=t,P,O=!1;const M=vh();y[c]=[M,0];const D=!zt(i),U=p(),I=U.data,B=U._c,R=zt(B)?I:B;if(D&&(i=Kn(i)?i(R,I):i,g({data:i,_c:R})),Kn(E))try{E=E(R)}catch(G){P=G,O=!0}if(E&&h0(E))if(E=await E.catch(G=>{P=G,O=!0}),M!==y[c][0]){if(O)throw P;return E}else O&&D&&h(P)&&(o=!0,g({data:R,_c:Hr}));if(o&&!O)if(Kn(o)){const G=o(E,R);g({data:G,error:Hr,_c:Hr})}else g({data:E,error:Hr,_c:Hr});if(y[c][1]=vh(),Promise.resolve(x()).then(()=>{g({_c:Hr})}),O){if(_)throw P;return}return E}}const dy=(n,r)=>{for(const d in n)n[d][0]&&n[d][0](r)},m0=(n,r)=>{if(!ho.has(n)){const d=Go(Wj,r),t=Object.create(null),f=p0.bind(Hr,n);let u=_s;const o=Object.create(null),l=(_,m)=>{const s=o[_]||[];return o[_]=s,s.push(m),()=>s.splice(s.indexOf(m),1)},i=(_,m,s)=>{n.set(_,m);const c=o[_];if(c)for(const p of c)p(m,s)},h=()=>{if(!ho.has(n)&&(ho.set(n,[t,Object.create(null),Object.create(null),Object.create(null),f,i,l]),!dl)){const _=d.initFocus(setTimeout.bind(Hr,dy.bind(Hr,t,c0))),m=d.initReconnect(setTimeout.bind(Hr,dy.bind(Hr,t,d0)));u=()=>{_&&_(),m&&m(),ho.delete(n)}}};return h(),[n,f,h,u]}return[n,ho.get(n)[4]]},Yj=(n,r,d,t,f)=>{const u=d.errorRetryCount,o=f.retryCount,l=~~((Math.random()+.5)*(1<<(o<8?o:8)))*d.errorRetryInterval;!zt(u)&&o>u||setTimeout(t,l,f)},Kj=fh,[jl,g0]=m0(new Map),y0=Go({onLoadingSlow:_s,onSuccess:_s,onError:_s,onErrorRetry:Yj,onDiscarded:_s,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:cy?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:cy?5e3:3e3,compare:Kj,isPaused:()=>!1,cache:jl,mutate:g0,fallback:{}},Vj),v0=(n,r)=>{const d=Go(n,r);if(r){const{use:t,fallback:f}=n,{use:u,fallback:o}=r;t&&u&&(d.use=t.concat(u)),f&&o&&(d.fallback=Go(f,o))}return d},bh=De.createContext({}),Jj=n=>{const{value:r}=n,d=De.useContext(bh),t=Kn(r),f=De.useMemo(()=>t?r(d):r,[t,d,r]),u=De.useMemo(()=>t?f:v0(d,f),[t,d,f]),o=f&&f.provider,l=De.useRef(Hr);o&&!l.current&&(l.current=m0(o(u.cache||jl),f));const i=l.current;return i&&(u.cache=i[0],u.mutate=i[1]),nl(()=>{if(i)return i[2]&&i[2](),i[3]},[]),De.createElement(bh.Provider,Go(n,{value:u}))},b0="$inf$",w0=xl&&window.__SWR_DEVTOOLS_USE__,Zj=w0?window.__SWR_DEVTOOLS_USE__:[],Qj=()=>{w0&&(window.__SWR_DEVTOOLS_REACT__=Ve)},_0=n=>Kn(n[1])?[n[0],n[1],n[2]||{}]:[n[0],null,(n[1]===null?n[2]:n[1])||{}],x0=()=>Go(y0,De.useContext(bh)),eS=(n,r)=>{const[d,t]=aa(n),[,,,f]=ho.get(jl);if(f[d])return f[d];const u=r(t);return f[d]=u,u},tS=n=>(r,d,t)=>n(r,d&&((...u)=>{const[o]=aa(r),[,,,l]=ho.get(jl);if(o.startsWith(b0))return d(...u);const i=l[o];return zt(i)?d(...u):(delete l[o],i)}),t),rS=Zj.concat(tS),nS=n=>function(...d){const t=x0(),[f,u,o]=_0(d),l=v0(t,o);let i=n;const{use:h}=l,_=(h||[]).concat(rS);for(let m=_.length;m--;)i=_[m](i);return i(f,u||l.fetcher||null,l)},oS=(n,r,d)=>{const t=r[n]||(r[n]=[]);return t.push(d),()=>{const f=t.indexOf(d);f>=0&&(t[f]=t[t.length-1],t.pop())}},sS=(n,r)=>(...d)=>{const[t,f,u]=_0(d),o=(u.use||[]).concat(r);return n(t,f,{...u,use:o})};Qj();const iS=()=>{},aS=iS(),wh=Object,fy=n=>n===aS,lS=n=>typeof n=="function",Fu=new WeakMap,uS=n=>wh.prototype.toString.call(n),Sf=(n,r)=>n===`[object ${r}]`;let cS=0;const _h=n=>{const r=typeof n,d=uS(n),t=Sf(d,"Date"),f=Sf(d,"RegExp"),u=Sf(d,"Object");let o,l;if(wh(n)===n&&!t&&!f){if(o=Fu.get(n),o)return o;if(o=++cS+"~",Fu.set(n,o),Array.isArray(n)){for(o="@",l=0;l<n.length;l++)o+=_h(n[l])+",";Fu.set(n,o)}if(u){o="#";const i=wh.keys(n).sort();for(;!fy(l=i.pop());)fy(n[l])||(o+=l+":"+_h(n[l])+",");Fu.set(n,o)}}else o=t?n.toJSON():r=="symbol"?n.toString():r=="string"?JSON.stringify(n):""+n;return o},dS=n=>{if(lS(n))try{n=n()}catch{n=""}const r=n;return n=typeof n=="string"?n:(Array.isArray(n)?n.length:n)?_h(n):"",[n,r]},fS=n=>dS(n)[0],Ef=Ve.use||(n=>{switch(n.status){case"pending":throw n;case"fulfilled":return n.value;case"rejected":throw n.reason;default:throw n.status="pending",n.then(r=>{n.status="fulfilled",n.value=r},r=>{n.status="rejected",n.reason=r}),n}}),kf={dedupe:!0},hS=(n,r,d)=>{const{cache:t,compare:f,suspense:u,fallbackData:o,revalidateOnMount:l,revalidateIfStale:i,refreshInterval:h,refreshWhenHidden:_,refreshWhenOffline:m,keepPreviousData:s}=d,[c,p,g,b]=ho.get(t),[y,v]=aa(n),j=De.useRef(!1),x=De.useRef(!1),E=De.useRef(y),P=De.useRef(r),O=De.useRef(d),M=()=>O.current,D=()=>M().isVisible()&&M().isOnline(),[U,I,B,R]=ys(t,y),G=De.useRef({}).current,z=zt(o)?zt(d.fallback)?Hr:d.fallback[y]:o,q=(pe,ie)=>{for(const ye in G){const _e=ye;if(_e==="data"){if(!f(pe[_e],ie[_e])&&(!zt(pe[_e])||!f(W,ie[_e])))return!1}else if(ie[_e]!==pe[_e])return!1}return!0},Y=De.useMemo(()=>{const pe=!y||!r?!1:zt(l)?M().isPaused()||u?!1:i!==!1:l,ie=Oe=>{const Xe=Go(Oe);return delete Xe._k,pe?{isValidating:!0,isLoading:!0,...Xe}:Xe},ye=U(),_e=R(),Te=ie(ye),Ee=ye===_e?Te:ie(_e);let Se=Te;return[()=>{const Oe=ie(U());return q(Oe,Se)?(Se.data=Oe.data,Se.isLoading=Oe.isLoading,Se.isValidating=Oe.isValidating,Se.error=Oe.error,Se):(Se=Oe,Oe)},()=>Ee]},[t,y]),$=u0.useSyncExternalStore(De.useCallback(pe=>B(y,(ie,ye)=>{q(ye,ie)||pe()}),[t,y]),Y[0],Y[1]),X=!j.current,ee=c[y]&&c[y].length>0,K=$.data,ne=zt(K)?z&&h0(z)?Ef(z):z:K,T=$.error,F=De.useRef(ne),W=s?zt(K)?zt(F.current)?ne:F.current:K:ne,J=ee&&!zt(T)?!1:X&&!zt(l)?l:M().isPaused()?!1:u?zt(ne)?!1:i:zt(ne)||i,oe=!!(y&&r&&X&&J),se=zt($.isValidating)?oe:$.isValidating,fe=zt($.isLoading)?oe:$.isLoading,ve=De.useCallback(async pe=>{const ie=P.current;if(!y||!ie||x.current||M().isPaused())return!1;let ye,_e,Te=!0;const Ee=pe||{},Se=!g[y]||!Ee.dedupe,Oe=()=>uy?!x.current&&y===E.current&&j.current:y===E.current,Xe={isValidating:!1,isLoading:!1},Ne=()=>{I(Xe)},yt=()=>{const rt=g[y];rt&&rt[1]===_e&&delete g[y]},lt={isValidating:!0};zt(U().data)&&(lt.isLoading=!0);try{if(Se&&(I(lt),d.loadingTimeout&&zt(U().data)&&setTimeout(()=>{Te&&Oe()&&M().onLoadingSlow(y,d)},d.loadingTimeout),g[y]=[ie(v),vh()]),[ye,_e]=g[y],ye=await ye,Se&&setTimeout(yt,d.dedupingInterval),!g[y]||g[y][1]!==_e)return Se&&Oe()&&M().onDiscarded(y),!1;Xe.error=Hr;const rt=p[y];if(!zt(rt)&&(_e<=rt[0]||_e<=rt[1]||rt[1]===0))return Ne(),Se&&Oe()&&M().onDiscarded(y),!1;const ut=U().data;Xe.data=f(ut,ye)?ut:ye,Se&&Oe()&&M().onSuccess(ye,y,d)}catch(rt){yt();const ut=M(),{shouldRetryOnError:ct}=ut;ut.isPaused()||(Xe.error=rt,Se&&Oe()&&(ut.onError(rt,y,ut),(ct===!0||Kn(ct)&&ct(rt))&&(!M().revalidateOnFocus||!M().revalidateOnReconnect||D())&&ut.onErrorRetry(rt,y,ut,Me=>{const Ye=c[y];Ye&&Ye[0]&&Ye[0](ay,Me)},{retryCount:(Ee.retryCount||0)+1,dedupe:!0})))}return Te=!1,Ne(),!0},[y,t]),de=De.useCallback((...pe)=>p0(t,E.current,...pe),[]);if(nl(()=>{P.current=r,O.current=d,zt(K)||(F.current=K)}),nl(()=>{if(!y)return;const pe=ve.bind(Hr,kf);let ie=0;M().revalidateOnFocus&&(ie=Date.now()+M().focusThrottleInterval);const _e=oS(y,c,(Te,Ee={})=>{if(Te==c0){const Se=Date.now();M().revalidateOnFocus&&Se>ie&&D()&&(ie=Se+M().focusThrottleInterval,pe())}else if(Te==d0)M().revalidateOnReconnect&&D()&&pe();else{if(Te==f0)return ve();if(Te==ay)return ve(Ee)}});return x.current=!1,E.current=y,j.current=!0,I({_k:v}),J&&(g[y]||(zt(ne)||dl?pe():Hj(pe))),()=>{x.current=!0,_e()}},[y]),nl(()=>{let pe;function ie(){const _e=Kn(h)?h(U().data):h;_e&&pe!==-1&&(pe=setTimeout(ye,_e))}function ye(){!U().error&&(_||M().isVisible())&&(m||M().isOnline())?ve(kf).then(ie):ie()}return ie(),()=>{pe&&(clearTimeout(pe),pe=-1)}},[h,_,m,y]),De.useDebugValue(W),u&&zt(ne)&&y){if(!uy&&dl)throw new Error("Fallback data is required when using Suspense in SSR.");P.current=r,O.current=d,x.current=!1;const pe=b[y];if(!zt(pe)){const ie=de(pe);Ef(ie)}if(zt(T)){const ie=ve(kf);zt(W)||(ie.status="fulfilled",ie.value=!0),Ef(ie)}else throw T}return{mutate:de,get data(){return G.data=!0,W},get error(){return G.error=!0,T},get isValidating(){return G.isValidating=!0,se},get isLoading(){return G.isLoading=!0,fe}}},pS=rc.defineProperty(Jj,"defaultValue",{value:y0}),Wh=nS(hS),mS=Object.freeze(Object.defineProperty({__proto__:null,SWRConfig:pS,default:Wh,mutate:g0,preload:eS,unstable_serialize:fS,useSWRConfig:x0},Symbol.toStringTag,{value:"Module"})),gS=()=>{},yS=gS(),xh=Object,hy=n=>n===yS,vS=n=>typeof n=="function",Bu=new WeakMap,bS=n=>xh.prototype.toString.call(n),Cf=(n,r)=>n===`[object ${r}]`;let wS=0;const jh=n=>{const r=typeof n,d=bS(n),t=Cf(d,"Date"),f=Cf(d,"RegExp"),u=Cf(d,"Object");let o,l;if(xh(n)===n&&!t&&!f){if(o=Bu.get(n),o)return o;if(o=++wS+"~",Bu.set(n,o),Array.isArray(n)){for(o="@",l=0;l<n.length;l++)o+=jh(n[l])+",";Bu.set(n,o)}if(u){o="#";const i=xh.keys(n).sort();for(;!hy(l=i.pop());)hy(n[l])||(o+=l+":"+jh(n[l])+",");Bu.set(n,o)}}else o=t?n.toJSON():r=="symbol"?n.toString():r=="string"?JSON.stringify(n):""+n;return o},_S=n=>{if(vS(n))try{n=n()}catch{n=""}const r=n;return n=typeof n=="string"?n:(Array.isArray(n)?n.length:n)?jh(n):"",[n,r]},xS=n=>_S(n?n(0,null):null)[0],Tf=Promise.resolve(),jS=n=>(r,d,t)=>{const f=De.useRef(!1),{cache:u,initialSize:o=1,revalidateAll:l=!1,persistSize:i=!1,revalidateFirstPage:h=!0,revalidateOnMount:_=!1,parallel:m=!1}=t,[,,,s]=ho.get(jl);let c;try{c=xS(r),c&&(c=b0+c)}catch{}const[p,g,b]=ys(u,c),y=De.useCallback(()=>zt(p()._l)?o:p()._l,[u,c,o]);u0.useSyncExternalStore(De.useCallback(M=>c?b(c,()=>{M()}):()=>{},[u,c]),y,y);const v=De.useCallback(()=>{const M=p()._l;return zt(M)?o:M},[c,o]),j=De.useRef(v());nl(()=>{if(!f.current){f.current=!0;return}c&&g({_l:i?j.current:v()})},[c,u]);const x=_&&!f.current,E=n(c,async M=>{const D=p()._i,U=p()._r;g({_r:Hr});const I=[],B=v(),[R]=ys(u,M),G=R().data,z=[];let q=null;for(let Y=0;Y<B;++Y){const[$,X]=aa(r(Y,m?null:q));if(!$)break;const[ee,K]=ys(u,$);let ne=ee().data;const T=l||D||zt(ne)||h&&!Y&&!zt(G)||x||G&&!zt(G[Y])&&!t.compare(G[Y],ne);if(d&&(typeof U=="function"?U(ne,X):T)){const F=async()=>{if(!($ in s))ne=await d(X);else{const J=s[$];delete s[$],ne=await J}K({data:ne,_k:X}),I[Y]=ne};m?z.push(F):await F()}else I[Y]=ne;m||(q=ne)}return m&&await Promise.all(z.map(Y=>Y())),g({_i:Hr}),I},t),P=De.useCallback(function(M,D){const U=typeof D=="boolean"?{revalidate:D}:D||{},I=U.revalidate!==!1;return c?(I&&(zt(M)?g({_i:!0,_r:U.revalidate}):g({_i:!1,_r:U.revalidate})),arguments.length?E.mutate(M,{...U,revalidate:I}):E.mutate()):Tf},[c,u]),O=De.useCallback(M=>{if(!c)return Tf;const[,D]=ys(u,c);let U;if(Kn(M)?U=M(v()):typeof M=="number"&&(U=M),typeof U!="number")return Tf;D({_l:U}),j.current=U;const I=[],[B]=ys(u,c);let R=null;for(let G=0;G<U;++G){const[z]=aa(r(G,R)),[q]=ys(u,z),Y=z?q().data:Hr;if(zt(Y))return P(B().data);I.push(Y),R=Y}return P(I)},[c,u,P,v]);return{size:v(),setSize:O,mutate:P,get data(){return E.data},get error(){return E.error},get isValidating(){return E.isValidating},get isLoading(){return E.isLoading}}},SS=sS(Wh,jS);var py=Object.prototype.hasOwnProperty;function my(n,r,d){for(d of n.keys())if(ol(d,r))return d}function ol(n,r){var d,t,f;if(n===r)return!0;if(n&&r&&(d=n.constructor)===r.constructor){if(d===Date)return n.getTime()===r.getTime();if(d===RegExp)return n.toString()===r.toString();if(d===Array){if((t=n.length)===r.length)for(;t--&&ol(n[t],r[t]););return t===-1}if(d===Set){if(n.size!==r.size)return!1;for(t of n)if(f=t,f&&typeof f=="object"&&(f=my(r,f),!f)||!r.has(f))return!1;return!0}if(d===Map){if(n.size!==r.size)return!1;for(t of n)if(f=t[0],f&&typeof f=="object"&&(f=my(r,f),!f)||!ol(t[1],r.get(f)))return!1;return!0}if(d===ArrayBuffer)n=new Uint8Array(n),r=new Uint8Array(r);else if(d===DataView){if((t=n.byteLength)===r.byteLength)for(;t--&&n.getInt8(t)===r.getInt8(t););return t===-1}if(ArrayBuffer.isView(n)){if((t=n.byteLength)===r.byteLength)for(;t--&&n[t]===r[t];);return t===-1}if(!d||typeof n=="object"){t=0;for(d in n)if(py.call(n,d)&&++t&&!py.call(r,d)||!(d in r)||!ol(n[d],r[d]))return!1;return Object.keys(r).length===t}}return n!==n&&r!==r}function ES(n,r){if(!n)throw typeof r=="string"?new Error(r):new Error(`${r.displayName} not found`)}var So=(n,r)=>{const{assertCtxFn:d=ES}={},t=Ve.createContext(void 0);return t.displayName=n,[t,()=>{const o=Ve.useContext(t);return d(o,`${n} not found`),o.value},()=>{const o=Ve.useContext(t);return o?o.value:{}}]},Hh={};pj(Hh,{useSWR:()=>Wh,useSWRInfinite:()=>SS});gj(Hh,mS);var[j0,S0]=So("ClerkInstanceContext"),[kS,CS]=So("UserContext"),[TS,LO]=So("ClientContext"),[PS,NO]=So("SessionContext");Ve.createContext({});var[OS,UO]=So("CheckoutContext"),MS=({children:n,...r})=>Ve.createElement(OS.Provider,{value:{value:r}},n),[IS,FO]=So("OrganizationContext"),AS=({children:n,organization:r,swrConfig:d})=>Ve.createElement(Hh.SWRConfig,{value:d},Ve.createElement(IS.Provider,{value:{value:{organization:r}}},n));function E0(n){if(!Ve.useContext(j0)){if(typeof n=="function"){n();return}throw new Error(`${n} can only be used within the <ClerkProvider /> component.

Possible fixes:
1. Ensure that the <ClerkProvider /> is correctly wrapping your application where this component is used.
2. Check for multiple versions of the \`@clerk/shared\` package in your project. Use a tool like \`npm ls @clerk/shared\` to identify multiple versions, and update your dependencies to only rely on one.

Learn more: https://clerk.com/docs/components/clerk-provider`.trim())}}typeof window<"u"?Ve.useLayoutEffect:Ve.useEffect;var gy="useUser";function RS(){E0(gy);const n=CS();return S0().telemetry?.record(l0(gy)),n===void 0?{isLoaded:!1,isSignedIn:void 0,user:void 0}:n===null?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:n}}var yy=ol,DS=n=>{const r=De.useRef(n);return De.useEffect(()=>{r.current=n},[n]),r.current},Un=(n,r,d)=>{const t=!!d,f=De.useRef(d);De.useEffect(()=>{f.current=d},[d]),De.useEffect(()=>{if(!t||!n)return()=>{};const u=(...o)=>{f.current&&f.current(...o)};return n.on(r,u),()=>{n.off(r,u)}},[t,r,n,f])},k0=Ve.createContext(null);k0.displayName="ElementsContext";var LS=(n,r)=>{if(!n)throw new Error(`Could not find Elements context; You need to wrap the part of your app that ${r} in an <Elements> provider.`);return n},nc=n=>n!==null&&typeof n=="object",NS=(n,r,d)=>nc(n)?Object.keys(n).reduce((t,f)=>{const u=!nc(r)||!C0(n[f],r[f]);return d.includes(f)?(u&&console.warn(`Unsupported prop change: options.${f} is not a mutable property.`),t):u?{...t||{},[f]:n[f]}:t},null):null,vy="[object Object]",C0=(n,r)=>{if(!nc(n)||!nc(r))return n===r;const d=Array.isArray(n),t=Array.isArray(r);if(d!==t)return!1;const f=Object.prototype.toString.call(n)===vy,u=Object.prototype.toString.call(r)===vy;if(f!==u)return!1;if(!f&&!d)return n===r;const o=Object.keys(n),l=Object.keys(r);if(o.length!==l.length)return!1;const i={};for(let c=0;c<o.length;c+=1)i[o[c]]=!0;for(let c=0;c<l.length;c+=1)i[l[c]]=!0;const h=Object.keys(i);if(h.length!==o.length)return!1;const _=n,m=r,s=c=>C0(_[c],m[c]);return h.every(s)},by=n=>{const r=Ve.useContext(k0);return LS(r,n)},US=n=>n.charAt(0).toUpperCase()+n.slice(1),FS=(n,r)=>{const d=`${US(n)}Element`,u=r?o=>{by(`mounts <${d}>`);const{id:l,className:i}=o;return Ve.createElement("div",{id:l,className:i})}:({id:o,className:l,fallback:i,options:h={},onBlur:_,onFocus:m,onReady:s,onChange:c,onEscape:p,onClick:g,onLoadError:b,onLoaderStart:y,onNetworksChange:v,onConfirm:j,onCancel:x,onShippingAddressChange:E,onShippingRateChange:P})=>{const O=by(`mounts <${d}>`),M="elements"in O?O.elements:null,[D,U]=Ve.useState(null),I=Ve.useRef(null),B=Ve.useRef(null),[R,G]=De.useState(!1);Un(D,"blur",_),Un(D,"focus",m),Un(D,"escape",p),Un(D,"click",g),Un(D,"loaderror",b),Un(D,"loaderstart",y),Un(D,"networkschange",v),Un(D,"confirm",j),Un(D,"cancel",x),Un(D,"shippingaddresschange",E),Un(D,"shippingratechange",P),Un(D,"change",c);let z;s&&(z=()=>{G(!0),s(D)}),Un(D,"ready",z),Ve.useLayoutEffect(()=>{if(I.current===null&&B.current!==null&&M){let Y=null;M&&(Y=M.create(n,h)),I.current=Y,U(Y),Y&&Y.mount(B.current)}},[M,h]);const q=DS(h);return Ve.useEffect(()=>{if(!I.current)return;const Y=NS(h,q,["paymentRequest"]);Y&&"update"in I.current&&I.current.update(Y)},[h,q]),Ve.useLayoutEffect(()=>()=>{if(I.current&&typeof I.current.destroy=="function")try{I.current.destroy(),I.current=null}catch{}},[]),Ve.createElement(Ve.Fragment,null,!R&&i,Ve.createElement("div",{id:o,style:{height:R?"unset":"0px",visibility:R?"visible":"hidden"},className:l,ref:B}))};return u.displayName=d,u.__elementType=n,u},BS=typeof window>"u";FS("payment",BS);So("StripeLibsContext");So("PaymentElementContext");So("StripeUtilsContext");var jo=n0({packageName:"@clerk/clerk-react"});function GS(n){jo.setMessages(n).setPackageName(n)}var[zS,VS]=So("AuthContext"),WS=j0,T0=S0,HS="You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",qS=n=>`You've passed multiple children components to <${n}/>. You can only pass a single child component or text.`,$S="Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support",Pf="Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",XS="<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",YS="<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",KS="<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",JS="<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",ZS=n=>`<${n} /> can only accept <${n}.Page /> and <${n}.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.`,QS=n=>`Missing props. <${n}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,e2=n=>`Missing props. <${n}.Link /> component requires the following props: url, label and labelIcon.`,t2="<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",r2="<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",n2="<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.",o2="<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.",s2="<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.",i2="Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.",a2="Missing props. <UserButton.Action /> component requires the following props: label.",gc=n=>{E0(()=>{jo.throwMissingClerkProviderError({source:n})})},P0=n=>new Promise(r=>{const d=t=>{["ready","degraded"].includes(t)&&(r(),n.off("status",d))};n.on("status",d,{notify:!0})}),l2=n=>async r=>(await P0(n),n.session?n.session.getToken(r):null),u2=n=>async(...r)=>(await P0(n),n.signOut(...r)),O0=(n={})=>{var r;gc("useAuth");const{treatPendingAsSignedOut:d,...t}=n??{},f=t;let o=VS();o.sessionId===void 0&&o.userId===void 0&&(o=f??{});const l=T0(),i=De.useCallback(l2(l),[l]),h=De.useCallback(u2(l),[l]);return(r=l.telemetry)==null||r.record(l0("useAuth",{treatPendingAsSignedOut:d})),c2({...o,getToken:i,signOut:h},{treatPendingAsSignedOut:d})};function c2(n,{treatPendingAsSignedOut:r=!0}={}){const{userId:d,orgId:t,orgRole:f,has:u,signOut:o,getToken:l,orgPermissions:i,factorVerificationAge:h,sessionClaims:_}=n??{},m=De.useCallback(c=>u?u(c):Tj({userId:d,orgId:t,orgRole:f,orgPermissions:i,factorVerificationAge:h,features:_?.fea||"",plans:_?.pla||""})(c),[u,d,t,f,i,h]),s=Pj({authObject:{...n,getToken:l,signOut:o,has:m},options:{treatPendingAsSignedOut:r}});return s||jo.throw($S)}var wr=(n,r)=>{const t=(typeof r=="string"?r:r?.component)||n.displayName||n.name||"Component";n.displayName=t;const f=typeof r=="string"?void 0:r,u=o=>{gc(t||"withClerk");const l=T0();return!l.loaded&&!f?.renderWhileLoading?null:Ve.createElement(n,{...o,component:t,clerk:l})};return u.displayName=`withClerk(${t})`,u},d2=()=>{try{return!1}catch{}return!1},f2=()=>{try{return!1}catch{}return!1},h2=()=>{try{return!0}catch{}return!1},wy=new Set,qh=(n,r,d)=>{const t=f2()||h2(),f=n;wy.has(f)||t||(wy.add(f),console.warn(`Clerk - DEPRECATION WARNING: "${n}" is deprecated and will be removed in the next major release.
${r}`))},p2=({children:n,treatPendingAsSignedOut:r})=>{gc("SignedIn");const{userId:d}=O0({treatPendingAsSignedOut:r});return d?n:null},m2=({children:n,treatPendingAsSignedOut:r})=>{gc("SignedOut");const{userId:d}=O0({treatPendingAsSignedOut:r});return d===null?n:null};wr(({clerk:n,...r})=>{const{client:d,session:t}=n,f=d.signedInSessions?d.signedInSessions.length>0:d.activeSessions&&d.activeSessions.length>0;return Ve.useEffect(()=>{t===null&&f?n.redirectToAfterSignOut():n.redirectToSignIn(r)},[]),null},"RedirectToSignIn");wr(({clerk:n,...r})=>(Ve.useEffect(()=>{n.redirectToSignUp(r)},[]),null),"RedirectToSignUp");wr(({clerk:n})=>(Ve.useEffect(()=>{n.redirectToTasks()},[]),null),"RedirectToTasks");wr(({clerk:n})=>(Ve.useEffect(()=>{qh("RedirectToUserProfile","Use the `redirectToUserProfile()` method instead."),n.redirectToUserProfile()},[]),null),"RedirectToUserProfile");wr(({clerk:n})=>(Ve.useEffect(()=>{qh("RedirectToOrganizationProfile","Use the `redirectToOrganizationProfile()` method instead."),n.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile");wr(({clerk:n})=>(Ve.useEffect(()=>{qh("RedirectToCreateOrganization","Use the `redirectToCreateOrganization()` method instead."),n.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization");wr(({clerk:n,...r})=>(Ve.useEffect(()=>{n.handleRedirectCallback(r)},[]),null),"AuthenticateWithRedirectCallback");var mn=n=>{d2()&&console.error(`Clerk: ${n}`)};function Of(n,r,d){if(typeof n=="function")return n(r);if(typeof n<"u")return n;if(typeof d<"u")return d}var _y=(n,...r)=>{const d={...n};for(const t of r)delete d[t];return d},yc=n=>r=>{try{return Ve.Children.only(n)}catch{return jo.throw(qS(r))}},vc=(n,r)=>(n||(n=r),typeof n=="string"&&(n=Ve.createElement("button",null,n)),n),bc=n=>(...r)=>{if(n&&typeof n=="function")return n(...r)};function g2(n){return typeof n=="function"}var Gu=new Map;function y2(n,r,d=1){Ve.useEffect(()=>{const t=Gu.get(n)||0;return t==d?jo.throw(r):(Gu.set(n,t+1),()=>{Gu.set(n,(Gu.get(n)||1)-1)})},[])}function v2(n,r,d){const t=n.displayName||n.name||r||"Component",f=u=>(y2(r,d),Ve.createElement(n,{...u}));return f.displayName=`withMaxAllowedInstancesGuard(${t})`,f}var sl=n=>{const[r,d]=De.useState(new Map);return n.map(t=>({id:t.id,mount:f=>d(u=>new Map(u).set(String(t.id),f)),unmount:()=>d(f=>{const u=new Map(f);return u.set(String(t.id),null),u}),portal:()=>{const f=r.get(String(t.id));return f?Ah.createPortal(t.component,f):null}}))},pn=(n,r)=>!!n&&Ve.isValidElement(n)&&n?.type===r,M0=(n,r)=>R0({children:n,reorderItemsLabels:["account","security"],LinkComponent:El,PageComponent:Sl,MenuItemsComponent:_c,componentName:"UserProfile"},r),I0=(n,r)=>R0({children:n,reorderItemsLabels:["general","members"],LinkComponent:jc,PageComponent:xc,componentName:"OrganizationProfile"},r),A0=n=>{const r=[],d=[jc,xc,_c,Sl,El];return Ve.Children.forEach(n,t=>{d.some(f=>pn(t,f))||r.push(t)}),r},R0=(n,r)=>{const{children:d,LinkComponent:t,PageComponent:f,MenuItemsComponent:u,reorderItemsLabels:o,componentName:l}=n,{allowForAnyChildren:i=!1}=r||{},h=[];Ve.Children.forEach(d,v=>{if(!pn(v,f)&&!pn(v,t)&&!pn(v,u)){v&&!i&&mn(ZS(l));return}const{props:j}=v,{children:x,label:E,url:P,labelIcon:O}=j;if(pn(v,f))if(xy(j,o))h.push({label:E});else if(Mf(j))h.push({label:E,labelIcon:O,children:x,url:P});else{mn(QS(l));return}if(pn(v,t))if(If(j))h.push({label:E,labelIcon:O,url:P});else{mn(e2(l));return}});const _=[],m=[],s=[];h.forEach((v,j)=>{if(Mf(v)){_.push({component:v.children,id:j}),m.push({component:v.labelIcon,id:j});return}If(v)&&s.push({component:v.labelIcon,id:j})});const c=sl(_),p=sl(m),g=sl(s),b=[],y=[];return h.forEach((v,j)=>{if(xy(v,o)){b.push({label:v.label});return}if(Mf(v)){const{portal:x,mount:E,unmount:P}=c.find(U=>U.id===j),{portal:O,mount:M,unmount:D}=p.find(U=>U.id===j);b.push({label:v.label,url:v.url,mount:E,unmount:P,mountIcon:M,unmountIcon:D}),y.push(x),y.push(O);return}if(If(v)){const{portal:x,mount:E,unmount:P}=g.find(O=>O.id===j);b.push({label:v.label,url:v.url,mountIcon:E,unmountIcon:P}),y.push(x);return}}),{customPages:b,customPagesPortals:y}},xy=(n,r)=>{const{children:d,label:t,url:f,labelIcon:u}=n;return!d&&!f&&!u&&r.some(o=>o===t)},Mf=n=>{const{children:r,label:d,url:t,labelIcon:f}=n;return!!r&&!!t&&!!f&&!!d},If=n=>{const{children:r,label:d,url:t,labelIcon:f}=n;return!r&&!!t&&!!f&&!!d},b2=n=>w2({children:n,reorderItemsLabels:["manageAccount","signOut"],MenuItemsComponent:_c,MenuActionComponent:L0,MenuLinkComponent:N0,UserProfileLinkComponent:El,UserProfilePageComponent:Sl}),w2=({children:n,MenuItemsComponent:r,MenuActionComponent:d,MenuLinkComponent:t,UserProfileLinkComponent:f,UserProfilePageComponent:u,reorderItemsLabels:o})=>{const l=[],i=[],h=[];Ve.Children.forEach(n,p=>{if(!pn(p,r)&&!pn(p,f)&&!pn(p,u)){p&&mn(t2);return}if(pn(p,f)||pn(p,u))return;const{props:g}=p;Ve.Children.forEach(g.children,b=>{if(!pn(b,d)&&!pn(b,t)){b&&mn(r2);return}const{props:y}=b,{label:v,labelIcon:j,href:x,onClick:E,open:P}=y;if(pn(b,d))if(jy(y,o))l.push({label:v});else if(Af(y)){const O={label:v,labelIcon:j};if(E!==void 0)l.push({...O,onClick:E});else if(P!==void 0)l.push({...O,open:P.startsWith("/")?P:`/${P}`});else{mn("Custom menu item must have either onClick or open property");return}}else{mn(a2);return}if(pn(b,t))if(Rf(y))l.push({label:v,labelIcon:j,href:x});else{mn(i2);return}})});const _=[],m=[];l.forEach((p,g)=>{Af(p)&&_.push({component:p.labelIcon,id:g}),Rf(p)&&m.push({component:p.labelIcon,id:g})});const s=sl(_),c=sl(m);return l.forEach((p,g)=>{if(jy(p,o)&&i.push({label:p.label}),Af(p)){const{portal:b,mount:y,unmount:v}=s.find(x=>x.id===g),j={label:p.label,mountIcon:y,unmountIcon:v};"onClick"in p?j.onClick=p.onClick:"open"in p&&(j.open=p.open),i.push(j),h.push(b)}if(Rf(p)){const{portal:b,mount:y,unmount:v}=c.find(j=>j.id===g);i.push({label:p.label,href:p.href,mountIcon:y,unmountIcon:v}),h.push(b)}}),{customMenuItems:i,customMenuItemsPortals:h}},jy=(n,r)=>{const{children:d,label:t,onClick:f,labelIcon:u}=n;return!d&&!f&&!u&&r.some(o=>o===t)},Af=n=>{const{label:r,labelIcon:d,onClick:t,open:f}=n;return!!d&&!!r&&(typeof t=="function"||typeof f=="string")},Rf=n=>{const{label:r,href:d,labelIcon:t}=n;return!!d&&!!t&&!!r};function _2(n){const{root:r=document?.body,selector:d,timeout:t=0}=n;return new Promise((f,u)=>{if(!r){u(new Error("No root element provided"));return}let o=r;if(d&&(o=r?.querySelector(d)),o?.childElementCount&&o.childElementCount>0){f();return}const i=new MutationObserver(h=>{for(const _ of h)if(_.type==="childList"&&(!o&&d&&(o=r?.querySelector(d)),o?.childElementCount&&o.childElementCount>0)){i.disconnect(),f();return}});i.observe(r,{childList:!0,subtree:!0}),t>0&&setTimeout(()=>{i.disconnect(),u(new Error("Timeout waiting for element children"))},t)})}function zn(n){const r=De.useRef(),[d,t]=De.useState("rendering");return De.useEffect(()=>{if(!n)throw new Error("Clerk: no component name provided, unable to detect mount.");typeof window<"u"&&!r.current&&(r.current=_2({selector:`[data-clerk-component="${n}"]`}).then(()=>{t("rendered")}).catch(()=>{t("error")}))},[n]),d}var zu=n=>"mount"in n,Sy=n=>"open"in n,Ey=n=>n?.map(({mountIcon:r,unmountIcon:d,...t})=>t),gn=class extends Ve.PureComponent{constructor(){super(...arguments),this.rootRef=Ve.createRef()}componentDidUpdate(n){var r,d,t,f;if(!zu(n)||!zu(this.props))return;const u=_y(n.props,"customPages","customMenuItems","children"),o=_y(this.props.props,"customPages","customMenuItems","children"),l=((r=u.customPages)==null?void 0:r.length)!==((d=o.customPages)==null?void 0:d.length),i=((t=u.customMenuItems)==null?void 0:t.length)!==((f=o.customMenuItems)==null?void 0:f.length),h=Ey(n.props.customMenuItems),_=Ey(this.props.props.customMenuItems);(!yy(u,o)||!yy(h,_)||l||i)&&this.rootRef.current&&this.props.updateProps({node:this.rootRef.current,props:this.props.props})}componentDidMount(){this.rootRef.current&&(zu(this.props)&&this.props.mount(this.rootRef.current,this.props.props),Sy(this.props)&&this.props.open(this.props.props))}componentWillUnmount(){this.rootRef.current&&(zu(this.props)&&this.props.unmount(this.rootRef.current),Sy(this.props)&&this.props.close())}render(){const{hideRootHtmlElement:n=!1}=this.props,r={ref:this.rootRef,...this.props.rootProps,...this.props.component&&{"data-clerk-component":this.props.component}};return Ve.createElement(Ve.Fragment,null,!n&&Ve.createElement("div",{...r}),this.props.children)}},wc=n=>{var r,d;return Ve.createElement(Ve.Fragment,null,(r=n?.customPagesPortals)==null?void 0:r.map((t,f)=>De.createElement(t,{key:f})),(d=n?.customMenuItemsPortals)==null?void 0:d.map((t,f)=>De.createElement(t,{key:f})))},x2=wr(({clerk:n,component:r,fallback:d,...t})=>{const u=zn(r)==="rendering"||!n.loaded,o={...u&&d&&{style:{display:"none"}}};return Ve.createElement(Ve.Fragment,null,u&&d,n.loaded&&Ve.createElement(gn,{component:r,mount:n.mountSignIn,unmount:n.unmountSignIn,updateProps:n.__unstable__updateProps,props:t,rootProps:o}))},{component:"SignIn",renderWhileLoading:!0});wr(({clerk:n,component:r,fallback:d,...t})=>{const u=zn(r)==="rendering"||!n.loaded,o={...u&&d&&{style:{display:"none"}}};return Ve.createElement(Ve.Fragment,null,u&&d,n.loaded&&Ve.createElement(gn,{component:r,mount:n.mountSignUp,unmount:n.unmountSignUp,updateProps:n.__unstable__updateProps,props:t,rootProps:o}))},{component:"SignUp",renderWhileLoading:!0});function Sl({children:n}){return mn(XS),Ve.createElement(Ve.Fragment,null,n)}function El({children:n}){return mn(YS),Ve.createElement(Ve.Fragment,null,n)}var j2=wr(({clerk:n,component:r,fallback:d,...t})=>{const u=zn(r)==="rendering"||!n.loaded,o={...u&&d&&{style:{display:"none"}}},{customPages:l,customPagesPortals:i}=M0(t.children);return Ve.createElement(Ve.Fragment,null,u&&d,Ve.createElement(gn,{component:r,mount:n.mountUserProfile,unmount:n.unmountUserProfile,updateProps:n.__unstable__updateProps,props:{...t,customPages:l},rootProps:o},Ve.createElement(wc,{customPagesPortals:i})))},{component:"UserProfile",renderWhileLoading:!0});Object.assign(j2,{Page:Sl,Link:El});var D0=De.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),S2=wr(({clerk:n,component:r,fallback:d,...t})=>{const u=zn(r)==="rendering"||!n.loaded,o={...u&&d&&{style:{display:"none"}}},{customPages:l,customPagesPortals:i}=M0(t.children,{allowForAnyChildren:!!t.__experimental_asProvider}),h=Object.assign(t.userProfileProps||{},{customPages:l}),{customMenuItems:_,customMenuItemsPortals:m}=b2(t.children),s=A0(t.children),c={mount:n.mountUserButton,unmount:n.unmountUserButton,updateProps:n.__unstable__updateProps,props:{...t,userProfileProps:h,customMenuItems:_}},p={customPagesPortals:i,customMenuItemsPortals:m};return Ve.createElement(D0.Provider,{value:c},u&&d,n.loaded&&Ve.createElement(gn,{component:r,...c,hideRootHtmlElement:!!t.__experimental_asProvider,rootProps:o},t.__experimental_asProvider?s:null,Ve.createElement(wc,{...p})))},{component:"UserButton",renderWhileLoading:!0});function _c({children:n}){return mn(n2),Ve.createElement(Ve.Fragment,null,n)}function L0({children:n}){return mn(o2),Ve.createElement(Ve.Fragment,null,n)}function N0({children:n}){return mn(s2),Ve.createElement(Ve.Fragment,null,n)}function E2(n){const r=De.useContext(D0),d={...r,props:{...r.props,...n}};return Ve.createElement(gn,{...d})}Object.assign(S2,{UserProfilePage:Sl,UserProfileLink:El,MenuItems:_c,Action:L0,Link:N0,__experimental_Outlet:E2});function xc({children:n}){return mn(KS),Ve.createElement(Ve.Fragment,null,n)}function jc({children:n}){return mn(JS),Ve.createElement(Ve.Fragment,null,n)}var k2=wr(({clerk:n,component:r,fallback:d,...t})=>{const u=zn(r)==="rendering"||!n.loaded,o={...u&&d&&{style:{display:"none"}}},{customPages:l,customPagesPortals:i}=I0(t.children);return Ve.createElement(Ve.Fragment,null,u&&d,n.loaded&&Ve.createElement(gn,{component:r,mount:n.mountOrganizationProfile,unmount:n.unmountOrganizationProfile,updateProps:n.__unstable__updateProps,props:{...t,customPages:l},rootProps:o},Ve.createElement(wc,{customPagesPortals:i})))},{component:"OrganizationProfile",renderWhileLoading:!0});Object.assign(k2,{Page:xc,Link:jc});wr(({clerk:n,component:r,fallback:d,...t})=>{const u=zn(r)==="rendering"||!n.loaded,o={...u&&d&&{style:{display:"none"}}};return Ve.createElement(Ve.Fragment,null,u&&d,n.loaded&&Ve.createElement(gn,{component:r,mount:n.mountCreateOrganization,unmount:n.unmountCreateOrganization,updateProps:n.__unstable__updateProps,props:t,rootProps:o}))},{component:"CreateOrganization",renderWhileLoading:!0});var U0=De.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),C2=wr(({clerk:n,component:r,fallback:d,...t})=>{const u=zn(r)==="rendering"||!n.loaded,o={...u&&d&&{style:{display:"none"}}},{customPages:l,customPagesPortals:i}=I0(t.children,{allowForAnyChildren:!!t.__experimental_asProvider}),h=Object.assign(t.organizationProfileProps||{},{customPages:l}),_=A0(t.children),m={mount:n.mountOrganizationSwitcher,unmount:n.unmountOrganizationSwitcher,updateProps:n.__unstable__updateProps,props:{...t,organizationProfileProps:h},rootProps:o,component:r};return n.__experimental_prefetchOrganizationSwitcher(),Ve.createElement(U0.Provider,{value:m},Ve.createElement(Ve.Fragment,null,u&&d,n.loaded&&Ve.createElement(gn,{...m,hideRootHtmlElement:!!t.__experimental_asProvider},t.__experimental_asProvider?_:null,Ve.createElement(wc,{customPagesPortals:i}))))},{component:"OrganizationSwitcher",renderWhileLoading:!0});function T2(n){const r=De.useContext(U0),d={...r,props:{...r.props,...n}};return Ve.createElement(gn,{...d})}Object.assign(C2,{OrganizationProfilePage:xc,OrganizationProfileLink:jc,__experimental_Outlet:T2});wr(({clerk:n,component:r,fallback:d,...t})=>{const u=zn(r)==="rendering"||!n.loaded,o={...u&&d&&{style:{display:"none"}}};return Ve.createElement(Ve.Fragment,null,u&&d,n.loaded&&Ve.createElement(gn,{component:r,mount:n.mountOrganizationList,unmount:n.unmountOrganizationList,updateProps:n.__unstable__updateProps,props:t,rootProps:o}))},{component:"OrganizationList",renderWhileLoading:!0});wr(({clerk:n,component:r,fallback:d,...t})=>{const u=zn(r)==="rendering"||!n.loaded,o={...u&&d&&{style:{display:"none"}}};return Ve.createElement(Ve.Fragment,null,u&&d,n.loaded&&Ve.createElement(gn,{component:r,open:n.openGoogleOneTap,close:n.closeGoogleOneTap,updateProps:n.__unstable__updateProps,props:t,rootProps:o}))},{component:"GoogleOneTap",renderWhileLoading:!0});wr(({clerk:n,component:r,fallback:d,...t})=>{const u=zn(r)==="rendering"||!n.loaded,o={...u&&d&&{style:{display:"none"}}};return Ve.createElement(Ve.Fragment,null,u&&d,n.loaded&&Ve.createElement(gn,{component:r,mount:n.mountWaitlist,unmount:n.unmountWaitlist,updateProps:n.__unstable__updateProps,props:t,rootProps:o}))},{component:"Waitlist",renderWhileLoading:!0});wr(({clerk:n,component:r,fallback:d,...t})=>{const u=zn(r)==="rendering"||!n.loaded,o={...u&&d&&{style:{display:"none"}}};return Ve.createElement(Ve.Fragment,null,u&&d,n.loaded&&Ve.createElement(gn,{component:r,mount:n.mountPricingTable,unmount:n.unmountPricingTable,updateProps:n.__unstable__updateProps,props:t,rootProps:o}))},{component:"PricingTable",renderWhileLoading:!0});wr(({clerk:n,component:r,fallback:d,...t})=>{const u=zn(r)==="rendering"||!n.loaded,o={...u&&d&&{style:{display:"none"}}};return Ve.createElement(Ve.Fragment,null,u&&d,n.loaded&&Ve.createElement(gn,{component:r,mount:n.mountApiKeys,unmount:n.unmountApiKeys,updateProps:n.__unstable__updateProps,props:t,rootProps:o}))},{component:"ApiKeys",renderWhileLoading:!0});wr(({clerk:n,component:r,fallback:d,...t})=>{const u=zn(r)==="rendering"||!n.loaded,o={...u&&d&&{style:{display:"none"}}};return Ve.createElement(Ve.Fragment,null,u&&d,n.loaded&&Ve.createElement(gn,{component:r,mount:n.mountTaskChooseOrganization,unmount:n.unmountTaskChooseOrganization,updateProps:n.__unstable__updateProps,props:t,rootProps:o}))},{component:"TaskChooseOrganization",renderWhileLoading:!0});var F0=n=>{throw TypeError(n)},$h=(n,r,d)=>r.has(n)||F0("Cannot "+d),Er=(n,r,d)=>($h(n,r,"read from private field"),d?d.call(n):r.get(n)),ui=(n,r,d)=>r.has(n)?F0("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(n):r.set(n,d),Qi=(n,r,d,t)=>($h(n,r,"write to private field"),r.set(n,d),d),Df=(n,r,d)=>($h(n,r,"access private method"),d),P2=(n,r="5.87.0")=>{if(n)return n;const d=O2(r);return d?d==="snapshot"?"5.87.0":d:M2(r)},O2=n=>n.trim().replace(/^v/,"").match(/-(.+?)(\.|$)/)?.[1],M2=n=>n.trim().replace(/^v/,"").split(".")[0];function I2(n){return n?A2(n)||B0(n):!0}function A2(n){return/^http(s)?:\/\//.test(n||"")}function B0(n){return n.startsWith("/")}function R2(n){return n?B0(n)?new URL(n,window.location.origin).toString():n:""}function D2(n){if(!n)return"";let r;if(n.match(/^(clerk\.)+\w*$/))r=/(clerk\.)*(?=clerk\.)/;else{if(n.match(/\.clerk.accounts/))return n;r=/^(clerk\.)*/gi}return`clerk.${n.replace(r,"")}`}var L2={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(n,r)=>r<5,retryImmediately:!1,jitter:!0},N2=100,G0=async n=>new Promise(r=>setTimeout(r,n)),z0=(n,r)=>r?n*(1+Math.random()):n,U2=n=>{let r=0;const d=()=>{const t=n.initialDelay,f=n.factor;let u=t*Math.pow(f,r);return u=z0(u,n.jitter),Math.min(n.maxDelayBetweenRetries||u,u)};return async()=>{await G0(d()),r++}},F2=async(n,r={})=>{let d=0;const{shouldRetry:t,initialDelay:f,maxDelayBetweenRetries:u,factor:o,retryImmediately:l,jitter:i}={...L2,...r},h=U2({initialDelay:f,maxDelayBetweenRetries:u,factor:o,jitter:i});for(;;)try{return await n()}catch(_){if(d++,!t(_,d))throw _;l&&d===1?await G0(z0(N2,i)):await h()}},B2="loadScript cannot be called when document does not exist",G2="loadScript cannot be called without a src";async function z2(n="",r){const{async:d,defer:t,beforeLoad:f,crossOrigin:u,nonce:o}=r||{};return F2(()=>new Promise((i,h)=>{n||h(new Error(G2)),(!document||!document.body)&&h(B2);const _=document.createElement("script");u&&_.setAttribute("crossorigin",u),_.async=d||!1,_.defer=t||!1,_.addEventListener("load",()=>{_.remove(),i(_)}),_.addEventListener("error",()=>{_.remove(),h()}),_.src=n,_.nonce=o,f?.(_),document.body.appendChild(_)}),{shouldRetry:(i,h)=>h<=5})}var V0="Clerk: Failed to load Clerk",{isDevOrStagingUrl:V2}=Ij(),W0=n0({packageName:"@clerk/shared"});function W2(n){W0.setPackageName({packageName:n})}function Sh(){if(typeof window>"u"||!window.Clerk)return!1;const n=window.Clerk;return typeof n=="object"&&typeof n.load=="function"}function ky(n){return new Promise((r,d)=>{let t=!1;const f=(h,_)=>{clearTimeout(h),clearInterval(_)},u=()=>{t||Sh()&&(t=!0,f(l,i),r(null))},l=setTimeout(()=>{t||(t=!0,f(l,i),Sh()?r(null):d(new Error(V0)))},n);u();const i=setInterval(()=>{if(t){clearInterval(i);return}u()},100)})}var H2=async n=>{const r=n?.scriptLoadTimeout??15e3;if(Sh())return null;if(document.querySelector("script[data-clerk-js-script]"))return ky(r);if(!n?.publishableKey)return W0.throwMissingPublishableKeyError(),null;const t=ky(r);return z2(q2(n),{async:!0,crossOrigin:"anonymous",nonce:n.nonce,beforeLoad:X2(n)}).catch(()=>{throw new Error(V0)}),t},q2=n=>{const{clerkJSUrl:r,clerkJSVariant:d,clerkJSVersion:t,proxyUrl:f,domain:u,publishableKey:o}=n;if(r)return r;let l="";f&&I2(f)?l=R2(f).replace(/http(s)?:\/\//,""):u&&!V2(oy(o)?.frontendApi||"")?l=D2(u):l=oy(o)?.frontendApi||"";const i=d?`${d.replace(/\.+$/,"")}.`:"",h=P2(t);return`https://${l}/npm/@clerk/clerk-js@${h}/dist/clerk.${i}browser.js`},$2=n=>{const r={};return n.publishableKey&&(r["data-clerk-publishable-key"]=n.publishableKey),n.proxyUrl&&(r["data-clerk-proxy-url"]=n.proxyUrl),n.domain&&(r["data-clerk-domain"]=n.domain),n.nonce&&(r.nonce=n.nonce),r},X2=n=>r=>{const d=$2(n);for(const t in d)r.setAttribute(t,d[t])},Y2=(n,r,d)=>!n&&d?K2(d):J2(r),K2=n=>{const r=n.userId,d=n.user,t=n.sessionId,f=n.sessionStatus,u=n.sessionClaims,o=n.session,l=n.organization,i=n.orgId,h=n.orgRole,_=n.orgPermissions,m=n.orgSlug,s=n.actor,c=n.factorVerificationAge;return{userId:r,user:d,sessionId:t,session:o,sessionStatus:f,sessionClaims:u,organization:l,orgId:i,orgRole:h,orgPermissions:_,orgSlug:m,actor:s,factorVerificationAge:c}},J2=n=>{const r=n.user?n.user.id:n.user,d=n.user,t=n.session?n.session.id:n.session,f=n.session,u=n.session?.status,o=n.session?n.session.lastActiveToken?.jwt?.claims:null,l=n.session?n.session.factorVerificationAge:null,i=f?.actor,h=n.organization,_=n.organization?n.organization.id:n.organization,m=h?.slug,s=h&&d?.organizationMemberships?.find(g=>g.organization.id===_),c=s&&s.permissions,p=s&&s.role;return{userId:r,user:d,sessionId:t,session:f,sessionStatus:u,sessionClaims:o,organization:h,orgId:_,orgRole:p,orgSlug:m,orgPermissions:c,actor:i,factorVerificationAge:l}};function Cy(){return typeof window<"u"}var Ty=(n,r,d,t,f)=>{const{notify:u}=f||{};let o=n.get(d);o||(o=[],n.set(d,o)),o.push(t),u&&r.has(d)&&t(r.get(d))},Py=(n,r,d)=>(n.get(r)||[]).map(t=>t(d)),Oy=(n,r,d)=>{const t=n.get(r);t&&(d?t.splice(t.indexOf(d)>>>0,1):n.set(r,[]))},Z2=()=>{const n=new Map,r=new Map,d=new Map;return{on:(...f)=>Ty(n,r,...f),prioritizedOn:(...f)=>Ty(d,r,...f),emit:(f,u)=>{r.set(f,u),Py(d,f,u),Py(n,f,u)},off:(...f)=>Oy(n,...f),prioritizedOff:(...f)=>Oy(d,...f),internal:{retrieveListeners:f=>n.get(f)||[]}}},Vu={Status:"status"},Q2=()=>Z2();typeof window<"u"&&!window.global&&(window.global=typeof global>"u"?window:global);wr(({clerk:n,children:r,...d})=>{const{signUpFallbackRedirectUrl:t,forceRedirectUrl:f,fallbackRedirectUrl:u,signUpForceRedirectUrl:o,mode:l,initialValues:i,withSignUp:h,oauthFlow:_,...m}=d;r=vc(r,"Sign in");const s=yc(r)("SignInButton"),c=()=>{const b={forceRedirectUrl:f,fallbackRedirectUrl:u,signUpFallbackRedirectUrl:t,signUpForceRedirectUrl:o,initialValues:i,withSignUp:h,oauthFlow:_};return l==="modal"?n.openSignIn({...b,appearance:d.appearance}):n.redirectToSignIn({...b,signInFallbackRedirectUrl:u,signInForceRedirectUrl:f})},g={...m,onClick:async b=>(s&&typeof s=="object"&&"props"in s&&await bc(s.props.onClick)(b),c())};return Ve.cloneElement(s,g)},{component:"SignInButton",renderWhileLoading:!0});wr(({clerk:n,children:r,...d})=>{const{redirectUrl:t,...f}=d;r=vc(r,"Sign in with Metamask");const u=yc(r)("SignInWithMetamaskButton"),o=async()=>{async function h(){await n.authenticateWithMetamask({redirectUrl:t||void 0})}h()},i={...f,onClick:async h=>(await bc(u.props.onClick)(h),o())};return Ve.cloneElement(u,i)},{component:"SignInWithMetamask",renderWhileLoading:!0});wr(({clerk:n,children:r,...d})=>{const{redirectUrl:t="/",signOutOptions:f,...u}=d;r=vc(r,"Sign out");const o=yc(r)("SignOutButton"),l=()=>n.signOut({redirectUrl:t,...f}),h={...u,onClick:async _=>(await bc(o.props.onClick)(_),l())};return Ve.cloneElement(o,h)},{component:"SignOutButton",renderWhileLoading:!0});wr(({clerk:n,children:r,...d})=>{const{fallbackRedirectUrl:t,forceRedirectUrl:f,signInFallbackRedirectUrl:u,signInForceRedirectUrl:o,mode:l,initialValues:i,oauthFlow:h,..._}=d;r=vc(r,"Sign up");const m=yc(r)("SignUpButton"),s=()=>{const g={fallbackRedirectUrl:t,forceRedirectUrl:f,signInFallbackRedirectUrl:u,signInForceRedirectUrl:o,initialValues:i,oauthFlow:h};return l==="modal"?n.openSignUp({...g,appearance:d.appearance,unsafeMetadata:d.unsafeMetadata}):n.redirectToSignUp({...g,signUpFallbackRedirectUrl:t,signUpForceRedirectUrl:f})},p={..._,onClick:async g=>(m&&typeof m=="object"&&"props"in m&&await bc(m.props.onClick)(g),s())};return Ve.cloneElement(m,p)},{component:"SignUpButton",renderWhileLoading:!0});typeof globalThis.__BUILD_DISABLE_RHC__>"u"&&(globalThis.__BUILD_DISABLE_RHC__=!1);var eE={name:"@clerk/clerk-react",version:"5.43.0",environment:"production"},Ku,oa,sa,gs,Fo,vs,Qa,Ju,H0=class q0{constructor(r){ui(this,Qa),this.clerkjs=null,this.preopenOneTap=null,this.preopenUserVerification=null,this.preopenSignIn=null,this.preopenCheckout=null,this.preopenPlanDetails=null,this.preopenSubscriptionDetails=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.preOpenWaitlist=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.premountWaitlistNodes=new Map,this.premountPricingTableNodes=new Map,this.premountApiKeysNodes=new Map,this.premountOAuthConsentNodes=new Map,this.premountTaskChooseOrganizationNodes=new Map,this.premountAddListenerCalls=new Map,this.loadedListeners=[],ui(this,Ku,"loading"),ui(this,oa),ui(this,sa),ui(this,gs),ui(this,Fo,Q2()),this.buildSignInUrl=f=>{const u=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignInUrl(f))||""};if(this.clerkjs&&this.loaded)return u();this.premountMethodCalls.set("buildSignInUrl",u)},this.buildSignUpUrl=f=>{const u=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignUpUrl(f))||""};if(this.clerkjs&&this.loaded)return u();this.premountMethodCalls.set("buildSignUpUrl",u)},this.buildAfterSignInUrl=(...f)=>{const u=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignInUrl(...f))||""};if(this.clerkjs&&this.loaded)return u();this.premountMethodCalls.set("buildAfterSignInUrl",u)},this.buildAfterSignUpUrl=(...f)=>{const u=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignUpUrl(...f))||""};if(this.clerkjs&&this.loaded)return u();this.premountMethodCalls.set("buildAfterSignUpUrl",u)},this.buildAfterSignOutUrl=()=>{const f=()=>{var u;return((u=this.clerkjs)==null?void 0:u.buildAfterSignOutUrl())||""};if(this.clerkjs&&this.loaded)return f();this.premountMethodCalls.set("buildAfterSignOutUrl",f)},this.buildNewSubscriptionRedirectUrl=()=>{const f=()=>{var u;return((u=this.clerkjs)==null?void 0:u.buildNewSubscriptionRedirectUrl())||""};if(this.clerkjs&&this.loaded)return f();this.premountMethodCalls.set("buildNewSubscriptionRedirectUrl",f)},this.buildAfterMultiSessionSingleSignOutUrl=()=>{const f=()=>{var u;return((u=this.clerkjs)==null?void 0:u.buildAfterMultiSessionSingleSignOutUrl())||""};if(this.clerkjs&&this.loaded)return f();this.premountMethodCalls.set("buildAfterMultiSessionSingleSignOutUrl",f)},this.buildUserProfileUrl=()=>{const f=()=>{var u;return((u=this.clerkjs)==null?void 0:u.buildUserProfileUrl())||""};if(this.clerkjs&&this.loaded)return f();this.premountMethodCalls.set("buildUserProfileUrl",f)},this.buildCreateOrganizationUrl=()=>{const f=()=>{var u;return((u=this.clerkjs)==null?void 0:u.buildCreateOrganizationUrl())||""};if(this.clerkjs&&this.loaded)return f();this.premountMethodCalls.set("buildCreateOrganizationUrl",f)},this.buildOrganizationProfileUrl=()=>{const f=()=>{var u;return((u=this.clerkjs)==null?void 0:u.buildOrganizationProfileUrl())||""};if(this.clerkjs&&this.loaded)return f();this.premountMethodCalls.set("buildOrganizationProfileUrl",f)},this.buildWaitlistUrl=()=>{const f=()=>{var u;return((u=this.clerkjs)==null?void 0:u.buildWaitlistUrl())||""};if(this.clerkjs&&this.loaded)return f();this.premountMethodCalls.set("buildWaitlistUrl",f)},this.buildTasksUrl=()=>{const f=()=>{var u;return((u=this.clerkjs)==null?void 0:u.buildTasksUrl())||""};if(this.clerkjs&&this.loaded)return f();this.premountMethodCalls.set("buildTasksUrl",f)},this.buildUrlWithAuth=f=>{const u=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildUrlWithAuth(f))||""};if(this.clerkjs&&this.loaded)return u();this.premountMethodCalls.set("buildUrlWithAuth",u)},this.handleUnauthenticated=async()=>{const f=()=>{var u;return(u=this.clerkjs)==null?void 0:u.handleUnauthenticated()};this.clerkjs&&this.loaded?f():this.premountMethodCalls.set("handleUnauthenticated",f)},this.on=(...f)=>{var u;if((u=this.clerkjs)!=null&&u.on)return this.clerkjs.on(...f);Er(this,Fo).on(...f)},this.off=(...f)=>{var u;if((u=this.clerkjs)!=null&&u.off)return this.clerkjs.off(...f);Er(this,Fo).off(...f)},this.addOnLoaded=f=>{this.loadedListeners.push(f),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(f=>f()),this.loadedListeners=[]},this.beforeLoad=f=>{if(!f)throw new Error("Failed to hydrate latest Clerk JS")},this.hydrateClerkJS=f=>{var u;if(!f)throw new Error("Failed to hydrate latest Clerk JS");return this.clerkjs=f,this.premountMethodCalls.forEach(o=>o()),this.premountAddListenerCalls.forEach((o,l)=>{o.nativeUnsubscribe=f.addListener(l)}),(u=Er(this,Fo).internal.retrieveListeners("status"))==null||u.forEach(o=>{this.on("status",o,{notify:!0})}),this.preopenSignIn!==null&&f.openSignIn(this.preopenSignIn),this.preopenCheckout!==null&&f.__internal_openCheckout(this.preopenCheckout),this.preopenPlanDetails!==null&&f.__internal_openPlanDetails(this.preopenPlanDetails),this.preopenSubscriptionDetails!==null&&f.__internal_openSubscriptionDetails(this.preopenSubscriptionDetails),this.preopenSignUp!==null&&f.openSignUp(this.preopenSignUp),this.preopenUserProfile!==null&&f.openUserProfile(this.preopenUserProfile),this.preopenUserVerification!==null&&f.__internal_openReverification(this.preopenUserVerification),this.preopenOneTap!==null&&f.openGoogleOneTap(this.preopenOneTap),this.preopenOrganizationProfile!==null&&f.openOrganizationProfile(this.preopenOrganizationProfile),this.preopenCreateOrganization!==null&&f.openCreateOrganization(this.preopenCreateOrganization),this.preOpenWaitlist!==null&&f.openWaitlist(this.preOpenWaitlist),this.premountSignInNodes.forEach((o,l)=>{f.mountSignIn(l,o)}),this.premountSignUpNodes.forEach((o,l)=>{f.mountSignUp(l,o)}),this.premountUserProfileNodes.forEach((o,l)=>{f.mountUserProfile(l,o)}),this.premountUserButtonNodes.forEach((o,l)=>{f.mountUserButton(l,o)}),this.premountOrganizationListNodes.forEach((o,l)=>{f.mountOrganizationList(l,o)}),this.premountWaitlistNodes.forEach((o,l)=>{f.mountWaitlist(l,o)}),this.premountPricingTableNodes.forEach((o,l)=>{f.mountPricingTable(l,o)}),this.premountApiKeysNodes.forEach((o,l)=>{f.mountApiKeys(l,o)}),this.premountOAuthConsentNodes.forEach((o,l)=>{f.__internal_mountOAuthConsent(l,o)}),this.premountTaskChooseOrganizationNodes.forEach((o,l)=>{f.mountTaskChooseOrganization(l,o)}),typeof this.clerkjs.status>"u"&&Er(this,Fo).emit(Vu.Status,"ready"),this.emitLoaded(),this.clerkjs},this.__experimental_checkout=(...f)=>{var u;return(u=this.clerkjs)==null?void 0:u.__experimental_checkout(...f)},this.__unstable__updateProps=async f=>{const u=await Df(this,Qa,Ju).call(this);if(u&&"__unstable__updateProps"in u)return u.__unstable__updateProps(f)},this.setActive=f=>this.clerkjs?this.clerkjs.setActive(f):Promise.reject(),this.openSignIn=f=>{this.clerkjs&&this.loaded?this.clerkjs.openSignIn(f):this.preopenSignIn=f},this.closeSignIn=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.__internal_openCheckout=f=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openCheckout(f):this.preopenCheckout=f},this.__internal_closeCheckout=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeCheckout():this.preopenCheckout=null},this.__internal_openPlanDetails=f=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openPlanDetails(f):this.preopenPlanDetails=f},this.__internal_closePlanDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closePlanDetails():this.preopenPlanDetails=null},this.__internal_openSubscriptionDetails=f=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openSubscriptionDetails(f):this.preopenSubscriptionDetails=f??null},this.__internal_closeSubscriptionDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeSubscriptionDetails():this.preopenSubscriptionDetails=null},this.__internal_openReverification=f=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openReverification(f):this.preopenUserVerification=f},this.__internal_closeReverification=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeReverification():this.preopenUserVerification=null},this.openGoogleOneTap=f=>{this.clerkjs&&this.loaded?this.clerkjs.openGoogleOneTap(f):this.preopenOneTap=f},this.closeGoogleOneTap=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=f=>{this.clerkjs&&this.loaded?this.clerkjs.openUserProfile(f):this.preopenUserProfile=f},this.closeUserProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=f=>{this.clerkjs&&this.loaded?this.clerkjs.openOrganizationProfile(f):this.preopenOrganizationProfile=f},this.closeOrganizationProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=f=>{this.clerkjs&&this.loaded?this.clerkjs.openCreateOrganization(f):this.preopenCreateOrganization=f},this.closeCreateOrganization=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openWaitlist=f=>{this.clerkjs&&this.loaded?this.clerkjs.openWaitlist(f):this.preOpenWaitlist=f},this.closeWaitlist=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeWaitlist():this.preOpenWaitlist=null},this.openSignUp=f=>{this.clerkjs&&this.loaded?this.clerkjs.openSignUp(f):this.preopenSignUp=f},this.closeSignUp=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(f,u)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignIn(f,u):this.premountSignInNodes.set(f,u)},this.unmountSignIn=f=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignIn(f):this.premountSignInNodes.delete(f)},this.mountSignUp=(f,u)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignUp(f,u):this.premountSignUpNodes.set(f,u)},this.unmountSignUp=f=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignUp(f):this.premountSignUpNodes.delete(f)},this.mountUserProfile=(f,u)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserProfile(f,u):this.premountUserProfileNodes.set(f,u)},this.unmountUserProfile=f=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserProfile(f):this.premountUserProfileNodes.delete(f)},this.mountOrganizationProfile=(f,u)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationProfile(f,u):this.premountOrganizationProfileNodes.set(f,u)},this.unmountOrganizationProfile=f=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationProfile(f):this.premountOrganizationProfileNodes.delete(f)},this.mountCreateOrganization=(f,u)=>{this.clerkjs&&this.loaded?this.clerkjs.mountCreateOrganization(f,u):this.premountCreateOrganizationNodes.set(f,u)},this.unmountCreateOrganization=f=>{this.clerkjs&&this.loaded?this.clerkjs.unmountCreateOrganization(f):this.premountCreateOrganizationNodes.delete(f)},this.mountOrganizationSwitcher=(f,u)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationSwitcher(f,u):this.premountOrganizationSwitcherNodes.set(f,u)},this.unmountOrganizationSwitcher=f=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationSwitcher(f):this.premountOrganizationSwitcherNodes.delete(f)},this.__experimental_prefetchOrganizationSwitcher=()=>{const f=()=>{var u;return(u=this.clerkjs)==null?void 0:u.__experimental_prefetchOrganizationSwitcher()};this.clerkjs&&this.loaded?f():this.premountMethodCalls.set("__experimental_prefetchOrganizationSwitcher",f)},this.mountOrganizationList=(f,u)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationList(f,u):this.premountOrganizationListNodes.set(f,u)},this.unmountOrganizationList=f=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationList(f):this.premountOrganizationListNodes.delete(f)},this.mountUserButton=(f,u)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserButton(f,u):this.premountUserButtonNodes.set(f,u)},this.unmountUserButton=f=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserButton(f):this.premountUserButtonNodes.delete(f)},this.mountWaitlist=(f,u)=>{this.clerkjs&&this.loaded?this.clerkjs.mountWaitlist(f,u):this.premountWaitlistNodes.set(f,u)},this.unmountWaitlist=f=>{this.clerkjs&&this.loaded?this.clerkjs.unmountWaitlist(f):this.premountWaitlistNodes.delete(f)},this.mountPricingTable=(f,u)=>{this.clerkjs&&this.loaded?this.clerkjs.mountPricingTable(f,u):this.premountPricingTableNodes.set(f,u)},this.unmountPricingTable=f=>{this.clerkjs&&this.loaded?this.clerkjs.unmountPricingTable(f):this.premountPricingTableNodes.delete(f)},this.mountApiKeys=(f,u)=>{this.clerkjs&&this.loaded?this.clerkjs.mountApiKeys(f,u):this.premountApiKeysNodes.set(f,u)},this.unmountApiKeys=f=>{this.clerkjs&&this.loaded?this.clerkjs.unmountApiKeys(f):this.premountApiKeysNodes.delete(f)},this.__internal_mountOAuthConsent=(f,u)=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_mountOAuthConsent(f,u):this.premountOAuthConsentNodes.set(f,u)},this.__internal_unmountOAuthConsent=f=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_unmountOAuthConsent(f):this.premountOAuthConsentNodes.delete(f)},this.mountTaskChooseOrganization=(f,u)=>{this.clerkjs&&this.loaded?this.clerkjs.mountTaskChooseOrganization(f,u):this.premountTaskChooseOrganizationNodes.set(f,u)},this.unmountTaskChooseOrganization=f=>{this.clerkjs&&this.loaded?this.clerkjs.unmountTaskChooseOrganization(f):this.premountTaskChooseOrganizationNodes.delete(f)},this.addListener=f=>{if(this.clerkjs)return this.clerkjs.addListener(f);{const u=()=>{var o;const l=this.premountAddListenerCalls.get(f);l&&((o=l.nativeUnsubscribe)==null||o.call(l),this.premountAddListenerCalls.delete(f))};return this.premountAddListenerCalls.set(f,{unsubscribe:u,nativeUnsubscribe:void 0}),u}},this.navigate=f=>{const u=()=>{var o;return(o=this.clerkjs)==null?void 0:o.navigate(f)};this.clerkjs&&this.loaded?u():this.premountMethodCalls.set("navigate",u)},this.redirectWithAuth=async(...f)=>{const u=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectWithAuth(...f)};if(this.clerkjs&&this.loaded)return u();this.premountMethodCalls.set("redirectWithAuth",u)},this.redirectToSignIn=async f=>{const u=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignIn(f)};if(this.clerkjs&&this.loaded)return u();this.premountMethodCalls.set("redirectToSignIn",u)},this.redirectToSignUp=async f=>{const u=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignUp(f)};if(this.clerkjs&&this.loaded)return u();this.premountMethodCalls.set("redirectToSignUp",u)},this.redirectToUserProfile=async()=>{const f=()=>{var u;return(u=this.clerkjs)==null?void 0:u.redirectToUserProfile()};if(this.clerkjs&&this.loaded)return f();this.premountMethodCalls.set("redirectToUserProfile",f)},this.redirectToAfterSignUp=()=>{const f=()=>{var u;return(u=this.clerkjs)==null?void 0:u.redirectToAfterSignUp()};if(this.clerkjs&&this.loaded)return f();this.premountMethodCalls.set("redirectToAfterSignUp",f)},this.redirectToAfterSignIn=()=>{const f=()=>{var u;return(u=this.clerkjs)==null?void 0:u.redirectToAfterSignIn()};this.clerkjs&&this.loaded?f():this.premountMethodCalls.set("redirectToAfterSignIn",f)},this.redirectToAfterSignOut=()=>{const f=()=>{var u;return(u=this.clerkjs)==null?void 0:u.redirectToAfterSignOut()};this.clerkjs&&this.loaded?f():this.premountMethodCalls.set("redirectToAfterSignOut",f)},this.redirectToOrganizationProfile=async()=>{const f=()=>{var u;return(u=this.clerkjs)==null?void 0:u.redirectToOrganizationProfile()};if(this.clerkjs&&this.loaded)return f();this.premountMethodCalls.set("redirectToOrganizationProfile",f)},this.redirectToCreateOrganization=async()=>{const f=()=>{var u;return(u=this.clerkjs)==null?void 0:u.redirectToCreateOrganization()};if(this.clerkjs&&this.loaded)return f();this.premountMethodCalls.set("redirectToCreateOrganization",f)},this.redirectToWaitlist=async()=>{const f=()=>{var u;return(u=this.clerkjs)==null?void 0:u.redirectToWaitlist()};if(this.clerkjs&&this.loaded)return f();this.premountMethodCalls.set("redirectToWaitlist",f)},this.redirectToTasks=async()=>{const f=()=>{var u;return(u=this.clerkjs)==null?void 0:u.redirectToTasks()};if(this.clerkjs&&this.loaded)return f();this.premountMethodCalls.set("redirectToTasks",f)},this.handleRedirectCallback=async f=>{var u;const o=()=>{var l;return(l=this.clerkjs)==null?void 0:l.handleRedirectCallback(f)};this.clerkjs&&this.loaded?(u=o())==null||u.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",o)},this.handleGoogleOneTapCallback=async(f,u)=>{var o;const l=()=>{var i;return(i=this.clerkjs)==null?void 0:i.handleGoogleOneTapCallback(f,u)};this.clerkjs&&this.loaded?(o=l())==null||o.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",l)},this.handleEmailLinkVerification=async f=>{const u=()=>{var o;return(o=this.clerkjs)==null?void 0:o.handleEmailLinkVerification(f)};if(this.clerkjs&&this.loaded)return u();this.premountMethodCalls.set("handleEmailLinkVerification",u)},this.authenticateWithMetamask=async f=>{const u=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithMetamask(f)};if(this.clerkjs&&this.loaded)return u();this.premountMethodCalls.set("authenticateWithMetamask",u)},this.authenticateWithCoinbaseWallet=async f=>{const u=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithCoinbaseWallet(f)};if(this.clerkjs&&this.loaded)return u();this.premountMethodCalls.set("authenticateWithCoinbaseWallet",u)},this.authenticateWithOKXWallet=async f=>{const u=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithOKXWallet(f)};if(this.clerkjs&&this.loaded)return u();this.premountMethodCalls.set("authenticateWithOKXWallet",u)},this.authenticateWithWeb3=async f=>{const u=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithWeb3(f)};if(this.clerkjs&&this.loaded)return u();this.premountMethodCalls.set("authenticateWithWeb3",u)},this.authenticateWithGoogleOneTap=async f=>(await Df(this,Qa,Ju).call(this)).authenticateWithGoogleOneTap(f),this.__internal_loadStripeJs=async()=>(await Df(this,Qa,Ju).call(this)).__internal_loadStripeJs(),this.createOrganization=async f=>{const u=()=>{var o;return(o=this.clerkjs)==null?void 0:o.createOrganization(f)};if(this.clerkjs&&this.loaded)return u();this.premountMethodCalls.set("createOrganization",u)},this.getOrganization=async f=>{const u=()=>{var o;return(o=this.clerkjs)==null?void 0:o.getOrganization(f)};if(this.clerkjs&&this.loaded)return u();this.premountMethodCalls.set("getOrganization",u)},this.joinWaitlist=async f=>{const u=()=>{var o;return(o=this.clerkjs)==null?void 0:o.joinWaitlist(f)};if(this.clerkjs&&this.loaded)return u();this.premountMethodCalls.set("joinWaitlist",u)},this.signOut=async(...f)=>{const u=()=>{var o;return(o=this.clerkjs)==null?void 0:o.signOut(...f)};if(this.clerkjs&&this.loaded)return u();this.premountMethodCalls.set("signOut",u)};const{Clerk:d=null,publishableKey:t}=r||{};Qi(this,gs,t),Qi(this,sa,r?.proxyUrl),Qi(this,oa,r?.domain),this.options=r,this.Clerk=d,this.mode=Cy()?"browser":"server",this.options.sdkMetadata||(this.options.sdkMetadata=eE),Er(this,Fo).emit(Vu.Status,"loading"),Er(this,Fo).prioritizedOn(Vu.Status,f=>Qi(this,Ku,f)),Er(this,gs)&&this.loadClerkJS()}get publishableKey(){return Er(this,gs)}get loaded(){var r;return((r=this.clerkjs)==null?void 0:r.loaded)||!1}get status(){var r;return this.clerkjs?((r=this.clerkjs)==null?void 0:r.status)||(this.clerkjs.loaded?"ready":"loading"):Er(this,Ku)}static getOrCreateInstance(r){return(!Cy()||!Er(this,vs)||r.Clerk&&Er(this,vs).Clerk!==r.Clerk||Er(this,vs).publishableKey!==r.publishableKey)&&Qi(this,vs,new q0(r)),Er(this,vs)}static clearInstance(){Qi(this,vs,null)}get domain(){return typeof window<"u"&&window.location?Of(Er(this,oa),new URL(window.location.href),""):typeof Er(this,oa)=="function"?jo.throw(Pf):Er(this,oa)||""}get proxyUrl(){return typeof window<"u"&&window.location?Of(Er(this,sa),new URL(window.location.href),""):typeof Er(this,sa)=="function"?jo.throw(Pf):Er(this,sa)||""}__internal_getOption(r){var d,t;return(d=this.clerkjs)!=null&&d.__internal_getOption?(t=this.clerkjs)==null?void 0:t.__internal_getOption(r):this.options[r]}get sdkMetadata(){var r;return((r=this.clerkjs)==null?void 0:r.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var r;return(r=this.clerkjs)==null?void 0:r.instanceType}get frontendApi(){var r;return((r=this.clerkjs)==null?void 0:r.frontendApi)||""}get isStandardBrowser(){var r;return((r=this.clerkjs)==null?void 0:r.isStandardBrowser)||this.options.standardBrowser||!1}get isSatellite(){return typeof window<"u"&&window.location?Of(this.options.isSatellite,new URL(window.location.href),!1):typeof this.options.isSatellite=="function"?jo.throw(Pf):!1}async loadClerkJS(){var r;if(!(this.mode!=="browser"||this.loaded)){typeof window<"u"&&(window.__clerk_publishable_key=Er(this,gs),window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let d;g2(this.Clerk)?(d=new this.Clerk(Er(this,gs),{proxyUrl:this.proxyUrl,domain:this.domain}),this.beforeLoad(d),await d.load(this.options)):(d=this.Clerk,d.loaded||(this.beforeLoad(d),await d.load(this.options))),global.Clerk=d}else if(!__BUILD_DISABLE_RHC__){if(global.Clerk||await H2({...this.options,publishableKey:Er(this,gs),proxyUrl:this.proxyUrl,domain:this.domain,nonce:this.options.nonce}),!global.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");this.beforeLoad(global.Clerk),await global.Clerk.load(this.options)}return(r=global.Clerk)!=null&&r.loaded?this.hydrateClerkJS(global.Clerk):void 0}catch(d){const t=d;Er(this,Fo).emit(Vu.Status,"error"),console.error(t.stack||t.message||t);return}}}get version(){var r;return(r=this.clerkjs)==null?void 0:r.version}get client(){if(this.clerkjs)return this.clerkjs.client}get session(){if(this.clerkjs)return this.clerkjs.session}get user(){if(this.clerkjs)return this.clerkjs.user}get organization(){if(this.clerkjs)return this.clerkjs.organization}get telemetry(){if(this.clerkjs)return this.clerkjs.telemetry}get __unstable__environment(){if(this.clerkjs)return this.clerkjs.__unstable__environment}get isSignedIn(){return this.clerkjs?this.clerkjs.isSignedIn:!1}get billing(){var r;return(r=this.clerkjs)==null?void 0:r.billing}get __internal_state(){var r;return(r=this.clerkjs)==null?void 0:r.__internal_state}get apiKeys(){var r;return(r=this.clerkjs)==null?void 0:r.apiKeys}__unstable__setEnvironment(...r){if(this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs)this.clerkjs.__unstable__setEnvironment(r);else return}};Ku=new WeakMap;oa=new WeakMap;sa=new WeakMap;gs=new WeakMap;Fo=new WeakMap;vs=new WeakMap;Qa=new WeakSet;Ju=function(){return new Promise(n=>{this.addOnLoaded(()=>n(this.clerkjs))})};ui(H0,vs);var My=H0;function tE(n){const{isomorphicClerkOptions:r,initialState:d,children:t}=n,{isomorphicClerk:f,clerkStatus:u}=rE(r),[o,l]=Ve.useState({client:f.client,session:f.session,user:f.user,organization:f.organization});Ve.useEffect(()=>f.addListener(B=>l({...B})),[]);const i=Y2(f.loaded,o,d),h=Ve.useMemo(()=>({value:f}),[u]),_=Ve.useMemo(()=>({value:o.client}),[o.client]),{sessionId:m,sessionStatus:s,sessionClaims:c,session:p,userId:g,user:b,orgId:y,actor:v,organization:j,orgRole:x,orgSlug:E,orgPermissions:P,factorVerificationAge:O}=i,M=Ve.useMemo(()=>({value:{sessionId:m,sessionStatus:s,sessionClaims:c,userId:g,actor:v,orgId:y,orgRole:x,orgSlug:E,orgPermissions:P,factorVerificationAge:O}}),[m,s,g,v,y,x,E,O,c?.__raw]),D=Ve.useMemo(()=>({value:p}),[m,p]),U=Ve.useMemo(()=>({value:b}),[g,b]),I=Ve.useMemo(()=>({value:{organization:j}}),[y,j]);return Ve.createElement(WS.Provider,{value:h},Ve.createElement(TS.Provider,{value:_},Ve.createElement(PS.Provider,{value:D},Ve.createElement(AS,{...I.value},Ve.createElement(zS.Provider,{value:M},Ve.createElement(kS.Provider,{value:U},Ve.createElement(MS,{value:void 0},t)))))))}var rE=n=>{const r=Ve.useRef(My.getOrCreateInstance(n)),[d,t]=Ve.useState(r.current.status);return Ve.useEffect(()=>{r.current.__unstable__updateProps({appearance:n.appearance})},[n.appearance]),Ve.useEffect(()=>{r.current.__unstable__updateProps({options:n})},[n.localization]),Ve.useEffect(()=>(r.current.on("status",t),()=>{r.current&&r.current.off("status",t),My.clearInstance()}),[]),{isomorphicClerk:r.current,clerkStatus:d}};function nE(n){const{initialState:r,children:d,__internal_bypassMissingPublishableKey:t,...f}=n,{publishableKey:u="",Clerk:o}=f;return!o&&!t&&(u?u&&!dh(u)&&jo.throwInvalidPublishableKeyError({key:u}):jo.throwMissingPublishableKeyError()),Ve.createElement(tE,{initialState:r,isomorphicClerkOptions:f},d)}var $0=v2(nE,"ClerkProvider",HS);$0.displayName="ClerkProvider";GS({packageName:"@clerk/clerk-react"});W2("@clerk/clerk-react");function Eh(n,r){return Eh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,t){return d.__proto__=t,d},Eh(n,r)}function X0(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n,Eh(n,r)}function Lt(){return Lt=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var d=arguments[r];for(var t in d)({}).hasOwnProperty.call(d,t)&&(n[t]=d[t])}return n},Lt.apply(null,arguments)}function fl(n){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fl(n)}function oE(n,r){if(fl(n)!="object"||!n)return n;var d=n[Symbol.toPrimitive];if(d!==void 0){var t=d.call(n,r);if(fl(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function sE(n){var r=oE(n,"string");return fl(r)=="symbol"?r:r+""}function iE(n,r,d){return(r=sE(r))in n?Object.defineProperty(n,r,{value:d,enumerable:!0,configurable:!0,writable:!0}):n[r]=d,n}function Iy(n,r){var d=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);r&&(t=t.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),d.push.apply(d,t)}return d}function Ay(n){for(var r=1;r<arguments.length;r++){var d=arguments[r]!=null?arguments[r]:{};r%2?Iy(Object(d),!0).forEach(function(t){iE(n,t,d[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(d)):Iy(Object(d)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(d,t))})}return n}function Cn(n){return"Minified Redux error #"+n+"; visit https://redux.js.org/Errors?code="+n+" for the full message or use the non-minified dev environment for full errors. "}var Ry=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),Dy=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ly={INIT:"@@redux/INIT"+Dy(),REPLACE:"@@redux/REPLACE"+Dy()};function aE(n){if(typeof n!="object"||n===null)return!1;for(var r=n;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}function Y0(n,r,d){var t;if(typeof r=="function"&&typeof d=="function"||typeof d=="function"&&typeof arguments[3]=="function")throw new Error(Cn(0));if(typeof r=="function"&&typeof d>"u"&&(d=r,r=void 0),typeof d<"u"){if(typeof d!="function")throw new Error(Cn(1));return d(Y0)(n,r)}if(typeof n!="function")throw new Error(Cn(2));var f=n,u=r,o=[],l=o,i=!1;function h(){l===o&&(l=o.slice())}function _(){if(i)throw new Error(Cn(3));return u}function m(g){if(typeof g!="function")throw new Error(Cn(4));if(i)throw new Error(Cn(5));var b=!0;return h(),l.push(g),function(){if(b){if(i)throw new Error(Cn(6));b=!1,h();var v=l.indexOf(g);l.splice(v,1),o=null}}}function s(g){if(!aE(g))throw new Error(Cn(7));if(typeof g.type>"u")throw new Error(Cn(8));if(i)throw new Error(Cn(9));try{i=!0,u=f(u,g)}finally{i=!1}for(var b=o=l,y=0;y<b.length;y++){var v=b[y];v()}return g}function c(g){if(typeof g!="function")throw new Error(Cn(10));f=g,s({type:Ly.REPLACE})}function p(){var g,b=m;return g={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(Cn(11));function j(){v.next&&v.next(_())}j();var x=b(j);return{unsubscribe:x}}},g[Ry]=function(){return this},g}return s({type:Ly.INIT}),t={dispatch:s,subscribe:m,getState:_,replaceReducer:c},t[Ry]=p,t}function Ny(n,r){return function(){return r(n.apply(this,arguments))}}function Uy(n,r){if(typeof n=="function")return Ny(n,r);if(typeof n!="object"||n===null)throw new Error(Cn(16));var d={};for(var t in n){var f=n[t];typeof f=="function"&&(d[t]=Ny(f,r))}return d}function K0(){for(var n=arguments.length,r=new Array(n),d=0;d<n;d++)r[d]=arguments[d];return r.length===0?function(t){return t}:r.length===1?r[0]:r.reduce(function(t,f){return function(){return t(f.apply(void 0,arguments))}})}function lE(){for(var n=arguments.length,r=new Array(n),d=0;d<n;d++)r[d]=arguments[d];return function(t){return function(){var f=t.apply(void 0,arguments),u=function(){throw new Error(Cn(15))},o={getState:f.getState,dispatch:function(){return u.apply(void 0,arguments)}},l=r.map(function(i){return i(o)});return u=K0.apply(void 0,l)(f.dispatch),Ay(Ay({},f),{},{dispatch:u})}}}var J0=Ve.createContext(null);function uE(n){n()}var Z0=uE,cE=function(r){return Z0=r},dE=function(){return Z0};function fE(){var n=dE(),r=null,d=null;return{clear:function(){r=null,d=null},notify:function(){n(function(){for(var f=r;f;)f.callback(),f=f.next})},get:function(){for(var f=[],u=r;u;)f.push(u),u=u.next;return f},subscribe:function(f){var u=!0,o=d={callback:f,next:null,prev:d};return o.prev?o.prev.next=o:r=o,function(){!u||r===null||(u=!1,o.next?o.next.prev=o.prev:d=o.prev,o.prev?o.prev.next=o.next:r=o.next)}}}}var Fy={notify:function(){},get:function(){return[]}};function Q0(n,r){var d,t=Fy;function f(m){return i(),t.subscribe(m)}function u(){t.notify()}function o(){_.onStateChange&&_.onStateChange()}function l(){return!!d}function i(){d||(d=r?r.addNestedSub(o):n.subscribe(o),t=fE())}function h(){d&&(d(),d=void 0,t.clear(),t=Fy)}var _={addNestedSub:f,notifyNestedSubs:u,handleChangeWrapper:o,isSubscribed:l,trySubscribe:i,tryUnsubscribe:h,getListeners:function(){return t}};return _}var eb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?De.useLayoutEffect:De.useEffect;function hE(n){var r=n.store,d=n.context,t=n.children,f=De.useMemo(function(){var l=Q0(r);return{store:r,subscription:l}},[r]),u=De.useMemo(function(){return r.getState()},[r]);eb(function(){var l=f.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),u!==r.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[f,u]);var o=d||J0;return Ve.createElement(o.Provider,{value:f},t)}function oc(n,r){if(n==null)return{};var d={};for(var t in n)if({}.hasOwnProperty.call(n,t)){if(r.indexOf(t)!==-1)continue;d[t]=n[t]}return d}var Lf={exports:{}},nr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function pE(){if(By)return nr;By=1;var n=typeof Symbol=="function"&&Symbol.for,r=n?Symbol.for("react.element"):60103,d=n?Symbol.for("react.portal"):60106,t=n?Symbol.for("react.fragment"):60107,f=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,o=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,i=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,_=n?Symbol.for("react.forward_ref"):60112,m=n?Symbol.for("react.suspense"):60113,s=n?Symbol.for("react.suspense_list"):60120,c=n?Symbol.for("react.memo"):60115,p=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,v=n?Symbol.for("react.scope"):60119;function j(E){if(typeof E=="object"&&E!==null){var P=E.$$typeof;switch(P){case r:switch(E=E.type,E){case i:case h:case t:case u:case f:case m:return E;default:switch(E=E&&E.$$typeof,E){case l:case _:case p:case c:case o:return E;default:return P}}case d:return P}}}function x(E){return j(E)===h}return nr.AsyncMode=i,nr.ConcurrentMode=h,nr.ContextConsumer=l,nr.ContextProvider=o,nr.Element=r,nr.ForwardRef=_,nr.Fragment=t,nr.Lazy=p,nr.Memo=c,nr.Portal=d,nr.Profiler=u,nr.StrictMode=f,nr.Suspense=m,nr.isAsyncMode=function(E){return x(E)||j(E)===i},nr.isConcurrentMode=x,nr.isContextConsumer=function(E){return j(E)===l},nr.isContextProvider=function(E){return j(E)===o},nr.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===r},nr.isForwardRef=function(E){return j(E)===_},nr.isFragment=function(E){return j(E)===t},nr.isLazy=function(E){return j(E)===p},nr.isMemo=function(E){return j(E)===c},nr.isPortal=function(E){return j(E)===d},nr.isProfiler=function(E){return j(E)===u},nr.isStrictMode=function(E){return j(E)===f},nr.isSuspense=function(E){return j(E)===m},nr.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===t||E===h||E===u||E===f||E===m||E===s||typeof E=="object"&&E!==null&&(E.$$typeof===p||E.$$typeof===c||E.$$typeof===o||E.$$typeof===l||E.$$typeof===_||E.$$typeof===b||E.$$typeof===y||E.$$typeof===v||E.$$typeof===g)},nr.typeOf=j,nr}var Gy;function mE(){return Gy||(Gy=1,Lf.exports=pE()),Lf.exports}var Nf,zy;function gE(){if(zy)return Nf;zy=1;var n=mE(),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},d={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},t={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},f={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};u[n.ForwardRef]=t,u[n.Memo]=f;function o(p){return n.isMemo(p)?f:u[p.$$typeof]||r}var l=Object.defineProperty,i=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,s=Object.prototype;function c(p,g,b){if(typeof g!="string"){if(s){var y=m(g);y&&y!==s&&c(p,y,b)}var v=i(g);h&&(v=v.concat(h(g)));for(var j=o(p),x=o(g),E=0;E<v.length;++E){var P=v[E];if(!d[P]&&!(b&&b[P])&&!(x&&x[P])&&!(j&&j[P])){var O=_(g,P);try{l(p,P,O)}catch{}}}}return p}return Nf=c,Nf}var yE=gE();const Vy=da(yE);var Uf={exports:{}},lr={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function vE(){if(Wy)return lr;Wy=1;var n=60103,r=60106,d=60107,t=60108,f=60114,u=60109,o=60110,l=60112,i=60113,h=60120,_=60115,m=60116,s=60121,c=60122,p=60117,g=60129,b=60131;if(typeof Symbol=="function"&&Symbol.for){var y=Symbol.for;n=y("react.element"),r=y("react.portal"),d=y("react.fragment"),t=y("react.strict_mode"),f=y("react.profiler"),u=y("react.provider"),o=y("react.context"),l=y("react.forward_ref"),i=y("react.suspense"),h=y("react.suspense_list"),_=y("react.memo"),m=y("react.lazy"),s=y("react.block"),c=y("react.server.block"),p=y("react.fundamental"),g=y("react.debug_trace_mode"),b=y("react.legacy_hidden")}function v(R){if(typeof R=="object"&&R!==null){var G=R.$$typeof;switch(G){case n:switch(R=R.type,R){case d:case f:case t:case i:case h:return R;default:switch(R=R&&R.$$typeof,R){case o:case l:case m:case _:case u:return R;default:return G}}case r:return G}}}var j=u,x=n,E=l,P=d,O=m,M=_,D=r,U=f,I=t,B=i;return lr.ContextConsumer=o,lr.ContextProvider=j,lr.Element=x,lr.ForwardRef=E,lr.Fragment=P,lr.Lazy=O,lr.Memo=M,lr.Portal=D,lr.Profiler=U,lr.StrictMode=I,lr.Suspense=B,lr.isAsyncMode=function(){return!1},lr.isConcurrentMode=function(){return!1},lr.isContextConsumer=function(R){return v(R)===o},lr.isContextProvider=function(R){return v(R)===u},lr.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===n},lr.isForwardRef=function(R){return v(R)===l},lr.isFragment=function(R){return v(R)===d},lr.isLazy=function(R){return v(R)===m},lr.isMemo=function(R){return v(R)===_},lr.isPortal=function(R){return v(R)===r},lr.isProfiler=function(R){return v(R)===f},lr.isStrictMode=function(R){return v(R)===t},lr.isSuspense=function(R){return v(R)===i},lr.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===d||R===f||R===g||R===t||R===i||R===h||R===b||typeof R=="object"&&R!==null&&(R.$$typeof===m||R.$$typeof===_||R.$$typeof===u||R.$$typeof===o||R.$$typeof===l||R.$$typeof===p||R.$$typeof===s||R[0]===c)},lr.typeOf=v,lr}var Hy;function bE(){return Hy||(Hy=1,Uf.exports=vE()),Uf.exports}var wE=bE(),_E=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],xE=["reactReduxForwardedRef"],jE=[],SE=[null,null];function EE(n,r){var d=n[1];return[r.payload,d+1]}function qy(n,r,d){eb(function(){return n.apply(void 0,r)},d)}function kE(n,r,d,t,f,u,o){n.current=t,r.current=f,d.current=!1,u.current&&(u.current=null,o())}function CE(n,r,d,t,f,u,o,l,i,h){if(n){var _=!1,m=null,s=function(){if(!_){var g=r.getState(),b,y;try{b=t(g,f.current)}catch(v){y=v,m=v}y||(m=null),b===u.current?o.current||i():(u.current=b,l.current=b,o.current=!0,h({type:"STORE_UPDATED",payload:{error:y}}))}};d.onStateChange=s,d.trySubscribe(),s();var c=function(){if(_=!0,d.tryUnsubscribe(),d.onStateChange=null,m)throw m};return c}}var TE=function(){return[null,0]};function PE(n,r){r===void 0&&(r={});var d=r,t=d.getDisplayName,f=t===void 0?function(j){return"ConnectAdvanced("+j+")"}:t,u=d.methodName,o=u===void 0?"connectAdvanced":u,l=d.renderCountProp,i=l===void 0?void 0:l,h=d.shouldHandleStateChanges,_=h===void 0?!0:h,m=d.storeKey,s=m===void 0?"store":m;d.withRef;var c=d.forwardRef,p=c===void 0?!1:c,g=d.context,b=g===void 0?J0:g,y=oc(d,_E),v=b;return function(x){var E=x.displayName||x.name||"Component",P=f(E),O=Lt({},y,{getDisplayName:f,methodName:o,renderCountProp:i,shouldHandleStateChanges:_,storeKey:s,displayName:P,wrappedComponentName:E,WrappedComponent:x}),M=y.pure;function D(G){return n(G.dispatch,O)}var U=M?De.useMemo:function(G){return G()};function I(G){var z=De.useMemo(function(){var Se=G.reactReduxForwardedRef,Oe=oc(G,xE);return[G.context,Se,Oe]},[G]),q=z[0],Y=z[1],$=z[2],X=De.useMemo(function(){return q&&q.Consumer&&wE.isContextConsumer(Ve.createElement(q.Consumer,null))?q:v},[q,v]),ee=De.useContext(X),K=!!G.store&&!!G.store.getState&&!!G.store.dispatch;ee&&ee.store;var ne=K?G.store:ee.store,T=De.useMemo(function(){return D(ne)},[ne]),F=De.useMemo(function(){if(!_)return SE;var Se=Q0(ne,K?null:ee.subscription),Oe=Se.notifyNestedSubs.bind(Se);return[Se,Oe]},[ne,K,ee]),W=F[0],J=F[1],oe=De.useMemo(function(){return K?ee:Lt({},ee,{subscription:W})},[K,ee,W]),se=De.useReducer(EE,jE,TE),fe=se[0],ve=fe[0],de=se[1];if(ve&&ve.error)throw ve.error;var be=De.useRef(),pe=De.useRef($),ie=De.useRef(),ye=De.useRef(!1),_e=U(function(){return ie.current&&$===pe.current?ie.current:T(ne.getState(),$)},[ne,ve,$]);qy(kE,[pe,be,ye,$,_e,ie,J]),qy(CE,[_,ne,W,T,pe,be,ye,ie,J,de],[ne,W,T]);var Te=De.useMemo(function(){return Ve.createElement(x,Lt({},_e,{ref:Y}))},[Y,x,_e]),Ee=De.useMemo(function(){return _?Ve.createElement(X.Provider,{value:oe},Te):Te},[X,Te,oe]);return Ee}var B=M?Ve.memo(I):I;if(B.WrappedComponent=x,B.displayName=I.displayName=P,p){var R=Ve.forwardRef(function(z,q){return Ve.createElement(B,Lt({},z,{reactReduxForwardedRef:q}))});return R.displayName=P,R.WrappedComponent=x,Vy(R,x)}return Vy(B,x)}}function $y(n,r){return n===r?n!==0||r!==0||1/n===1/r:n!==n&&r!==r}function Ff(n,r){if($y(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var d=Object.keys(n),t=Object.keys(r);if(d.length!==t.length)return!1;for(var f=0;f<d.length;f++)if(!Object.prototype.hasOwnProperty.call(r,d[f])||!$y(n[d[f]],r[d[f]]))return!1;return!0}function OE(n,r){var d={},t=function(o){var l=n[o];typeof l=="function"&&(d[o]=function(){return r(l.apply(void 0,arguments))})};for(var f in n)t(f);return d}function Xh(n){return function(d,t){var f=n(d,t);function u(){return f}return u.dependsOnOwnProps=!1,u}}function Xy(n){return n.dependsOnOwnProps!==null&&n.dependsOnOwnProps!==void 0?!!n.dependsOnOwnProps:n.length!==1}function tb(n,r){return function(t,f){f.displayName;var u=function(l,i){return u.dependsOnOwnProps?u.mapToProps(l,i):u.mapToProps(l)};return u.dependsOnOwnProps=!0,u.mapToProps=function(l,i){u.mapToProps=n,u.dependsOnOwnProps=Xy(n);var h=u(l,i);return typeof h=="function"&&(u.mapToProps=h,u.dependsOnOwnProps=Xy(h),h=u(l,i)),h},u}}function ME(n){return typeof n=="function"?tb(n):void 0}function IE(n){return n?void 0:Xh(function(r){return{dispatch:r}})}function AE(n){return n&&typeof n=="object"?Xh(function(r){return OE(n,r)}):void 0}const RE=[ME,IE,AE];function DE(n){return typeof n=="function"?tb(n):void 0}function LE(n){return n?void 0:Xh(function(){return{}})}const NE=[DE,LE];function UE(n,r,d){return Lt({},d,n,r)}function FE(n){return function(d,t){t.displayName;var f=t.pure,u=t.areMergedPropsEqual,o=!1,l;return function(h,_,m){var s=n(h,_,m);return o?(!f||!u(s,l))&&(l=s):(o=!0,l=s),l}}}function BE(n){return typeof n=="function"?FE(n):void 0}function GE(n){return n?void 0:function(){return UE}}const zE=[BE,GE];var VE=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function WE(n,r,d,t){return function(u,o){return d(n(u,o),r(t,o),o)}}function HE(n,r,d,t,f){var u=f.areStatesEqual,o=f.areOwnPropsEqual,l=f.areStatePropsEqual,i=!1,h,_,m,s,c;function p(j,x){return h=j,_=x,m=n(h,_),s=r(t,_),c=d(m,s,_),i=!0,c}function g(){return m=n(h,_),r.dependsOnOwnProps&&(s=r(t,_)),c=d(m,s,_),c}function b(){return n.dependsOnOwnProps&&(m=n(h,_)),r.dependsOnOwnProps&&(s=r(t,_)),c=d(m,s,_),c}function y(){var j=n(h,_),x=!l(j,m);return m=j,x&&(c=d(m,s,_)),c}function v(j,x){var E=!o(x,_),P=!u(j,h,x,_);return h=j,_=x,E&&P?g():E?b():P?y():c}return function(x,E){return i?v(x,E):p(x,E)}}function qE(n,r){var d=r.initMapStateToProps,t=r.initMapDispatchToProps,f=r.initMergeProps,u=oc(r,VE),o=d(n,u),l=t(n,u),i=f(n,u),h=u.pure?HE:WE;return h(o,l,i,n,u)}var $E=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Bf(n,r,d){for(var t=r.length-1;t>=0;t--){var f=r[t](n);if(f)return f}return function(u,o){throw new Error("Invalid value of type "+typeof n+" for "+d+" argument when connecting component "+o.wrappedComponentName+".")}}function XE(n,r){return n===r}function YE(n){var r=n===void 0?{}:n,d=r.connectHOC,t=d===void 0?PE:d,f=r.mapStateToPropsFactories,u=f===void 0?NE:f,o=r.mapDispatchToPropsFactories,l=o===void 0?RE:o,i=r.mergePropsFactories,h=i===void 0?zE:i,_=r.selectorFactory,m=_===void 0?qE:_;return function(c,p,g,b){b===void 0&&(b={});var y=b,v=y.pure,j=v===void 0?!0:v,x=y.areStatesEqual,E=x===void 0?XE:x,P=y.areOwnPropsEqual,O=P===void 0?Ff:P,M=y.areStatePropsEqual,D=M===void 0?Ff:M,U=y.areMergedPropsEqual,I=U===void 0?Ff:U,B=oc(y,$E),R=Bf(c,u,"mapStateToProps"),G=Bf(p,l,"mapDispatchToProps"),z=Bf(g,h,"mergeProps");return t(m,Lt({methodName:"connect",getDisplayName:function(Y){return"Connect("+Y+")"},shouldHandleStateChanges:!!c,initMapStateToProps:R,initMapDispatchToProps:G,initMergeProps:z,pure:j,areStatesEqual:E,areOwnPropsEqual:O,areStatePropsEqual:D,areMergedPropsEqual:I},B))}}const rb=YE();cE(Ah.unstable_batchedUpdates);function KE(n,r){if(n.length!==r.length)return!1;for(var d=0;d<n.length;d++)if(n[d]!==r[d])return!1;return!0}function nb(n,r){var d=De.useState(function(){return{inputs:r,result:n()}})[0],t=De.useRef(!0),f=De.useRef(d),u=t.current||!!(r&&f.current.inputs&&KE(r,f.current.inputs)),o=u?f.current:{inputs:r,result:n()};return De.useEffect(function(){t.current=!1,f.current=o},[o]),o.result}function JE(n,r){return nb(function(){return n},r)}var Jt=nb,Mt=JE,ZE="Invariant failed";function QE(n,r){throw new Error(ZE)}var po=function(r){var d=r.top,t=r.right,f=r.bottom,u=r.left,o=t-u,l=f-d,i={top:d,right:t,bottom:f,left:u,width:o,height:l,x:u,y:d,center:{x:(t+u)/2,y:(f+d)/2}};return i},Yh=function(r,d){return{top:r.top-d.top,left:r.left-d.left,bottom:r.bottom+d.bottom,right:r.right+d.right}},Yy=function(r,d){return{top:r.top+d.top,left:r.left+d.left,bottom:r.bottom-d.bottom,right:r.right-d.right}},ek=function(r,d){return{top:r.top+d.y,left:r.left+d.x,bottom:r.bottom+d.y,right:r.right+d.x}},Gf={top:0,right:0,bottom:0,left:0},Kh=function(r){var d=r.borderBox,t=r.margin,f=t===void 0?Gf:t,u=r.border,o=u===void 0?Gf:u,l=r.padding,i=l===void 0?Gf:l,h=po(Yh(d,f)),_=po(Yy(d,o)),m=po(Yy(_,i));return{marginBox:h,borderBox:po(d),paddingBox:_,contentBox:m,margin:f,border:o,padding:i}},Yn=function(r){var d=r.slice(0,-2),t=r.slice(-2);if(t!=="px")return 0;var f=Number(d);return isNaN(f)&&QE(),f},tk=function(){return{x:window.pageXOffset,y:window.pageYOffset}},sc=function(r,d){var t=r.borderBox,f=r.border,u=r.margin,o=r.padding,l=ek(t,d);return Kh({borderBox:l,border:f,margin:u,padding:o})},ic=function(r,d){return d===void 0&&(d=tk()),sc(r,d)},ob=function(r,d){var t={top:Yn(d.marginTop),right:Yn(d.marginRight),bottom:Yn(d.marginBottom),left:Yn(d.marginLeft)},f={top:Yn(d.paddingTop),right:Yn(d.paddingRight),bottom:Yn(d.paddingBottom),left:Yn(d.paddingLeft)},u={top:Yn(d.borderTopWidth),right:Yn(d.borderRightWidth),bottom:Yn(d.borderBottomWidth),left:Yn(d.borderLeftWidth)};return Kh({borderBox:r,margin:t,padding:f,border:u})},sb=function(r){var d=r.getBoundingClientRect(),t=window.getComputedStyle(r);return ob(d,t)},Ky=Number.isNaN||function(r){return typeof r=="number"&&r!==r};function rk(n,r){return!!(n===r||Ky(n)&&Ky(r))}function nk(n,r){if(n.length!==r.length)return!1;for(var d=0;d<n.length;d++)if(!rk(n[d],r[d]))return!1;return!0}function Zr(n,r){r===void 0&&(r=nk);var d,t=[],f,u=!1;function o(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];return u&&d===this&&r(l,t)||(f=n.apply(this,l),u=!0,d=this,t=l),f}return o}var hl=function(r){var d=[],t=null,f=function(){for(var o=arguments.length,l=new Array(o),i=0;i<o;i++)l[i]=arguments[i];d=l,!t&&(t=requestAnimationFrame(function(){t=null,r.apply(void 0,d)}))};return f.cancel=function(){t&&(cancelAnimationFrame(t),t=null)},f};function ib(n,r){}ib.bind(null,"warn");ib.bind(null,"error");function js(){}function ok(n,r){return Lt({},n,{},r)}function Jn(n,r,d){var t=r.map(function(f){var u=ok(d,f.options);return n.addEventListener(f.eventName,f.fn,u),function(){n.removeEventListener(f.eventName,f.fn,u)}});return function(){t.forEach(function(u){u()})}}var sk="Invariant failed";function ac(n){this.message=n}ac.prototype.toString=function(){return this.message};function ht(n,r){throw new ac(sk)}var ik=(function(n){X0(r,n);function r(){for(var t,f=arguments.length,u=new Array(f),o=0;o<f;o++)u[o]=arguments[o];return t=n.call.apply(n,[this].concat(u))||this,t.callbacks=null,t.unbind=js,t.onWindowError=function(l){var i=t.getCallbacks();i.isDragging()&&i.tryAbort();var h=l.error;h instanceof ac&&l.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(l){t.callbacks=l},t}var d=r.prototype;return d.componentDidMount=function(){this.unbind=Jn(window,[{eventName:"error",fn:this.onWindowError}])},d.componentDidCatch=function(f){if(f instanceof ac){this.setState({});return}throw f},d.componentWillUnmount=function(){this.unbind()},d.render=function(){return this.props.children(this.setCallbacks)},r})(Ve.Component),ak=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,lc=function(r){return r+1},lk=function(r){return`
  You have lifted an item in position `+lc(r.source.index)+`
`},ab=function(r,d){var t=r.droppableId===d.droppableId,f=lc(r.index),u=lc(d.index);return t?`
      You have moved the item from position `+f+`
      to position `+u+`
    `:`
    You have moved the item from position `+f+`
    in list `+r.droppableId+`
    to list `+d.droppableId+`
    in position `+u+`
  `},lb=function(r,d,t){var f=d.droppableId===t.droppableId;return f?`
      The item `+r+`
      has been combined with `+t.draggableId:`
      The item `+r+`
      in list `+d.droppableId+`
      has been combined with `+t.draggableId+`
      in list `+t.droppableId+`
    `},uk=function(r){var d=r.destination;if(d)return ab(r.source,d);var t=r.combine;return t?lb(r.draggableId,r.source,t):"You are over an area that cannot be dropped on"},Jy=function(r){return`
  The item has returned to its starting position
  of `+lc(r.index)+`
`},ck=function(r){if(r.reason==="CANCEL")return`
      Movement cancelled.
      `+Jy(r.source)+`
    `;var d=r.destination,t=r.combine;return d?`
      You have dropped the item.
      `+ab(r.source,d)+`
    `:t?`
      You have dropped the item.
      `+lb(r.draggableId,r.source,t)+`
    `:`
    The item has been dropped while not over a drop area.
    `+Jy(r.source)+`
  `},Zu={dragHandleUsageInstructions:ak,onDragStart:lk,onDragUpdate:uk,onDragEnd:ck},Qr={x:0,y:0},rn=function(r,d){return{x:r.x+d.x,y:r.y+d.y}},Fn=function(r,d){return{x:r.x-d.x,y:r.y-d.y}},Ss=function(r,d){return r.x===d.x&&r.y===d.y},ma=function(r){return{x:r.x!==0?-r.x:0,y:r.y!==0?-r.y:0}},fi=function(r,d,t){var f;return t===void 0&&(t=0),f={},f[r]=d,f[r==="x"?"y":"x"]=t,f},pl=function(r,d){return Math.sqrt(Math.pow(d.x-r.x,2)+Math.pow(d.y-r.y,2))},Zy=function(r,d){return Math.min.apply(Math,d.map(function(t){return pl(r,t)}))},ub=function(r){return function(d){return{x:r(d.x),y:r(d.y)}}},dk=(function(n,r){var d=po({top:Math.max(r.top,n.top),right:Math.min(r.right,n.right),bottom:Math.min(r.bottom,n.bottom),left:Math.max(r.left,n.left)});return d.width<=0||d.height<=0?null:d}),kl=function(r,d){return{top:r.top+d.y,left:r.left+d.x,bottom:r.bottom+d.y,right:r.right+d.x}},Qy=function(r){return[{x:r.left,y:r.top},{x:r.right,y:r.top},{x:r.left,y:r.bottom},{x:r.right,y:r.bottom}]},fk={top:0,right:0,bottom:0,left:0},hk=function(r,d){return d?kl(r,d.scroll.diff.displacement):r},pk=function(r,d,t){if(t&&t.increasedBy){var f;return Lt({},r,(f={},f[d.end]=r[d.end]+t.increasedBy[d.line],f))}return r},mk=function(r,d){return d&&d.shouldClipSubject?dk(d.pageMarginBox,r):po(r)},la=(function(n){var r=n.page,d=n.withPlaceholder,t=n.axis,f=n.frame,u=hk(r.marginBox,f),o=pk(u,t,d),l=mk(o,f);return{page:r,withPlaceholder:d,active:l}}),Jh=(function(n,r){n.frame||ht();var d=n.frame,t=Fn(r,d.scroll.initial),f=ma(t),u=Lt({},d,{scroll:{initial:d.scroll.initial,current:r,diff:{value:t,displacement:f},max:d.scroll.max}}),o=la({page:n.subject.page,withPlaceholder:n.subject.withPlaceholder,axis:n.axis,frame:u}),l=Lt({},n,{frame:u,subject:o});return l});function uc(n){return Object.values?Object.values(n):Object.keys(n).map(function(r){return n[r]})}function Zh(n,r){if(n.findIndex)return n.findIndex(r);for(var d=0;d<n.length;d++)if(r(n[d]))return d;return-1}function Os(n,r){if(n.find)return n.find(r);var d=Zh(n,r);if(d!==-1)return n[d]}function cb(n){return Array.prototype.slice.call(n)}var db=Zr(function(n){return n.reduce(function(r,d){return r[d.descriptor.id]=d,r},{})}),fb=Zr(function(n){return n.reduce(function(r,d){return r[d.descriptor.id]=d,r},{})}),Sc=Zr(function(n){return uc(n)}),gk=Zr(function(n){return uc(n)}),ga=Zr(function(n,r){var d=gk(r).filter(function(t){return n===t.descriptor.droppableId}).sort(function(t,f){return t.descriptor.index-f.descriptor.index});return d});function Qh(n){return n.at&&n.at.type==="REORDER"?n.at.destination:null}function Ec(n){return n.at&&n.at.type==="COMBINE"?n.at.combine:null}var kc=Zr(function(n,r){return r.filter(function(d){return d.descriptor.id!==n.descriptor.id})}),yk=(function(n){var r=n.isMovingForward,d=n.draggable,t=n.destination,f=n.insideDestination,u=n.previousImpact;if(!t.isCombineEnabled)return null;var o=Qh(u);if(!o)return null;function l(g){var b={type:"COMBINE",combine:{draggableId:g,droppableId:t.descriptor.id}};return Lt({},u,{at:b})}var i=u.displaced.all,h=i.length?i[0]:null;if(r)return h?l(h):null;var _=kc(d,f);if(!h){if(!_.length)return null;var m=_[_.length-1];return l(m.descriptor.id)}var s=Zh(_,function(g){return g.descriptor.id===h});s===-1&&ht();var c=s-1;if(c<0)return null;var p=_[c];return l(p.descriptor.id)}),ya=(function(n,r){return n.descriptor.droppableId===r.descriptor.id}),hb={point:Qr,value:0},ml={invisible:{},visible:{},all:[]},vk={displaced:ml,displacedBy:hb,at:null},Zn=(function(n,r){return function(d){return n<=d&&d<=r}}),pb=(function(n){var r=Zn(n.top,n.bottom),d=Zn(n.left,n.right);return function(t){var f=r(t.top)&&r(t.bottom)&&d(t.left)&&d(t.right);if(f)return!0;var u=r(t.top)||r(t.bottom),o=d(t.left)||d(t.right),l=u&&o;if(l)return!0;var i=t.top<n.top&&t.bottom>n.bottom,h=t.left<n.left&&t.right>n.right,_=i&&h;if(_)return!0;var m=i&&o||h&&u;return m}}),bk=(function(n){var r=Zn(n.top,n.bottom),d=Zn(n.left,n.right);return function(t){var f=r(t.top)&&r(t.bottom)&&d(t.left)&&d(t.right);return f}}),ep={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},mb={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},wk=(function(n){return function(r){var d=Zn(r.top,r.bottom),t=Zn(r.left,r.right);return function(f){return n===ep?d(f.top)&&d(f.bottom):t(f.left)&&t(f.right)}}}),_k=function(r,d){var t=d.frame?d.frame.scroll.diff.displacement:Qr;return kl(r,t)},xk=function(r,d,t){return d.subject.active?t(d.subject.active)(r):!1},jk=function(r,d,t){return t(d)(r)},tp=function(r){var d=r.target,t=r.destination,f=r.viewport,u=r.withDroppableDisplacement,o=r.isVisibleThroughFrameFn,l=u?_k(d,t):d;return xk(l,t,o)&&jk(l,f,o)},Sk=function(r){return tp(Lt({},r,{isVisibleThroughFrameFn:pb}))},gb=function(r){return tp(Lt({},r,{isVisibleThroughFrameFn:bk}))},Ek=function(r){return tp(Lt({},r,{isVisibleThroughFrameFn:wk(r.destination.axis)}))},kk=function(r,d,t){if(typeof t=="boolean")return t;if(!d)return!0;var f=d.invisible,u=d.visible;if(f[r])return!1;var o=u[r];return o?o.shouldAnimate:!0};function Ck(n,r){var d=n.page.marginBox,t={top:r.point.y,right:0,bottom:0,left:r.point.x};return po(Yh(d,t))}function gl(n){var r=n.afterDragging,d=n.destination,t=n.displacedBy,f=n.viewport,u=n.forceShouldAnimate,o=n.last;return r.reduce(function(i,h){var _=Ck(h,t),m=h.descriptor.id;i.all.push(m);var s=Sk({target:_,destination:d,viewport:f,withDroppableDisplacement:!0});if(!s)return i.invisible[h.descriptor.id]=!0,i;var c=kk(m,o,u),p={draggableId:m,shouldAnimate:c};return i.visible[m]=p,i},{all:[],visible:{},invisible:{}})}function Tk(n,r){if(!n.length)return 0;var d=n[n.length-1].descriptor.index;return r.inHomeList?d:d+1}function ev(n){var r=n.insideDestination,d=n.inHomeList,t=n.displacedBy,f=n.destination,u=Tk(r,{inHomeList:d});return{displaced:ml,displacedBy:t,at:{type:"REORDER",destination:{droppableId:f.descriptor.id,index:u}}}}function cc(n){var r=n.draggable,d=n.insideDestination,t=n.destination,f=n.viewport,u=n.displacedBy,o=n.last,l=n.index,i=n.forceShouldAnimate,h=ya(r,t);if(l==null)return ev({insideDestination:d,inHomeList:h,displacedBy:u,destination:t});var _=Os(d,function(g){return g.descriptor.index===l});if(!_)return ev({insideDestination:d,inHomeList:h,displacedBy:u,destination:t});var m=kc(r,d),s=d.indexOf(_),c=m.slice(s),p=gl({afterDragging:c,destination:t,displacedBy:u,last:o,viewport:f.frame,forceShouldAnimate:i});return{displaced:p,displacedBy:u,at:{type:"REORDER",destination:{droppableId:t.descriptor.id,index:l}}}}function ks(n,r){return!!r.effected[n]}var Pk=(function(n){var r=n.isMovingForward,d=n.destination,t=n.draggables,f=n.combine,u=n.afterCritical;if(!d.isCombineEnabled)return null;var o=f.draggableId,l=t[o],i=l.descriptor.index,h=ks(o,u);return h?r?i:i-1:r?i+1:i}),Ok=(function(n){var r=n.isMovingForward,d=n.isInHomeList,t=n.insideDestination,f=n.location;if(!t.length)return null;var u=f.index,o=r?u+1:u-1,l=t[0].descriptor.index,i=t[t.length-1].descriptor.index,h=d?i:i+1;return o<l||o>h?null:o}),Mk=(function(n){var r=n.isMovingForward,d=n.isInHomeList,t=n.draggable,f=n.draggables,u=n.destination,o=n.insideDestination,l=n.previousImpact,i=n.viewport,h=n.afterCritical,_=l.at;if(_||ht(),_.type==="REORDER"){var m=Ok({isMovingForward:r,isInHomeList:d,location:_.destination,insideDestination:o});return m==null?null:cc({draggable:t,insideDestination:o,destination:u,viewport:i,last:l.displaced,displacedBy:l.displacedBy,index:m})}var s=Pk({isMovingForward:r,destination:u,displaced:l.displaced,draggables:f,combine:_.combine,afterCritical:h});return s==null?null:cc({draggable:t,insideDestination:o,destination:u,viewport:i,last:l.displaced,displacedBy:l.displacedBy,index:s})}),Ik=(function(n){var r=n.displaced,d=n.afterCritical,t=n.combineWith,f=n.displacedBy,u=!!(r.visible[t]||r.invisible[t]);return ks(t,d)?u?Qr:ma(f.point):u?f.point:Qr}),Ak=(function(n){var r=n.afterCritical,d=n.impact,t=n.draggables,f=Ec(d);f||ht();var u=f.draggableId,o=t[u].page.borderBox.center,l=Ik({displaced:d.displaced,afterCritical:r,combineWith:u,displacedBy:d.displacedBy});return rn(o,l)}),yb=function(r,d){return d.margin[r.start]+d.borderBox[r.size]/2},Rk=function(r,d){return d.margin[r.end]+d.borderBox[r.size]/2},rp=function(r,d,t){return d[r.crossAxisStart]+t.margin[r.crossAxisStart]+t.borderBox[r.crossAxisSize]/2},tv=function(r){var d=r.axis,t=r.moveRelativeTo,f=r.isMoving;return fi(d.line,t.marginBox[d.end]+yb(d,f),rp(d,t.marginBox,f))},rv=function(r){var d=r.axis,t=r.moveRelativeTo,f=r.isMoving;return fi(d.line,t.marginBox[d.start]-Rk(d,f),rp(d,t.marginBox,f))},Dk=function(r){var d=r.axis,t=r.moveInto,f=r.isMoving;return fi(d.line,t.contentBox[d.start]+yb(d,f),rp(d,t.contentBox,f))},Lk=(function(n){var r=n.impact,d=n.draggable,t=n.draggables,f=n.droppable,u=n.afterCritical,o=ga(f.descriptor.id,t),l=d.page,i=f.axis;if(!o.length)return Dk({axis:i,moveInto:f.page,isMoving:l});var h=r.displaced,_=r.displacedBy,m=h.all[0];if(m){var s=t[m];if(ks(m,u))return rv({axis:i,moveRelativeTo:s.page,isMoving:l});var c=sc(s.page,_.point);return rv({axis:i,moveRelativeTo:c,isMoving:l})}var p=o[o.length-1];if(p.descriptor.id===d.descriptor.id)return l.borderBox.center;if(ks(p.descriptor.id,u)){var g=sc(p.page,ma(u.displacedBy.point));return tv({axis:i,moveRelativeTo:g,isMoving:l})}return tv({axis:i,moveRelativeTo:p.page,isMoving:l})}),kh=(function(n,r){var d=n.frame;return d?rn(r,d.scroll.diff.displacement):r}),Nk=function(r){var d=r.impact,t=r.draggable,f=r.droppable,u=r.draggables,o=r.afterCritical,l=t.page.borderBox.center,i=d.at;return!f||!i?l:i.type==="REORDER"?Lk({impact:d,draggable:t,draggables:u,droppable:f,afterCritical:o}):Ak({impact:d,draggables:u,afterCritical:o})},Cc=(function(n){var r=Nk(n),d=n.droppable,t=d?kh(d,r):r;return t}),vb=(function(n,r){var d=Fn(r,n.scroll.initial),t=ma(d),f=po({top:r.y,bottom:r.y+n.frame.height,left:r.x,right:r.x+n.frame.width}),u={frame:f,scroll:{initial:n.scroll.initial,max:n.scroll.max,current:r,diff:{value:d,displacement:t}}};return u});function nv(n,r){return n.map(function(d){return r[d]})}function Uk(n,r){for(var d=0;d<r.length;d++){var t=r[d].visible[n];if(t)return t}return null}var Fk=(function(n){var r=n.impact,d=n.viewport,t=n.destination,f=n.draggables,u=n.maxScrollChange,o=vb(d,rn(d.scroll.current,u)),l=t.frame?Jh(t,rn(t.frame.scroll.current,u)):t,i=r.displaced,h=gl({afterDragging:nv(i.all,f),destination:t,displacedBy:r.displacedBy,viewport:o.frame,last:i,forceShouldAnimate:!1}),_=gl({afterDragging:nv(i.all,f),destination:l,displacedBy:r.displacedBy,viewport:d.frame,last:i,forceShouldAnimate:!1}),m={},s={},c=[i,h,_];i.all.forEach(function(g){var b=Uk(g,c);if(b){s[g]=b;return}m[g]=!0});var p=Lt({},r,{displaced:{all:i.all,invisible:m,visible:s}});return p}),Bk=(function(n,r){return rn(n.scroll.diff.displacement,r)}),np=(function(n){var r=n.pageBorderBoxCenter,d=n.draggable,t=n.viewport,f=Bk(t,r),u=Fn(f,d.page.borderBox.center);return rn(d.client.borderBox.center,u)}),bb=(function(n){var r=n.draggable,d=n.destination,t=n.newPageBorderBoxCenter,f=n.viewport,u=n.withDroppableDisplacement,o=n.onlyOnMainAxis,l=o===void 0?!1:o,i=Fn(t,r.page.borderBox.center),h=kl(r.page.borderBox,i),_={target:h,destination:d,withDroppableDisplacement:u,viewport:f};return l?Ek(_):gb(_)}),Gk=(function(n){var r=n.isMovingForward,d=n.draggable,t=n.destination,f=n.draggables,u=n.previousImpact,o=n.viewport,l=n.previousPageBorderBoxCenter,i=n.previousClientSelection,h=n.afterCritical;if(!t.isEnabled)return null;var _=ga(t.descriptor.id,f),m=ya(d,t),s=yk({isMovingForward:r,draggable:d,destination:t,insideDestination:_,previousImpact:u})||Mk({isMovingForward:r,isInHomeList:m,draggable:d,draggables:f,destination:t,insideDestination:_,previousImpact:u,viewport:o,afterCritical:h});if(!s)return null;var c=Cc({impact:s,draggable:d,droppable:t,draggables:f,afterCritical:h}),p=bb({draggable:d,destination:t,newPageBorderBoxCenter:c,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(p){var g=np({pageBorderBoxCenter:c,draggable:d,viewport:o});return{clientSelection:g,impact:s,scrollJumpRequest:null}}var b=Fn(c,l),y=Fk({impact:s,viewport:o,destination:t,draggables:f,maxScrollChange:b});return{clientSelection:i,impact:y,scrollJumpRequest:b}}),hn=function(r){var d=r.subject.active;return d||ht(),d},zk=(function(n){var r=n.isMovingForward,d=n.pageBorderBoxCenter,t=n.source,f=n.droppables,u=n.viewport,o=t.subject.active;if(!o)return null;var l=t.axis,i=Zn(o[l.start],o[l.end]),h=Sc(f).filter(function(m){return m!==t}).filter(function(m){return m.isEnabled}).filter(function(m){return!!m.subject.active}).filter(function(m){return pb(u.frame)(hn(m))}).filter(function(m){var s=hn(m);return r?o[l.crossAxisEnd]<s[l.crossAxisEnd]:s[l.crossAxisStart]<o[l.crossAxisStart]}).filter(function(m){var s=hn(m),c=Zn(s[l.start],s[l.end]);return i(s[l.start])||i(s[l.end])||c(o[l.start])||c(o[l.end])}).sort(function(m,s){var c=hn(m)[l.crossAxisStart],p=hn(s)[l.crossAxisStart];return r?c-p:p-c}).filter(function(m,s,c){return hn(m)[l.crossAxisStart]===hn(c[0])[l.crossAxisStart]});if(!h.length)return null;if(h.length===1)return h[0];var _=h.filter(function(m){var s=Zn(hn(m)[l.start],hn(m)[l.end]);return s(d[l.line])});return _.length===1?_[0]:_.length>1?_.sort(function(m,s){return hn(m)[l.start]-hn(s)[l.start]})[0]:h.sort(function(m,s){var c=Zy(d,Qy(hn(m))),p=Zy(d,Qy(hn(s)));return c!==p?c-p:hn(m)[l.start]-hn(s)[l.start]})[0]}),ov=function(r,d){var t=r.page.borderBox.center;return ks(r.descriptor.id,d)?Fn(t,d.displacedBy.point):t},Vk=function(r,d){var t=r.page.borderBox;return ks(r.descriptor.id,d)?kl(t,ma(d.displacedBy.point)):t},Wk=(function(n){var r=n.pageBorderBoxCenter,d=n.viewport,t=n.destination,f=n.insideDestination,u=n.afterCritical,o=f.filter(function(l){return gb({target:Vk(l,u),destination:t,viewport:d.frame,withDroppableDisplacement:!0})}).sort(function(l,i){var h=pl(r,kh(t,ov(l,u))),_=pl(r,kh(t,ov(i,u)));return h<_?-1:_<h?1:l.descriptor.index-i.descriptor.index});return o[0]||null}),Cl=Zr(function(r,d){var t=d[r.line];return{value:t,point:fi(r.line,t)}}),Hk=function(r,d,t){var f=r.axis;if(r.descriptor.mode==="virtual")return fi(f.line,d[f.line]);var u=r.subject.page.contentBox[f.size],o=ga(r.descriptor.id,t),l=o.reduce(function(_,m){return _+m.client.marginBox[f.size]},0),i=l+d[f.line],h=i-u;return h<=0?null:fi(f.line,h)},wb=function(r,d){return Lt({},r,{scroll:Lt({},r.scroll,{max:d})})},_b=function(r,d,t){var f=r.frame;ya(d,r)&&ht(),r.subject.withPlaceholder&&ht();var u=Cl(r.axis,d.displaceBy).point,o=Hk(r,u,t),l={placeholderSize:u,increasedBy:o,oldFrameMaxScroll:r.frame?r.frame.scroll.max:null};if(!f){var i=la({page:r.subject.page,withPlaceholder:l,axis:r.axis,frame:r.frame});return Lt({},r,{subject:i})}var h=o?rn(f.scroll.max,o):f.scroll.max,_=wb(f,h),m=la({page:r.subject.page,withPlaceholder:l,axis:r.axis,frame:_});return Lt({},r,{subject:m,frame:_})},qk=function(r){var d=r.subject.withPlaceholder;d||ht();var t=r.frame;if(!t){var f=la({page:r.subject.page,axis:r.axis,frame:null,withPlaceholder:null});return Lt({},r,{subject:f})}var u=d.oldFrameMaxScroll;u||ht();var o=wb(t,u),l=la({page:r.subject.page,axis:r.axis,frame:o,withPlaceholder:null});return Lt({},r,{subject:l,frame:o})},$k=(function(n){var r=n.previousPageBorderBoxCenter,d=n.moveRelativeTo,t=n.insideDestination,f=n.draggable,u=n.draggables,o=n.destination,l=n.viewport,i=n.afterCritical;if(!d){if(t.length)return null;var h={displaced:ml,displacedBy:hb,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},_=Cc({impact:h,draggable:f,droppable:o,draggables:u,afterCritical:i}),m=ya(f,o)?o:_b(o,f,u),s=bb({draggable:f,destination:m,newPageBorderBoxCenter:_,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return s?h:null}var c=r[o.axis.line]<=d.page.borderBox.center[o.axis.line],p=(function(){var b=d.descriptor.index;return d.descriptor.id===f.descriptor.id||c?b:b+1})(),g=Cl(o.axis,f.displaceBy);return cc({draggable:f,insideDestination:t,destination:o,viewport:l,displacedBy:g,last:ml,index:p})}),Xk=(function(n){var r=n.isMovingForward,d=n.previousPageBorderBoxCenter,t=n.draggable,f=n.isOver,u=n.draggables,o=n.droppables,l=n.viewport,i=n.afterCritical,h=zk({isMovingForward:r,pageBorderBoxCenter:d,source:f,droppables:o,viewport:l});if(!h)return null;var _=ga(h.descriptor.id,u),m=Wk({pageBorderBoxCenter:d,viewport:l,destination:h,insideDestination:_,afterCritical:i}),s=$k({previousPageBorderBoxCenter:d,destination:h,draggable:t,draggables:u,moveRelativeTo:m,insideDestination:_,viewport:l,afterCritical:i});if(!s)return null;var c=Cc({impact:s,draggable:t,droppable:h,draggables:u,afterCritical:i}),p=np({pageBorderBoxCenter:c,draggable:t,viewport:l});return{clientSelection:p,impact:s,scrollJumpRequest:null}}),Bn=(function(n){var r=n.at;return r?r.type==="REORDER"?r.destination.droppableId:r.combine.droppableId:null}),Yk=function(r,d){var t=Bn(r);return t?d[t]:null},Kk=(function(n){var r=n.state,d=n.type,t=Yk(r.impact,r.dimensions.droppables),f=!!t,u=r.dimensions.droppables[r.critical.droppable.id],o=t||u,l=o.axis.direction,i=l==="vertical"&&(d==="MOVE_UP"||d==="MOVE_DOWN")||l==="horizontal"&&(d==="MOVE_LEFT"||d==="MOVE_RIGHT");if(i&&!f)return null;var h=d==="MOVE_DOWN"||d==="MOVE_RIGHT",_=r.dimensions.draggables[r.critical.draggable.id],m=r.current.page.borderBoxCenter,s=r.dimensions,c=s.draggables,p=s.droppables;return i?Gk({isMovingForward:h,previousPageBorderBoxCenter:m,draggable:_,destination:o,draggables:c,viewport:r.viewport,previousClientSelection:r.current.client.selection,previousImpact:r.impact,afterCritical:r.afterCritical}):Xk({isMovingForward:h,previousPageBorderBoxCenter:m,draggable:_,isOver:o,draggables:c,droppables:p,viewport:r.viewport,afterCritical:r.afterCritical})});function ci(n){return n.phase==="DRAGGING"||n.phase==="COLLECTING"}function xb(n){var r=Zn(n.top,n.bottom),d=Zn(n.left,n.right);return function(f){return r(f.y)&&d(f.x)}}function Jk(n,r){return n.left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top}function Zk(n){var r=n.pageBorderBox,d=n.draggable,t=n.candidates,f=d.page.borderBox.center,u=t.map(function(o){var l=o.axis,i=fi(o.axis.line,r.center[l.line],o.page.borderBox.center[l.crossAxisLine]);return{id:o.descriptor.id,distance:pl(f,i)}}).sort(function(o,l){return l.distance-o.distance});return u[0]?u[0].id:null}function Qk(n){var r=n.pageBorderBox,d=n.draggable,t=n.droppables,f=Sc(t).filter(function(u){if(!u.isEnabled)return!1;var o=u.subject.active;if(!o||!Jk(r,o))return!1;if(xb(o)(r.center))return!0;var l=u.axis,i=o.center[l.crossAxisLine],h=r[l.crossAxisStart],_=r[l.crossAxisEnd],m=Zn(o[l.crossAxisStart],o[l.crossAxisEnd]),s=m(h),c=m(_);return!s&&!c?!0:s?h<i:_>i});return f.length?f.length===1?f[0].descriptor.id:Zk({pageBorderBox:r,draggable:d,candidates:f}):null}var jb=function(r,d){return po(kl(r,d))},eC=(function(n,r){var d=n.frame;return d?jb(r,d.scroll.diff.value):r});function Sb(n){var r=n.displaced,d=n.id;return!!(r.visible[d]||r.invisible[d])}function tC(n){var r=n.draggable,d=n.closest,t=n.inHomeList;return d?t&&d.descriptor.index>r.descriptor.index?d.descriptor.index-1:d.descriptor.index:null}var rC=(function(n){var r=n.pageBorderBoxWithDroppableScroll,d=n.draggable,t=n.destination,f=n.insideDestination,u=n.last,o=n.viewport,l=n.afterCritical,i=t.axis,h=Cl(t.axis,d.displaceBy),_=h.value,m=r[i.start],s=r[i.end],c=kc(d,f),p=Os(c,function(b){var y=b.descriptor.id,v=b.page.borderBox.center[i.line],j=ks(y,l),x=Sb({displaced:u,id:y});return j?x?s<=v:m<v-_:x?s<=v+_:m<v}),g=tC({draggable:d,closest:p,inHomeList:ya(d,t)});return cc({draggable:d,insideDestination:f,destination:t,viewport:o,last:u,displacedBy:h,index:g})}),nC=4,oC=(function(n){var r=n.draggable,d=n.pageBorderBoxWithDroppableScroll,t=n.previousImpact,f=n.destination,u=n.insideDestination,o=n.afterCritical;if(!f.isCombineEnabled)return null;var l=f.axis,i=Cl(f.axis,r.displaceBy),h=i.value,_=d[l.start],m=d[l.end],s=kc(r,u),c=Os(s,function(g){var b=g.descriptor.id,y=g.page.borderBox,v=y[l.size],j=v/nC,x=ks(b,o),E=Sb({displaced:t.displaced,id:b});return x?E?m>y[l.start]+j&&m<y[l.end]-j:_>y[l.start]-h+j&&_<y[l.end]-h-j:E?m>y[l.start]+h+j&&m<y[l.end]+h-j:_>y[l.start]+j&&_<y[l.end]-j});if(!c)return null;var p={displacedBy:i,displaced:t.displaced,at:{type:"COMBINE",combine:{draggableId:c.descriptor.id,droppableId:f.descriptor.id}}};return p}),Eb=(function(n){var r=n.pageOffset,d=n.draggable,t=n.draggables,f=n.droppables,u=n.previousImpact,o=n.viewport,l=n.afterCritical,i=jb(d.page.borderBox,r),h=Qk({pageBorderBox:i,draggable:d,droppables:f});if(!h)return vk;var _=f[h],m=ga(_.descriptor.id,t),s=eC(_,i);return oC({pageBorderBoxWithDroppableScroll:s,draggable:d,previousImpact:u,destination:_,insideDestination:m,afterCritical:l})||rC({pageBorderBoxWithDroppableScroll:s,draggable:d,destination:_,insideDestination:m,last:u.displaced,viewport:o,afterCritical:l})}),op=(function(n,r){var d;return Lt({},n,(d={},d[r.descriptor.id]=r,d))}),sC=function(r){var d=r.previousImpact,t=r.impact,f=r.droppables,u=Bn(d),o=Bn(t);if(!u||u===o)return f;var l=f[u];if(!l.subject.withPlaceholder)return f;var i=qk(l);return op(f,i)},iC=(function(n){var r=n.draggable,d=n.draggables,t=n.droppables,f=n.previousImpact,u=n.impact,o=sC({previousImpact:f,impact:u,droppables:t}),l=Bn(u);if(!l)return o;var i=t[l];if(ya(r,i)||i.subject.withPlaceholder)return o;var h=_b(i,r,d);return op(o,h)}),il=(function(n){var r=n.state,d=n.clientSelection,t=n.dimensions,f=n.viewport,u=n.impact,o=n.scrollJumpRequest,l=f||r.viewport,i=t||r.dimensions,h=d||r.current.client.selection,_=Fn(h,r.initial.client.selection),m={offset:_,selection:h,borderBoxCenter:rn(r.initial.client.borderBoxCenter,_)},s={selection:rn(m.selection,l.scroll.current),borderBoxCenter:rn(m.borderBoxCenter,l.scroll.current),offset:rn(m.offset,l.scroll.diff.value)},c={client:m,page:s};if(r.phase==="COLLECTING")return Lt({phase:"COLLECTING"},r,{dimensions:i,viewport:l,current:c});var p=i.draggables[r.critical.draggable.id],g=u||Eb({pageOffset:s.offset,draggable:p,draggables:i.draggables,droppables:i.droppables,previousImpact:r.impact,viewport:l,afterCritical:r.afterCritical}),b=iC({draggable:p,impact:g,previousImpact:r.impact,draggables:i.draggables,droppables:i.droppables}),y=Lt({},r,{current:c,dimensions:{draggables:i.draggables,droppables:b},impact:g,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return y});function aC(n,r){return n.map(function(d){return r[d]})}var kb=(function(n){var r=n.impact,d=n.viewport,t=n.draggables,f=n.destination,u=n.forceShouldAnimate,o=r.displaced,l=aC(o.all,t),i=gl({afterDragging:l,destination:f,displacedBy:r.displacedBy,viewport:d.frame,forceShouldAnimate:u,last:o});return Lt({},r,{displaced:i})}),Cb=(function(n){var r=n.impact,d=n.draggable,t=n.droppable,f=n.draggables,u=n.viewport,o=n.afterCritical,l=Cc({impact:r,draggable:d,draggables:f,droppable:t,afterCritical:o});return np({pageBorderBoxCenter:l,draggable:d,viewport:u})}),Tb=(function(n){var r=n.state,d=n.dimensions,t=n.viewport;r.movementMode!=="SNAP"&&ht();var f=r.impact,u=t||r.viewport,o=d||r.dimensions,l=o.draggables,i=o.droppables,h=l[r.critical.draggable.id],_=Bn(f);_||ht();var m=i[_],s=kb({impact:f,viewport:u,destination:m,draggables:l}),c=Cb({impact:s,draggable:h,droppable:m,draggables:l,viewport:u,afterCritical:r.afterCritical});return il({impact:s,clientSelection:c,state:r,dimensions:o,viewport:u})}),lC=(function(n){return{index:n.index,droppableId:n.droppableId}}),Pb=(function(n){var r=n.draggable,d=n.home,t=n.draggables,f=n.viewport,u=Cl(d.axis,r.displaceBy),o=ga(d.descriptor.id,t),l=o.indexOf(r);l===-1&&ht();var i=o.slice(l+1),h=i.reduce(function(c,p){return c[p.descriptor.id]=!0,c},{}),_={inVirtualList:d.descriptor.mode==="virtual",displacedBy:u,effected:h},m=gl({afterDragging:i,destination:d,displacedBy:u,last:null,viewport:f.frame,forceShouldAnimate:!1}),s={displaced:m,displacedBy:u,at:{type:"REORDER",destination:lC(r.descriptor)}};return{impact:s,afterCritical:_}}),uC=(function(n,r){return{draggables:n.draggables,droppables:op(n.droppables,r)}}),cC=(function(n){var r=n.draggable,d=n.offset,t=n.initialWindowScroll,f=sc(r.client,d),u=ic(f,t),o=Lt({},r,{placeholder:Lt({},r.placeholder,{client:f}),client:f,page:u});return o}),dC=(function(n){var r=n.frame;return r||ht(),r}),fC=(function(n){var r=n.additions,d=n.updatedDroppables,t=n.viewport,f=t.scroll.diff.value;return r.map(function(u){var o=u.descriptor.droppableId,l=d[o],i=dC(l),h=i.scroll.diff.value,_=rn(f,h),m=cC({draggable:u,offset:_,initialWindowScroll:t.scroll.initial});return m})}),hC=(function(n){var r=n.state,d=n.published,t=d.modified.map(function(j){var x=r.dimensions.droppables[j.droppableId],E=Jh(x,j.scroll);return E}),f=Lt({},r.dimensions.droppables,{},db(t)),u=fb(fC({additions:d.additions,updatedDroppables:f,viewport:r.viewport})),o=Lt({},r.dimensions.draggables,{},u);d.removals.forEach(function(j){delete o[j]});var l={droppables:f,draggables:o},i=Bn(r.impact),h=i?l.droppables[i]:null,_=l.draggables[r.critical.draggable.id],m=l.droppables[r.critical.droppable.id],s=Pb({draggable:_,home:m,draggables:o,viewport:r.viewport}),c=s.impact,p=s.afterCritical,g=h&&h.isCombineEnabled?r.impact:c,b=Eb({pageOffset:r.current.page.offset,draggable:l.draggables[r.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:g,viewport:r.viewport,afterCritical:p}),y=Lt({phase:"DRAGGING"},r,{phase:"DRAGGING",impact:b,onLiftImpact:c,dimensions:l,afterCritical:p,forceShouldAnimate:!1});if(r.phase==="COLLECTING")return y;var v=Lt({phase:"DROP_PENDING"},y,{phase:"DROP_PENDING",reason:r.reason,isWaiting:!1});return v}),Ch=function(r){return r.movementMode==="SNAP"},zf=function(r,d,t){var f=uC(r.dimensions,d);return!Ch(r)||t?il({state:r,dimensions:f}):Tb({state:r,dimensions:f})};function Vf(n){return n.isDragging&&n.movementMode==="SNAP"?Lt({phase:"DRAGGING"},n,{scrollJumpRequest:null}):n}var sv={phase:"IDLE",completed:null,shouldFlush:!1},pC=(function(n,r){if(n===void 0&&(n=sv),r.type==="FLUSH")return Lt({},sv,{shouldFlush:!0});if(r.type==="INITIAL_PUBLISH"){n.phase!=="IDLE"&&ht();var d=r.payload,t=d.critical,f=d.clientSelection,u=d.viewport,o=d.dimensions,l=d.movementMode,i=o.draggables[t.draggable.id],h=o.droppables[t.droppable.id],_={selection:f,borderBoxCenter:i.client.borderBox.center,offset:Qr},m={client:_,page:{selection:rn(_.selection,u.scroll.initial),borderBoxCenter:rn(_.selection,u.scroll.initial),offset:rn(_.selection,u.scroll.diff.value)}},s=Sc(o.droppables).every(function(de){return!de.isFixedOnPage}),c=Pb({draggable:i,home:h,draggables:o.draggables,viewport:u}),p=c.impact,g=c.afterCritical,b={phase:"DRAGGING",isDragging:!0,critical:t,movementMode:l,dimensions:o,initial:m,current:m,isWindowScrollAllowed:s,impact:p,afterCritical:g,onLiftImpact:p,viewport:u,scrollJumpRequest:null,forceShouldAnimate:null};return b}if(r.type==="COLLECTION_STARTING"){if(n.phase==="COLLECTING"||n.phase==="DROP_PENDING")return n;n.phase!=="DRAGGING"&&ht();var y=Lt({phase:"COLLECTING"},n,{phase:"COLLECTING"});return y}if(r.type==="PUBLISH_WHILE_DRAGGING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"||ht(),hC({state:n,published:r.payload});if(r.type==="MOVE"){if(n.phase==="DROP_PENDING")return n;ci(n)||ht();var v=r.payload.client;return Ss(v,n.current.client.selection)?n:il({state:n,clientSelection:v,impact:Ch(n)?n.impact:null})}if(r.type==="UPDATE_DROPPABLE_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="COLLECTING")return Vf(n);ci(n)||ht();var j=r.payload,x=j.id,E=j.newScroll,P=n.dimensions.droppables[x];if(!P)return n;var O=Jh(P,E);return zf(n,O,!1)}if(r.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(n.phase==="DROP_PENDING")return n;ci(n)||ht();var M=r.payload,D=M.id,U=M.isEnabled,I=n.dimensions.droppables[D];I||ht(),I.isEnabled===U&&ht();var B=Lt({},I,{isEnabled:U});return zf(n,B,!0)}if(r.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(n.phase==="DROP_PENDING")return n;ci(n)||ht();var R=r.payload,G=R.id,z=R.isCombineEnabled,q=n.dimensions.droppables[G];q||ht(),q.isCombineEnabled===z&&ht();var Y=Lt({},q,{isCombineEnabled:z});return zf(n,Y,!0)}if(r.type==="MOVE_BY_WINDOW_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="DROP_ANIMATING")return n;ci(n)||ht(),n.isWindowScrollAllowed||ht();var $=r.payload.newScroll;if(Ss(n.viewport.scroll.current,$))return Vf(n);var X=vb(n.viewport,$);return Ch(n)?Tb({state:n,viewport:X}):il({state:n,viewport:X})}if(r.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ci(n))return n;var ee=r.payload.maxScroll;if(Ss(ee,n.viewport.scroll.max))return n;var K=Lt({},n.viewport,{scroll:Lt({},n.viewport.scroll,{max:ee})});return Lt({phase:"DRAGGING"},n,{viewport:K})}if(r.type==="MOVE_UP"||r.type==="MOVE_DOWN"||r.type==="MOVE_LEFT"||r.type==="MOVE_RIGHT"){if(n.phase==="COLLECTING"||n.phase==="DROP_PENDING")return n;n.phase!=="DRAGGING"&&ht();var ne=Kk({state:n,type:r.type});return ne?il({state:n,impact:ne.impact,clientSelection:ne.clientSelection,scrollJumpRequest:ne.scrollJumpRequest}):n}if(r.type==="DROP_PENDING"){var T=r.payload.reason;n.phase!=="COLLECTING"&&ht();var F=Lt({phase:"DROP_PENDING"},n,{phase:"DROP_PENDING",isWaiting:!0,reason:T});return F}if(r.type==="DROP_ANIMATE"){var W=r.payload,J=W.completed,oe=W.dropDuration,se=W.newHomeClientOffset;n.phase==="DRAGGING"||n.phase==="DROP_PENDING"||ht();var fe={phase:"DROP_ANIMATING",completed:J,dropDuration:oe,newHomeClientOffset:se,dimensions:n.dimensions};return fe}if(r.type==="DROP_COMPLETE"){var ve=r.payload.completed;return{phase:"IDLE",completed:ve,shouldFlush:!1}}return n}),mC=function(r){return{type:"BEFORE_INITIAL_CAPTURE",payload:r}},gC=function(r){return{type:"LIFT",payload:r}},yC=function(r){return{type:"INITIAL_PUBLISH",payload:r}},vC=function(r){return{type:"PUBLISH_WHILE_DRAGGING",payload:r}},bC=function(){return{type:"COLLECTION_STARTING",payload:null}},wC=function(r){return{type:"UPDATE_DROPPABLE_SCROLL",payload:r}},_C=function(r){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:r}},xC=function(r){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:r}},Ob=function(r){return{type:"MOVE",payload:r}},jC=function(r){return{type:"MOVE_BY_WINDOW_SCROLL",payload:r}},SC=function(r){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:r}},EC=function(){return{type:"MOVE_UP",payload:null}},kC=function(){return{type:"MOVE_DOWN",payload:null}},CC=function(){return{type:"MOVE_RIGHT",payload:null}},TC=function(){return{type:"MOVE_LEFT",payload:null}},sp=function(){return{type:"FLUSH",payload:null}},PC=function(r){return{type:"DROP_ANIMATE",payload:r}},ip=function(r){return{type:"DROP_COMPLETE",payload:r}},Mb=function(r){return{type:"DROP",payload:r}},OC=function(r){return{type:"DROP_PENDING",payload:r}},Ib=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},MC=(function(n){return function(r){var d=r.getState,t=r.dispatch;return function(f){return function(u){if(u.type!=="LIFT"){f(u);return}var o=u.payload,l=o.id,i=o.clientSelection,h=o.movementMode,_=d();_.phase==="DROP_ANIMATING"&&t(ip({completed:_.completed})),d().phase!=="IDLE"&&ht(),t(sp()),t(mC({draggableId:l,movementMode:h}));var m={shouldPublishImmediately:h==="SNAP"},s={draggableId:l,scrollOptions:m},c=n.startPublishing(s),p=c.critical,g=c.dimensions,b=c.viewport;t(yC({critical:p,dimensions:g,clientSelection:i,movementMode:h,viewport:b}))}}}}),IC=(function(n){return function(){return function(r){return function(d){d.type==="INITIAL_PUBLISH"&&n.dragging(),d.type==="DROP_ANIMATE"&&n.dropping(d.payload.completed.result.reason),(d.type==="FLUSH"||d.type==="DROP_COMPLETE")&&n.resting(),r(d)}}}}),ap={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},yl={opacity:{drop:0,combining:.7},scale:{drop:.75}},lp={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ai=lp.outOfTheWay+"s "+ap.outOfTheWay,al={fluid:"opacity "+ai,snap:"transform "+ai+", opacity "+ai,drop:function(r){var d=r+"s "+ap.drop;return"transform "+d+", opacity "+d},outOfTheWay:"transform "+ai,placeholder:"height "+ai+", width "+ai+", margin "+ai},iv=function(r){return Ss(r,Qr)?null:"translate("+r.x+"px, "+r.y+"px)"},Th={moveTo:iv,drop:function(r,d){var t=iv(r);return t?d?t+" scale("+yl.scale.drop+")":t:null}},Ph=lp.minDropTime,Ab=lp.maxDropTime,AC=Ab-Ph,av=1500,RC=.6,DC=(function(n){var r=n.current,d=n.destination,t=n.reason,f=pl(r,d);if(f<=0)return Ph;if(f>=av)return Ab;var u=f/av,o=Ph+AC*u,l=t==="CANCEL"?o*RC:o;return Number(l.toFixed(2))}),LC=(function(n){var r=n.impact,d=n.draggable,t=n.dimensions,f=n.viewport,u=n.afterCritical,o=t.draggables,l=t.droppables,i=Bn(r),h=i?l[i]:null,_=l[d.descriptor.droppableId],m=Cb({impact:r,draggable:d,draggables:o,afterCritical:u,droppable:h||_,viewport:f}),s=Fn(m,d.client.borderBox.center);return s}),NC=(function(n){var r=n.draggables,d=n.reason,t=n.lastImpact,f=n.home,u=n.viewport,o=n.onLiftImpact;if(!t.at||d!=="DROP"){var l=kb({draggables:r,impact:o,destination:f,viewport:u,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(t.at.type==="REORDER")return{impact:t,didDropInsideDroppable:!0};var i=Lt({},t,{displaced:ml});return{impact:i,didDropInsideDroppable:!0}}),UC=(function(n){var r=n.getState,d=n.dispatch;return function(t){return function(f){if(f.type!=="DROP"){t(f);return}var u=r(),o=f.payload.reason;if(u.phase==="COLLECTING"){d(OC({reason:o}));return}if(u.phase!=="IDLE"){var l=u.phase==="DROP_PENDING"&&u.isWaiting;l&&ht(),u.phase==="DRAGGING"||u.phase==="DROP_PENDING"||ht();var i=u.critical,h=u.dimensions,_=h.draggables[u.critical.draggable.id],m=NC({reason:o,lastImpact:u.impact,afterCritical:u.afterCritical,onLiftImpact:u.onLiftImpact,home:u.dimensions.droppables[u.critical.droppable.id],viewport:u.viewport,draggables:u.dimensions.draggables}),s=m.impact,c=m.didDropInsideDroppable,p=c?Qh(s):null,g=c?Ec(s):null,b={index:i.draggable.index,droppableId:i.droppable.id},y={draggableId:_.descriptor.id,type:_.descriptor.type,source:b,reason:o,mode:u.movementMode,destination:p,combine:g},v=LC({impact:s,draggable:_,dimensions:h,viewport:u.viewport,afterCritical:u.afterCritical}),j={critical:u.critical,afterCritical:u.afterCritical,result:y,impact:s},x=!Ss(u.current.client.offset,v)||!!y.combine;if(!x){d(ip({completed:j}));return}var E=DC({current:u.current.client.offset,destination:v,reason:o}),P={newHomeClientOffset:v,dropDuration:E,completed:j};d(PC(P))}}}}),Rb=(function(){return{x:window.pageXOffset,y:window.pageYOffset}});function FC(n){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(d){d.target!==window&&d.target!==window.document||n()}}}function BC(n){var r=n.onWindowScroll;function d(){r(Rb())}var t=hl(d),f=FC(t),u=js;function o(){return u!==js}function l(){o()&&ht(),u=Jn(window,[f])}function i(){o()||ht(),t.cancel(),u(),u=js}return{start:l,stop:i,isActive:o}}var GC=function(r){return r.type==="DROP_COMPLETE"||r.type==="DROP_ANIMATE"||r.type==="FLUSH"},zC=(function(n){var r=BC({onWindowScroll:function(t){n.dispatch(jC({newScroll:t}))}});return function(d){return function(t){!r.isActive()&&t.type==="INITIAL_PUBLISH"&&r.start(),r.isActive()&&GC(t)&&r.stop(),d(t)}}}),VC=(function(n){var r=!1,d=!1,t=setTimeout(function(){d=!0}),f=function(o){r||d||(r=!0,n(o),clearTimeout(t))};return f.wasCalled=function(){return r},f}),WC=(function(){var n=[],r=function(u){var o=Zh(n,function(h){return h.timerId===u});o===-1&&ht();var l=n.splice(o,1),i=l[0];i.callback()},d=function(u){var o=setTimeout(function(){return r(o)}),l={timerId:o,callback:u};n.push(l)},t=function(){if(n.length){var u=[].concat(n);n.length=0,u.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:d,flush:t}}),HC=function(r,d){return r==null&&d==null?!0:r==null||d==null?!1:r.droppableId===d.droppableId&&r.index===d.index},qC=function(r,d){return r==null&&d==null?!0:r==null||d==null?!1:r.draggableId===d.draggableId&&r.droppableId===d.droppableId},$C=function(r,d){if(r===d)return!0;var t=r.draggable.id===d.draggable.id&&r.draggable.droppableId===d.draggable.droppableId&&r.draggable.type===d.draggable.type&&r.draggable.index===d.draggable.index,f=r.droppable.id===d.droppable.id&&r.droppable.type===d.droppable.type;return t&&f},Ya=function(r,d){d()},Wu=function(r,d){return{draggableId:r.draggable.id,type:r.droppable.type,source:{droppableId:r.droppable.id,index:r.draggable.index},mode:d}},Wf=function(r,d,t,f){if(!r){t(f(d));return}var u=VC(t),o={announce:u};r(d,o),u.wasCalled()||t(f(d))},XC=(function(n,r){var d=WC(),t=null,f=function(s,c){t&&ht(),Ya("onBeforeCapture",function(){var p=n().onBeforeCapture;if(p){var g={draggableId:s,mode:c};p(g)}})},u=function(s,c){t&&ht(),Ya("onBeforeDragStart",function(){var p=n().onBeforeDragStart;p&&p(Wu(s,c))})},o=function(s,c){t&&ht();var p=Wu(s,c);t={mode:c,lastCritical:s,lastLocation:p.source,lastCombine:null},d.add(function(){Ya("onDragStart",function(){return Wf(n().onDragStart,p,r,Zu.onDragStart)})})},l=function(s,c){var p=Qh(c),g=Ec(c);t||ht();var b=!$C(s,t.lastCritical);b&&(t.lastCritical=s);var y=!HC(t.lastLocation,p);y&&(t.lastLocation=p);var v=!qC(t.lastCombine,g);if(v&&(t.lastCombine=g),!(!b&&!y&&!v)){var j=Lt({},Wu(s,t.mode),{combine:g,destination:p});d.add(function(){Ya("onDragUpdate",function(){return Wf(n().onDragUpdate,j,r,Zu.onDragUpdate)})})}},i=function(){t||ht(),d.flush()},h=function(s){t||ht(),t=null,Ya("onDragEnd",function(){return Wf(n().onDragEnd,s,r,Zu.onDragEnd)})},_=function(){if(t){var s=Lt({},Wu(t.lastCritical,t.mode),{combine:null,destination:null,reason:"CANCEL"});h(s)}};return{beforeCapture:f,beforeStart:u,start:o,update:l,flush:i,drop:h,abort:_}}),YC=(function(n,r){var d=XC(n,r);return function(t){return function(f){return function(u){if(u.type==="BEFORE_INITIAL_CAPTURE"){d.beforeCapture(u.payload.draggableId,u.payload.movementMode);return}if(u.type==="INITIAL_PUBLISH"){var o=u.payload.critical;d.beforeStart(o,u.payload.movementMode),f(u),d.start(o,u.payload.movementMode);return}if(u.type==="DROP_COMPLETE"){var l=u.payload.completed.result;d.flush(),f(u),d.drop(l);return}if(f(u),u.type==="FLUSH"){d.abort();return}var i=t.getState();i.phase==="DRAGGING"&&d.update(i.critical,i.impact)}}}}),KC=(function(n){return function(r){return function(d){if(d.type!=="DROP_ANIMATION_FINISHED"){r(d);return}var t=n.getState();t.phase!=="DROP_ANIMATING"&&ht(),n.dispatch(ip({completed:t.completed}))}}}),JC=(function(n){var r=null,d=null;function t(){d&&(cancelAnimationFrame(d),d=null),r&&(r(),r=null)}return function(f){return function(u){if((u.type==="FLUSH"||u.type==="DROP_COMPLETE"||u.type==="DROP_ANIMATION_FINISHED")&&t(),f(u),u.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var i=n.getState();i.phase==="DROP_ANIMATING"&&n.dispatch(Ib())}};d=requestAnimationFrame(function(){d=null,r=Jn(window,[o])})}}}}),ZC=(function(n){return function(){return function(r){return function(d){(d.type==="DROP_COMPLETE"||d.type==="FLUSH"||d.type==="DROP_ANIMATE")&&n.stopPublishing(),r(d)}}}}),QC=(function(n){var r=!1;return function(){return function(d){return function(t){if(t.type==="INITIAL_PUBLISH"){r=!0,n.tryRecordFocus(t.payload.critical.draggable.id),d(t),n.tryRestoreFocusRecorded();return}if(d(t),!!r){if(t.type==="FLUSH"){r=!1,n.tryRestoreFocusRecorded();return}if(t.type==="DROP_COMPLETE"){r=!1;var f=t.payload.completed.result;f.combine&&n.tryShiftRecord(f.draggableId,f.combine.draggableId),n.tryRestoreFocusRecorded()}}}}}}),eT=function(r){return r.type==="DROP_COMPLETE"||r.type==="DROP_ANIMATE"||r.type==="FLUSH"},tT=(function(n){return function(r){return function(d){return function(t){if(eT(t)){n.stop(),d(t);return}if(t.type==="INITIAL_PUBLISH"){d(t);var f=r.getState();f.phase!=="DRAGGING"&&ht(),n.start(f);return}d(t),n.scroll(r.getState())}}}}),rT=(function(n){return function(r){return function(d){if(r(d),d.type==="PUBLISH_WHILE_DRAGGING"){var t=n.getState();t.phase==="DROP_PENDING"&&(t.isWaiting||n.dispatch(Mb({reason:t.reason})))}}}}),nT=K0,oT=(function(n){var r=n.dimensionMarshal,d=n.focusMarshal,t=n.styleMarshal,f=n.getResponders,u=n.announce,o=n.autoScroller;return Y0(pC,nT(lE(IC(t),ZC(r),MC(r),UC,KC,JC,rT,tT(o),zC,QC(d),YC(f,u))))}),Hf=function(){return{additions:{},removals:{},modified:{}}};function sT(n){var r=n.registry,d=n.callbacks,t=Hf(),f=null,u=function(){f||(d.collectionStarting(),f=requestAnimationFrame(function(){f=null;var _=t,m=_.additions,s=_.removals,c=_.modified,p=Object.keys(m).map(function(y){return r.draggable.getById(y).getDimension(Qr)}).sort(function(y,v){return y.descriptor.index-v.descriptor.index}),g=Object.keys(c).map(function(y){var v=r.droppable.getById(y),j=v.callbacks.getScrollWhileDragging();return{droppableId:y,scroll:j}}),b={additions:p,removals:Object.keys(s),modified:g};t=Hf(),d.publish(b)}))},o=function(_){var m=_.descriptor.id;t.additions[m]=_,t.modified[_.descriptor.droppableId]=!0,t.removals[m]&&delete t.removals[m],u()},l=function(_){var m=_.descriptor;t.removals[m.id]=!0,t.modified[m.droppableId]=!0,t.additions[m.id]&&delete t.additions[m.id],u()},i=function(){f&&(cancelAnimationFrame(f),f=null,t=Hf())};return{add:o,remove:l,stop:i}}var Db=(function(n){var r=n.scrollHeight,d=n.scrollWidth,t=n.height,f=n.width,u=Fn({x:d,y:r},{x:f,y:t}),o={x:Math.max(0,u.x),y:Math.max(0,u.y)};return o}),Lb=(function(){var n=document.documentElement;return n||ht(),n}),Nb=(function(){var n=Lb(),r=Db({scrollHeight:n.scrollHeight,scrollWidth:n.scrollWidth,width:n.clientWidth,height:n.clientHeight});return r}),iT=(function(){var n=Rb(),r=Nb(),d=n.y,t=n.x,f=Lb(),u=f.clientWidth,o=f.clientHeight,l=t+u,i=d+o,h=po({top:d,left:t,right:l,bottom:i}),_={frame:h,scroll:{initial:n,current:n,max:r,diff:{value:Qr,displacement:Qr}}};return _}),aT=(function(n){var r=n.critical,d=n.scrollOptions,t=n.registry,f=iT(),u=f.scroll.current,o=r.droppable,l=t.droppable.getAllByType(o.type).map(function(m){return m.callbacks.getDimensionAndWatchScroll(u,d)}),i=t.draggable.getAllByType(r.draggable.type).map(function(m){return m.getDimension(u)}),h={draggables:fb(i),droppables:db(l)},_={dimensions:h,critical:r,viewport:f};return _});function lv(n,r,d){if(d.descriptor.id===r.id||d.descriptor.type!==r.type)return!1;var t=n.droppable.getById(d.descriptor.droppableId);return t.descriptor.mode==="virtual"}var lT=(function(n,r){var d=null,t=sT({callbacks:{publish:r.publishWhileDragging,collectionStarting:r.collectionStarting},registry:n}),f=function(c,p){n.droppable.exists(c)||ht(),d&&r.updateDroppableIsEnabled({id:c,isEnabled:p})},u=function(c,p){d&&(n.droppable.exists(c)||ht(),r.updateDroppableIsCombineEnabled({id:c,isCombineEnabled:p}))},o=function(c,p){d&&(n.droppable.exists(c)||ht(),r.updateDroppableScroll({id:c,newScroll:p}))},l=function(c,p){d&&n.droppable.getById(c).callbacks.scroll(p)},i=function(){if(d){t.stop();var c=d.critical.droppable;n.droppable.getAllByType(c.type).forEach(function(p){return p.callbacks.dragStopped()}),d.unsubscribe(),d=null}},h=function(c){d||ht();var p=d.critical.draggable;c.type==="ADDITION"&&lv(n,p,c.value)&&t.add(c.value),c.type==="REMOVAL"&&lv(n,p,c.value)&&t.remove(c.value)},_=function(c){d&&ht();var p=n.draggable.getById(c.draggableId),g=n.droppable.getById(p.descriptor.droppableId),b={draggable:p.descriptor,droppable:g.descriptor},y=n.subscribe(h);return d={critical:b,unsubscribe:y},aT({critical:b,registry:n,scrollOptions:c.scrollOptions})},m={updateDroppableIsEnabled:f,updateDroppableIsCombineEnabled:u,scrollDroppable:l,updateDroppableScroll:o,startPublishing:_,stopPublishing:i};return m}),Ub=(function(n,r){return n.phase==="IDLE"?!0:n.phase!=="DROP_ANIMATING"||n.completed.result.draggableId===r?!1:n.completed.result.reason==="DROP"}),uT=(function(n){window.scrollBy(n.x,n.y)}),cT=Zr(function(n){return Sc(n).filter(function(r){return!(!r.isEnabled||!r.frame)})}),dT=function(r,d){var t=Os(cT(d),function(f){return f.frame||ht(),xb(f.frame.pageMarginBox)(r)});return t},fT=(function(n){var r=n.center,d=n.destination,t=n.droppables;if(d){var f=t[d];return f.frame?f:null}var u=dT(r,t);return u}),Es={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(r){return Math.pow(r,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},hT=(function(n,r){var d=n[r.size]*Es.startFromPercentage,t=n[r.size]*Es.maxScrollAtPercentage,f={startScrollingFrom:d,maxScrollValueAt:t};return f}),Fb=(function(n){var r=n.startOfRange,d=n.endOfRange,t=n.current,f=d-r;if(f===0)return 0;var u=t-r,o=u/f;return o}),up=1,pT=(function(n,r){if(n>r.startScrollingFrom)return 0;if(n<=r.maxScrollValueAt)return Es.maxPixelScroll;if(n===r.startScrollingFrom)return up;var d=Fb({startOfRange:r.maxScrollValueAt,endOfRange:r.startScrollingFrom,current:n}),t=1-d,f=Es.maxPixelScroll*Es.ease(t);return Math.ceil(f)}),uv=Es.durationDampening.accelerateAt,cv=Es.durationDampening.stopDampeningAt,mT=(function(n,r){var d=r,t=cv,f=Date.now(),u=f-d;if(u>=cv)return n;if(u<uv)return up;var o=Fb({startOfRange:uv,endOfRange:t,current:u}),l=n*Es.ease(o);return Math.ceil(l)}),dv=(function(n){var r=n.distanceToEdge,d=n.thresholds,t=n.dragStartTime,f=n.shouldUseTimeDampening,u=pT(r,d);return u===0?0:f?Math.max(mT(u,t),up):u}),fv=(function(n){var r=n.container,d=n.distanceToEdges,t=n.dragStartTime,f=n.axis,u=n.shouldUseTimeDampening,o=hT(r,f),l=d[f.end]<d[f.start];return l?dv({distanceToEdge:d[f.end],thresholds:o,dragStartTime:t,shouldUseTimeDampening:u}):-1*dv({distanceToEdge:d[f.start],thresholds:o,dragStartTime:t,shouldUseTimeDampening:u})}),gT=(function(n){var r=n.container,d=n.subject,t=n.proposedScroll,f=d.height>r.height,u=d.width>r.width;return!u&&!f?t:u&&f?null:{x:u?0:t.x,y:f?0:t.y}}),yT=ub(function(n){return n===0?0:n}),Bb=(function(n){var r=n.dragStartTime,d=n.container,t=n.subject,f=n.center,u=n.shouldUseTimeDampening,o={top:f.y-d.top,right:d.right-f.x,bottom:d.bottom-f.y,left:f.x-d.left},l=fv({container:d,distanceToEdges:o,dragStartTime:r,axis:ep,shouldUseTimeDampening:u}),i=fv({container:d,distanceToEdges:o,dragStartTime:r,axis:mb,shouldUseTimeDampening:u}),h=yT({x:i,y:l});if(Ss(h,Qr))return null;var _=gT({container:d,subject:t,proposedScroll:h});return _?Ss(_,Qr)?null:_:null}),vT=ub(function(n){return n===0?0:n>0?1:-1}),cp=(function(){var n=function(d,t){return d<0?d:d>t?d-t:0};return function(r){var d=r.current,t=r.max,f=r.change,u=rn(d,f),o={x:n(u.x,t.x),y:n(u.y,t.y)};return Ss(o,Qr)?null:o}})(),Gb=function(r){var d=r.max,t=r.current,f=r.change,u={x:Math.max(t.x,d.x),y:Math.max(t.y,d.y)},o=vT(f),l=cp({max:u,current:t,change:o});return!l||o.x!==0&&l.x===0||o.y!==0&&l.y===0},dp=function(r,d){return Gb({current:r.scroll.current,max:r.scroll.max,change:d})},bT=function(r,d){if(!dp(r,d))return null;var t=r.scroll.max,f=r.scroll.current;return cp({current:f,max:t,change:d})},fp=function(r,d){var t=r.frame;return t?Gb({current:t.scroll.current,max:t.scroll.max,change:d}):!1},wT=function(r,d){var t=r.frame;return!t||!fp(r,d)?null:cp({current:t.scroll.current,max:t.scroll.max,change:d})},_T=(function(n){var r=n.viewport,d=n.subject,t=n.center,f=n.dragStartTime,u=n.shouldUseTimeDampening,o=Bb({dragStartTime:f,container:r.frame,subject:d,center:t,shouldUseTimeDampening:u});return o&&dp(r,o)?o:null}),xT=(function(n){var r=n.droppable,d=n.subject,t=n.center,f=n.dragStartTime,u=n.shouldUseTimeDampening,o=r.frame;if(!o)return null;var l=Bb({dragStartTime:f,container:o.pageMarginBox,subject:d,center:t,shouldUseTimeDampening:u});return l&&fp(r,l)?l:null}),hv=(function(n){var r=n.state,d=n.dragStartTime,t=n.shouldUseTimeDampening,f=n.scrollWindow,u=n.scrollDroppable,o=r.current.page.borderBoxCenter,l=r.dimensions.draggables[r.critical.draggable.id],i=l.page.marginBox;if(r.isWindowScrollAllowed){var h=r.viewport,_=_T({dragStartTime:d,viewport:h,subject:i,center:o,shouldUseTimeDampening:t});if(_){f(_);return}}var m=fT({center:o,destination:Bn(r.impact),droppables:r.dimensions.droppables});if(m){var s=xT({dragStartTime:d,droppable:m,subject:i,center:o,shouldUseTimeDampening:t});s&&u(m.descriptor.id,s)}}),jT=(function(n){var r=n.scrollWindow,d=n.scrollDroppable,t=hl(r),f=hl(d),u=null,o=function(_){u||ht();var m=u,s=m.shouldUseTimeDampening,c=m.dragStartTime;hv({state:_,scrollWindow:t,scrollDroppable:f,dragStartTime:c,shouldUseTimeDampening:s})},l=function(_){u&&ht();var m=Date.now(),s=!1,c=function(){s=!0};hv({state:_,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:c,scrollDroppable:c}),u={dragStartTime:m,shouldUseTimeDampening:s},s&&o(_)},i=function(){u&&(t.cancel(),f.cancel(),u=null)};return{start:l,stop:i,scroll:o}}),ST=(function(n){var r=n.move,d=n.scrollDroppable,t=n.scrollWindow,f=function(h,_){var m=rn(h.current.client.selection,_);r({client:m})},u=function(h,_){if(!fp(h,_))return _;var m=wT(h,_);if(!m)return d(h.descriptor.id,_),null;var s=Fn(_,m);d(h.descriptor.id,s);var c=Fn(_,s);return c},o=function(h,_,m){if(!h||!dp(_,m))return m;var s=bT(_,m);if(!s)return t(m),null;var c=Fn(m,s);t(c);var p=Fn(m,c);return p},l=function(h){var _=h.scrollJumpRequest;if(_){var m=Bn(h.impact);m||ht();var s=u(h.dimensions.droppables[m],_);if(s){var c=h.viewport,p=o(h.isWindowScrollAllowed,c,s);p&&f(h,p)}}};return l}),ET=(function(n){var r=n.scrollDroppable,d=n.scrollWindow,t=n.move,f=jT({scrollWindow:d,scrollDroppable:r}),u=ST({move:t,scrollWindow:d,scrollDroppable:r}),o=function(h){if(h.phase==="DRAGGING"){if(h.movementMode==="FLUID"){f.scroll(h);return}h.scrollJumpRequest&&u(h)}},l={scroll:o,start:f.start,stop:f.stop};return l}),ua="data-rbd",ca=(function(){var n=ua+"-drag-handle";return{base:n,draggableId:n+"-draggable-id",contextId:n+"-context-id"}})(),Oh=(function(){var n=ua+"-draggable";return{base:n,contextId:n+"-context-id",id:n+"-id"}})(),kT=(function(){var n=ua+"-droppable";return{base:n,contextId:n+"-context-id",id:n+"-id"}})(),pv={contextId:ua+"-scroll-container-context-id"},CT=function(r){return function(d){return"["+d+'="'+r+'"]'}},Ka=function(r,d){return r.map(function(t){var f=t.styles[d];return f?t.selector+" { "+f+" }":""}).join(" ")},TT="pointer-events: none;",PT=(function(n){var r=CT(n),d=(function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:r(ca.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:TT,dropAnimating:l}}})(),t=(function(){var l=`
      transition: `+al.outOfTheWay+`;
    `;return{selector:r(Oh.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),f={selector:r(kT.contextId),styles:{always:"overflow-anchor: none;"}},u={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[t,d,f,u];return{always:Ka(o,"always"),resting:Ka(o,"resting"),dragging:Ka(o,"dragging"),dropAnimating:Ka(o,"dropAnimating"),userCancel:Ka(o,"userCancel")}}),Gn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?De.useLayoutEffect:De.useEffect,qf=function(){var r=document.querySelector("head");return r||ht(),r},mv=function(r){var d=document.createElement("style");return r&&d.setAttribute("nonce",r),d.type="text/css",d};function OT(n,r){var d=Jt(function(){return PT(n)},[n]),t=De.useRef(null),f=De.useRef(null),u=Mt(Zr(function(m){var s=f.current;s||ht(),s.textContent=m}),[]),o=Mt(function(m){var s=t.current;s||ht(),s.textContent=m},[]);Gn(function(){!t.current&&!f.current||ht();var m=mv(r),s=mv(r);return t.current=m,f.current=s,m.setAttribute(ua+"-always",n),s.setAttribute(ua+"-dynamic",n),qf().appendChild(m),qf().appendChild(s),o(d.always),u(d.resting),function(){var c=function(g){var b=g.current;b||ht(),qf().removeChild(b),g.current=null};c(t),c(f)}},[r,o,u,d.always,d.resting,n]);var l=Mt(function(){return u(d.dragging)},[u,d.dragging]),i=Mt(function(m){if(m==="DROP"){u(d.dropAnimating);return}u(d.userCancel)},[u,d.dropAnimating,d.userCancel]),h=Mt(function(){f.current&&u(d.resting)},[u,d.resting]),_=Jt(function(){return{dragging:l,dropping:i,resting:h}},[l,i,h]);return _}var zb=(function(n){return n&&n.ownerDocument?n.ownerDocument.defaultView:window});function Tc(n){return n instanceof zb(n).HTMLElement}function MT(n,r){var d="["+ca.contextId+'="'+n+'"]',t=cb(document.querySelectorAll(d));if(!t.length)return null;var f=Os(t,function(u){return u.getAttribute(ca.draggableId)===r});return!f||!Tc(f)?null:f}function IT(n){var r=De.useRef({}),d=De.useRef(null),t=De.useRef(null),f=De.useRef(!1),u=Mt(function(s,c){var p={id:s,focus:c};return r.current[s]=p,function(){var b=r.current,y=b[s];y!==p&&delete b[s]}},[]),o=Mt(function(s){var c=MT(n,s);c&&c!==document.activeElement&&c.focus()},[n]),l=Mt(function(s,c){d.current===s&&(d.current=c)},[]),i=Mt(function(){t.current||f.current&&(t.current=requestAnimationFrame(function(){t.current=null;var s=d.current;s&&o(s)}))},[o]),h=Mt(function(s){d.current=null;var c=document.activeElement;c&&c.getAttribute(ca.draggableId)===s&&(d.current=s)},[]);Gn(function(){return f.current=!0,function(){f.current=!1;var s=t.current;s&&cancelAnimationFrame(s)}},[]);var _=Jt(function(){return{register:u,tryRecordFocus:h,tryRestoreFocusRecorded:i,tryShiftRecord:l}},[u,h,i,l]);return _}function AT(){var n={draggables:{},droppables:{}},r=[];function d(m){return r.push(m),function(){var c=r.indexOf(m);c!==-1&&r.splice(c,1)}}function t(m){r.length&&r.forEach(function(s){return s(m)})}function f(m){return n.draggables[m]||null}function u(m){var s=f(m);return s||ht(),s}var o={register:function(s){n.draggables[s.descriptor.id]=s,t({type:"ADDITION",value:s})},update:function(s,c){var p=n.draggables[c.descriptor.id];p&&p.uniqueId===s.uniqueId&&(delete n.draggables[c.descriptor.id],n.draggables[s.descriptor.id]=s)},unregister:function(s){var c=s.descriptor.id,p=f(c);p&&s.uniqueId===p.uniqueId&&(delete n.draggables[c],t({type:"REMOVAL",value:s}))},getById:u,findById:f,exists:function(s){return!!f(s)},getAllByType:function(s){return uc(n.draggables).filter(function(c){return c.descriptor.type===s})}};function l(m){return n.droppables[m]||null}function i(m){var s=l(m);return s||ht(),s}var h={register:function(s){n.droppables[s.descriptor.id]=s},unregister:function(s){var c=l(s.descriptor.id);c&&s.uniqueId===c.uniqueId&&delete n.droppables[s.descriptor.id]},getById:i,findById:l,exists:function(s){return!!l(s)},getAllByType:function(s){return uc(n.droppables).filter(function(c){return c.descriptor.type===s})}};function _(){n.draggables={},n.droppables={},r.length=0}return{draggable:o,droppable:h,subscribe:d,clean:_}}function RT(){var n=Jt(AT,[]);return De.useEffect(function(){return function(){requestAnimationFrame(n.clean)}},[n]),n}var hp=Ve.createContext(null),dc=(function(){var n=document.body;return n||ht(),n}),DT={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},LT=function(r){return"rbd-announcement-"+r};function NT(n){var r=Jt(function(){return LT(n)},[n]),d=De.useRef(null);De.useEffect(function(){var u=document.createElement("div");return d.current=u,u.id=r,u.setAttribute("aria-live","assertive"),u.setAttribute("aria-atomic","true"),Lt(u.style,DT),dc().appendChild(u),function(){setTimeout(function(){var i=dc();i.contains(u)&&i.removeChild(u),u===d.current&&(d.current=null)})}},[r]);var t=Mt(function(f){var u=d.current;if(u){u.textContent=f;return}},[]);return t}var UT=0,FT={separator:"::"};function pp(n,r){return r===void 0&&(r=FT),Jt(function(){return""+n+r.separator+UT++},[r.separator,n])}function BT(n){var r=n.contextId,d=n.uniqueId;return"rbd-hidden-text-"+r+"-"+d}function GT(n){var r=n.contextId,d=n.text,t=pp("hidden-text",{separator:"-"}),f=Jt(function(){return BT({contextId:r,uniqueId:t})},[t,r]);return De.useEffect(function(){var o=document.createElement("div");return o.id=f,o.textContent=d,o.style.display="none",dc().appendChild(o),function(){var i=dc();i.contains(o)&&i.removeChild(o)}},[f,d]),f}var Pc=Ve.createContext(null);function Vb(n){var r=De.useRef(n);return De.useEffect(function(){r.current=n}),r}function zT(){var n=null;function r(){return!!n}function d(o){return o===n}function t(o){n&&ht();var l={abandon:o};return n=l,l}function f(){n||ht(),n=null}function u(){n&&(n.abandon(),f())}return{isClaimed:r,isActive:d,claim:t,release:f,tryAbandon:u}}var VT=9,WT=13,mp=27,Wb=32,HT=33,qT=34,$T=35,XT=36,YT=37,KT=38,JT=39,ZT=40,Hu,QT=(Hu={},Hu[WT]=!0,Hu[VT]=!0,Hu),Hb=(function(n){QT[n.keyCode]&&n.preventDefault()}),Oc=(function(){var n="visibilitychange";if(typeof document>"u")return n;var r=[n,"ms"+n,"webkit"+n,"moz"+n,"o"+n],d=Os(r,function(t){return"on"+t in document});return d||n})(),qb=0,gv=5;function eP(n,r){return Math.abs(r.x-n.x)>=gv||Math.abs(r.y-n.y)>=gv}var yv={type:"IDLE"};function tP(n){var r=n.cancel,d=n.completed,t=n.getPhase,f=n.setPhase;return[{eventName:"mousemove",fn:function(o){var l=o.button,i=o.clientX,h=o.clientY;if(l===qb){var _={x:i,y:h},m=t();if(m.type==="DRAGGING"){o.preventDefault(),m.actions.move(_);return}m.type!=="PENDING"&&ht();var s=m.point;if(eP(s,_)){o.preventDefault();var c=m.actions.fluidLift(_);f({type:"DRAGGING",actions:c})}}}},{eventName:"mouseup",fn:function(o){var l=t();if(l.type!=="DRAGGING"){r();return}o.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),d()}},{eventName:"mousedown",fn:function(o){t().type==="DRAGGING"&&o.preventDefault(),r()}},{eventName:"keydown",fn:function(o){var l=t();if(l.type==="PENDING"){r();return}if(o.keyCode===mp){o.preventDefault(),r();return}Hb(o)}},{eventName:"resize",fn:r},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){t().type==="PENDING"&&r()}},{eventName:"webkitmouseforcedown",fn:function(o){var l=t();if(l.type==="IDLE"&&ht(),l.actions.shouldRespectForcePress()){r();return}o.preventDefault()}},{eventName:Oc,fn:r}]}function rP(n){var r=De.useRef(yv),d=De.useRef(js),t=Jt(function(){return{eventName:"mousedown",fn:function(m){if(!m.defaultPrevented&&m.button===qb&&!(m.ctrlKey||m.metaKey||m.shiftKey||m.altKey)){var s=n.findClosestDraggableId(m);if(s){var c=n.tryGetLock(s,o,{sourceEvent:m});if(c){m.preventDefault();var p={x:m.clientX,y:m.clientY};d.current(),h(c,p)}}}}}},[n]),f=Jt(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(m){if(!m.defaultPrevented){var s=n.findClosestDraggableId(m);if(s){var c=n.findOptionsForDraggable(s);c&&(c.shouldRespectForcePress||n.canGetLock(s)&&m.preventDefault())}}}}},[n]),u=Mt(function(){var m={passive:!1,capture:!0};d.current=Jn(window,[f,t],m)},[f,t]),o=Mt(function(){var _=r.current;_.type!=="IDLE"&&(r.current=yv,d.current(),u())},[u]),l=Mt(function(){var _=r.current;o(),_.type==="DRAGGING"&&_.actions.cancel({shouldBlockNextClick:!0}),_.type==="PENDING"&&_.actions.abort()},[o]),i=Mt(function(){var m={capture:!0,passive:!1},s=tP({cancel:l,completed:o,getPhase:function(){return r.current},setPhase:function(p){r.current=p}});d.current=Jn(window,s,m)},[l,o]),h=Mt(function(m,s){r.current.type!=="IDLE"&&ht(),r.current={type:"PENDING",point:s,actions:m},i()},[i]);Gn(function(){return u(),function(){d.current()}},[u])}var ea;function nP(){}var oP=(ea={},ea[qT]=!0,ea[HT]=!0,ea[XT]=!0,ea[$T]=!0,ea);function sP(n,r){function d(){r(),n.cancel()}function t(){r(),n.drop()}return[{eventName:"keydown",fn:function(u){if(u.keyCode===mp){u.preventDefault(),d();return}if(u.keyCode===Wb){u.preventDefault(),t();return}if(u.keyCode===ZT){u.preventDefault(),n.moveDown();return}if(u.keyCode===KT){u.preventDefault(),n.moveUp();return}if(u.keyCode===JT){u.preventDefault(),n.moveRight();return}if(u.keyCode===YT){u.preventDefault(),n.moveLeft();return}if(oP[u.keyCode]){u.preventDefault();return}Hb(u)}},{eventName:"mousedown",fn:d},{eventName:"mouseup",fn:d},{eventName:"click",fn:d},{eventName:"touchstart",fn:d},{eventName:"resize",fn:d},{eventName:"wheel",fn:d,options:{passive:!0}},{eventName:Oc,fn:d}]}function iP(n){var r=De.useRef(nP),d=Jt(function(){return{eventName:"keydown",fn:function(u){if(u.defaultPrevented||u.keyCode!==Wb)return;var o=n.findClosestDraggableId(u);if(!o)return;var l=n.tryGetLock(o,_,{sourceEvent:u});if(!l)return;u.preventDefault();var i=!0,h=l.snapLift();r.current();function _(){i||ht(),i=!1,r.current(),t()}r.current=Jn(window,sP(h,_),{capture:!0,passive:!1})}}},[n]),t=Mt(function(){var u={passive:!1,capture:!0};r.current=Jn(window,[d],u)},[d]);Gn(function(){return t(),function(){r.current()}},[t])}var $f={type:"IDLE"},aP=120,lP=.15;function uP(n){var r=n.cancel,d=n.getPhase;return[{eventName:"orientationchange",fn:r},{eventName:"resize",fn:r},{eventName:"contextmenu",fn:function(f){f.preventDefault()}},{eventName:"keydown",fn:function(f){if(d().type!=="DRAGGING"){r();return}f.keyCode===mp&&f.preventDefault(),r()}},{eventName:Oc,fn:r}]}function cP(n){var r=n.cancel,d=n.completed,t=n.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(u){var o=t();if(o.type!=="DRAGGING"){r();return}o.hasMoved=!0;var l=u.touches[0],i=l.clientX,h=l.clientY,_={x:i,y:h};u.preventDefault(),o.actions.move(_)}},{eventName:"touchend",fn:function(u){var o=t();if(o.type!=="DRAGGING"){r();return}u.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),d()}},{eventName:"touchcancel",fn:function(u){if(t().type!=="DRAGGING"){r();return}u.preventDefault(),r()}},{eventName:"touchforcechange",fn:function(u){var o=t();o.type==="IDLE"&&ht();var l=u.touches[0];if(l){var i=l.force>=lP;if(i){var h=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){h&&r();return}if(h){if(o.hasMoved){u.preventDefault();return}r();return}u.preventDefault()}}}},{eventName:Oc,fn:r}]}function dP(n){var r=De.useRef($f),d=De.useRef(js),t=Mt(function(){return r.current},[]),f=Mt(function(c){r.current=c},[]),u=Jt(function(){return{eventName:"touchstart",fn:function(c){if(!c.defaultPrevented){var p=n.findClosestDraggableId(c);if(p){var g=n.tryGetLock(p,l,{sourceEvent:c});if(g){var b=c.touches[0],y=b.clientX,v=b.clientY,j={x:y,y:v};d.current(),m(g,j)}}}}}},[n]),o=Mt(function(){var c={capture:!0,passive:!1};d.current=Jn(window,[u],c)},[u]),l=Mt(function(){var s=r.current;s.type!=="IDLE"&&(s.type==="PENDING"&&clearTimeout(s.longPressTimerId),f($f),d.current(),o())},[o,f]),i=Mt(function(){var s=r.current;l(),s.type==="DRAGGING"&&s.actions.cancel({shouldBlockNextClick:!0}),s.type==="PENDING"&&s.actions.abort()},[l]),h=Mt(function(){var c={capture:!0,passive:!1},p={cancel:i,completed:l,getPhase:t},g=Jn(window,cP(p),c),b=Jn(window,uP(p),c);d.current=function(){g(),b()}},[i,t,l]),_=Mt(function(){var c=t();c.type!=="PENDING"&&ht();var p=c.actions.fluidLift(c.point);f({type:"DRAGGING",actions:p,hasMoved:!1})},[t,f]),m=Mt(function(c,p){t().type!=="IDLE"&&ht();var g=setTimeout(_,aP);f({type:"PENDING",point:p,actions:c,longPressTimerId:g}),h()},[h,t,f,_]);Gn(function(){return o(),function(){d.current();var p=t();p.type==="PENDING"&&(clearTimeout(p.longPressTimerId),f($f))}},[t,o,f]),Gn(function(){var c=Jn(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return c},[])}var fP={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function $b(n,r){if(r==null)return!1;var d=!!fP[r.tagName.toLowerCase()];if(d)return!0;var t=r.getAttribute("contenteditable");return t==="true"||t===""?!0:r===n?!1:$b(n,r.parentElement)}function hP(n,r){var d=r.target;return Tc(d)?$b(n,d):!1}var pP=(function(n){return po(n.getBoundingClientRect()).center});function mP(n){return n instanceof zb(n).Element}var gP=(function(){var n="matches";if(typeof document>"u")return n;var r=[n,"msMatchesSelector","webkitMatchesSelector"],d=Os(r,function(t){return t in Element.prototype});return d||n})();function Xb(n,r){return n==null?null:n[gP](r)?n:Xb(n.parentElement,r)}function yP(n,r){return n.closest?n.closest(r):Xb(n,r)}function vP(n){return"["+ca.contextId+'="'+n+'"]'}function bP(n,r){var d=r.target;if(!mP(d))return null;var t=vP(n),f=yP(d,t);return!f||!Tc(f)?null:f}function wP(n,r){var d=bP(n,r);return d?d.getAttribute(ca.draggableId):null}function _P(n,r){var d="["+Oh.contextId+'="'+n+'"]',t=cb(document.querySelectorAll(d)),f=Os(t,function(u){return u.getAttribute(Oh.id)===r});return!f||!Tc(f)?null:f}function xP(n){n.preventDefault()}function qu(n){var r=n.expected,d=n.phase,t=n.isLockActive;return n.shouldWarn,!(!t()||r!==d)}function Yb(n){var r=n.lockAPI,d=n.store,t=n.registry,f=n.draggableId;if(r.isClaimed())return!1;var u=t.draggable.findById(f);return!(!u||!u.options.isEnabled||!Ub(d.getState(),f))}function jP(n){var r=n.lockAPI,d=n.contextId,t=n.store,f=n.registry,u=n.draggableId,o=n.forceSensorStop,l=n.sourceEvent,i=Yb({lockAPI:r,store:t,registry:f,draggableId:u});if(!i)return null;var h=f.draggable.getById(u),_=_P(d,h.descriptor.id);if(!_||l&&!h.options.canDragInteractiveElements&&hP(_,l))return null;var m=r.claim(o||js),s="PRE_DRAG";function c(){return h.options.shouldRespectForcePress}function p(){return r.isActive(m)}function g(P,O){qu({expected:P,phase:s,isLockActive:p,shouldWarn:!0})&&t.dispatch(O())}var b=g.bind(null,"DRAGGING");function y(P){function O(){r.release(),s="COMPLETED"}s!=="PRE_DRAG"&&(O(),s!=="PRE_DRAG"&&ht()),t.dispatch(gC(P.liftActionArgs)),s="DRAGGING";function M(D,U){if(U===void 0&&(U={shouldBlockNextClick:!1}),P.cleanup(),U.shouldBlockNextClick){var I=Jn(window,[{eventName:"click",fn:xP,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(I)}O(),t.dispatch(Mb({reason:D}))}return Lt({isActive:function(){return qu({expected:"DRAGGING",phase:s,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:c,drop:function(U){return M("DROP",U)},cancel:function(U){return M("CANCEL",U)}},P.actions)}function v(P){var O=hl(function(D){b(function(){return Ob({client:D})})}),M=y({liftActionArgs:{id:u,clientSelection:P,movementMode:"FLUID"},cleanup:function(){return O.cancel()},actions:{move:O}});return Lt({},M,{move:O})}function j(){var P={moveUp:function(){return b(EC)},moveRight:function(){return b(CC)},moveDown:function(){return b(kC)},moveLeft:function(){return b(TC)}};return y({liftActionArgs:{id:u,clientSelection:pP(_),movementMode:"SNAP"},cleanup:js,actions:P})}function x(){var P=qu({expected:"PRE_DRAG",phase:s,isLockActive:p,shouldWarn:!0});P&&r.release()}var E={isActive:function(){return qu({expected:"PRE_DRAG",phase:s,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:c,fluidLift:v,snapLift:j,abort:x};return E}var SP=[rP,iP,dP];function EP(n){var r=n.contextId,d=n.store,t=n.registry,f=n.customSensors,u=n.enableDefaultSensors,o=[].concat(u?SP:[],f||[]),l=De.useState(function(){return zT()})[0],i=Mt(function(v,j){v.isDragging&&!j.isDragging&&l.tryAbandon()},[l]);Gn(function(){var v=d.getState(),j=d.subscribe(function(){var x=d.getState();i(v,x),v=x});return j},[l,d,i]),Gn(function(){return l.tryAbandon},[l.tryAbandon]);for(var h=Mt(function(y){return Yb({lockAPI:l,registry:t,store:d,draggableId:y})},[l,t,d]),_=Mt(function(y,v,j){return jP({lockAPI:l,registry:t,contextId:r,store:d,draggableId:y,forceSensorStop:v,sourceEvent:j&&j.sourceEvent?j.sourceEvent:null})},[r,l,t,d]),m=Mt(function(y){return wP(r,y)},[r]),s=Mt(function(y){var v=t.draggable.findById(y);return v?v.options:null},[t.draggable]),c=Mt(function(){l.isClaimed()&&(l.tryAbandon(),d.getState().phase!=="IDLE"&&d.dispatch(sp()))},[l,d]),p=Mt(l.isClaimed,[l]),g=Jt(function(){return{canGetLock:h,tryGetLock:_,findClosestDraggableId:m,findOptionsForDraggable:s,tryReleaseLock:c,isLockClaimed:p}},[h,_,m,s,c,p]),b=0;b<o.length;b++)o[b](g)}var kP=function(r){return{onBeforeCapture:r.onBeforeCapture,onBeforeDragStart:r.onBeforeDragStart,onDragStart:r.onDragStart,onDragEnd:r.onDragEnd,onDragUpdate:r.onDragUpdate}};function Ja(n){return n.current||ht(),n.current}function CP(n){var r=n.contextId,d=n.setCallbacks,t=n.sensors,f=n.nonce,u=n.dragHandleUsageInstructions,o=De.useRef(null),l=Vb(n),i=Mt(function(){return kP(l.current)},[l]),h=NT(r),_=GT({contextId:r,text:u}),m=OT(r,f),s=Mt(function(D){Ja(o).dispatch(D)},[]),c=Jt(function(){return Uy({publishWhileDragging:vC,updateDroppableScroll:wC,updateDroppableIsEnabled:_C,updateDroppableIsCombineEnabled:xC,collectionStarting:bC},s)},[s]),p=RT(),g=Jt(function(){return lT(p,c)},[p,c]),b=Jt(function(){return ET(Lt({scrollWindow:uT,scrollDroppable:g.scrollDroppable},Uy({move:Ob},s)))},[g.scrollDroppable,s]),y=IT(r),v=Jt(function(){return oT({announce:h,autoScroller:b,dimensionMarshal:g,focusMarshal:y,getResponders:i,styleMarshal:m})},[h,b,g,y,i,m]);o.current=v;var j=Mt(function(){var D=Ja(o),U=D.getState();U.phase!=="IDLE"&&D.dispatch(sp())},[]),x=Mt(function(){var D=Ja(o).getState();return D.isDragging||D.phase==="DROP_ANIMATING"},[]),E=Jt(function(){return{isDragging:x,tryAbort:j}},[x,j]);d(E);var P=Mt(function(D){return Ub(Ja(o).getState(),D)},[]),O=Mt(function(){return ci(Ja(o).getState())},[]),M=Jt(function(){return{marshal:g,focus:y,contextId:r,canLift:P,isMovementAllowed:O,dragHandleUsageInstructionsId:_,registry:p}},[r,g,_,y,P,O,p]);return EP({contextId:r,store:v,registry:p,customSensors:t,enableDefaultSensors:n.enableDefaultSensors!==!1}),De.useEffect(function(){return j},[j]),Ve.createElement(Pc.Provider,{value:M},Ve.createElement(hE,{context:hp,store:v},n.children))}var TP=0;function PP(){return Jt(function(){return""+TP++},[])}function vv(n){var r=PP(),d=n.dragHandleUsageInstructions||Zu.dragHandleUsageInstructions;return Ve.createElement(ik,null,function(t){return Ve.createElement(CP,{nonce:n.nonce,contextId:r,setCallbacks:t,dragHandleUsageInstructions:d,enableDefaultSensors:n.enableDefaultSensors,sensors:n.sensors,onBeforeCapture:n.onBeforeCapture,onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragUpdate:n.onDragUpdate,onDragEnd:n.onDragEnd},n.children)})}var Kb=function(r){return function(d){return r===d}},OP=Kb("scroll"),MP=Kb("auto"),bv=function(r,d){return d(r.overflowX)||d(r.overflowY)},IP=function(r){var d=window.getComputedStyle(r),t={overflowX:d.overflowX,overflowY:d.overflowY};return bv(t,OP)||bv(t,MP)},AP=function(){return!1},RP=function n(r){return r==null?null:r===document.body?AP()?r:null:r===document.documentElement?null:IP(r)?r:n(r.parentElement)},Mh=(function(n){return{x:n.scrollLeft,y:n.scrollTop}}),DP=function n(r){if(!r)return!1;var d=window.getComputedStyle(r);return d.position==="fixed"?!0:n(r.parentElement)},LP=(function(n){var r=RP(n),d=DP(n);return{closestScrollable:r,isFixedOnPage:d}}),NP=(function(n){var r=n.descriptor,d=n.isEnabled,t=n.isCombineEnabled,f=n.isFixedOnPage,u=n.direction,o=n.client,l=n.page,i=n.closest,h=(function(){if(!i)return null;var c=i.scrollSize,p=i.client,g=Db({scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth,height:p.paddingBox.height,width:p.paddingBox.width});return{pageMarginBox:i.page.marginBox,frameClient:p,scrollSize:c,shouldClipSubject:i.shouldClipSubject,scroll:{initial:i.scroll,current:i.scroll,max:g,diff:{value:Qr,displacement:Qr}}}})(),_=u==="vertical"?ep:mb,m=la({page:l,withPlaceholder:null,axis:_,frame:h}),s={descriptor:r,isCombineEnabled:t,isFixedOnPage:f,axis:_,isEnabled:d,client:o,page:l,frame:h,subject:m};return s}),UP=function(r,d){var t=sb(r);if(!d||r!==d)return t;var f=t.paddingBox.top-d.scrollTop,u=t.paddingBox.left-d.scrollLeft,o=f+d.scrollHeight,l=u+d.scrollWidth,i={top:f,right:l,bottom:o,left:u},h=Yh(i,t.border),_=Kh({borderBox:h,margin:t.margin,border:t.border,padding:t.padding});return _},FP=(function(n){var r=n.ref,d=n.descriptor,t=n.env,f=n.windowScroll,u=n.direction,o=n.isDropDisabled,l=n.isCombineEnabled,i=n.shouldClipSubject,h=t.closestScrollable,_=UP(r,h),m=ic(_,f),s=(function(){if(!h)return null;var p=sb(h),g={scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth};return{client:p,page:ic(p,f),scroll:Mh(h),scrollSize:g,shouldClipSubject:i}})(),c=NP({descriptor:d,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:t.isFixedOnPage,direction:u,client:_,page:m,closest:s});return c}),BP={passive:!1},GP={passive:!0},wv=(function(n){return n.shouldPublishImmediately?BP:GP});function fc(n){var r=De.useContext(n);return r||ht(),r}var $u=function(r){return r&&r.env.closestScrollable||null};function zP(n){var r=De.useRef(null),d=fc(Pc),t=pp("droppable"),f=d.registry,u=d.marshal,o=Vb(n),l=Jt(function(){return{id:n.droppableId,type:n.type,mode:n.mode}},[n.droppableId,n.mode,n.type]),i=De.useRef(l),h=Jt(function(){return Zr(function(x,E){r.current||ht();var P={x,y:E};u.updateDroppableScroll(l.id,P)})},[l.id,u]),_=Mt(function(){var x=r.current;return!x||!x.env.closestScrollable?Qr:Mh(x.env.closestScrollable)},[]),m=Mt(function(){var x=_();h(x.x,x.y)},[_,h]),s=Jt(function(){return hl(m)},[m]),c=Mt(function(){var x=r.current,E=$u(x);x&&E||ht();var P=x.scrollOptions;if(P.shouldPublishImmediately){m();return}s()},[s,m]),p=Mt(function(x,E){r.current&&ht();var P=o.current,O=P.getDroppableRef();O||ht();var M=LP(O),D={ref:O,descriptor:l,env:M,scrollOptions:E};r.current=D;var U=FP({ref:O,descriptor:l,env:M,windowScroll:x,direction:P.direction,isDropDisabled:P.isDropDisabled,isCombineEnabled:P.isCombineEnabled,shouldClipSubject:!P.ignoreContainerClipping}),I=M.closestScrollable;return I&&(I.setAttribute(pv.contextId,d.contextId),I.addEventListener("scroll",c,wv(D.scrollOptions))),U},[d.contextId,l,c,o]),g=Mt(function(){var x=r.current,E=$u(x);return x&&E||ht(),Mh(E)},[]),b=Mt(function(){var x=r.current;x||ht();var E=$u(x);r.current=null,E&&(s.cancel(),E.removeAttribute(pv.contextId),E.removeEventListener("scroll",c,wv(x.scrollOptions)))},[c,s]),y=Mt(function(x){var E=r.current;E||ht();var P=$u(E);P||ht(),P.scrollTop+=x.y,P.scrollLeft+=x.x},[]),v=Jt(function(){return{getDimensionAndWatchScroll:p,getScrollWhileDragging:g,dragStopped:b,scroll:y}},[b,p,g,y]),j=Jt(function(){return{uniqueId:t,descriptor:l,callbacks:v}},[v,l,t]);Gn(function(){return i.current=j.descriptor,f.droppable.register(j),function(){r.current&&b(),f.droppable.unregister(j)}},[v,l,b,j,u,f.droppable]),Gn(function(){r.current&&u.updateDroppableIsEnabled(i.current.id,!n.isDropDisabled)},[n.isDropDisabled,u]),Gn(function(){r.current&&u.updateDroppableIsCombineEnabled(i.current.id,n.isCombineEnabled)},[n.isCombineEnabled,u])}function Xf(){}var _v={width:0,height:0,margin:fk},VP=function(r){var d=r.isAnimatingOpenOnMount,t=r.placeholder,f=r.animate;return d||f==="close"?_v:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin}},WP=function(r){var d=r.isAnimatingOpenOnMount,t=r.placeholder,f=r.animate,u=VP({isAnimatingOpenOnMount:d,placeholder:t,animate:f});return{display:t.display,boxSizing:"border-box",width:u.width,height:u.height,marginTop:u.margin.top,marginRight:u.margin.right,marginBottom:u.margin.bottom,marginLeft:u.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:f!=="none"?al.placeholder:null}};function HP(n){var r=De.useRef(null),d=Mt(function(){r.current&&(clearTimeout(r.current),r.current=null)},[]),t=n.animate,f=n.onTransitionEnd,u=n.onClose,o=n.contextId,l=De.useState(n.animate==="open"),i=l[0],h=l[1];De.useEffect(function(){return i?t!=="open"?(d(),h(!1),Xf):r.current?Xf:(r.current=setTimeout(function(){r.current=null,h(!1)}),d):Xf},[t,i,d]);var _=Mt(function(s){s.propertyName==="height"&&(f(),t==="close"&&u())},[t,u,f]),m=WP({isAnimatingOpenOnMount:i,animate:n.animate,placeholder:n.placeholder});return Ve.createElement(n.placeholder.tagName,{style:m,"data-rbd-placeholder-context-id":o,onTransitionEnd:_,ref:n.innerRef})}var qP=Ve.memo(HP),gp=Ve.createContext(null),$P=(function(n){X0(r,n);function r(){for(var t,f=arguments.length,u=new Array(f),o=0;o<f;o++)u[o]=arguments[o];return t=n.call.apply(n,[this].concat(u))||this,t.state={isVisible:!!t.props.on,data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){t.state.animate==="close"&&t.setState({isVisible:!1})},t}r.getDerivedStateFromProps=function(f,u){return f.shouldAnimate?f.on?{isVisible:!0,data:f.on,animate:"open"}:u.isVisible?{isVisible:!0,data:u.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!f.on,data:f.on,animate:"none"}};var d=r.prototype;return d.render=function(){if(!this.state.isVisible)return null;var f={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(f)},r})(Ve.PureComponent),xv={dragging:5e3,dropAnimating:4500},XP=function(r,d){return d?al.drop(d.duration):r?al.snap:al.fluid},YP=function(r,d){return r?d?yl.opacity.drop:yl.opacity.combining:null},KP=function(r){return r.forceShouldAnimate!=null?r.forceShouldAnimate:r.mode==="SNAP"};function JP(n){var r=n.dimension,d=r.client,t=n.offset,f=n.combineWith,u=n.dropping,o=!!f,l=KP(n),i=!!u,h=i?Th.drop(t,o):Th.moveTo(t),_={position:"fixed",top:d.marginBox.top,left:d.marginBox.left,boxSizing:"border-box",width:d.borderBox.width,height:d.borderBox.height,transition:XP(l,u),transform:h,opacity:YP(o,i),zIndex:i?xv.dropAnimating:xv.dragging,pointerEvents:"none"};return _}function ZP(n){return{transform:Th.moveTo(n.offset),transition:n.shouldAnimateDisplacement?null:"none"}}function QP(n){return n.type==="DRAGGING"?JP(n):ZP(n)}function eO(n,r,d){d===void 0&&(d=Qr);var t=window.getComputedStyle(r),f=r.getBoundingClientRect(),u=ob(f,t),o=ic(u,d),l={client:u,tagName:r.tagName.toLowerCase(),display:t.display},i={x:u.marginBox.width,y:u.marginBox.height},h={descriptor:n,placeholder:l,displaceBy:i,client:u,page:o};return h}function tO(n){var r=pp("draggable"),d=n.descriptor,t=n.registry,f=n.getDraggableRef,u=n.canDragInteractiveElements,o=n.shouldRespectForcePress,l=n.isEnabled,i=Jt(function(){return{canDragInteractiveElements:u,shouldRespectForcePress:o,isEnabled:l}},[u,l,o]),h=Mt(function(c){var p=f();return p||ht(),eO(d,p,c)},[d,f]),_=Jt(function(){return{uniqueId:r,descriptor:d,options:i,getDimension:h}},[d,h,i,r]),m=De.useRef(_),s=De.useRef(!0);Gn(function(){return t.draggable.register(m.current),function(){return t.draggable.unregister(m.current)}},[t.draggable]),Gn(function(){if(s.current){s.current=!1;return}var c=m.current;m.current=_,t.draggable.update(_,c)},[_,t.draggable])}function rO(n){n.preventDefault()}function nO(n){var r=De.useRef(null),d=Mt(function(D){r.current=D},[]),t=Mt(function(){return r.current},[]),f=fc(Pc),u=f.contextId,o=f.dragHandleUsageInstructionsId,l=f.registry,i=fc(gp),h=i.type,_=i.droppableId,m=Jt(function(){return{id:n.draggableId,index:n.index,type:h,droppableId:_}},[n.draggableId,n.index,h,_]),s=n.children,c=n.draggableId,p=n.isEnabled,g=n.shouldRespectForcePress,b=n.canDragInteractiveElements,y=n.isClone,v=n.mapped,j=n.dropAnimationFinished;if(!y){var x=Jt(function(){return{descriptor:m,registry:l,getDraggableRef:t,canDragInteractiveElements:b,shouldRespectForcePress:g,isEnabled:p}},[m,l,t,b,g,p]);tO(x)}var E=Jt(function(){return p?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":c,"data-rbd-drag-handle-context-id":u,draggable:!1,onDragStart:rO}:null},[u,o,c,p]),P=Mt(function(D){v.type==="DRAGGING"&&v.dropping&&D.propertyName==="transform"&&j()},[j,v]),O=Jt(function(){var D=QP(v),U=v.type==="DRAGGING"&&v.dropping?P:null,I={innerRef:d,draggableProps:{"data-rbd-draggable-context-id":u,"data-rbd-draggable-id":c,style:D,onTransitionEnd:U},dragHandleProps:E};return I},[u,E,c,v,P,d]),M=Jt(function(){return{draggableId:m.id,type:m.type,source:{index:m.index,droppableId:m.droppableId}}},[m.droppableId,m.id,m.index,m.type]);return s(O,v.snapshot,M)}var Jb=(function(n,r){return n===r}),Zb=(function(n){var r=n.combine,d=n.destination;return d?d.droppableId:r?r.droppableId:null}),oO=function(r){return r.combine?r.combine.draggableId:null},sO=function(r){return r.at&&r.at.type==="COMBINE"?r.at.combine.draggableId:null};function iO(){var n=Zr(function(f,u){return{x:f,y:u}}),r=Zr(function(f,u,o,l,i){return{isDragging:!0,isClone:u,isDropAnimating:!!i,dropAnimation:i,mode:f,draggingOver:o,combineWith:l,combineTargetFor:null}}),d=Zr(function(f,u,o,l,i,h,_){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:h,mode:u,offset:f,dimension:o,forceShouldAnimate:_,snapshot:r(u,l,i,h,null)}}}),t=function(u,o){if(u.isDragging){if(u.critical.draggable.id!==o.draggableId)return null;var l=u.current.client.offset,i=u.dimensions.draggables[o.draggableId],h=Bn(u.impact),_=sO(u.impact),m=u.forceShouldAnimate;return d(n(l.x,l.y),u.movementMode,i,o.isClone,h,_,m)}if(u.phase==="DROP_ANIMATING"){var s=u.completed;if(s.result.draggableId!==o.draggableId)return null;var c=o.isClone,p=u.dimensions.draggables[o.draggableId],g=s.result,b=g.mode,y=Zb(g),v=oO(g),j=u.dropDuration,x={duration:j,curve:ap.drop,moveTo:u.newHomeClientOffset,opacity:v?yl.opacity.drop:null,scale:v?yl.scale.drop:null};return{mapped:{type:"DRAGGING",offset:u.newHomeClientOffset,dimension:p,dropping:x,draggingOver:y,combineWith:v,mode:b,forceShouldAnimate:null,snapshot:r(b,c,y,v,x)}}}return null};return t}function Qb(n){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:n,combineWith:null}}var aO={mapped:{type:"SECONDARY",offset:Qr,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Qb(null)}};function lO(){var n=Zr(function(o,l){return{x:o,y:l}}),r=Zr(Qb),d=Zr(function(o,l,i){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:i,snapshot:r(l)}}}),t=function(l){return l?d(Qr,l,!0):null},f=function(l,i,h,_){var m=h.displaced.visible[l],s=!!(_.inVirtualList&&_.effected[l]),c=Ec(h),p=c&&c.draggableId===l?i:null;if(!m){if(!s)return t(p);if(h.displaced.invisible[l])return null;var g=ma(_.displacedBy.point),b=n(g.x,g.y);return d(b,p,!0)}if(s)return t(p);var y=h.displacedBy.point,v=n(y.x,y.y);return d(v,p,m.shouldAnimate)},u=function(l,i){if(l.isDragging)return l.critical.draggable.id===i.draggableId?null:f(i.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var h=l.completed;return h.result.draggableId===i.draggableId?null:f(i.draggableId,h.result.draggableId,h.impact,h.afterCritical)}return null};return u}var uO=function(){var r=iO(),d=lO(),t=function(u,o){return r(u,o)||d(u,o)||aO};return t},cO={dropAnimationFinished:Ib},dO=rb(uO,cO,null,{context:hp,pure:!0,areStatePropsEqual:Jb})(nO);function e1(n){var r=fc(gp),d=r.isUsingCloneFor;return d===n.draggableId&&!n.isClone?null:Ve.createElement(dO,n)}function jv(n){var r=typeof n.isDragDisabled=="boolean"?!n.isDragDisabled:!0,d=!!n.disableInteractiveElementBlocking,t=!!n.shouldRespectForcePress;return Ve.createElement(e1,Lt({},n,{isClone:!1,isEnabled:r,canDragInteractiveElements:d,shouldRespectForcePress:t}))}function fO(n){var r=De.useContext(Pc);r||ht();var d=r.contextId,t=r.isMovementAllowed,f=De.useRef(null),u=De.useRef(null),o=n.children,l=n.droppableId,i=n.type,h=n.mode,_=n.direction,m=n.ignoreContainerClipping,s=n.isDropDisabled,c=n.isCombineEnabled,p=n.snapshot,g=n.useClone,b=n.updateViewportMaxScroll,y=n.getContainerForClone,v=Mt(function(){return f.current},[]),j=Mt(function(I){f.current=I},[]);Mt(function(){return u.current},[]);var x=Mt(function(I){u.current=I},[]),E=Mt(function(){t()&&b({maxScroll:Nb()})},[t,b]);zP({droppableId:l,type:i,mode:h,direction:_,isDropDisabled:s,isCombineEnabled:c,ignoreContainerClipping:m,getDroppableRef:v});var P=Ve.createElement($P,{on:n.placeholder,shouldAnimate:n.shouldAnimatePlaceholder},function(I){var B=I.onClose,R=I.data,G=I.animate;return Ve.createElement(qP,{placeholder:R,onClose:B,innerRef:x,animate:G,contextId:d,onTransitionEnd:E})}),O=Jt(function(){return{innerRef:j,placeholder:P,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":d}}},[d,l,P,j]),M=g?g.dragging.draggableId:null,D=Jt(function(){return{droppableId:l,type:i,isUsingCloneFor:M}},[l,M,i]);function U(){if(!g)return null;var I=g.dragging,B=g.render,R=Ve.createElement(e1,{draggableId:I.draggableId,index:I.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(G,z){return B(G,z,I)});return iw.createPortal(R,y())}return Ve.createElement(gp.Provider,{value:D},o(O,p),U())}var Yf=function(r,d){return r===d.droppable.type},Sv=function(r,d){return d.draggables[r.draggable.id]},hO=function(){var r={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},d=Lt({},r,{shouldAnimatePlaceholder:!1}),t=Zr(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),f=Zr(function(o,l,i,h,_,m){var s=_.descriptor.id,c=_.descriptor.droppableId===o;if(c){var p=m?{render:m,dragging:t(_.descriptor)}:null,g={isDraggingOver:i,draggingOverWith:i?s:null,draggingFromThisWith:s,isUsingPlaceholder:!0};return{placeholder:_.placeholder,shouldAnimatePlaceholder:!1,snapshot:g,useClone:p}}if(!l)return d;if(!h)return r;var b={isDraggingOver:i,draggingOverWith:s,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:_.placeholder,shouldAnimatePlaceholder:!0,snapshot:b,useClone:null}}),u=function(l,i){var h=i.droppableId,_=i.type,m=!i.isDropDisabled,s=i.renderClone;if(l.isDragging){var c=l.critical;if(!Yf(_,c))return d;var p=Sv(c,l.dimensions),g=Bn(l.impact)===h;return f(h,m,g,g,p,s)}if(l.phase==="DROP_ANIMATING"){var b=l.completed;if(!Yf(_,b.critical))return d;var y=Sv(b.critical,l.dimensions);return f(h,m,Zb(b.result)===h,Bn(b.impact)===h,y,s)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var v=l.completed;if(!Yf(_,v.critical))return d;var j=Bn(v.impact)===h,x=!!(v.impact.at&&v.impact.at.type==="COMBINE"),E=v.critical.droppable.id===h;return j?x?r:d:E?r:d}return d};return u},pO={updateViewportMaxScroll:SC};function mO(){return document.body||ht(),document.body}var gO={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:mO},Ih=rb(hO,pO,null,{context:hp,pure:!0,areStatePropsEqual:Jb})(fO);Ih.defaultProps=gO;const Xu=_l("https://zahrotkjbhfegvwsevjy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InphaHJvdGtqYmhmZWd2d3Nldmp5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1MzcwNDksImV4cCI6MjA3MTExMzA0OX0.PJHE_2uvVuixA1velpE-KPmD4o2W-UENiegcZl1wFI8"),yO=["fun","fact","animal","share","favorite"];function vO({user:n}){const[r,d]=De.useState([]),[t,f]=De.useState(null),[u,o]=De.useState(null),[l,i]=De.useState([]);De.useEffect(()=>{const m=async()=>{try{const{data:c,error:p}=await Xu.from("feed").select("*").eq("age_group",n.ageGroup).limit(20);if(p)throw p;const g=c.filter(E=>E.type==="social"&&yO.some(P=>E.text?.toLowerCase().includes(P))),b=c.filter(E=>E.type==="educational"&&E.grade<=n.grade),y=c.filter(E=>E.type==="game"),v=g.length+b.length+y.length,j=Math.ceil(v*.6),x=[...g.sort(()=>Math.random()-.5).slice(0,j),...b.sort(()=>Math.random()-.5),...y.sort(()=>Math.random()-.5)];d(x)}catch(c){o("Failed to load feed. Please try again."),console.error("Error fetching feed:",c)}};m();const s=Xu.channel("feed-updates").on("postgres_changes",{event:"*",schema:"public",table:"feed"},m).subscribe();return()=>Xu.removeChannel(s)},[n]);const h=async(m,s)=>{if(m.type==="educational")if(s===m.correct||s.toLowerCase()===m.word?.toLowerCase())try{await Xu.from("user_progress").insert({user_id:n.id,item_id:m.id,points:10}),f(null),i([])}catch(p){o("Error saving progress. Please try again."),console.error("Error saving progress:",p)}else o("Incorrect answer. Try again!")},_=(m,s)=>{if(!m.destination)return;const c=[...l],[p]=c.splice(m.source.index,1);c.splice(m.destination.index,0,p),i(c),c.join(",")===s.correct&&h(s,s.correct)};return u?ot.jsx("div",{className:"p-4 text-red-500","aria-live":"assertive",children:u}):ot.jsxs("div",{className:"p-4",children:[r.map(m=>ot.jsxs("div",{className:`p-4 mb-4 rounded-lg shadow-md ${m.type==="social"?"border-2 border-blue-500":m.type==="educational"?"border-2 border-green-500":"border-2 border-yellow-500"}`,onClick:()=>m.type==="educational"&&f(m),role:"article",children:[m.type==="social"&&ot.jsx("p",{children:m.text}),m.type==="educational"&&ot.jsxs("div",{children:[ot.jsxs("p",{className:"font-bold",children:[m.subject," (",m.standard,"): ",m.question]}),m.format==="multiple-choice"&&ot.jsx("div",{children:m.options.map(s=>ot.jsx("button",{className:"bg-blue-500 text-white p-2 m-2 rounded hover:bg-blue-600",onClick:()=>h(m,s),children:s},s))}),m.format==="hangman"&&ot.jsx("input",{type:"text",className:"border p-2 mt-2 w-full",placeholder:"Enter the word",onChange:s=>h(m,s.target.value)}),m.format==="drag-and-drop"&&ot.jsx(vv,{onDragEnd:s=>_(s,m),children:ot.jsx(Ih,{droppableId:"answers",children:s=>ot.jsxs("div",{...s.droppableProps,ref:s.innerRef,children:[m.options.map((c,p)=>ot.jsx(jv,{draggableId:c,index:p,children:g=>ot.jsx("div",{ref:g.innerRef,...g.draggableProps,...g.dragHandleProps,className:"bg-gray-200 p-2 m-2 rounded",children:c})},c)),s.placeholder]})})})]}),m.type==="game"&&ot.jsxs(ta,{to:"/game",className:"text-blue-500 underline hover:text-blue-700",children:["Play ",m.name]})]},m.id)),t&&ot.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",role:"dialog",children:ot.jsxs("div",{className:"bg-white p-6 rounded-lg",children:[ot.jsxs("p",{className:"mb-4",children:["Complete to Continue: ",t.question]}),t.format==="multiple-choice"&&ot.jsx("div",{children:t.options.map(m=>ot.jsx("button",{className:"bg-blue-500 text-white p-2 m-2 rounded hover:bg-blue-600",onClick:()=>h(t,m),children:m},m))}),t.format==="hangman"&&ot.jsx("input",{type:"text",className:"border p-2 w-full",placeholder:"Enter the word",onChange:m=>h(t,m.target.value)}),t.format==="drag-and-drop"&&ot.jsx(vv,{onDragEnd:m=>_(m,t),children:ot.jsx(Ih,{droppableId:"answers",children:m=>ot.jsxs("div",{...m.droppableProps,ref:m.innerRef,children:[t.options.map((s,c)=>ot.jsx(jv,{draggableId:s,index:c,children:p=>ot.jsx("div",{ref:p.innerRef,...p.draggableProps,...p.dragHandleProps,className:"bg-gray-200 p-2 m-2 rounded",children:s})},s)),m.placeholder]})})}),ot.jsx("button",{className:"bg-red-500 text-white p-2 mt-4 rounded hover:bg-red-600",onClick:()=>f(null),children:"Close"})]})})]})}const Ev=_l("https://zahrotkjbhfegvwsevjy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InphaHJvdGtqYmhmZWd2d3Nldmp5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1MzcwNDksImV4cCI6MjA3MTExMzA0OX0.PJHE_2uvVuixA1velpE-KPmD4o2W-UENiegcZl1wFI8");function bO({user:n,setUser:r}){const[d]=De.useState([{question:"What is 1 + 1?",options:["1","2","3"],correct:"2",subject:"Math",weight:.4},{question:"Spell 'Cat'",word:"Cat",format:"hangman",subject:"English",weight:.3},{question:"What is the largest planet?",options:["Earth","Jupiter","Mars"],correct:"Jupiter",subject:"Science",weight:.3}]),[t,f]=De.useState([]),[u,o]=De.useState(null),[l,i]=De.useState([]),h=async(m,s)=>{const c=s===d[m].correct||s.toLowerCase()===d[m].word?.toLowerCase();if(f([...t.slice(0,m),s,...t.slice(m+1)]),i([...l.slice(0,m),c?"Correct!":"Try again!",...l.slice(m+1)]),c)try{await Ev.from("quiz_results").insert({user_id:n.id,question_id:m,answer:s,is_correct:!0})}catch(p){console.error("Error saving quiz result:",p)}},_=async()=>{const m=t.reduce((c,p,g)=>{const b=p===d[g].correct||p.toLowerCase()===d[g].word?.toLowerCase();return c+(b?d[g].weight:0)},0),s=Math.min(Math.floor(n.age*.5+m*6),12);o(s);try{await Ev.from("users").update({grade:s}).eq("id",n.id),r({...n,grade:s})}catch(c){console.error("Error updating grade:",c)}};return ot.jsxs("div",{className:"p-4",children:[ot.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Assessment Quiz"}),d.map((m,s)=>ot.jsxs("div",{className:"mb-4",children:[ot.jsx("p",{className:"font-bold",children:m.question}),m.format==="multiple-choice"?m.options.map(c=>ot.jsx("button",{className:"bg-blue-500 text-white p-2 m-2 rounded hover:bg-blue-600",onClick:()=>h(s,c),children:c},c)):ot.jsx("input",{type:"text",className:"border p-2 w-full",placeholder:"Enter the word",onChange:c=>h(s,c.target.value)}),l[s]&&ot.jsx("p",{className:l[s]==="Correct!"?"text-green-500":"text-red-500",children:l[s]})]},s)),ot.jsx("button",{className:"bg-green-500 text-white p-2 rounded hover:bg-green-600",onClick:_,disabled:t.length<d.length,children:"Submit"}),u&&ot.jsxs("p",{className:"mt-4","aria-live":"polite",children:["Assigned Grade: ",u]})]})}function Yu(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Kf={exports:{}};/*! p5.js v1.11.9 July 17, 2025 */var kv;function wO(){return kv||(kv=1,(function(n,r){(function(d){n.exports=d()})(function(){var d;return(function t(f,u,o){function l(_,m){if(!u[_]){if(!f[_]){var s=typeof Yu=="function"&&Yu;if(!m&&s)return s(_,!0);if(i)return i(_,!0);throw(m=new Error("Cannot find module '"+_+"'")).code="MODULE_NOT_FOUND",m}s=u[_]={exports:{}},f[_][0].call(s.exports,function(c){return l(f[_][1][c]||c)},s,s.exports,t,f,u,o)}return u[_].exports}for(var i=typeof Yu=="function"&&Yu,h=0;h<o.length;h++)l(o[h]);return l})({1:[function(t,f,u){u.byteLength=function(g){var g=s(g),p=g[0],g=g[1];return 3*(p+g)/4-g},u.toByteArray=function(c){var p,g,y=s(c),b=y[0],y=y[1],v=new i((function(E,P){return 3*(E+P)/4-P})(b,y)),j=0,x=0<y?b-4:b;for(g=0;g<x;g+=4)p=l[c.charCodeAt(g)]<<18|l[c.charCodeAt(g+1)]<<12|l[c.charCodeAt(g+2)]<<6|l[c.charCodeAt(g+3)],v[j++]=p>>16&255,v[j++]=p>>8&255,v[j++]=255&p;return y===2&&(p=l[c.charCodeAt(g)]<<2|l[c.charCodeAt(g+1)]>>4,v[j++]=255&p),y===1&&(p=l[c.charCodeAt(g)]<<10|l[c.charCodeAt(g+1)]<<4|l[c.charCodeAt(g+2)]>>2,v[j++]=p>>8&255,v[j++]=255&p),v},u.fromByteArray=function(c){for(var p,g=c.length,b=g%3,y=[],v=0,j=g-b;v<j;v+=16383)y.push((function(x,E,P){for(var O,M=[],D=E;D<P;D+=3)O=(x[D]<<16&16711680)+(x[D+1]<<8&65280)+(255&x[D+2]),M.push((function(U){return o[U>>18&63]+o[U>>12&63]+o[U>>6&63]+o[63&U]})(O));return M.join("")})(c,v,j<v+16383?j:v+16383));return b==1?(p=c[g-1],y.push(o[p>>2]+o[p<<4&63]+"==")):b==2&&(p=(c[g-2]<<8)+c[g-1],y.push(o[p>>10]+o[p>>4&63]+o[p<<2&63]+"=")),y.join("")};for(var o=[],l=[],i=typeof Uint8Array<"u"?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_=0,m=h.length;_<m;++_)o[_]=h[_],l[h.charCodeAt(_)]=_;function s(c){var p=c.length;if(0<p%4)throw new Error("Invalid string. Length must be a multiple of 4");return c=c.indexOf("="),p=(c=c===-1?p:c)===p?0:4-c%4,[c,p]}l[45]=62,l[95]=63},{}],2:[function(t,f,u){},{}],3:[function(t,f,u){},{}],4:[function(t,f,u){(function(s){var l=t("base64-js"),i=t("ieee754"),h=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,_=(u.Buffer=s,u.SlowBuffer=function(T){return+T!=T&&(T=0),s.alloc(+T)},u.INSPECT_MAX_BYTES=50,2147483647);function m(T){if(_<T)throw new RangeError('The value "'+T+'" is invalid for option "size"');return T=new Uint8Array(T),Object.setPrototypeOf(T,s.prototype),T}function s(T,F,W){if(typeof T!="number")return c(T,F,W);if(typeof F=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(T)}function c(T,F,W){if(typeof T=="string"){var J=T,oe=F;if(s.isEncoding(oe=typeof oe=="string"&&oe!==""?oe:"utf8"))return se=0|v(J,oe),fe=m(se),fe=(J=fe.write(J,oe))!==se?fe.slice(0,J):fe;throw new TypeError("Unknown encoding: "+oe)}if(ArrayBuffer.isView(T))return b(T);if(T!=null){if(ee(T,ArrayBuffer)||T&&ee(T.buffer,ArrayBuffer)){var se=T,J=F,fe=W;if(J<0||se.byteLength<J)throw new RangeError('"offset" is outside of buffer bounds');if(se.byteLength<J+(fe||0))throw new RangeError('"length" is outside of buffer bounds');return se=J===void 0&&fe===void 0?new Uint8Array(se):fe===void 0?new Uint8Array(se,J):new Uint8Array(se,J,fe),Object.setPrototypeOf(se,s.prototype),se}if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(oe=T.valueOf&&T.valueOf(),oe!=null&&oe!==T)return s.from(oe,F,W);var ve=(function(de){{var be,pe;if(s.isBuffer(de))return be=0|y(de.length),(pe=m(be)).length!==0&&de.copy(pe,0,0,be),pe}if(de.length!==void 0)return typeof de.length!="number"||K(de.length)?m(0):b(de);if(de.type==="Buffer"&&Array.isArray(de.data))return b(de.data)})(T);if(ve)return ve;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return s.from(T[Symbol.toPrimitive]("string"),F,W)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}function p(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function g(T){return p(T),m(T<0?0:0|y(T))}function b(T){for(var F=T.length<0?0:0|y(T.length),W=m(F),J=0;J<F;J+=1)W[J]=255&T[J];return W}function y(T){if(_<=T)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+_.toString(16)+" bytes");return 0|T}function v(T,F){if(s.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||ee(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);var W=T.length,J=2<arguments.length&&arguments[2]===!0;if(!J&&W===0)return 0;for(var oe=!1;;)switch(F){case"ascii":case"latin1":case"binary":return W;case"utf8":case"utf-8":return Y(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*W;case"hex":return W>>>1;case"base64":return $(T).length;default:if(oe)return J?-1:Y(T).length;F=(""+F).toLowerCase(),oe=!0}}function j(T,F,W){var J,oe=!1;if((F=F===void 0||F<0?0:F)>this.length||(W=W===void 0||W>this.length?this.length:W)<=0||(W>>>=0)<=(F>>>=0))return"";for(T=T||"utf8";;)switch(T){case"hex":var se=this,Ee=F,fe=W,pe=se.length;(!fe||fe<0||pe<fe)&&(fe=pe);for(var ve="",de=Ee=!Ee||Ee<0?0:Ee;de<fe;++de)ve+=ne[se[de]];return ve;case"utf8":case"utf-8":return D(this,F,W);case"ascii":var be=this,pe=F,ie=W,ye="";ie=Math.min(be.length,ie);for(var _e=pe;_e<ie;++_e)ye+=String.fromCharCode(127&be[_e]);return ye;case"latin1":case"binary":var Te=this,Ee=F,Se=W,Oe="";Se=Math.min(Te.length,Se);for(var Xe=Ee;Xe<Se;++Xe)Oe+=String.fromCharCode(Te[Xe]);return Oe;case"base64":return Ne=this,J=W,(yt=F)===0&&J===Ne.length?l.fromByteArray(Ne):l.fromByteArray(Ne.slice(yt,J));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Ne=F,yt=W,lt=this.slice(Ne,yt),rt="",ut=0;ut<lt.length;ut+=2)rt+=String.fromCharCode(lt[ut]+256*lt[ut+1]);return rt;default:if(oe)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),oe=!0}}function x(T,F,W){var J=T[F];T[F]=T[W],T[W]=J}function E(T,F,W,J,oe){if(T.length===0)return-1;if(typeof W=="string"?(J=W,W=0):2147483647<W?W=2147483647:W<-2147483648&&(W=-2147483648),(W=(W=K(W=+W)?oe?0:T.length-1:W)<0?T.length+W:W)>=T.length){if(oe)return-1;W=T.length-1}else if(W<0){if(!oe)return-1;W=0}if(typeof F=="string"&&(F=s.from(F,J)),s.isBuffer(F))return F.length===0?-1:P(T,F,W,J,oe);if(typeof F=="number")return F&=255,typeof Uint8Array.prototype.indexOf=="function"?(oe?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(T,F,W):P(T,[F],W,J,oe);throw new TypeError("val must be string, number or Buffer")}function P(T,F,W,J,oe){var se=1,fe=T.length,ve=F.length;if(J!==void 0&&((J=String(J).toLowerCase())==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(T.length<2||F.length<2)return-1;fe/=se=2,ve/=2,W/=2}function de(_e,Te){return se===1?_e[Te]:_e.readUInt16BE(Te*se)}if(oe)for(var be=-1,pe=W;pe<fe;pe++)if(de(T,pe)===de(F,be===-1?0:pe-be)){if(pe-(be=be===-1?pe:be)+1===ve)return be*se}else be!==-1&&(pe-=pe-be),be=-1;else for(pe=W=fe<W+ve?fe-ve:W;0<=pe;pe--){for(var ie=!0,ye=0;ye<ve;ye++)if(de(T,pe+ye)!==de(F,ye)){ie=!1;break}if(ie)return pe}return-1}function O(T,F,W,J){return X((function(oe){for(var se=[],fe=0;fe<oe.length;++fe)se.push(255&oe.charCodeAt(fe));return se})(F),T,W,J)}function M(T,F,W,J){return X((function(oe,se){for(var fe,ve,de=[],be=0;be<oe.length&&!((se-=2)<0);++be)ve=oe.charCodeAt(be),fe=ve>>8,ve=ve%256,de.push(ve),de.push(fe);return de})(F,T.length-W),T,W,J)}function D(T,F,W){W=Math.min(T.length,W);for(var J=[],oe=F;oe<W;){var se,fe,ve,de,be=T[oe],pe=null,ie=239<be?4:223<be?3:191<be?2:1;if(oe+ie<=W)switch(ie){case 1:be<128&&(pe=be);break;case 2:(192&(se=T[oe+1]))==128&&127<(de=(31&be)<<6|63&se)&&(pe=de);break;case 3:se=T[oe+1],fe=T[oe+2],(192&se)==128&&(192&fe)==128&&2047<(de=(15&be)<<12|(63&se)<<6|63&fe)&&(de<55296||57343<de)&&(pe=de);break;case 4:se=T[oe+1],fe=T[oe+2],ve=T[oe+3],(192&se)==128&&(192&fe)==128&&(192&ve)==128&&65535<(de=(15&be)<<18|(63&se)<<12|(63&fe)<<6|63&ve)&&de<1114112&&(pe=de)}pe===null?(pe=65533,ie=1):65535<pe&&(pe-=65536,J.push(pe>>>10&1023|55296),pe=56320|1023&pe),J.push(pe),oe+=ie}var ye=J,_e=ye.length;if(_e<=U)return String.fromCharCode.apply(String,ye);for(var Te="",Ee=0;Ee<_e;)Te+=String.fromCharCode.apply(String,ye.slice(Ee,Ee+=U));return Te}u.kMaxLength=_,(s.TYPED_ARRAY_SUPPORT=(function(){try{var T=new Uint8Array(1),F={foo:function(){return 42}};return Object.setPrototypeOf(F,Uint8Array.prototype),Object.setPrototypeOf(T,F),T.foo()===42}catch{return!1}})())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=c,Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(T,F,W){return F=F,W=W,p(T=T),!(T<=0)&&F!==void 0?typeof W=="string"?m(T).fill(F,W):m(T).fill(F):m(T)},s.allocUnsafe=g,s.allocUnsafeSlow=g,s.isBuffer=function(T){return T!=null&&T._isBuffer===!0&&T!==s.prototype},s.compare=function(T,F){if(ee(T,Uint8Array)&&(T=s.from(T,T.offset,T.byteLength)),ee(F,Uint8Array)&&(F=s.from(F,F.offset,F.byteLength)),!s.isBuffer(T)||!s.isBuffer(F))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===F)return 0;for(var W=T.length,J=F.length,oe=0,se=Math.min(W,J);oe<se;++oe)if(T[oe]!==F[oe]){W=T[oe],J=F[oe];break}return W<J?-1:J<W?1:0},s.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(T,F){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return s.alloc(0);if(F===void 0)for(oe=F=0;oe<T.length;++oe)F+=T[oe].length;for(var W=s.allocUnsafe(F),J=0,oe=0;oe<T.length;++oe){var se=T[oe];if(ee(se,Uint8Array)&&(se=s.from(se)),!s.isBuffer(se))throw new TypeError('"list" argument must be an Array of Buffers');se.copy(W,J),J+=se.length}return W},s.byteLength=v,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var T=this.length;if(T%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var F=0;F<T;F+=2)x(this,F,F+1);return this},s.prototype.swap32=function(){var T=this.length;if(T%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var F=0;F<T;F+=4)x(this,F,F+3),x(this,F+1,F+2);return this},s.prototype.swap64=function(){var T=this.length;if(T%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var F=0;F<T;F+=8)x(this,F,F+7),x(this,F+1,F+6),x(this,F+2,F+5),x(this,F+3,F+4);return this},s.prototype.toLocaleString=s.prototype.toString=function(){var T=this.length;return T===0?"":arguments.length===0?D(this,0,T):j.apply(this,arguments)},s.prototype.equals=function(T){if(s.isBuffer(T))return this===T||s.compare(this,T)===0;throw new TypeError("Argument must be a Buffer")},s.prototype.inspect=function(){var F="",T=u.INSPECT_MAX_BYTES,F=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim();return this.length>T&&(F+=" ... "),"<Buffer "+F+">"},h&&(s.prototype[h]=s.prototype.inspect),s.prototype.compare=function(T,F,W,J,oe){if(ee(T,Uint8Array)&&(T=s.from(T,T.offset,T.byteLength)),!s.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(W===void 0&&(W=T?T.length:0),J===void 0&&(J=0),oe===void 0&&(oe=this.length),(F=F===void 0?0:F)<0||W>T.length||J<0||oe>this.length)throw new RangeError("out of range index");if(oe<=J&&W<=F)return 0;if(oe<=J)return-1;if(W<=F)return 1;if(this===T)return 0;for(var se=(oe>>>=0)-(J>>>=0),fe=(W>>>=0)-(F>>>=0),ve=Math.min(se,fe),de=this.slice(J,oe),be=T.slice(F,W),pe=0;pe<ve;++pe)if(de[pe]!==be[pe]){se=de[pe],fe=be[pe];break}return se<fe?-1:fe<se?1:0},s.prototype.includes=function(T,F,W){return this.indexOf(T,F,W)!==-1},s.prototype.indexOf=function(T,F,W){return E(this,T,F,W,!0)},s.prototype.lastIndexOf=function(T,F,W){return E(this,T,F,W,!1)},s.prototype.write=function(T,F,W,J){if(F===void 0)J="utf8",W=this.length,F=0;else if(W===void 0&&typeof F=="string")J=F,W=this.length,F=0;else{if(!isFinite(F))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");F>>>=0,isFinite(W)?(W>>>=0,J===void 0&&(J="utf8")):(J=W,W=void 0)}var oe=this.length-F;if((W===void 0||oe<W)&&(W=oe),0<T.length&&(W<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");J=J||"utf8";for(var se,fe,ve,de=!1;;)switch(J){case"hex":var be=this,pe=T,ie=F,ye=W,_e=(ie=Number(ie)||0,be.length-ie);(!ye||_e<(ye=Number(ye)))&&(ye=_e),(_e=pe.length)/2<ye&&(ye=_e/2);for(var Te=0;Te<ye;++Te){var Ee=parseInt(pe.substr(2*Te,2),16);if(K(Ee))return Te;be[ie+Te]=Ee}return Te;case"utf8":case"utf-8":return _e=F,ve=W,X(Y(T,(fe=this).length-_e),fe,_e,ve);case"ascii":return O(this,T,F,W);case"latin1":case"binary":return O(this,T,F,W);case"base64":return fe=this,ve=F,se=W,X($(T),fe,ve,se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,T,F,W);default:if(de)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),de=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var U=4096;function I(T,F,W){if(T%1!=0||T<0)throw new RangeError("offset is not uint");if(W<T+F)throw new RangeError("Trying to access beyond buffer length")}function B(T,F,W,J,oe,se){if(!s.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(oe<F||F<se)throw new RangeError('"value" argument is out of bounds');if(W+J>T.length)throw new RangeError("Index out of range")}function R(T,F,W,J){if(W+J>T.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("Index out of range")}function G(T,F,W,J,oe){return F=+F,W>>>=0,oe||R(T,0,W,4),i.write(T,F,W,J,23,4),W+4}function z(T,F,W,J,oe){return F=+F,W>>>=0,oe||R(T,0,W,8),i.write(T,F,W,J,52,8),W+8}s.prototype.slice=function(T,F){var W=this.length,W=((T=~~T)<0?(T+=W)<0&&(T=0):W<T&&(T=W),(F=F===void 0?W:~~F)<0?(F+=W)<0&&(F=0):W<F&&(F=W),F<T&&(F=T),this.subarray(T,F));return Object.setPrototypeOf(W,s.prototype),W},s.prototype.readUIntLE=function(T,F,W){T>>>=0,F>>>=0,W||I(T,F,this.length);for(var J=this[T],oe=1,se=0;++se<F&&(oe*=256);)J+=this[T+se]*oe;return J},s.prototype.readUIntBE=function(T,F,W){T>>>=0,F>>>=0,W||I(T,F,this.length);for(var J=this[T+--F],oe=1;0<F&&(oe*=256);)J+=this[T+--F]*oe;return J},s.prototype.readUInt8=function(T,F){return T>>>=0,F||I(T,1,this.length),this[T]},s.prototype.readUInt16LE=function(T,F){return T>>>=0,F||I(T,2,this.length),this[T]|this[T+1]<<8},s.prototype.readUInt16BE=function(T,F){return T>>>=0,F||I(T,2,this.length),this[T]<<8|this[T+1]},s.prototype.readUInt32LE=function(T,F){return T>>>=0,F||I(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+16777216*this[T+3]},s.prototype.readUInt32BE=function(T,F){return T>>>=0,F||I(T,4,this.length),16777216*this[T]+(this[T+1]<<16|this[T+2]<<8|this[T+3])},s.prototype.readIntLE=function(T,F,W){T>>>=0,F>>>=0,W||I(T,F,this.length);for(var J=this[T],oe=1,se=0;++se<F&&(oe*=256);)J+=this[T+se]*oe;return(oe*=128)<=J&&(J-=Math.pow(2,8*F)),J},s.prototype.readIntBE=function(T,F,W){T>>>=0,F>>>=0,W||I(T,F,this.length);for(var J=F,oe=1,se=this[T+--J];0<J&&(oe*=256);)se+=this[T+--J]*oe;return(oe*=128)<=se&&(se-=Math.pow(2,8*F)),se},s.prototype.readInt8=function(T,F){return T>>>=0,F||I(T,1,this.length),128&this[T]?-1*(255-this[T]+1):this[T]},s.prototype.readInt16LE=function(T,F){return T>>>=0,F||I(T,2,this.length),F=this[T]|this[T+1]<<8,32768&F?4294901760|F:F},s.prototype.readInt16BE=function(T,F){return T>>>=0,F||I(T,2,this.length),F=this[T+1]|this[T]<<8,32768&F?4294901760|F:F},s.prototype.readInt32LE=function(T,F){return T>>>=0,F||I(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},s.prototype.readInt32BE=function(T,F){return T>>>=0,F||I(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},s.prototype.readFloatLE=function(T,F){return T>>>=0,F||I(T,4,this.length),i.read(this,T,!0,23,4)},s.prototype.readFloatBE=function(T,F){return T>>>=0,F||I(T,4,this.length),i.read(this,T,!1,23,4)},s.prototype.readDoubleLE=function(T,F){return T>>>=0,F||I(T,8,this.length),i.read(this,T,!0,52,8)},s.prototype.readDoubleBE=function(T,F){return T>>>=0,F||I(T,8,this.length),i.read(this,T,!1,52,8)},s.prototype.writeUIntLE=function(T,F,W,J){T=+T,F>>>=0,W>>>=0,J||B(this,T,F,W,Math.pow(2,8*W)-1,0);var oe=1,se=0;for(this[F]=255&T;++se<W&&(oe*=256);)this[F+se]=T/oe&255;return F+W},s.prototype.writeUIntBE=function(T,F,W,J){T=+T,F>>>=0,W>>>=0,J||B(this,T,F,W,Math.pow(2,8*W)-1,0);var oe=W-1,se=1;for(this[F+oe]=255&T;0<=--oe&&(se*=256);)this[F+oe]=T/se&255;return F+W},s.prototype.writeUInt8=function(T,F,W){return T=+T,F>>>=0,W||B(this,T,F,1,255,0),this[F]=255&T,F+1},s.prototype.writeUInt16LE=function(T,F,W){return T=+T,F>>>=0,W||B(this,T,F,2,65535,0),this[F]=255&T,this[F+1]=T>>>8,F+2},s.prototype.writeUInt16BE=function(T,F,W){return T=+T,F>>>=0,W||B(this,T,F,2,65535,0),this[F]=T>>>8,this[F+1]=255&T,F+2},s.prototype.writeUInt32LE=function(T,F,W){return T=+T,F>>>=0,W||B(this,T,F,4,4294967295,0),this[F+3]=T>>>24,this[F+2]=T>>>16,this[F+1]=T>>>8,this[F]=255&T,F+4},s.prototype.writeUInt32BE=function(T,F,W){return T=+T,F>>>=0,W||B(this,T,F,4,4294967295,0),this[F]=T>>>24,this[F+1]=T>>>16,this[F+2]=T>>>8,this[F+3]=255&T,F+4},s.prototype.writeIntLE=function(T,F,W,J){T=+T,F>>>=0,J||B(this,T,F,W,(J=Math.pow(2,8*W-1))-1,-J);var oe=0,se=1,fe=0;for(this[F]=255&T;++oe<W&&(se*=256);)T<0&&fe===0&&this[F+oe-1]!==0&&(fe=1),this[F+oe]=(T/se>>0)-fe&255;return F+W},s.prototype.writeIntBE=function(T,F,W,J){T=+T,F>>>=0,J||B(this,T,F,W,(J=Math.pow(2,8*W-1))-1,-J);var oe=W-1,se=1,fe=0;for(this[F+oe]=255&T;0<=--oe&&(se*=256);)T<0&&fe===0&&this[F+oe+1]!==0&&(fe=1),this[F+oe]=(T/se>>0)-fe&255;return F+W},s.prototype.writeInt8=function(T,F,W){return T=+T,F>>>=0,W||B(this,T,F,1,127,-128),this[F]=255&(T=T<0?255+T+1:T),F+1},s.prototype.writeInt16LE=function(T,F,W){return T=+T,F>>>=0,W||B(this,T,F,2,32767,-32768),this[F]=255&T,this[F+1]=T>>>8,F+2},s.prototype.writeInt16BE=function(T,F,W){return T=+T,F>>>=0,W||B(this,T,F,2,32767,-32768),this[F]=T>>>8,this[F+1]=255&T,F+2},s.prototype.writeInt32LE=function(T,F,W){return T=+T,F>>>=0,W||B(this,T,F,4,2147483647,-2147483648),this[F]=255&T,this[F+1]=T>>>8,this[F+2]=T>>>16,this[F+3]=T>>>24,F+4},s.prototype.writeInt32BE=function(T,F,W){return T=+T,F>>>=0,W||B(this,T,F,4,2147483647,-2147483648),this[F]=(T=T<0?4294967295+T+1:T)>>>24,this[F+1]=T>>>16,this[F+2]=T>>>8,this[F+3]=255&T,F+4},s.prototype.writeFloatLE=function(T,F,W){return G(this,T,F,!0,W)},s.prototype.writeFloatBE=function(T,F,W){return G(this,T,F,!1,W)},s.prototype.writeDoubleLE=function(T,F,W){return z(this,T,F,!0,W)},s.prototype.writeDoubleBE=function(T,F,W){return z(this,T,F,!1,W)},s.prototype.copy=function(T,F,W,J){if(!s.isBuffer(T))throw new TypeError("argument should be a Buffer");if(W=W||0,J||J===0||(J=this.length),F>=T.length&&(F=T.length),(J=0<J&&J<W?W:J)===W||T.length===0||this.length===0)return 0;if((F=F||0)<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length);var oe=(J=T.length-F<J-W?T.length-F+W:J)-W;if(this===T&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(F,W,J);else if(this===T&&W<F&&F<J)for(var se=oe-1;0<=se;--se)T[se+F]=this[se+W];else Uint8Array.prototype.set.call(T,this.subarray(W,J),F);return oe},s.prototype.fill=function(T,F,W,J){if(typeof T=="string"){if(typeof F=="string"?(J=F,F=0,W=this.length):typeof W=="string"&&(J=W,W=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!s.isEncoding(J))throw new TypeError("Unknown encoding: "+J);var oe;T.length===1&&(oe=T.charCodeAt(0),(J==="utf8"&&oe<128||J==="latin1")&&(T=oe))}else typeof T=="number"?T&=255:typeof T=="boolean"&&(T=Number(T));if(F<0||this.length<F||this.length<W)throw new RangeError("Out of range index");var se;if(!(W<=F))if(F>>>=0,W=W===void 0?this.length:W>>>0,typeof(T=T||0)=="number")for(se=F;se<W;++se)this[se]=T;else{var fe=s.isBuffer(T)?T:s.from(T,J),ve=fe.length;if(ve===0)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(se=0;se<W-F;++se)this[se+F]=fe[se%ve]}return this};var q=/[^+/0-9A-Za-z-_]/g;function Y(T,F){F=F||1/0;for(var W,J=T.length,oe=null,se=[],fe=0;fe<J;++fe){if(55295<(W=T.charCodeAt(fe))&&W<57344){if(!oe){if(56319<W){-1<(F-=3)&&se.push(239,191,189);continue}if(fe+1===J){-1<(F-=3)&&se.push(239,191,189);continue}oe=W;continue}if(W<56320){-1<(F-=3)&&se.push(239,191,189),oe=W;continue}W=65536+(oe-55296<<10|W-56320)}else oe&&-1<(F-=3)&&se.push(239,191,189);if(oe=null,W<128){if(--F<0)break;se.push(W)}else if(W<2048){if((F-=2)<0)break;se.push(W>>6|192,63&W|128)}else if(W<65536){if((F-=3)<0)break;se.push(W>>12|224,W>>6&63|128,63&W|128)}else{if(!(W<1114112))throw new Error("Invalid code point");if((F-=4)<0)break;se.push(W>>18|240,W>>12&63|128,W>>6&63|128,63&W|128)}}return se}function $(T){return l.toByteArray((function(F){if((F=(F=F.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;F.length%4!=0;)F+="=";return F})(T))}function X(T,F,W,J){for(var oe=0;oe<J&&!(oe+W>=F.length||oe>=T.length);++oe)F[oe+W]=T[oe];return oe}function ee(T,F){return T instanceof F||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===F.name}function K(T){return T!=T}var ne=(function(){for(var T="0123456789abcdef",F=new Array(256),W=0;W<16;++W)for(var J=16*W,oe=0;oe<16;++oe)F[J+oe]=T[W]+T[oe];return F})()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(t,f,u){f.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},{}],6:[function(t,f,u){var o=t("../internals/is-object");f.exports=function(l){if(o(l)||l===null)return l;throw TypeError("Can't set "+String(l)+" as a prototype")}},{"../internals/is-object":75}],7:[function(i,f,u){var o=i("../internals/well-known-symbol"),l=i("../internals/object-create"),i=i("../internals/object-define-property"),h=o("unscopables"),_=Array.prototype;_[h]==null&&i.f(_,h,{configurable:!0,value:l(null)}),f.exports=function(m){_[h][m]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(t,f,u){var o=t("../internals/string-multibyte").charAt;f.exports=function(l,i,h){return i+(h?o(l,i).length:1)}},{"../internals/string-multibyte":125}],9:[function(t,f,u){f.exports=function(o,l,i){if(o instanceof l)return o;throw TypeError("Incorrect "+(i?i+" ":"")+"invocation")}},{}],10:[function(t,f,u){var o=t("../internals/is-object");f.exports=function(l){if(o(l))return l;throw TypeError(String(l)+" is not an object")}},{"../internals/is-object":75}],11:[function(t,f,u){f.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(R,f,u){function o(z){return m(z)&&s(G,c(z))}var l,i=R("../internals/array-buffer-native"),h=R("../internals/descriptors"),_=R("../internals/global"),m=R("../internals/is-object"),s=R("../internals/has"),c=R("../internals/classof"),p=R("../internals/create-non-enumerable-property"),g=R("../internals/redefine"),b=R("../internals/object-define-property").f,y=R("../internals/object-get-prototype-of"),v=R("../internals/object-set-prototype-of"),U=R("../internals/well-known-symbol"),R=R("../internals/uid"),j=_.Int8Array,x=j&&j.prototype,E=_.Uint8ClampedArray,E=E&&E.prototype,P=j&&y(j),O=x&&y(x),M=Object.prototype,D=M.isPrototypeOf,U=U("toStringTag"),I=R("TYPED_ARRAY_TAG"),B=i&&!!v&&c(_.opera)!=="Opera",R=!1,G={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(l in G)_[l]||(B=!1);if((!B||typeof P!="function"||P===Function.prototype)&&(P=function(){throw TypeError("Incorrect invocation")},B))for(l in G)_[l]&&v(_[l],P);if((!B||!O||O===M)&&(O=P.prototype,B))for(l in G)_[l]&&v(_[l].prototype,O);if(B&&y(E)!==O&&v(E,O),h&&!s(O,U))for(l in R=!0,b(O,U,{get:function(){return m(this)?this[I]:void 0}}),G)_[l]&&p(_[l],I,l);f.exports={NATIVE_ARRAY_BUFFER_VIEWS:B,TYPED_ARRAY_TAG:R&&I,aTypedArray:function(z){if(o(z))return z;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(z){if(v){if(D.call(P,z))return z}else for(var q in G)if(s(G,l)&&(q=_[q],q&&(z===q||D.call(q,z))))return z;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(z,q,Y){if(h){if(Y)for(var $ in G)$=_[$],$&&s($.prototype,z)&&delete $.prototype[z];O[z]&&!Y||g(O,z,!Y&&B&&x[z]||q)}},exportTypedArrayStaticMethod:function(z,q,Y){var $,X;if(h){if(v){if(Y)for($ in G)(X=_[$])&&s(X,z)&&delete X[z];if(P[z]&&!Y)return;try{return g(P,z,!Y&&B&&j[z]||q)}catch{}}for($ in G)!(X=_[$])||X[z]&&!Y||g(X,z,q)}},isView:function(z){return z=c(z),z==="DataView"||s(G,z)},isTypedArray:o,TypedArray:P,TypedArrayPrototype:O}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(W,f,u){function o(ie){return[255&ie]}function l(ie){return[255&ie,ie>>8&255]}function i(ie){return[255&ie,ie>>8&255,ie>>16&255,ie>>24&255]}function h(ie){return ie[3]<<24|ie[2]<<16|ie[1]<<8|ie[0]}function _(ie){return se(ie,23,4)}function m(ie){return se(ie,52,8)}function s(ie,ye){R(ie[ee],ye,{get:function(){return q(this)[ye]}})}function c(Oe,ye,Se,Te){if(Se=M(Se),Oe=q(Oe),Se+ye>Oe.byteLength)throw oe(K);var Ee=q(Oe.buffer).bytes,Se=Se+Oe.byteOffset,Oe=Ee.slice(Se,Se+ye);return Te?Oe:Oe.reverse()}function p(ie,ye,_e,Te,Ee,Se){if(_e=M(_e),ie=q(ie),_e+ye>ie.byteLength)throw oe(K);for(var Oe=q(ie.buffer).bytes,Xe=_e+ie.byteOffset,Ne=Te(+Ee),yt=0;yt<ye;yt++)Oe[Xe+yt]=Ne[Se?yt:ye-yt-1]}var g=W("../internals/global"),b=W("../internals/descriptors"),y=W("../internals/array-buffer-native"),v=W("../internals/create-non-enumerable-property"),j=W("../internals/redefine-all"),x=W("../internals/fails"),E=W("../internals/an-instance"),P=W("../internals/to-integer"),O=W("../internals/to-length"),M=W("../internals/to-index"),D=W("../internals/ieee754"),U=W("../internals/object-get-prototype-of"),I=W("../internals/object-set-prototype-of"),B=W("../internals/object-get-own-property-names").f,R=W("../internals/object-define-property").f,G=W("../internals/array-fill"),z=W("../internals/set-to-string-tag"),W=W("../internals/internal-state"),q=W.get,Y=W.set,$="ArrayBuffer",X="DataView",ee="prototype",K="Wrong index",ne=g[$],T=ne,F=g[X],W=F&&F[ee],J=Object.prototype,oe=g.RangeError,se=D.pack,fe=D.unpack;if(y){if(!x(function(){ne(1)})||!x(function(){new ne(-1)})||x(function(){return new ne,new ne(1.5),new ne(NaN),ne.name!=$})){for(var ve,g=(T=function(_e){return E(this,T),new ne(M(_e))})[ee]=ne[ee],de=B(ne),be=0;de.length>be;)(ve=de[be++])in T||v(T,ve,ne[ve]);g.constructor=T}I&&U(W)!==J&&I(W,J);var D=new F(new T(2)),pe=W.setInt8;D.setInt8(0,2147483648),D.setInt8(1,2147483649),!D.getInt8(0)&&D.getInt8(1)||j(W,{setInt8:function(ye,_e){pe.call(this,ye,_e<<24>>24)},setUint8:function(ye,_e){pe.call(this,ye,_e<<24>>24)}},{unsafe:!0})}else T=function(ie){E(this,T,$),ie=M(ie),Y(this,{bytes:G.call(new Array(ie),0),byteLength:ie}),b||(this.byteLength=ie)},F=function(ie,Ee,_e){E(this,F,X),E(ie,T,X);var Te=q(ie).byteLength,Ee=P(Ee);if(Ee<0||Te<Ee)throw oe("Wrong offset");if(Te<Ee+(_e=_e===void 0?Te-Ee:O(_e)))throw oe("Wrong length");Y(this,{buffer:ie,byteLength:_e,byteOffset:Ee}),b||(this.buffer=ie,this.byteLength=_e,this.byteOffset=Ee)},b&&(s(T,"byteLength"),s(F,"buffer"),s(F,"byteLength"),s(F,"byteOffset")),j(F[ee],{getInt8:function(ie){return c(this,1,ie)[0]<<24>>24},getUint8:function(ie){return c(this,1,ie)[0]},getInt16:function(ie){return ie=c(this,2,ie,1<arguments.length?arguments[1]:void 0),(ie[1]<<8|ie[0])<<16>>16},getUint16:function(ie){return ie=c(this,2,ie,1<arguments.length?arguments[1]:void 0),ie[1]<<8|ie[0]},getInt32:function(ie){return h(c(this,4,ie,1<arguments.length?arguments[1]:void 0))},getUint32:function(ie){return h(c(this,4,ie,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(ie){return fe(c(this,4,ie,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(ie){return fe(c(this,8,ie,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(ie,ye){p(this,1,ie,o,ye)},setUint8:function(ie,ye){p(this,1,ie,o,ye)},setInt16:function(ie,ye){p(this,2,ie,l,ye,2<arguments.length?arguments[2]:void 0)},setUint16:function(ie,ye){p(this,2,ie,l,ye,2<arguments.length?arguments[2]:void 0)},setInt32:function(ie,ye){p(this,4,ie,i,ye,2<arguments.length?arguments[2]:void 0)},setUint32:function(ie,ye){p(this,4,ie,i,ye,2<arguments.length?arguments[2]:void 0)},setFloat32:function(ie,ye){p(this,4,ie,_,ye,2<arguments.length?arguments[2]:void 0)},setFloat64:function(ie,ye){p(this,8,ie,m,ye,2<arguments.length?arguments[2]:void 0)}});z(T,$),z(F,X),f.exports={ArrayBuffer:T,DataView:F}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(t,f,u){var o=t("../internals/to-object"),l=t("../internals/to-absolute-index"),i=t("../internals/to-length"),h=Math.min;f.exports=[].copyWithin||function(b,m){var s=o(this),c=i(s.length),p=l(b,c),g=l(m,c),b=2<arguments.length?arguments[2]:void 0,y=h((b===void 0?c:l(b,c))-g,c-p),v=1;for(g<p&&p<g+y&&(v=-1,g+=y-1,p+=y-1);0<y--;)g in s?s[p]=s[g]:delete s[p],p+=v,g+=v;return s}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(t,f,u){var o=t("../internals/to-object"),l=t("../internals/to-absolute-index"),i=t("../internals/to-length");f.exports=function(h){for(var _=o(this),m=i(_.length),c=arguments.length,s=l(1<c?arguments[1]:void 0,m),c=2<c?arguments[2]:void 0,p=c===void 0?m:l(c,m);s<p;)_[s++]=h;return _}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(i,f,u){var o=i("../internals/array-iteration").forEach,l=i("../internals/array-method-is-strict"),i=i("../internals/array-method-uses-to-length"),l=l("forEach"),i=i("forEach");f.exports=l&&i?[].forEach:function(h){return o(this,h,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,f,u){var o=t("../internals/function-bind-context"),l=t("../internals/to-object"),i=t("../internals/call-with-safe-iteration-closing"),h=t("../internals/is-array-iterator-method"),_=t("../internals/to-length"),m=t("../internals/create-property"),s=t("../internals/get-iterator-method");f.exports=function(E){var p,g,b,y,v,j,x=l(E),E=typeof this=="function"?this:Array,P=arguments.length,O=1<P?arguments[1]:void 0,M=O!==void 0,D=s(x),U=0;if(M&&(O=o(O,2<P?arguments[2]:void 0,2)),D==null||E==Array&&h(D))for(g=new E(p=_(x.length));U<p;U++)j=M?O(x[U],U):x[U],m(g,U,j);else for(v=(y=D.call(x)).next,g=new E;!(b=v.call(y)).done;U++)j=M?i(y,O,[b.value,U],!0):b.value,m(g,U,j);return g.length=U,g}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(t,f,u){function o(_){return function(m,s,c){var p,g=l(m),b=i(g.length),y=h(c,b);if(_&&s!=s){for(;y<b;)if((p=g[y++])!=p)return!0}else for(;y<b;y++)if((_||y in g)&&g[y]===s)return _||y||0;return!_&&-1}}var l=t("../internals/to-indexed-object"),i=t("../internals/to-length"),h=t("../internals/to-absolute-index");f.exports={includes:o(!0),indexOf:o(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(t,f,u){function o(c){var p=c==1,g=c==2,b=c==3,y=c==4,v=c==6,j=c==5||v;return function(x,E,P,O){for(var M,D,U=h(x),I=i(U),B=l(E,P,3),R=_(I.length),G=0,E=O||m,z=p?E(x,R):g?E(x,0):void 0;G<R;G++)if((j||G in I)&&(D=B(M=I[G],G,U),c)){if(p)z[G]=D;else if(D)switch(c){case 3:return!0;case 5:return M;case 6:return G;case 2:s.call(z,M)}else if(y)return!1}return v?-1:b||y?y:z}}var l=t("../internals/function-bind-context"),i=t("../internals/indexed-object"),h=t("../internals/to-object"),_=t("../internals/to-length"),m=t("../internals/array-species-create"),s=[].push;f.exports={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(c,f,u){var o=c("../internals/to-indexed-object"),l=c("../internals/to-integer"),i=c("../internals/to-length"),s=c("../internals/array-method-is-strict"),c=c("../internals/array-method-uses-to-length"),h=Math.min,_=[].lastIndexOf,m=!!_&&1/[1].lastIndexOf(1,-0)<0,s=s("lastIndexOf"),c=c("indexOf",{ACCESSORS:!0,1:0});f.exports=m||!s||!c?function(p){if(m)return _.apply(this,arguments)||0;var g=o(this),b=i(g.length),y=b-1;for((y=1<arguments.length?h(y,l(arguments[1])):y)<0&&(y=b+y);0<=y;y--)if(y in g&&g[y]===p)return y||0;return-1}:_},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(t,f,u){var o=t("../internals/fails"),l=t("../internals/well-known-symbol"),i=t("../internals/engine-v8-version"),h=l("species");f.exports=function(_){return 51<=i||!o(function(){var m=[];return(m.constructor={})[h]=function(){return{foo:1}},m[_](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(t,f,u){var o=t("../internals/fails");f.exports=function(l,i){var h=[][l];return!!h&&o(function(){h.call(null,i||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,f,u){function o(s){throw s}var l=t("../internals/descriptors"),i=t("../internals/fails"),h=t("../internals/has"),_=Object.defineProperty,m={};f.exports=function(s,c){var p,g,b,y;return h(m,s)?m[s]:(p=[][s],g=!!h(c=c||{},"ACCESSORS")&&c.ACCESSORS,b=h(c,0)?c[0]:o,y=h(c,1)?c[1]:void 0,m[s]=!!p&&!i(function(){if(g&&!l)return!0;var v={length:-1};g?_(v,1,{enumerable:!0,get:o}):v[1]=1,p.call(v,b,y)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(t,f,u){function o(m){return function(s,c,p,g){l(c);var b=i(s),y=h(b),v=_(b.length),j=m?v-1:0,x=m?-1:1;if(p<2)for(;;){if(j in y){g=y[j],j+=x;break}if(j+=x,m?j<0:v<=j)throw TypeError("Reduce of empty array with no initial value")}for(;m?0<=j:j<v;j+=x)j in y&&(g=c(g,y[j],j,b));return g}}var l=t("../internals/a-function"),i=t("../internals/to-object"),h=t("../internals/indexed-object"),_=t("../internals/to-length");f.exports={left:o(!1),right:o(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(t,f,u){var o=t("../internals/is-object"),l=t("../internals/is-array"),i=t("../internals/well-known-symbol")("species");f.exports=function(h,_){var m;return new((m=l(h)&&(typeof(m=h.constructor)=="function"&&(m===Array||l(m.prototype))||o(m)&&(m=m[i])===null)?void 0:m)===void 0?Array:m)(_===0?0:_)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(t,f,u){var o=t("../internals/an-object");f.exports=function(l,i,h,_){try{return _?i(o(h)[0],h[1]):i(h)}catch(m){throw _=l.return,_!==void 0&&o(_.call(l)),m}}},{"../internals/an-object":10}],27:[function(t,f,u){var o=t("../internals/well-known-symbol")("iterator"),l=!1;try{var i=0,h={next:function(){return{done:!!i++}},return:function(){l=!0}};h[o]=function(){return this},Array.from(h,function(){throw 2})}catch{}f.exports=function(_,m){if(!m&&!l)return!1;var s=!1;try{var c={};c[o]=function(){return{next:function(){return{done:s=!0}}}},_(c)}catch{}return s}},{"../internals/well-known-symbol":150}],28:[function(t,f,u){var o={}.toString;f.exports=function(l){return o.call(l).slice(8,-1)}},{}],29:[function(t,f,u){var o=t("../internals/to-string-tag-support"),l=t("../internals/classof-raw"),i=t("../internals/well-known-symbol")("toStringTag"),h=l((function(){return arguments})())=="Arguments";f.exports=o?l:function(_){var m;return _===void 0?"Undefined":_===null?"Null":typeof(m=(function(s,c){try{return s[c]}catch{}})(_=Object(_),i))=="string"?m:h?l(_):(m=l(_))=="Object"&&typeof _.callee=="function"?"Arguments":m}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(b,f,u){var o=b("../internals/object-define-property").f,l=b("../internals/object-create"),i=b("../internals/redefine-all"),h=b("../internals/function-bind-context"),_=b("../internals/an-instance"),m=b("../internals/iterate"),s=b("../internals/define-iterator"),c=b("../internals/set-species"),p=b("../internals/descriptors"),g=b("../internals/internal-metadata").fastKey,b=b("../internals/internal-state"),y=b.set,v=b.getterFor;f.exports={getConstructor:function(j,x,E,P){function O(I,B,R){var G,z=U(I),q=M(I,B);return q?q.value=R:(z.last=q={index:G=g(B,!0),key:B,value:R,previous:B=z.last,next:void 0,removed:!1},z.first||(z.first=q),B&&(B.next=q),p?z.size++:I.size++,G!=="F"&&(z.index[G]=q)),I}function M(G,B){var R,G=U(G),z=g(B);if(z!=="F")return G.index[z];for(R=G.first;R;R=R.next)if(R.key==B)return R}var D=j(function(I,B){_(I,D,x),y(I,{type:x,index:l(null),first:void 0,last:void 0,size:0}),p||(I.size=0),B!=null&&m(B,I[P],I,E)}),U=v(x);return i(D.prototype,{clear:function(){for(var I=U(this),B=I.index,R=I.first;R;)R.removed=!0,R.previous&&(R.previous=R.previous.next=void 0),delete B[R.index],R=R.next;I.first=I.last=void 0,p?I.size=0:this.size=0},delete:function(z){var B,R,G=U(this),z=M(this,z);return z&&(B=z.next,R=z.previous,delete G.index[z.index],z.removed=!0,R&&(R.next=B),B&&(B.previous=R),G.first==z&&(G.first=B),G.last==z&&(G.last=R),p?G.size--:this.size--),!!z},forEach:function(I){for(var B,R=U(this),G=h(I,1<arguments.length?arguments[1]:void 0,3);B=B?B.next:R.first;)for(G(B.value,B.key,this);B&&B.removed;)B=B.previous},has:function(I){return!!M(this,I)}}),i(D.prototype,E?{get:function(I){return I=M(this,I),I&&I.value},set:function(I,B){return O(this,I===0?0:I,B)}}:{add:function(I){return O(this,I=I===0?0:I,I)}}),p&&o(D.prototype,"size",{get:function(){return U(this).size}}),D},setStrong:function(j,x,E){var P=x+" Iterator",O=v(x),M=v(P);s(j,x,function(D,U){y(this,{type:P,target:D,state:O(D),kind:U,last:void 0})},function(){for(var D=M(this),U=D.kind,I=D.last;I&&I.removed;)I=I.previous;return D.target&&(D.last=I=I?I.next:D.state.first)?U=="keys"?{value:I.key,done:!1}:U=="values"?{value:I.value,done:!1}:{value:[I.key,I.value],done:!1}:{value:D.target=void 0,done:!0}},E?"entries":"values",!E,!0),c(x)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(y,f,u){function o(O){return O.frozen||(O.frozen=new l)}function l(){this.entries=[]}function i(O,M){return x(O.entries,function(D){return D[0]===M})}var h=y("../internals/redefine-all"),_=y("../internals/internal-metadata").getWeakData,m=y("../internals/an-object"),s=y("../internals/is-object"),c=y("../internals/an-instance"),p=y("../internals/iterate"),g=y("../internals/array-iteration"),b=y("../internals/has"),y=y("../internals/internal-state"),v=y.set,j=y.getterFor,x=g.find,E=g.findIndex,P=0;l.prototype={get:function(O){if(O=i(this,O),O)return O[1]},has:function(O){return!!i(this,O)},set:function(O,M){var D=i(this,O);D?D[1]=M:this.entries.push([O,M])},delete:function(O){var M=E(this.entries,function(D){return D[0]===O});return~M&&this.entries.splice(M,1),!!~M}},f.exports={getConstructor:function(O,M,D,U){function I(G,z,q){var Y=R(G),$=_(m(z),!0);return $===!0?o(Y).set(z,q):$[Y.id]=q,G}var B=O(function(G,z){c(G,B,M),v(G,{type:M,id:P++,frozen:void 0}),z!=null&&p(z,G[U],G,D)}),R=j(M);return h(B.prototype,{delete:function(G){var z,q=R(this);return!!s(G)&&((z=_(G))===!0?o(q).delete(G):z&&b(z,q.id)&&delete z[q.id])},has:function(G){var z,q=R(this);return!!s(G)&&((z=_(G))===!0?o(q).has(G):z&&b(z,q.id))}}),h(B.prototype,D?{get:function(G){var z,q=R(this);if(s(G))return(z=_(G))===!0?o(q).get(G):z?z[q.id]:void 0},set:function(G,z){return I(this,G,z)}}:{add:function(G){return I(this,G,!0)}}),B}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(t,f,u){var o=t("../internals/export"),l=t("../internals/global"),i=t("../internals/is-forced"),h=t("../internals/redefine"),_=t("../internals/internal-metadata"),m=t("../internals/iterate"),s=t("../internals/an-instance"),c=t("../internals/is-object"),p=t("../internals/fails"),g=t("../internals/check-correctness-of-iteration"),b=t("../internals/set-to-string-tag"),y=t("../internals/inherit-if-required");f.exports=function(v,j,x){function E($){var X=z[$];h(z,$,$=="add"?function(ee){return X.call(this,ee===0?0:ee),this}:$=="delete"?function(ee){return!(B&&!c(ee))&&X.call(this,ee===0?0:ee)}:$=="get"?function(ee){return B&&!c(ee)?void 0:X.call(this,ee===0?0:ee)}:$=="has"?function(ee){return!(B&&!c(ee))&&X.call(this,ee===0?0:ee)}:function(ee,K){return X.call(this,ee===0?0:ee,K),this})}var P,O,M,D,U,I=v.indexOf("Map")!==-1,B=v.indexOf("Weak")!==-1,R=I?"set":"add",G=l[v],z=G&&G.prototype,q=G,Y={};return i(v,typeof G!="function"||!(B||z.forEach&&!p(function(){new G().entries().next()})))?(q=x.getConstructor(j,v,I,R),_.REQUIRED=!0):i(v,!0)&&(O=(P=new q)[R](B?{}:-0,1)!=P,M=p(function(){P.has(1)}),D=g(function($){new G($)}),U=!B&&p(function(){for(var $=new G,X=5;X--;)$[R](X,X);return!$.has(-0)}),D||(((q=j(function($,X){return s($,q,v),$=y(new G,$,q),X!=null&&m(X,$[R],$,I),$})).prototype=z).constructor=q),(M||U)&&(E("delete"),E("has"),I&&E("get")),(U||O)&&E(R),B&&z.clear&&delete z.clear),Y[v]=q,o({global:!0,forced:q!=G},Y),b(q,v),B||x.setStrong(q,v,I),q}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(t,f,u){var o=t("../internals/has"),l=t("../internals/own-keys"),i=t("../internals/object-get-own-property-descriptor"),h=t("../internals/object-define-property");f.exports=function(_,m){for(var s=l(m),c=h.f,p=i.f,g=0;g<s.length;g++){var b=s[g];o(_,b)||c(_,b,p(m,b))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(t,f,u){var o=t("../internals/well-known-symbol")("match");f.exports=function(l){var i=/./;try{"/./"[l](i)}catch{try{return i[o]=!1,"/./"[l](i)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(t,f,u){t=t("../internals/fails"),f.exports=!t(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},{"../internals/fails":51}],36:[function(t,f,u){var o=t("../internals/require-object-coercible"),l=/"/g;f.exports=function(s,h,_,m){var s=String(o(s)),c="<"+h;return _!==""&&(c+=" "+_+'="'+String(m).replace(l,"&quot;")+'"'),c+">"+s+"</"+h+">"}},{"../internals/require-object-coercible":115}],37:[function(t,f,u){function o(){return this}var l=t("../internals/iterators-core").IteratorPrototype,i=t("../internals/object-create"),h=t("../internals/create-property-descriptor"),_=t("../internals/set-to-string-tag"),m=t("../internals/iterators");f.exports=function(s,c,p){return c+=" Iterator",s.prototype=i(l,{next:h(1,p)}),_(s,c,!1,!0),m[c]=o,s}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(t,f,u){var o=t("../internals/descriptors"),l=t("../internals/object-define-property"),i=t("../internals/create-property-descriptor");f.exports=o?function(h,_,m){return l.f(h,_,i(1,m))}:function(h,_,m){return h[_]=m,h}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(t,f,u){f.exports=function(o,l){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:l}}},{}],40:[function(t,f,u){var o=t("../internals/to-primitive"),l=t("../internals/object-define-property"),i=t("../internals/create-property-descriptor");f.exports=function(h,_,m){_=o(_),_ in h?l.f(h,_,i(0,m)):h[_]=m}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(y,f,u){function o(){return this}var l=y("../internals/export"),i=y("../internals/create-iterator-constructor"),h=y("../internals/object-get-prototype-of"),_=y("../internals/object-set-prototype-of"),m=y("../internals/set-to-string-tag"),s=y("../internals/create-non-enumerable-property"),c=y("../internals/redefine"),p=y("../internals/well-known-symbol"),g=y("../internals/is-pure"),b=y("../internals/iterators"),y=y("../internals/iterators-core"),v=y.IteratorPrototype,j=y.BUGGY_SAFARI_ITERATORS,x=p("iterator"),E="values",P="entries";f.exports=function(O,M,D,Y,I,B,R){i(D,M,Y);function G(T){if(T===I&&K)return K;if(!j&&T in X)return X[T];switch(T){case"keys":case E:case P:return function(){return new D(this,T)}}return function(){return new D(this)}}var z,q,Y=M+" Iterator",$=!1,X=O.prototype,ee=X[x]||X["@@iterator"]||I&&X[I],K=!j&&ee||G(I),ne=M=="Array"&&X.entries||ee;if(ne&&(ne=h(ne.call(new O)),v!==Object.prototype&&ne.next&&(g||h(ne)===v||(_?_(ne,v):typeof ne[x]!="function"&&s(ne,x,o)),m(ne,Y,!0,!0),g&&(b[Y]=o))),I==E&&ee&&ee.name!==E&&($=!0,K=function(){return ee.call(this)}),g&&!R||X[x]===K||s(X,x,K),b[M]=K,I)if(z={values:G(E),keys:B?K:G("keys"),entries:G(P)},R)for(q in z)!j&&!$&&q in X||c(X,q,z[q]);else l({target:M,proto:!0,forced:j||$},z);return z}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(t,f,u){var o=t("../internals/path"),l=t("../internals/has"),i=t("../internals/well-known-symbol-wrapped"),h=t("../internals/object-define-property").f;f.exports=function(_){var m=o.Symbol||(o.Symbol={});l(m,_)||h(m,_,{value:i.f(_)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(t,f,u){t=t("../internals/fails"),f.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(l,f,u){var o=l("../internals/global"),l=l("../internals/is-object"),i=o.document,h=l(i)&&l(i.createElement);f.exports=function(_){return h?i.createElement(_):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(t,f,u){f.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,f,u){t=t("../internals/engine-user-agent"),f.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,f,u){t=t("../internals/get-built-in"),f.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(i,f,u){var o,l,h=i("../internals/global"),i=i("../internals/engine-user-agent"),h=h.process,h=h&&h.versions,h=h&&h.v8;h?l=(o=h.split("."))[0]+o[1]:i&&(!(o=i.match(/Edge\/(\d+)/))||74<=o[1])&&(o=i.match(/Chrome\/(\d+)/))&&(l=o[1]),f.exports=l&&+l},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(t,f,u){f.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,f,u){var o=t("../internals/global"),l=t("../internals/object-get-own-property-descriptor").f,i=t("../internals/create-non-enumerable-property"),h=t("../internals/redefine"),_=t("../internals/set-global"),m=t("../internals/copy-constructor-properties"),s=t("../internals/is-forced");f.exports=function(c,p){var g,b,y,v=c.target,j=c.global,x=c.stat,E=j?o:x?o[v]||_(v,{}):(o[v]||{}).prototype;if(E)for(g in p){if(b=p[g],y=c.noTargetGet?(y=l(E,g))&&y.value:E[g],!s(j?g:v+(x?".":"#")+g,c.forced)&&y!==void 0){if(typeof b==typeof y)continue;m(b,y)}(c.sham||y&&y.sham)&&i(b,"sham",!0),h(E,g,b,c)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(t,f,u){f.exports=function(o){try{return!!o()}catch{return!0}}},{}],52:[function(p,f,u){p("../modules/es.regexp.exec");var o=p("../internals/redefine"),l=p("../internals/fails"),i=p("../internals/well-known-symbol"),h=p("../internals/regexp-exec"),_=p("../internals/create-non-enumerable-property"),m=i("species"),s=!l(function(){var y=/./;return y.exec=function(){var v=[];return v.groups={a:"7"},v},"".replace(y,"$<a>")!=="7"}),c="a".replace(/./,"$0")==="$0",p=i("replace"),g=!!/./[p]&&/./[p]("a","$0")==="",b=!l(function(){var v=/(?:)/,y=v.exec,v=(v.exec=function(){return y.apply(this,arguments)},"ab".split(v));return v.length!==2||v[0]!=="a"||v[1]!=="b"});f.exports=function(y,v,j,x){var E,P,O=i(y),M=!l(function(){var U={};return U[O]=function(){return 7},""[y](U)!=7}),D=M&&!l(function(){var U=!1,I=/a/;return y==="split"&&((I={constructor:{}}).constructor[m]=function(){return I},I.flags="",I[O]=/./[O]),I.exec=function(){return U=!0,null},I[O](""),!U});M&&D&&(y!=="replace"||s&&c&&!g)&&(y!=="split"||b)||(E=/./[O],j=(D=j(O,""[y],function(U,I,B,R,G){return I.exec===h?M&&!G?{done:!0,value:E.call(I,B,R)}:{done:!0,value:U.call(B,I,R)}:{done:!1}},{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:g}))[0],P=D[1],o(String.prototype,y,j),o(RegExp.prototype,O,v==2?function(U,I){return P.call(U,this,I)}:function(U){return P.call(U,this)})),x&&_(RegExp.prototype[O],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(t,f,u){function o(_,m,s,c,p,g,b,y){for(var v,j=p,x=0,E=!!b&&h(b,y,3);x<c;){if(x in s){if(v=E?E(s[x],x,m):s[x],0<g&&l(v))j=o(_,m,v,i(v.length),j,g-1)-1;else{if(9007199254740991<=j)throw TypeError("Exceed the acceptable array length");_[j]=v}j++}x++}return j}var l=t("../internals/is-array"),i=t("../internals/to-length"),h=t("../internals/function-bind-context");f.exports=o},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(t,f,u){t=t("../internals/fails"),f.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(t,f,u){var o=t("../internals/a-function");f.exports=function(l,i,h){if(o(l),i===void 0)return l;switch(h){case 0:return function(){return l.call(i)};case 1:return function(_){return l.call(i,_)};case 2:return function(_,m){return l.call(i,_,m)};case 3:return function(_,m,s){return l.call(i,_,m,s)}}return function(){return l.apply(i,arguments)}}},{"../internals/a-function":5}],56:[function(t,f,u){var o=t("../internals/a-function"),l=t("../internals/is-object"),i=[].slice,h={};f.exports=Function.bind||function(_){var m=o(this),s=i.call(arguments,1),c=function(){var p=s.concat(i.call(arguments));if(this instanceof c){var g=m,b=p.length,y=p;if(!(b in h)){for(var v=[],j=0;j<b;j++)v[j]="a["+j+"]";h[b]=Function("C,a","return new C("+v.join(",")+")")}return h[b](g,y)}return m.apply(_,p)};return l(m.prototype)&&(c.prototype=m.prototype),c}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(t,f,u){function o(h){return typeof h=="function"?h:void 0}var l=t("../internals/path"),i=t("../internals/global");f.exports=function(h,_){return arguments.length<2?o(l[h])||o(i[h]):l[h]&&l[h][_]||i[h]&&i[h][_]}},{"../internals/global":60,"../internals/path":106}],58:[function(t,f,u){var o=t("../internals/classof"),l=t("../internals/iterators"),i=t("../internals/well-known-symbol")("iterator");f.exports=function(h){if(h!=null)return h[i]||h["@@iterator"]||l[o(h)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(t,f,u){var o=t("../internals/an-object"),l=t("../internals/get-iterator-method");f.exports=function(i){var h=l(i);if(typeof h!="function")throw TypeError(String(i)+" is not iterable");return o(h.call(i))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(t,f,u){(function(o){function l(i){return i&&i.Math==Math&&i}f.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof o=="object"&&o)||Function("return this")()}).call(this,typeof Ou<"u"?Ou:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(t,f,u){var o={}.hasOwnProperty;f.exports=function(l,i){return o.call(l,i)}},{}],62:[function(t,f,u){f.exports={}},{}],63:[function(t,f,u){var o=t("../internals/global");f.exports=function(l,i){var h=o.console;h&&h.error&&(arguments.length===1?h.error(l):h.error(l,i))}},{"../internals/global":60}],64:[function(t,f,u){t=t("../internals/get-built-in"),f.exports=t("document","documentElement")},{"../internals/get-built-in":57}],65:[function(t,f,u){var o=t("../internals/descriptors"),l=t("../internals/fails"),i=t("../internals/document-create-element");f.exports=!o&&!l(function(){return Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(t,f,u){var o=Math.abs,l=Math.pow,i=Math.floor,h=Math.log,_=Math.LN2;f.exports={pack:function(m,s,j){var p,g,b,y=new Array(j),v=8*j-s-1,j=(1<<v)-1,x=j>>1,E=s===23?l(2,-24)-l(2,-77):0,P=m<0||m===0&&1/m<0?1:0,O=0;for((m=o(m))!=m||m===1/0?(g=m!=m?1:0,p=j):(p=i(h(m)/_),m*(b=l(2,-p))<1&&(p--,b*=2),2<=(m+=1<=p+x?E/b:E*l(2,1-x))*b&&(p++,b/=2),j<=p+x?(g=0,p=j):1<=p+x?(g=(m*b-1)*l(2,s),p+=x):(g=m*l(2,x-1)*l(2,s),p=0));8<=s;y[O++]=255&g,g/=256,s-=8);for(p=p<<s|g,v+=s;0<v;y[O++]=255&p,p/=256,v-=8);return y[--O]|=128*P,y},unpack:function(m,s){var c,p=m.length,j=8*p-s-1,g=(1<<j)-1,b=g>>1,y=j-7,v=p-1,j=m[v--],x=127&j;for(j>>=7;0<y;x=256*x+m[v],v--,y-=8);for(c=x&(1<<-y)-1,x>>=-y,y+=s;0<y;c=256*c+m[v],v--,y-=8);if(x===0)x=1-b;else{if(x===g)return c?NaN:j?-1/0:1/0;c+=l(2,s),x-=b}return(j?-1:1)*c*l(2,x-s)}}},{}],67:[function(t,f,u){var o=t("../internals/fails"),l=t("../internals/classof-raw"),i="".split;f.exports=o(function(){return!Object("z").propertyIsEnumerable(0)})?function(h){return l(h)=="String"?i.call(h,""):Object(h)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(t,f,u){var o=t("../internals/is-object"),l=t("../internals/object-set-prototype-of");f.exports=function(i,h,_){return l&&typeof(h=h.constructor)=="function"&&h!==_&&o(h=h.prototype)&&h!==_.prototype&&l(i,h),i}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(o,f,u){var o=o("../internals/shared-store"),l=Function.toString;typeof o.inspectSource!="function"&&(o.inspectSource=function(i){return l.call(i)}),f.exports=o.inspectSource},{"../internals/shared-store":121}],70:[function(t,f,u){function o(y){_(y,c,{value:{objectID:"O"+ ++p,weakData:{}}})}var l=t("../internals/hidden-keys"),i=t("../internals/is-object"),h=t("../internals/has"),_=t("../internals/object-define-property").f,m=t("../internals/uid"),s=t("../internals/freezing"),c=m("meta"),p=0,g=Object.isExtensible||function(){return!0},b=f.exports={REQUIRED:!1,fastKey:function(y,v){if(!i(y))return typeof y=="symbol"?y:(typeof y=="string"?"S":"P")+y;if(!h(y,c)){if(!g(y))return"F";if(!v)return"E";o(y)}return y[c].objectID},getWeakData:function(y,v){if(!h(y,c)){if(!g(y))return!0;if(!v)return!1;o(y)}return y[c].weakData},onFreeze:function(y){return s&&b.REQUIRED&&g(y)&&!h(y,c)&&o(y),y}};l[c]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(j,f,u){var o,l,i,h,_,m,s,c,p=j("../internals/native-weak-map"),x=j("../internals/global"),g=j("../internals/is-object"),b=j("../internals/create-non-enumerable-property"),y=j("../internals/has"),v=j("../internals/shared-key"),j=j("../internals/hidden-keys"),x=x.WeakMap;s=p?(o=new x,l=o.get,i=o.has,h=o.set,_=function(E,P){return h.call(o,E,P),P},m=function(E){return l.call(o,E)||{}},function(E){return i.call(o,E)}):(j[c=v("state")]=!0,_=function(E,P){return b(E,c,P),P},m=function(E){return y(E,c)?E[c]:{}},function(E){return y(E,c)}),f.exports={set:_,get:m,has:s,enforce:function(E){return s(E)?m(E):_(E,{})},getterFor:function(E){return function(P){if(g(P)&&(P=m(P)).type===E)return P;throw TypeError("Incompatible receiver, "+E+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(t,f,u){var o=t("../internals/well-known-symbol"),l=t("../internals/iterators"),i=o("iterator"),h=Array.prototype;f.exports=function(_){return _!==void 0&&(l.Array===_||h[i]===_)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(t,f,u){var o=t("../internals/classof-raw");f.exports=Array.isArray||function(l){return o(l)=="Array"}},{"../internals/classof-raw":28}],74:[function(t,f,u){function o(c,p){return(c=_[h(c)])==s||c!=m&&(typeof p=="function"?l(p):!!p)}var l=t("../internals/fails"),i=/#|\.prototype\./,h=o.normalize=function(c){return String(c).replace(i,".").toLowerCase()},_=o.data={},m=o.NATIVE="N",s=o.POLYFILL="P";f.exports=o},{"../internals/fails":51}],75:[function(t,f,u){f.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},{}],76:[function(t,f,u){f.exports=!1},{}],77:[function(t,f,u){var o=t("../internals/is-object"),l=t("../internals/classof-raw"),i=t("../internals/well-known-symbol")("match");f.exports=function(h){var _;return o(h)&&((_=h[i])!==void 0?!!_:l(h)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(t,f,u){function o(c,p){this.stopped=c,this.result=p}var l=t("../internals/an-object"),i=t("../internals/is-array-iterator-method"),h=t("../internals/to-length"),_=t("../internals/function-bind-context"),m=t("../internals/get-iterator-method"),s=t("../internals/call-with-safe-iteration-closing");(f.exports=function(c,p,g,b,y){var v,j,x,E,P,O,M=_(p,g,b?2:1);if(y)v=c;else{if(typeof(p=m(c))!="function")throw TypeError("Target is not iterable");if(i(p)){for(j=0,x=h(c.length);j<x;j++)if((E=b?M(l(O=c[j])[0],O[1]):M(c[j]))&&E instanceof o)return E;return new o(!1)}v=p.call(c)}for(P=v.next;!(O=P.call(v)).done;)if(typeof(E=s(v,M,O.value,b))=="object"&&E&&E instanceof o)return E;return new o(!1)}).stop=function(c){return new o(!0,c)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(m,f,u){var o,l,i=m("../internals/object-get-prototype-of"),h=m("../internals/create-non-enumerable-property"),_=m("../internals/has"),s=m("../internals/well-known-symbol"),m=m("../internals/is-pure"),s=s("iterator"),c=!1;[].keys&&("next"in(l=[].keys())?(i=i(i(l)))!==Object.prototype&&(o=i):c=!0),o==null&&(o={}),m||_(o,s)||h(o,s,function(){return this}),f.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:c}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(t,f,u){f.exports={}},{}],81:[function(t,f,u){f.exports=Math.sign||function(o){return(o=+o)==0||o!=o?o:o<0?-1:1}},{}],82:[function(b,f,u){var o,l,i,h,_,m,s,c,p=b("../internals/global"),P=b("../internals/object-get-own-property-descriptor").f,E=b("../internals/classof-raw"),g=b("../internals/task").set,b=b("../internals/engine-is-ios"),y=p.MutationObserver||p.WebKitMutationObserver,v=p.process,j=p.Promise,x=E(v)=="process",E=P(p,"queueMicrotask"),P=E&&E.value;P||(o=function(){var O,M;for(x&&(O=v.domain)&&O.exit();l;){M=l.fn,l=l.next;try{M()}catch(D){throw l?h():i=void 0,D}}i=void 0,O&&O.enter()},h=x?function(){v.nextTick(o)}:y&&!b?(_=!0,m=document.createTextNode(""),new y(o).observe(m,{characterData:!0}),function(){m.data=_=!_}):j&&j.resolve?(s=j.resolve(void 0),c=s.then,function(){c.call(s,o)}):function(){g.call(p,o)}),f.exports=P||function(O){O={fn:O,next:void 0},i&&(i.next=O),l||(l=O,h()),i=O}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(t,f,u){t=t("../internals/global"),f.exports=t.Promise},{"../internals/global":60}],84:[function(t,f,u){t=t("../internals/fails"),f.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(t,f,u){var o=t("../internals/fails"),l=t("../internals/well-known-symbol"),i=t("../internals/is-pure"),h=l("iterator");f.exports=!o(function(){var _=new URL("b?a=1&b=2&c=3","http://a"),m=_.searchParams,s="";return _.pathname="c%20d",m.forEach(function(c,p){m.delete("b"),s+=p+c}),i&&!_.toJSON||!m.sort||_.href!=="http://a/c%20d?a=1&c=3"||m.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!m[h]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||s!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(o,f,u){var l=o("../internals/global"),o=o("../internals/inspect-source"),l=l.WeakMap;f.exports=typeof l=="function"&&/native code/.test(o(l))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(t,f,u){function o(i){var h,_;this.promise=new i(function(m,s){if(h!==void 0||_!==void 0)throw TypeError("Bad Promise constructor");h=m,_=s}),this.resolve=l(h),this.reject=l(_)}var l=t("../internals/a-function");f.exports.f=function(i){return new o(i)}},{"../internals/a-function":5}],88:[function(t,f,u){var o=t("../internals/is-regexp");f.exports=function(l){if(o(l))throw TypeError("The method doesn't accept regular expressions");return l}},{"../internals/is-regexp":77}],89:[function(t,f,u){var o=t("../internals/global").isFinite;f.exports=Number.isFinite||function(l){return typeof l=="number"&&o(l)}},{"../internals/global":60}],90:[function(t,f,u){var o=t("../internals/descriptors"),l=t("../internals/fails"),i=t("../internals/object-keys"),h=t("../internals/object-get-own-property-symbols"),_=t("../internals/object-property-is-enumerable"),m=t("../internals/to-object"),s=t("../internals/indexed-object"),c=Object.assign,p=Object.defineProperty;f.exports=!c||l(function(){var g,b,y,v;return!(!o||c({b:1},c(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(b={},v="abcdefghijklmnopqrst",(g={})[y=Symbol()]=7,v.split("").forEach(function(j){b[j]=j}),c({},g)[y]!=7||i(c({},b)).join("")!=v)})?function(g,b){for(var y=m(g),v=arguments.length,j=1,x=h.f,E=_.f;j<v;)for(var P,O=s(arguments[j++]),M=x?i(O).concat(x(O)):i(O),D=M.length,U=0;U<D;)P=M[U++],o&&!E.call(O,P)||(y[P]=O[P]);return y}:c},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(p,f,u){function o(){}var l,i=p("../internals/an-object"),h=p("../internals/object-define-properties"),_=p("../internals/enum-bug-keys"),m=p("../internals/hidden-keys"),s=p("../internals/html"),c=p("../internals/document-create-element"),p=p("../internals/shared-key"),g="prototype",b="script",y=p("IE_PROTO"),v=function(x){return"<"+b+">"+x+"</"+b+">"},j=function(){try{l=document.domain&&new ActiveXObject("htmlfile")}catch{}j=l?((x=l).write(v("")),x.close(),E=x.parentWindow.Object,x=null,E):(x=c("iframe"),E="java"+b+":",x.style.display="none",s.appendChild(x),x.src=String(E),(E=x.contentWindow.document).open(),E.write(v("document.F=Object")),E.close(),E.F);for(var x,E,P=_.length;P--;)delete j[g][_[P]];return j()};m[y]=!0,f.exports=Object.create||function(x,E){var P;return x!==null?(o[g]=i(x),P=new o,o[g]=null,P[y]=x):P=j(),E===void 0?P:h(P,E)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(t,f,u){var o=t("../internals/descriptors"),l=t("../internals/object-define-property"),i=t("../internals/an-object"),h=t("../internals/object-keys");f.exports=o?Object.defineProperties:function(_,m){i(_);for(var s,c=h(m),p=c.length,g=0;g<p;)l.f(_,s=c[g++],m[s]);return _}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(t,f,u){var o=t("../internals/descriptors"),l=t("../internals/ie8-dom-define"),i=t("../internals/an-object"),h=t("../internals/to-primitive"),_=Object.defineProperty;u.f=o?_:function(m,s,c){if(i(m),s=h(s,!0),i(c),l)try{return _(m,s,c)}catch{}if("get"in c||"set"in c)throw TypeError("Accessors not supported");return"value"in c&&(m[s]=c.value),m}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(t,f,u){var o=t("../internals/descriptors"),l=t("../internals/object-property-is-enumerable"),i=t("../internals/create-property-descriptor"),h=t("../internals/to-indexed-object"),_=t("../internals/to-primitive"),m=t("../internals/has"),s=t("../internals/ie8-dom-define"),c=Object.getOwnPropertyDescriptor;u.f=o?c:function(p,g){if(p=h(p),g=_(g,!0),s)try{return c(p,g)}catch{}if(m(p,g))return i(!l.f.call(p,g),p[g])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(t,f,u){var o=t("../internals/to-indexed-object"),l=t("../internals/object-get-own-property-names").f,i={}.toString,h=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];f.exports.f=function(_){if(!h||i.call(_)!="[object Window]")return l(o(_));try{return l(_)}catch{return h.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(t,f,u){var o=t("../internals/object-keys-internal"),l=t("../internals/enum-bug-keys").concat("length","prototype");u.f=Object.getOwnPropertyNames||function(i){return o(i,l)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(t,f,u){u.f=Object.getOwnPropertySymbols},{}],98:[function(h,f,u){var o=h("../internals/has"),l=h("../internals/to-object"),i=h("../internals/shared-key"),h=h("../internals/correct-prototype-getter"),_=i("IE_PROTO"),m=Object.prototype;f.exports=h?Object.getPrototypeOf:function(s){return s=l(s),o(s,_)?s[_]:typeof s.constructor=="function"&&s instanceof s.constructor?s.constructor.prototype:s instanceof Object?m:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(t,f,u){var o=t("../internals/has"),l=t("../internals/to-indexed-object"),i=t("../internals/array-includes").indexOf,h=t("../internals/hidden-keys");f.exports=function(_,m){var s,c=l(_),p=0,g=[];for(s in c)!o(h,s)&&o(c,s)&&g.push(s);for(;m.length>p;)!o(c,s=m[p++])||~i(g,s)||g.push(s);return g}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(t,f,u){var o=t("../internals/object-keys-internal"),l=t("../internals/enum-bug-keys");f.exports=Object.keys||function(i){return o(i,l)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(t,f,u){var o={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,i=l&&!o.call({1:2},1);u.f=i?function(h){return h=l(this,h),!!h&&h.enumerable}:o},{}],102:[function(t,f,u){var o=t("../internals/an-object"),l=t("../internals/a-possible-prototype");f.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var i,h=!1,_={};try{(i=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(_,[]),h=_ instanceof Array}catch{}return function(m,s){return o(m),l(s),h?i.call(m,s):m.__proto__=s,m}})():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(t,f,u){function o(m){return function(s){for(var c,p=h(s),g=i(p),b=g.length,y=0,v=[];y<b;)c=g[y++],l&&!_.call(p,c)||v.push(m?[c,p[c]]:p[c]);return v}}var l=t("../internals/descriptors"),i=t("../internals/object-keys"),h=t("../internals/to-indexed-object"),_=t("../internals/object-property-is-enumerable").f;f.exports={entries:o(!0),values:o(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(t,f,u){var o=t("../internals/to-string-tag-support"),l=t("../internals/classof");f.exports=o?{}.toString:function(){return"[object "+l(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(t,f,u){var o=t("../internals/get-built-in"),l=t("../internals/object-get-own-property-names"),i=t("../internals/object-get-own-property-symbols"),h=t("../internals/an-object");f.exports=o("Reflect","ownKeys")||function(_){var m=l.f(h(_)),s=i.f;return s?m.concat(s(_)):m}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(t,f,u){t=t("../internals/global"),f.exports=t},{"../internals/global":60}],107:[function(t,f,u){f.exports=function(o){try{return{error:!1,value:o()}}catch(l){return{error:!0,value:l}}}},{}],108:[function(t,f,u){var o=t("../internals/an-object"),l=t("../internals/is-object"),i=t("../internals/new-promise-capability");f.exports=function(h,_){return o(h),l(_)&&_.constructor===h?_:((0,(h=i.f(h)).resolve)(_),h.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(t,f,u){var o=t("../internals/redefine");f.exports=function(l,i,h){for(var _ in i)o(l,_,i[_],h);return l}},{"../internals/redefine":110}],110:[function(m,f,u){var o=m("../internals/global"),l=m("../internals/create-non-enumerable-property"),i=m("../internals/has"),h=m("../internals/set-global"),_=m("../internals/inspect-source"),m=m("../internals/internal-state"),s=m.get,c=m.enforce,p=String(String).split("String");(f.exports=function(g,b,y,E){var j=!!E&&!!E.unsafe,x=!!E&&!!E.enumerable,E=!!E&&!!E.noTargetGet;typeof y=="function"&&(typeof b!="string"||i(y,"name")||l(y,"name",b),c(y).source=p.join(typeof b=="string"?b:"")),g===o?x?g[b]=y:h(b,y):(j?!E&&g[b]&&(x=!0):delete g[b],x?g[b]=y:l(g,b,y))})(Function.prototype,"toString",function(){return typeof this=="function"&&s(this).source||_(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(t,f,u){var o=t("./classof-raw"),l=t("./regexp-exec");f.exports=function(i,h){var _=i.exec;if(typeof _=="function"){if(_=_.call(i,h),typeof _!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return _}if(o(i)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(i,h)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(h,f,u){var o,l,i=h("./regexp-flags"),h=h("./regexp-sticky-helpers"),_=RegExp.prototype.exec,m=String.prototype.replace,s=_,c=(o=/a/,l=/b*/g,_.call(o,"a"),_.call(l,"a"),o.lastIndex!==0||l.lastIndex!==0),p=h.UNSUPPORTED_Y||h.BROKEN_CARET,g=/()??/.exec("")[1]!==void 0;f.exports=s=c||g||p?function(b){var y,v,j,x,E=this,P=p&&E.sticky,O=i.call(E),M=E.source,D=0,U=b;return P&&((O=O.replace("y","")).indexOf("g")===-1&&(O+="g"),U=String(b).slice(E.lastIndex),0<E.lastIndex&&(!E.multiline||E.multiline&&b[E.lastIndex-1]!==`
`)&&(M="(?: "+M+")",U=" "+U,D++),v=new RegExp("^(?:"+M+")",O)),g&&(v=new RegExp("^"+M+"$(?!\\s)",O)),c&&(y=E.lastIndex),j=_.call(P?v:E,U),P?j?(j.input=j.input.slice(D),j[0]=j[0].slice(D),j.index=E.lastIndex,E.lastIndex+=j[0].length):E.lastIndex=0:c&&j&&(E.lastIndex=E.global?j.index+j[0].length:y),g&&j&&1<j.length&&m.call(j[0],v,function(){for(x=1;x<arguments.length-2;x++)arguments[x]===void 0&&(j[x]=void 0)}),j}:s},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(t,f,u){var o=t("../internals/an-object");f.exports=function(){var l=o(this),i="";return l.global&&(i+="g"),l.ignoreCase&&(i+="i"),l.multiline&&(i+="m"),l.dotAll&&(i+="s"),l.unicode&&(i+="u"),l.sticky&&(i+="y"),i}},{"../internals/an-object":10}],114:[function(t,f,u){t=t("./fails");function o(l,i){return RegExp(l,i)}u.UNSUPPORTED_Y=t(function(){var l=o("a","y");return l.lastIndex=2,l.exec("abcd")!=null}),u.BROKEN_CARET=t(function(){var l=o("^r","gy");return l.lastIndex=2,l.exec("str")!=null})},{"./fails":51}],115:[function(t,f,u){f.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},{}],116:[function(t,f,u){f.exports=Object.is||function(o,l){return o===l?o!==0||1/o==1/l:o!=o&&l!=l}},{}],117:[function(t,f,u){var o=t("../internals/global"),l=t("../internals/create-non-enumerable-property");f.exports=function(i,h){try{l(o,i,h)}catch{o[i]=h}return h}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(t,f,u){var o=t("../internals/get-built-in"),l=t("../internals/object-define-property"),i=t("../internals/well-known-symbol"),h=t("../internals/descriptors"),_=i("species");f.exports=function(s){var s=o(s),c=l.f;h&&s&&!s[_]&&c(s,_,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(t,f,u){var o=t("../internals/object-define-property").f,l=t("../internals/has"),i=t("../internals/well-known-symbol")("toStringTag");f.exports=function(h,_,m){h&&!l(h=m?h:h.prototype,i)&&o(h,i,{configurable:!0,value:_})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(t,f,u){var o=t("../internals/shared"),l=t("../internals/uid"),i=o("keys");f.exports=function(h){return i[h]||(i[h]=l(h))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(o,f,u){var i=o("../internals/global"),o=o("../internals/set-global"),l="__core-js_shared__",i=i[l]||o(l,{});f.exports=i},{"../internals/global":60,"../internals/set-global":117}],122:[function(t,f,u){var o=t("../internals/is-pure"),l=t("../internals/shared-store");(f.exports=function(i,h){return l[i]||(l[i]=h!==void 0?h:{})})("versions",[]).push({version:"3.6.5",mode:o?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(t,f,u){var o=t("../internals/an-object"),l=t("../internals/a-function"),i=t("../internals/well-known-symbol")("species");f.exports=function(m,_){var m=o(m).constructor;return m===void 0||(m=o(m)[i])==null?_:l(m)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(t,f,u){var o=t("../internals/fails");f.exports=function(l){return o(function(){var i=""[l]('"');return i!==i.toLowerCase()||3<i.split('"').length})}},{"../internals/fails":51}],125:[function(t,f,u){function o(h){return function(c,p){var s,c=String(i(c)),p=l(p),g=c.length;return p<0||g<=p?h?"":void 0:(s=c.charCodeAt(p))<55296||56319<s||p+1===g||(g=c.charCodeAt(p+1))<56320||57343<g?h?c.charAt(p):s:h?c.slice(p,p+2):g-56320+(s-55296<<10)+65536}}var l=t("../internals/to-integer"),i=t("../internals/require-object-coercible");f.exports={codeAt:o(!1),charAt:o(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(t,f,u){t=t("../internals/engine-user-agent"),f.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],127:[function(t,f,u){function o(m){return function(g,v,y){var g=String(h(g)),b=g.length,y=y===void 0?" ":String(y),v=l(v);return v<=b||y==""?g:((b=i.call(y,_((v=v-b)/y.length))).length>v&&(b=b.slice(0,v)),m?g+b:b+g)}}var l=t("../internals/to-length"),i=t("../internals/string-repeat"),h=t("../internals/require-object-coercible"),_=Math.ceil;f.exports={start:o(!1),end:o(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(t,f,u){function o(j){return j+22+75*(j<26)}function l(j){var x,E=[],P=(j=(function(ee){for(var K=[],ne=0,T=ee.length;ne<T;){var F,W=ee.charCodeAt(ne++);55296<=W&&W<=56319&&ne<T?(64512&(F=ee.charCodeAt(ne++)))==56320?K.push(((1023&W)<<10)+(1023&F)+65536):(K.push(W),ne--):K.push(W)}return K})(j)).length,O=128,M=0,D=72;for(R=0;R<j.length;R++)(x=j[R])<128&&E.push(v(x));var U=E.length,I=U;for(U&&E.push("-");I<P;){for(var B=i,R=0;R<j.length;R++)O<=(x=j[R])&&x<B&&(B=x);var G=I+1;if(B-O>y((i-M)/G))throw RangeError(g);for(M+=(B-O)*G,O=B,R=0;R<j.length;R++){if((x=j[R])<O&&++M>i)throw RangeError(g);if(x==O){for(var z=M,q=h;;q+=h){var Y=q<=D?1:D+_<=q?_:q-D;if(z<Y)break;var $=z-Y,X=h-Y;E.push(v(o(Y+$%X))),z=y($/X)}E.push(v(o(z))),D=(function(ee,K,ne){var T=0;for(ee=ne?y(ee/s):ee>>1,ee+=y(ee/K);b*_>>1<ee;T+=h)ee=y(ee/b);return y(T+(b+1)*ee/(ee+m))})(M,G,I==U),M=0,++I}}++M,++O}return E.join("")}var i=2147483647,h=36,_=26,m=38,s=700,c=/[^\0-\u007E]/,p=/[.\u3002\uFF0E\uFF61]/g,g="Overflow: input needs wider integers to process",b=h-1,y=Math.floor,v=String.fromCharCode;f.exports=function(j){for(var x,E=[],P=j.toLowerCase().replace(p,".").split("."),O=0;O<P.length;O++)x=P[O],E.push(c.test(x)?"xn--"+l(x):x);return E.join(".")}},{}],129:[function(t,f,u){var o=t("../internals/to-integer"),l=t("../internals/require-object-coercible");f.exports="".repeat||function(i){var h=String(l(this)),_="",m=o(i);if(m<0||m==1/0)throw RangeError("Wrong number of repetitions");for(;0<m;(m>>>=1)&&(h+=h))1&m&&(_+=h);return _}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(t,f,u){var o=t("../internals/fails"),l=t("../internals/whitespaces");f.exports=function(i){return o(function(){return!!l[i]()||""[i]()!=""||l[i].name!==i})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(i,f,u){function o(m){return function(s){return s=String(l(s)),1&m&&(s=s.replace(h,"")),s=2&m?s.replace(_,""):s}}var l=i("../internals/require-object-coercible"),i="["+i("../internals/whitespaces")+"]",h=RegExp("^"+i+i+"*"),_=RegExp(i+i+"*$");f.exports={start:o(1),end:o(2),trim:o(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(b,f,u){function o(I){return function(){U(I)}}function l(I){U(I.data)}function i(I){_.postMessage(I+"",y.protocol+"//"+y.host)}var h,_=b("../internals/global"),m=b("../internals/fails"),s=b("../internals/classof-raw"),c=b("../internals/function-bind-context"),p=b("../internals/html"),g=b("../internals/document-create-element"),b=b("../internals/engine-is-ios"),y=_.location,v=_.setImmediate,j=_.clearImmediate,x=_.process,E=_.MessageChannel,P=_.Dispatch,O=0,M={},D="onreadystatechange",U=function(I){var B;M.hasOwnProperty(I)&&(B=M[I],delete M[I],B())};v&&j||(v=function(I){for(var B=[],R=1;R<arguments.length;)B.push(arguments[R++]);return M[++O]=function(){(typeof I=="function"?I:Function(I)).apply(void 0,B)},h(O),O},j=function(I){delete M[I]},s(x)=="process"?h=function(I){x.nextTick(o(I))}:P&&P.now?h=function(I){P.now(o(I))}:E&&!b?(b=(s=new E).port2,s.port1.onmessage=l,h=c(b.postMessage,b,1)):!_.addEventListener||typeof postMessage!="function"||_.importScripts||m(i)||y.protocol==="file:"?h=D in g("script")?function(I){p.appendChild(g("script"))[D]=function(){p.removeChild(this),U(I)}}:function(I){setTimeout(o(I),0)}:(h=i,_.addEventListener("message",l,!1))),f.exports={set:v,clear:j}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(t,f,u){var o=t("../internals/classof-raw");f.exports=function(l){if(typeof l!="number"&&o(l)!="Number")throw TypeError("Incorrect invocation");return+l}},{"../internals/classof-raw":28}],134:[function(t,f,u){var o=t("../internals/to-integer"),l=Math.max,i=Math.min;f.exports=function(h,_){return h=o(h),h<0?l(h+_,0):i(h,_)}},{"../internals/to-integer":137}],135:[function(t,f,u){var o=t("../internals/to-integer"),l=t("../internals/to-length");f.exports=function(h){if(h===void 0)return 0;var h=o(h),_=l(h);if(h!==_)throw RangeError("Wrong length or index");return _}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(t,f,u){var o=t("../internals/indexed-object"),l=t("../internals/require-object-coercible");f.exports=function(i){return o(l(i))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(t,f,u){var o=Math.ceil,l=Math.floor;f.exports=function(i){return isNaN(i=+i)?0:(0<i?l:o)(i)}},{}],138:[function(t,f,u){var o=t("../internals/to-integer"),l=Math.min;f.exports=function(i){return 0<i?l(o(i),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(t,f,u){var o=t("../internals/require-object-coercible");f.exports=function(l){return Object(o(l))}},{"../internals/require-object-coercible":115}],140:[function(t,f,u){var o=t("../internals/to-positive-integer");f.exports=function(l,i){if(l=o(l),l%i)throw RangeError("Wrong offset");return l}},{"../internals/to-positive-integer":141}],141:[function(t,f,u){var o=t("../internals/to-integer");f.exports=function(l){if(l=o(l),l<0)throw RangeError("The argument can't be less than 0");return l}},{"../internals/to-integer":137}],142:[function(t,f,u){var o=t("../internals/is-object");f.exports=function(l,i){if(!o(l))return l;var h,_;if(i&&typeof(h=l.toString)=="function"&&!o(_=h.call(l))||typeof(h=l.valueOf)=="function"&&!o(_=h.call(l))||!i&&typeof(h=l.toString)=="function"&&!o(_=h.call(l)))return _;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(t,f,u){var o={};o[t("../internals/well-known-symbol")("toStringTag")]="z",f.exports=String(o)==="[object z]"},{"../internals/well-known-symbol":150}],144:[function(t,f,u){function o(Ee,Se){for(var Oe=0,Xe=Se.length,Ne=new(ie(Ee))(Xe);Oe<Xe;)Ne[Oe]=Se[Oe++];return Ne}function l(Ee,Se){F(Ee,Se,{get:function(){return ne(this)[Se]}})}function i(Ee){return Ee instanceof se||(Ee=U(Ee))=="ArrayBuffer"||Ee=="SharedArrayBuffer"}function h(Ee,Se){return ye(Ee)&&typeof Se!="symbol"&&Se in Ee&&String(+Se)==String(Se)}function _(Ee,Se){return h(Ee,Se=M(Se,!0))?j(2,Ee[Se]):W(Ee,Se)}function m(Ee,Se,Oe){return!(h(Ee,Se=M(Se,!0))&&I(Oe)&&D(Oe,"value"))||D(Oe,"get")||D(Oe,"set")||Oe.configurable||D(Oe,"writable")&&!Oe.writable||D(Oe,"enumerable")&&!Oe.enumerable?F(Ee,Se,Oe):(Ee[Se]=Oe.value,Ee)}var s=t("../internals/export"),c=t("../internals/global"),p=t("../internals/descriptors"),g=t("../internals/typed-array-constructors-require-wrappers"),b=t("../internals/array-buffer-view-core"),y=t("../internals/array-buffer"),v=t("../internals/an-instance"),j=t("../internals/create-property-descriptor"),x=t("../internals/create-non-enumerable-property"),E=t("../internals/to-length"),P=t("../internals/to-index"),O=t("../internals/to-offset"),M=t("../internals/to-primitive"),D=t("../internals/has"),U=t("../internals/classof"),I=t("../internals/is-object"),B=t("../internals/object-create"),R=t("../internals/object-set-prototype-of"),G=t("../internals/object-get-own-property-names").f,z=t("../internals/typed-array-from"),q=t("../internals/array-iteration").forEach,Y=t("../internals/set-species"),$=t("../internals/object-define-property"),X=t("../internals/object-get-own-property-descriptor"),ee=t("../internals/internal-state"),K=t("../internals/inherit-if-required"),ne=ee.get,T=ee.set,F=$.f,W=X.f,J=Math.round,oe=c.RangeError,se=y.ArrayBuffer,fe=y.DataView,ve=b.NATIVE_ARRAY_BUFFER_VIEWS,de=b.TYPED_ARRAY_TAG,be=b.TypedArray,pe=b.TypedArrayPrototype,ie=b.aTypedArrayConstructor,ye=b.isTypedArray,_e="BYTES_PER_ELEMENT",Te="Wrong length";p?(ve||(X.f=_,$.f=m,l(pe,"buffer"),l(pe,"byteOffset"),l(pe,"byteLength"),l(pe,"length")),s({target:"Object",stat:!0,forced:!ve},{getOwnPropertyDescriptor:_,defineProperty:m}),f.exports=function(Me,Se,Oe){function Xe(Le,ae){F(Le,ae,{get:function(){var ce=this,re=ae;return(ce=ne(ce)).view[lt](re*Ne+ce.byteOffset,!0)},set:function(ce){var re=this,he=ae;re=ne(re),Oe&&(ce=(ce=J(ce))<0?0:255<ce?255:255&ce),re.view[rt](he*Ne+re.byteOffset,ce,!0)},enumerable:!0})}var Ne=Me.match(/\d+$/)[0]/8,yt=Me+(Oe?"Clamped":"")+"Array",lt="get"+Me,rt="set"+Me,ut=c[yt],ct=ut,Me=ct&&ct.prototype,Ye={};ve?g&&(ct=Se(function(Le,ae,ce,re){return v(Le,ct,yt),K(I(ae)?i(ae)?re!==void 0?new ut(ae,O(ce,Ne),re):ce!==void 0?new ut(ae,O(ce,Ne)):new ut(ae):ye(ae)?o(ct,ae):z.call(ct,ae):new ut(P(ae)),Le,ct)}),R&&R(ct,be),q(G(ut),function(Le){Le in ct||x(ct,Le,ut[Le])}),ct.prototype=Me):(ct=Se(function(Le,ae,ce,re){v(Le,ct,yt);var he,ke,Re=0,He=0;if(I(ae)){if(!i(ae))return ye(ae)?o(ct,ae):z.call(ct,ae);var Qe=ae,He=O(ce,Ne),ce=ae.byteLength;if(re===void 0){if(ce%Ne||(he=ce-He)<0)throw oe(Te)}else if(ce<(he=E(re)*Ne)+He)throw oe(Te);ke=he/Ne}else ke=P(ae),Qe=new se(he=ke*Ne);for(T(Le,{buffer:Qe,byteOffset:He,byteLength:he,length:ke,view:new fe(Qe)});Re<ke;)Xe(Le,Re++)}),R&&R(ct,be),Me=ct.prototype=B(pe)),Me.constructor!==ct&&x(Me,"constructor",ct),de&&x(Me,de,yt),Ye[yt]=ct,s({global:!0,forced:ct!=ut,sham:!ve},Ye),_e in ct||x(ct,_e,Ne),_e in Me||x(Me,_e,Ne),Y(yt)}):f.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(h,f,u){var o=h("../internals/global"),l=h("../internals/fails"),i=h("../internals/check-correctness-of-iteration"),h=h("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,_=o.ArrayBuffer,m=o.Int8Array;f.exports=!h||!l(function(){m(1)})||!l(function(){new m(-1)})||!i(function(s){new m,new m(null),new m(1.5),new m(s)},!0)||l(function(){return new m(new _(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(t,f,u){var o=t("../internals/to-object"),l=t("../internals/to-length"),i=t("../internals/get-iterator-method"),h=t("../internals/is-array-iterator-method"),_=t("../internals/function-bind-context"),m=t("../internals/array-buffer-view-core").aTypedArrayConstructor;f.exports=function(s){var c,p,g,b,y,v,j=o(s),x=arguments.length,E=1<x?arguments[1]:void 0,P=E!==void 0,O=i(j);if(O!=null&&!h(O))for(v=(y=O.call(j)).next,j=[];!(b=v.call(y)).done;)j.push(b.value);for(P&&2<x&&(E=_(E,arguments[2],2)),p=l(j.length),g=new(m(this))(p),c=0;c<p;c++)g[c]=P?E(j[c],c):j[c];return g}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(t,f,u){var o=0,l=Math.random();f.exports=function(i){return"Symbol("+String(i===void 0?"":i)+")_"+(++o+l).toString(36)}},{}],148:[function(t,f,u){t=t("../internals/native-symbol"),f.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":84}],149:[function(t,f,u){t=t("../internals/well-known-symbol"),u.f=t},{"../internals/well-known-symbol":150}],150:[function(m,f,u){var o=m("../internals/global"),l=m("../internals/shared"),i=m("../internals/has"),h=m("../internals/uid"),_=m("../internals/native-symbol"),m=m("../internals/use-symbol-as-uid"),s=l("wks"),c=o.Symbol,p=m?c:c&&c.withoutSetter||h;f.exports=function(g){return i(s,g)||(_&&i(c,g)?s[g]=c[g]:s[g]=p("Symbol."+g)),s[g]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(t,f,u){f.exports=`	
\v\f\r \u2028\u2029\uFEFF`},{}],152:[function(i,f,u){var o=i("../internals/export"),l=i("../internals/global"),_=i("../internals/array-buffer"),i=i("../internals/set-species"),h="ArrayBuffer",_=_[h];o({global:!0,forced:l[h]!==_},{ArrayBuffer:_}),i(h)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(j,f,u){var o=j("../internals/export"),l=j("../internals/fails"),i=j("../internals/is-array"),h=j("../internals/is-object"),_=j("../internals/to-object"),m=j("../internals/to-length"),s=j("../internals/create-property"),c=j("../internals/array-species-create"),p=j("../internals/array-method-has-species-support"),v=j("../internals/well-known-symbol"),j=j("../internals/engine-v8-version"),g=v("isConcatSpreadable"),b=9007199254740991,y="Maximum allowed index exceeded",v=51<=j||!l(function(){var x=[];return x[g]=!1,x.concat()[0]!==x}),j=p("concat");o({target:"Array",proto:!0,forced:!v||!j},{concat:function(x){for(var E,P,O,M,D,U=_(this),I=c(U,0),B=0,R=-1,G=arguments.length;R<G;R++)if(D=void 0,!h(M=O=R===-1?U:arguments[R])||((D=M[g])!==void 0?!D:!i(M))){if(b<=B)throw TypeError(y);s(I,B++,O)}else{if(P=m(O.length),b<B+P)throw TypeError(y);for(E=0;E<P;E++,B++)E in O&&s(I,B,O[E])}return I.length=B,I}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(i,f,u){var o=i("../internals/export"),l=i("../internals/array-copy-within"),i=i("../internals/add-to-unscopables");o({target:"Array",proto:!0},{copyWithin:l}),i("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(h,f,u){var o=h("../internals/export"),l=h("../internals/array-iteration").every,i=h("../internals/array-method-is-strict"),h=h("../internals/array-method-uses-to-length"),i=i("every"),h=h("every");o({target:"Array",proto:!0,forced:!i||!h},{every:function(_){return l(this,_,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(i,f,u){var o=i("../internals/export"),l=i("../internals/array-fill"),i=i("../internals/add-to-unscopables");o({target:"Array",proto:!0},{fill:l}),i("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(h,f,u){var o=h("../internals/export"),l=h("../internals/array-iteration").filter,i=h("../internals/array-method-has-species-support"),h=h("../internals/array-method-uses-to-length"),i=i("filter"),h=h("filter");o({target:"Array",proto:!0,forced:!i||!h},{filter:function(_){return l(this,_,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(m,f,u){var o=m("../internals/export"),l=m("../internals/array-iteration").findIndex,i=m("../internals/add-to-unscopables"),m=m("../internals/array-method-uses-to-length"),h="findIndex",_=!0,m=m(h);h in[]&&Array(1)[h](function(){_=!1}),o({target:"Array",proto:!0,forced:_||!m},{findIndex:function(s){return l(this,s,1<arguments.length?arguments[1]:void 0)}}),i(h)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(t,f,u){var o=t("../internals/export"),l=t("../internals/flatten-into-array"),i=t("../internals/to-object"),h=t("../internals/to-length"),_=t("../internals/a-function"),m=t("../internals/array-species-create");o({target:"Array",proto:!0},{flatMap:function(s){var c,p=i(this),g=h(p.length);return _(s),(c=m(p,0)).length=l(c,p,p,g,0,1,s,1<arguments.length?arguments[1]:void 0),c}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(t,f,u){var o=t("../internals/export"),l=t("../internals/flatten-into-array"),i=t("../internals/to-object"),h=t("../internals/to-length"),_=t("../internals/to-integer"),m=t("../internals/array-species-create");o({target:"Array",proto:!0},{flat:function(){var s=arguments.length?arguments[0]:void 0,c=i(this),p=h(c.length),g=m(c,0);return g.length=l(g,c,c,p,0,s===void 0?1:_(s)),g}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(l,f,u){var o=l("../internals/export"),l=l("../internals/array-for-each");o({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(t,f,u){var o=t("../internals/export"),l=t("../internals/array-from");o({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(i){Array.from(i)})},{from:l})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(t,f,u){var o=t("../internals/export"),l=t("../internals/array-includes").includes,i=t("../internals/add-to-unscopables");o({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(h){return l(this,h,1<arguments.length?arguments[1]:void 0)}}),i("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(m,f,u){var o=m("../internals/export"),l=m("../internals/array-includes").indexOf,_=m("../internals/array-method-is-strict"),m=m("../internals/array-method-uses-to-length"),i=[].indexOf,h=!!i&&1/[1].indexOf(1,-0)<0,_=_("indexOf"),m=m("indexOf",{ACCESSORS:!0,1:0});o({target:"Array",proto:!0,forced:h||!_||!m},{indexOf:function(s){return h?i.apply(this,arguments)||0:l(this,s,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(_,f,u){var o=_("../internals/to-indexed-object"),l=_("../internals/add-to-unscopables"),i=_("../internals/iterators"),h=_("../internals/internal-state"),_=_("../internals/define-iterator"),m="Array Iterator",s=h.set,c=h.getterFor(m);f.exports=_(Array,"Array",function(p,g){s(this,{type:m,target:o(p),index:0,kind:g})},function(){var p=c(this),g=p.target,b=p.kind,y=p.index++;return!g||y>=g.length?{value:p.target=void 0,done:!0}:b=="keys"?{value:y,done:!1}:b=="values"?{value:g[y],done:!1}:{value:[y,g[y]],done:!1}},"values"),i.Arguments=i.Array,l("keys"),l("values"),l("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(_,f,u){var o=_("../internals/export"),h=_("../internals/indexed-object"),l=_("../internals/to-indexed-object"),_=_("../internals/array-method-is-strict"),i=[].join,h=h!=Object,_=_("join",",");o({target:"Array",proto:!0,forced:h||!_},{join:function(m){return i.call(l(this),m===void 0?",":m)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(l,f,u){var o=l("../internals/export"),l=l("../internals/array-last-index-of");o({target:"Array",proto:!0,forced:l!==[].lastIndexOf},{lastIndexOf:l})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(h,f,u){var o=h("../internals/export"),l=h("../internals/array-iteration").map,i=h("../internals/array-method-has-species-support"),h=h("../internals/array-method-uses-to-length"),i=i("map"),h=h("map");o({target:"Array",proto:!0,forced:!i||!h},{map:function(_){return l(this,_,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(g,f,u){var o=g("../internals/export"),l=g("../internals/is-object"),i=g("../internals/is-array"),h=g("../internals/to-absolute-index"),_=g("../internals/to-length"),m=g("../internals/to-indexed-object"),s=g("../internals/create-property"),c=g("../internals/well-known-symbol"),p=g("../internals/array-method-has-species-support"),g=g("../internals/array-method-uses-to-length"),p=p("slice"),g=g("slice",{ACCESSORS:!0,0:0,1:2}),b=c("species"),y=[].slice,v=Math.max;o({target:"Array",proto:!0,forced:!p||!g},{slice:function(j,x){var E,P,O,M=m(this),D=_(M.length),U=h(j,D),I=h(x===void 0?D:x,D);if(i(M)&&((E=typeof(E=M.constructor)=="function"&&(E===Array||i(E.prototype))||l(E)&&(E=E[b])===null?void 0:E)===Array||E===void 0))return y.call(M,U,I);for(P=new(E===void 0?Array:E)(v(I-U,0)),O=0;U<I;U++,O++)U in M&&s(P,O,M[U]);return P.length=O,P}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(h,f,u){var o=h("../internals/export"),l=h("../internals/array-iteration").some,i=h("../internals/array-method-is-strict"),h=h("../internals/array-method-uses-to-length"),i=i("some"),h=h("some");o({target:"Array",proto:!0,forced:!i||!h},{some:function(_){return l(this,_,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(p,f,u){var o=p("../internals/export"),l=p("../internals/to-absolute-index"),i=p("../internals/to-integer"),h=p("../internals/to-length"),_=p("../internals/to-object"),m=p("../internals/array-species-create"),s=p("../internals/create-property"),c=p("../internals/array-method-has-species-support"),p=p("../internals/array-method-uses-to-length"),c=c("splice"),p=p("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,b=Math.min;o({target:"Array",proto:!0,forced:!c||!p},{splice:function(B,v){var j,x,E,P,O,M,D=_(this),U=h(D.length),I=l(B,U),B=arguments.length;if(B===0?j=x=0:x=B===1?(j=0,U-I):(j=B-2,b(g(i(v),0),U-I)),9007199254740991<U+j-x)throw TypeError("Maximum allowed length exceeded");for(E=m(D,x),P=0;P<x;P++)(O=I+P)in D&&s(E,P,D[O]);if(j<(E.length=x)){for(P=I;P<U-x;P++)M=P+j,(O=P+x)in D?D[M]=D[O]:delete D[M];for(P=U;U-x+j<P;P--)delete D[P-1]}else if(x<j)for(P=U-x;I<P;P--)M=P+j-1,(O=P+x-1)in D?D[M]=D[O]:delete D[M];for(P=0;P<j;P++)D[P+I]=arguments[P+2];return D.length=U-x+j,E}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(t,f,u){t("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(t,f,u){t("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(l,f,u){var o=l("../internals/descriptors"),l=l("../internals/object-define-property").f,i=Function.prototype,h=i.toString,_=/^\s*function ([^ (]*)/;!o||"name"in i||l(i,"name",{configurable:!0,get:function(){try{return h.call(this).match(_)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(l,f,u){var o=l("../internals/collection"),l=l("../internals/collection-strong");f.exports=o("Map",function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},l)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(o,f,u){var o=o("../internals/export"),l=Math.hypot,i=Math.abs,h=Math.sqrt;o({target:"Math",stat:!0,forced:!!l&&l(1/0,NaN)!==1/0},{hypot:function(_,m){for(var s,c,p=0,g=0,b=arguments.length,y=0;g<b;)y<(s=i(arguments[g++]))?(p=p*(c=y/s)*c+1,y=s):p+=0<s?(c=s/y)*c:s;return y===1/0?1/0:y*h(p)}})},{"../internals/export":50}],177:[function(o,f,u){var o=o("../internals/export"),l=Math.log,i=Math.LN2;o({target:"Math",stat:!0},{log2:function(h){return l(h)/i}})},{"../internals/export":50}],178:[function(t,f,u){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(t,f,u){function o(R){var G,z,q,Y,$,X,ee,K=p(R,!1);if(typeof K=="string"&&2<K.length){if((R=(K=x(K)).charCodeAt(0))===43||R===45){if((G=K.charCodeAt(2))===88||G===120)return NaN}else if(R===48){switch(K.charCodeAt(1)){case 66:case 98:z=2,q=49;break;case 79:case 111:z=8,q=55;break;default:return+K}for($=(Y=K.slice(2)).length,X=0;X<$;X++)if((ee=Y.charCodeAt(X))<48||q<ee)return NaN;return parseInt(Y,z)}}return+K}var l=t("../internals/descriptors"),i=t("../internals/global"),h=t("../internals/is-forced"),_=t("../internals/redefine"),m=t("../internals/has"),s=t("../internals/classof-raw"),c=t("../internals/inherit-if-required"),p=t("../internals/to-primitive"),g=t("../internals/fails"),b=t("../internals/object-create"),y=t("../internals/object-get-own-property-names").f,v=t("../internals/object-get-own-property-descriptor").f,j=t("../internals/object-define-property").f,x=t("../internals/string-trim").trim,E="Number",P=i[E],O=P.prototype,M=s(b(O))==E;if(h(E,!P(" 0o1")||!P("0b1")||P("+0x1"))){for(var D,U=function(G){var G=arguments.length<1?0:G,z=this;return z instanceof U&&(M?g(function(){O.valueOf.call(z)}):s(z)!=E)?c(new P(o(G)),z,U):o(G)},I=l?y(P):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),B=0;I.length>B;B++)m(P,D=I[B])&&!m(U,D)&&j(U,D,v(P,D));(U.prototype=O).constructor=U,_(i,E,U)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(t,f,u){t("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(t,f,u){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(m,f,u){function o(p,g,b){return g===0?b:g%2==1?o(p,g-1,b*p):o(p*p,g/2,b)}var l=m("../internals/export"),i=m("../internals/to-integer"),h=m("../internals/this-number-value"),_=m("../internals/string-repeat"),m=m("../internals/fails"),s=1 .toFixed,c=Math.floor;l({target:"Number",proto:!0,forced:s&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!m(function(){s.call({})})},{toFixed:function(E){function g(D,U){for(var I=-1,B=U;++I<6;)B+=D*P[I],P[I]=B%1e7,B=c(B/1e7)}function b(D){for(var U=6,I=0;0<=--U;)I+=P[U],P[U]=c(I/D),I=I%D*1e7}function y(){for(var D,U=6,I="";0<=--U;)I===""&&U!==0&&P[U]===0||(D=String(P[U]),I=I===""?D:I+_.call("0",7-D.length)+D);return I}var v,j,x=h(this),E=i(E),P=[0,0,0,0,0,0],O="",M="0";if(E<0||20<E)throw RangeError("Incorrect fraction digits");if(x!=x)return"NaN";if(x<=-1e21||1e21<=x)return String(x);if(x<0&&(O="-",x=-x),1e-21<x)if(x=(v=(function(D){for(var U=0,I=D;4096<=I;)U+=12,I/=4096;for(;2<=I;)U+=1,I/=2;return U})(x*o(2,69,1))-69)<0?x*o(2,-v,1):x/o(2,v,1),x*=4503599627370496,0<(v=52-v)){for(g(0,x),j=E;7<=j;)g(1e7,0),j-=7;for(g(o(10,j,1),0),j=v-1;23<=j;)b(1<<23),j-=23;b(1<<j),g(1,1),b(2),M=y()}else g(0,x),g(1<<-v,0),M=y()+_.call("0",E);return M=0<E?O+((x=M.length)<=E?"0."+_.call("0",E-x)+M:M.slice(0,x-E)+"."+M.slice(x-E)):O+M}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(l,f,u){var o=l("../internals/export"),l=l("../internals/object-assign");o({target:"Object",stat:!0,forced:Object.assign!==l},{assign:l})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(t,f,u){var o=t("../internals/export"),l=t("../internals/object-to-array").entries;o({target:"Object",stat:!0},{entries:function(i){return l(i)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(t,f,u){var o=t("../internals/export"),l=t("../internals/iterate"),i=t("../internals/create-property");o({target:"Object",stat:!0},{fromEntries:function(h){var _={};return l(h,function(m,s){i(_,m,s)},void 0,!0),_}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(h,f,u){var o=h("../internals/export"),_=h("../internals/fails"),l=h("../internals/to-indexed-object"),i=h("../internals/object-get-own-property-descriptor").f,h=h("../internals/descriptors"),_=_(function(){i(1)});o({target:"Object",stat:!0,forced:!h||_,sham:!h},{getOwnPropertyDescriptor:function(m,s){return i(l(m),s)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(i,f,u){var o=i("../internals/export"),l=i("../internals/fails"),i=i("../internals/object-get-own-property-names-external").f;o({target:"Object",stat:!0,forced:l(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:i})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(_,f,u){var o=_("../internals/export"),l=_("../internals/fails"),i=_("../internals/to-object"),h=_("../internals/object-get-prototype-of"),_=_("../internals/correct-prototype-getter");o({target:"Object",stat:!0,forced:l(function(){h(1)}),sham:!_},{getPrototypeOf:function(m){return h(i(m))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(t,f,u){var o=t("../internals/export"),l=t("../internals/to-object"),i=t("../internals/object-keys");o({target:"Object",stat:!0,forced:t("../internals/fails")(function(){i(1)})},{keys:function(h){return i(l(h))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(i,f,u){var o=i("../internals/to-string-tag-support"),l=i("../internals/redefine"),i=i("../internals/object-to-string");o||l(Object.prototype,"toString",i,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(Oe,f,u){var o,l,i,h,_=Oe("../internals/export"),m=Oe("../internals/is-pure"),s=Oe("../internals/global"),c=Oe("../internals/get-built-in"),p=Oe("../internals/native-promise-constructor"),g=Oe("../internals/redefine"),b=Oe("../internals/redefine-all"),y=Oe("../internals/set-to-string-tag"),v=Oe("../internals/set-species"),j=Oe("../internals/is-object"),x=Oe("../internals/a-function"),E=Oe("../internals/an-instance"),P=Oe("../internals/classof-raw"),O=Oe("../internals/inspect-source"),M=Oe("../internals/iterate"),D=Oe("../internals/check-correctness-of-iteration"),U=Oe("../internals/species-constructor"),I=Oe("../internals/task").set,B=Oe("../internals/microtask"),R=Oe("../internals/promise-resolve"),G=Oe("../internals/host-report-errors"),z=Oe("../internals/new-promise-capability"),q=Oe("../internals/perform"),Y=Oe("../internals/internal-state"),$=Oe("../internals/is-forced"),Xe=Oe("../internals/well-known-symbol"),X=Oe("../internals/engine-v8-version"),ee=Xe("species"),K="Promise",ne=Y.get,T=Y.set,F=Y.getterFor(K),W=p,J=s.TypeError,oe=s.document,se=s.process,fe=c("fetch"),ve=z.f,de=ve,be=P(se)=="process",pe=!!(oe&&oe.createEvent&&s.dispatchEvent),ie="unhandledrejection",ye="rejectionhandled",_e=1,Te=2,Ee=1,Se=2,Oe=$(K,function(){var Ye,Le;return O(W)===String(W)&&(X===66||!be&&typeof PromiseRejectionEvent!="function")?!0:!(!m||W.prototype.finally)||!(51<=X&&/native code/.test(W))&&(Le=function(ae){ae(function(){},function(){})},((Ye=W.resolve(1)).constructor={})[ee]=Le,!(Ye.then(function(){})instanceof Le))}),Xe=Oe||!D(function(Ye){W.all(Ye).catch(function(){})}),Ne=function(Ye){var Le;return!(!j(Ye)||typeof(Le=Ye.then)!="function")&&Le},yt=function(Ye,Le,ae){var ce;Le.notified||(Le.notified=!0,ce=Le.reactions,B(function(){for(var re,he,ke=Le.value,Re=Le.state==_e,He=0;ce.length>He;){var Qe,it,at,ft=ce[He++],It=Re?ft.ok:ft.fail,Ot=ft.resolve,bt=ft.reject,At=ft.domain;try{It?(Re||(Le.rejection===Se&&(function(Tt,or){I.call(s,function(){be?se.emit("rejectionHandled",Tt):lt(ye,Tt,or.value)})})(Ye,Le),Le.rejection=Ee),It===!0?Qe=ke:(At&&At.enter(),Qe=It(ke),At&&(At.exit(),at=!0)),Qe===ft.promise?bt(J("Promise-chain cycle")):(it=Ne(Qe))?it.call(Qe,Ot,bt):Ot(Qe)):bt(ke)}catch(Tt){At&&!at&&At.exit(),bt(Tt)}}Le.reactions=[],Le.notified=!1,ae&&!Le.rejection&&(re=Ye,he=Le,I.call(s,function(){var Tt=he.value,or=rt(he);if(or&&(or=q(function(){be?se.emit("unhandledRejection",Tt,re):lt(ie,re,Tt)}),he.rejection=be||rt(he)?Se:Ee,or.error))throw or.value}))}))},lt=function(Ye,Le,ae){var ce;pe?((ce=oe.createEvent("Event")).promise=Le,ce.reason=ae,ce.initEvent(Ye,!1,!0),s.dispatchEvent(ce)):ce={promise:Le,reason:ae},(Le=s["on"+Ye])?Le(ce):Ye===ie&&G("Unhandled promise rejection",ae)},rt=function(Ye){return Ye.rejection!==Ee&&!Ye.parent},ut=function(Ye,Le,ae,ce){return function(re){Ye(Le,ae,re,ce)}},ct=function(Ye,Le,ae,ce){Le.done||(Le.done=!0,(Le=ce||Le).value=ae,Le.state=Te,yt(Ye,Le,!0))},Me=function(Ye,Le,ae,ce){if(!Le.done){Le.done=!0,ce&&(Le=ce);try{if(Ye===ae)throw J("Promise can't be resolved itself");var re=Ne(ae);re?B(function(){var he={done:!1};try{re.call(ae,ut(Me,Ye,he,Le),ut(ct,Ye,he,Le))}catch(ke){ct(Ye,he,ke,Le)}}):(Le.value=ae,Le.state=_e,yt(Ye,Le,!1))}catch(he){ct(Ye,{done:!1},he,Le)}}};Oe&&(W=function(Ye){E(this,W,K),x(Ye),o.call(this);var Le=ne(this);try{Ye(ut(Me,this,Le),ut(ct,this,Le))}catch(ae){ct(this,Le,ae)}},(o=function(Ye){T(this,{type:K,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=b(W.prototype,{then:function(Ye,Le){var ae=F(this),ce=ve(U(this,W));return ce.ok=typeof Ye!="function"||Ye,ce.fail=typeof Le=="function"&&Le,ce.domain=be?se.domain:void 0,ae.parent=!0,ae.reactions.push(ce),ae.state!=0&&yt(this,ae,!1),ce.promise},catch:function(Ye){return this.then(void 0,Ye)}}),l=function(){var Ye=new o,Le=ne(Ye);this.promise=Ye,this.resolve=ut(Me,Ye,Le),this.reject=ut(ct,Ye,Le)},z.f=ve=function(Ye){return Ye===W||Ye===i?new l:de(Ye)},m||typeof p!="function"||(h=p.prototype.then,g(p.prototype,"then",function(Ye,Le){var ae=this;return new W(function(ce,re){h.call(ae,ce,re)}).then(Ye,Le)},{unsafe:!0}),typeof fe=="function"&&_({global:!0,enumerable:!0,forced:!0},{fetch:function(Ye){return R(W,fe.apply(s,arguments))}}))),_({global:!0,wrap:!0,forced:Oe},{Promise:W}),y(W,K,!1,!0),v(K),i=c(K),_({target:K,stat:!0,forced:Oe},{reject:function(Ye){var Le=ve(this);return Le.reject.call(void 0,Ye),Le.promise}}),_({target:K,stat:!0,forced:m||Oe},{resolve:function(Ye){return R(m&&this===i?W:this,Ye)}}),_({target:K,stat:!0,forced:Xe},{all:function(Ye){var Le=this,ae=ve(Le),ce=ae.resolve,re=ae.reject,he=q(function(){var ke=x(Le.resolve),Re=[],He=0,Qe=1;M(Ye,function(it){var at=He++,ft=!1;Re.push(void 0),Qe++,ke.call(Le,it).then(function(It){ft||(ft=!0,Re[at]=It,--Qe||ce(Re))},re)}),--Qe||ce(Re)});return he.error&&re(he.value),ae.promise},race:function(Ye){var Le=this,ae=ve(Le),ce=ae.reject,re=q(function(){var he=x(Le.resolve);M(Ye,function(ke){he.call(Le,ke).then(ae.resolve,ce)})});return re.error&&ce(re.value),ae.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(s,f,u){var o=s("../internals/export"),b=s("../internals/get-built-in"),l=s("../internals/a-function"),i=s("../internals/an-object"),h=s("../internals/is-object"),_=s("../internals/object-create"),m=s("../internals/function-bind"),s=s("../internals/fails"),c=b("Reflect","construct"),p=s(function(){function y(){}return!(c(function(){},[],y)instanceof y)}),g=!s(function(){c(function(){})}),b=p||g;o({target:"Reflect",stat:!0,forced:b,sham:b},{construct:function(y,v){l(y),i(v);var j=arguments.length<3?y:l(arguments[2]);if(g&&!p)return c(y,v,j);if(y==j){switch(v.length){case 0:return new y;case 1:return new y(v[0]);case 2:return new y(v[0],v[1]);case 3:return new y(v[0],v[1],v[2]);case 4:return new y(v[0],v[1],v[2],v[3])}var x=[null];return x.push.apply(x,v),new(m.apply(y,x))}return x=j.prototype,j=_(h(x)?x:Object.prototype),x=Function.apply.call(y,j,v),h(x)?x:j}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(t,f,u){var o=t("../internals/export"),l=t("../internals/is-object"),i=t("../internals/an-object"),h=t("../internals/has"),_=t("../internals/object-get-own-property-descriptor"),m=t("../internals/object-get-prototype-of");o({target:"Reflect",stat:!0},{get:function s(c,p){var g,b=arguments.length<3?c:arguments[2];return i(c)===b?c[p]:(g=_.f(c,p))?h(g,"value")?g.value:g.get===void 0?void 0:g.get.call(b):l(g=m(c))?s(g,p,b):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(t,f,u){var o=t("../internals/descriptors"),l=t("../internals/global"),i=t("../internals/is-forced"),h=t("../internals/inherit-if-required"),_=t("../internals/object-define-property").f,m=t("../internals/object-get-own-property-names").f,s=t("../internals/is-regexp"),c=t("../internals/regexp-flags"),p=t("../internals/regexp-sticky-helpers"),g=t("../internals/redefine"),b=t("../internals/fails"),y=t("../internals/internal-state").set,v=t("../internals/set-species"),j=t("../internals/well-known-symbol")("match"),x=l.RegExp,E=x.prototype,P=/a/g,O=/a/g,M=new x(P)!==P,D=p.UNSUPPORTED_Y;if(o&&i("RegExp",!M||D||b(function(){return O[j]=!1,x(P)!=P||x(O)==O||x(P,"i")!="/a/i"}))){for(var U=function(R,G){var z,q=this instanceof U,Y=s(R),$=G===void 0;return!q&&Y&&R.constructor===U&&$?R:(M?Y&&!$&&(R=R.source):R instanceof U&&($&&(G=c.call(R)),R=R.source),D&&(z=!!G&&-1<G.indexOf("y"))&&(G=G.replace(/y/g,"")),Y=h(M?new x(R,G):x(R,G),q?this:E,U),D&&z&&y(Y,{sticky:z}),Y)},I=m(x),B=0;I.length>B;)(function(R){R in U||_(U,R,{configurable:!0,get:function(){return x[R]},set:function(G){x[R]=G}})})(I[B++]);(E.constructor=U).prototype=E,g(l,"RegExp",U)}v("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(l,f,u){var o=l("../internals/export"),l=l("../internals/regexp-exec");o({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(h,f,u){var o=h("../internals/redefine"),l=h("../internals/an-object"),s=h("../internals/fails"),i=h("../internals/regexp-flags"),h="toString",_=RegExp.prototype,m=_[h],s=s(function(){return m.call({source:"a",flags:"b"})!="/a/b"}),c=m.name!=h;(s||c)&&o(RegExp.prototype,h,function(){var p=l(this),g=String(p.source),b=p.flags;return"/"+g+"/"+String(b===void 0&&p instanceof RegExp&&!("flags"in _)?i.call(p):b)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(l,f,u){var o=l("../internals/collection"),l=l("../internals/collection-strong");f.exports=o("Set",function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},l)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(m,f,u){var o=m("../internals/export"),l=m("../internals/object-get-own-property-descriptor").f,i=m("../internals/to-length"),h=m("../internals/not-a-regexp"),_=m("../internals/require-object-coercible"),p=m("../internals/correct-is-regexp-logic"),m=m("../internals/is-pure"),s="".endsWith,c=Math.min,p=p("endsWith");o({target:"String",proto:!0,forced:!!(m||p||!(o=l(String.prototype,"endsWith"))||o.writable)&&!p},{endsWith:function(g){var b=String(_(this)),y=(h(g),1<arguments.length?arguments[1]:void 0),v=i(b.length),y=y===void 0?v:c(i(y),v),v=String(g);return s?s.call(b,v,y):b.slice(y-v.length,y)===v}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(t,f,u){var o=t("../internals/export"),l=t("../internals/not-a-regexp"),i=t("../internals/require-object-coercible");o({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(h){return!!~String(i(this)).indexOf(l(h),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(i,f,u){var o=i("../internals/string-multibyte").charAt,l=i("../internals/internal-state"),i=i("../internals/define-iterator"),h="String Iterator",_=l.set,m=l.getterFor(h);i(String,"String",function(s){_(this,{type:h,string:String(s),index:0})},function(){var s=m(this),c=s.string,p=s.index;return p>=c.length?{value:void 0,done:!0}:(c=o(c,p),s.index+=c.length,{value:c,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(t,f,u){var o=t("../internals/fix-regexp-well-known-symbol-logic"),l=t("../internals/an-object"),i=t("../internals/to-length"),h=t("../internals/require-object-coercible"),_=t("../internals/advance-string-index"),m=t("../internals/regexp-exec-abstract");o("match",1,function(s,c,p){return[function(g){var b=h(this),y=g?.[s];return y!==void 0?y.call(g,b):new RegExp(g)[s](String(b))},function(g){var b=p(c,g,this);if(b.done)return b.value;var y=l(g),v=String(this);if(!y.global)return m(y,v);for(var j=y.unicode,x=[],E=y.lastIndex=0;(P=m(y,v))!==null;){var P=String(P[0]);(x[E]=P)===""&&(y.lastIndex=_(v,i(y.lastIndex),j)),E++}return E===0?null:x}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(t,f,u){var o=t("../internals/export"),l=t("../internals/string-pad").start;o({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(i){return l(this,i,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(t,f,u){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(t,f,u){var o=t("../internals/fix-regexp-well-known-symbol-logic"),l=t("../internals/an-object"),i=t("../internals/to-object"),h=t("../internals/to-length"),_=t("../internals/to-integer"),m=t("../internals/require-object-coercible"),s=t("../internals/advance-string-index"),c=t("../internals/regexp-exec-abstract"),p=Math.max,g=Math.min,b=Math.floor,y=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;o("replace",2,function(j,x,E,P){var O=P.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,M=P.REPLACE_KEEPS_$0,D=O?"$":"$0";return[function(U,I){var B=m(this),R=U?.[j];return R!==void 0?R.call(U,B,I):x.call(String(B),U,I)},function(U,I){if(!O&&M||typeof I=="string"&&I.indexOf(D)===-1){var B=E(x,U,this,I);if(B.done)return B.value}for(var R,G=l(U),z=String(this),q=typeof I=="function",Y=(q||(I=String(I)),G.global),$=(Y&&(R=G.unicode,G.lastIndex=0),[]);(T=c(G,z))!==null&&($.push(T),Y);)String(T[0])===""&&(G.lastIndex=s(z,h(G.lastIndex),R));for(var X,ee="",K=0,ne=0;ne<$.length;ne++){for(var T=$[ne],F=String(T[0]),W=p(g(_(T.index),z.length),0),J=[],oe=1;oe<T.length;oe++)J.push((X=T[oe])===void 0?X:String(X));var se=T.groups,fe=q?(fe=[F].concat(J,W,z),se!==void 0&&fe.push(se),String(I.apply(void 0,fe))):(function(ve,de,be,pe,ie,ye){var _e=be+ve.length,Te=pe.length,Ee=v;return ie!==void 0&&(ie=i(ie),Ee=y),x.call(ye,Ee,function(Se,Oe){var Xe;switch(Oe.charAt(0)){case"$":return"$";case"&":return ve;case"`":return de.slice(0,be);case"'":return de.slice(_e);case"<":Xe=ie[Oe.slice(1,-1)];break;default:var Ne,yt=+Oe;if(yt==0)return Se;if(Te<yt)return(Ne=b(yt/10))!==0&&Ne<=Te?pe[Ne-1]===void 0?Oe.charAt(1):pe[Ne-1]+Oe.charAt(1):Se;Xe=pe[yt-1]}return Xe===void 0?"":Xe})})(F,z,W,J,se,I);K<=W&&(ee+=z.slice(K,W)+fe,K=W+F.length)}return ee+z.slice(K)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(t,f,u){var o=t("../internals/fix-regexp-well-known-symbol-logic"),l=t("../internals/an-object"),i=t("../internals/require-object-coercible"),h=t("../internals/same-value"),_=t("../internals/regexp-exec-abstract");o("search",1,function(m,s,c){return[function(p){var g=i(this),b=p?.[m];return b!==void 0?b.call(p,g):new RegExp(p)[m](String(g))},function(p){var g,b=c(s,p,this);return b.done?b.value:(b=l(p),p=String(this),g=b.lastIndex,h(g,0)||(b.lastIndex=0),p=_(b,p),h(b.lastIndex,g)||(b.lastIndex=g),p===null?-1:p.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(g,f,u){var o=g("../internals/fix-regexp-well-known-symbol-logic"),l=g("../internals/is-regexp"),i=g("../internals/an-object"),h=g("../internals/require-object-coercible"),_=g("../internals/species-constructor"),m=g("../internals/advance-string-index"),s=g("../internals/to-length"),c=g("../internals/regexp-exec-abstract"),p=g("../internals/regexp-exec"),g=g("../internals/fails"),b=[].push,y=Math.min,v=4294967295,j=!g(function(){return!RegExp(v,"y")});o("split",2,function(x,E,P){var O="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(M,D){var U=String(h(this)),I=D===void 0?v:D>>>0;if(I==0)return[];if(M===void 0)return[U];if(!l(M))return E.call(U,M,I);for(var B,R,G,z=[],D=(M.ignoreCase?"i":"")+(M.multiline?"m":"")+(M.unicode?"u":"")+(M.sticky?"y":""),q=0,Y=new RegExp(M.source,D+"g");(B=p.call(Y,U))&&!(q<(R=Y.lastIndex)&&(z.push(U.slice(q,B.index)),1<B.length&&B.index<U.length&&b.apply(z,B.slice(1)),G=B[0].length,q=R,z.length>=I));)Y.lastIndex===B.index&&Y.lastIndex++;return q===U.length?!G&&Y.test("")||z.push(""):z.push(U.slice(q)),z.length>I?z.slice(0,I):z}:"0".split(void 0,0).length?function(M,D){return M===void 0&&D===0?[]:E.call(this,M,D)}:E;return[function(M,D){var U=h(this),I=M?.[x];return I!==void 0?I.call(M,U,D):O.call(String(U),M,D)},function(B,D){var U=P(O,B,this,D,O!==E);if(U.done)return U.value;var U=i(B),I=String(this),B=_(U,RegExp),R=U.unicode,G=(U.ignoreCase?"i":"")+(U.multiline?"m":"")+(U.unicode?"u":"")+(j?"y":"g"),z=new B(j?U:"^(?:"+U.source+")",G),q=D===void 0?v:D>>>0;if(q==0)return[];if(I.length===0)return c(z,I)===null?[I]:[];for(var Y=0,$=0,X=[];$<I.length;){z.lastIndex=j?$:0;var ee,K=c(z,j?I:I.slice($));if(K===null||(ee=y(s(z.lastIndex+(j?0:$)),I.length))===Y)$=m(I,$,R);else{if(X.push(I.slice(Y,$)),X.length===q)return X;for(var ne=1;ne<=K.length-1;ne++)if(X.push(K[ne]),X.length===q)return X;$=Y=ee}}return X.push(I.slice(Y)),X}]},!j)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(m,f,u){var o=m("../internals/export"),l=m("../internals/object-get-own-property-descriptor").f,i=m("../internals/to-length"),h=m("../internals/not-a-regexp"),_=m("../internals/require-object-coercible"),p=m("../internals/correct-is-regexp-logic"),m=m("../internals/is-pure"),s="".startsWith,c=Math.min,p=p("startsWith");o({target:"String",proto:!0,forced:!!(m||p||!(o=l(String.prototype,"startsWith"))||o.writable)&&!p},{startsWith:function(v){var b=String(_(this)),y=(h(v),i(c(1<arguments.length?arguments[1]:void 0,b.length))),v=String(v);return s?s.call(b,v,y):b.slice(y,y+v.length)===v}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(t,f,u){var o=t("../internals/export"),l=t("../internals/create-html");o({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return l(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(t,f,u){var o=t("../internals/export"),l=t("../internals/string-trim").trim;o({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return l(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(y,f,u){var o,l,i,h,_,m=y("../internals/export"),s=y("../internals/descriptors"),c=y("../internals/global"),p=y("../internals/has"),g=y("../internals/is-object"),b=y("../internals/object-define-property").f,y=y("../internals/copy-constructor-properties"),v=c.Symbol;!s||typeof v!="function"||"description"in v.prototype&&v().description===void 0||(o={},y(l=function(){var j=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),x=this instanceof l?new v(j):j===void 0?v():v(j);return j===""&&(o[x]=!0),x},v),(c=l.prototype=v.prototype).constructor=l,i=c.toString,h=String(v("test"))=="Symbol(test)",_=/^Symbol\((.*)\)[^)]+$/,b(c,"description",{configurable:!0,get:function(){var j=g(this)?this.valueOf():this,x=i.call(j);return p(o,j)?"":(j=h?x.slice(7,-1):x.replace(_,"$1"))===""?void 0:j}}),m({global:!0,forced:!0},{Symbol:l}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(t,f,u){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(de,f,u){function o(re,he){var ke=Xe[re]=U(ye[ve]);return be(ke,{type:fe,tag:re,description:he}),p||(ke.description=he),ke}function l(re,Re){E(re);var ke=O(Re),Re=I(ke).concat(ce(ke));return oe(Re,function(He){p&&!ae.call(ke,He)||Le(re,He,ke[He])}),re}function i(Re,He){var ke,Re=O(Re),He=M(He,!0);if(Re!==ie||!v(Xe,He)||v(Ne,He))return!(ke=Te(Re,He))||!v(Xe,He)||v(Re,se)&&Re[se][He]||(ke.enumerable=!0),ke}function h(he){var he=Se(O(he)),ke=[];return oe(he,function(Re){v(Xe,Re)||v(K,Re)||ke.push(Re)}),ke}var _=de("../internals/export"),m=de("../internals/global"),s=de("../internals/get-built-in"),c=de("../internals/is-pure"),p=de("../internals/descriptors"),g=de("../internals/native-symbol"),b=de("../internals/use-symbol-as-uid"),y=de("../internals/fails"),v=de("../internals/has"),j=de("../internals/is-array"),x=de("../internals/is-object"),E=de("../internals/an-object"),P=de("../internals/to-object"),O=de("../internals/to-indexed-object"),M=de("../internals/to-primitive"),D=de("../internals/create-property-descriptor"),U=de("../internals/object-create"),I=de("../internals/object-keys"),B=de("../internals/object-get-own-property-names"),R=de("../internals/object-get-own-property-names-external"),G=de("../internals/object-get-own-property-symbols"),z=de("../internals/object-get-own-property-descriptor"),q=de("../internals/object-define-property"),Y=de("../internals/object-property-is-enumerable"),$=de("../internals/create-non-enumerable-property"),X=de("../internals/redefine"),ee=de("../internals/shared"),rt=de("../internals/shared-key"),K=de("../internals/hidden-keys"),ne=de("../internals/uid"),T=de("../internals/well-known-symbol"),F=de("../internals/well-known-symbol-wrapped"),W=de("../internals/define-well-known-symbol"),J=de("../internals/set-to-string-tag"),ut=de("../internals/internal-state"),oe=de("../internals/array-iteration").forEach,se=rt("hidden"),fe="Symbol",ve="prototype",de=T("toPrimitive"),be=ut.set,pe=ut.getterFor(fe),ie=Object[ve],ye=m.Symbol,_e=s("JSON","stringify"),Te=z.f,Ee=q.f,Se=R.f,Oe=Y.f,Xe=ee("symbols"),Ne=ee("op-symbols"),yt=ee("string-to-symbol-registry"),lt=ee("symbol-to-string-registry"),rt=ee("wks"),ut=m.QObject,ct=!ut||!ut[ve]||!ut[ve].findChild,Me=p&&y(function(){return U(Ee({},"a",{get:function(){return Ee(this,"a",{value:7}).a}})).a!=7})?function(re,he,ke){var Re=Te(ie,he);Re&&delete ie[he],Ee(re,he,ke),Re&&re!==ie&&Ee(ie,he,Re)}:Ee,Ye=b?function(re){return typeof re=="symbol"}:function(re){return Object(re)instanceof ye},Le=function(re,he,ke){return re===ie&&Le(Ne,he,ke),E(re),he=M(he,!0),E(ke),(v(Xe,he)?(ke.enumerable?(v(re,se)&&re[se][he]&&(re[se][he]=!1),ke=U(ke,{enumerable:D(0,!1)})):(v(re,se)||Ee(re,se,D(1,{})),re[se][he]=!0),Me):Ee)(re,he,ke)},ae=function(he){var he=M(he,!0),ke=Oe.call(this,he);return!(this===ie&&v(Xe,he)&&!v(Ne,he))&&(!(ke||!v(this,he)||!v(Xe,he)||v(this,se)&&this[se][he])||ke)},ce=function(ke){var he=ke===ie,ke=Se(he?Ne:O(ke)),Re=[];return oe(ke,function(He){!v(Xe,He)||he&&!v(ie,He)||Re.push(Xe[He])}),Re};g||(X((ye=function(){if(this instanceof ye)throw TypeError("Symbol is not a constructor");var re=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,he=ne(re),ke=function(Re){this===ie&&ke.call(Ne,Re),v(this,se)&&v(this[se],he)&&(this[se][he]=!1),Me(this,he,D(1,Re))};return p&&ct&&Me(ie,he,{configurable:!0,set:ke}),o(he,re)})[ve],"toString",function(){return pe(this).tag}),X(ye,"withoutSetter",function(re){return o(ne(re),re)}),Y.f=ae,q.f=Le,z.f=i,B.f=R.f=h,G.f=ce,F.f=function(re){return o(T(re),re)},p&&(Ee(ye[ve],"description",{configurable:!0,get:function(){return pe(this).description}}),c||X(ie,"propertyIsEnumerable",ae,{unsafe:!0}))),_({global:!0,wrap:!0,forced:!g,sham:!g},{Symbol:ye}),oe(I(rt),function(re){W(re)}),_({target:fe,stat:!0,forced:!g},{for:function(ke){var he,ke=String(ke);return v(yt,ke)?yt[ke]:(he=ye(ke),yt[ke]=he,lt[he]=ke,he)},keyFor:function(re){if(!Ye(re))throw TypeError(re+" is not a symbol");if(v(lt,re))return lt[re]},useSetter:function(){ct=!0},useSimple:function(){ct=!1}}),_({target:"Object",stat:!0,forced:!g,sham:!p},{create:function(re,he){return he===void 0?U(re):l(U(re),he)},defineProperty:Le,defineProperties:l,getOwnPropertyDescriptor:i}),_({target:"Object",stat:!0,forced:!g},{getOwnPropertyNames:h,getOwnPropertySymbols:ce}),_({target:"Object",stat:!0,forced:y(function(){G.f(1)})},{getOwnPropertySymbols:function(re){return G.f(P(re))}}),_e&&_({target:"JSON",stat:!0,forced:!g||y(function(){var re=ye();return _e([re])!="[null]"||_e({a:re})!="{}"||_e(Object(re))!="{}"})},{stringify:function(re,he,ke){for(var Re,He=[re],Qe=1;Qe<arguments.length;)He.push(arguments[Qe++]);if((x(Re=he)||re!==void 0)&&!Ye(re))return j(he)||(he=function(it,at){if(typeof Re=="function"&&(at=Re.call(this,it,at)),!Ye(at))return at}),He[1]=he,_e.apply(null,He)}}),ye[ve][de]||$(ye[ve],de,ye[ve].valueOf),J(ye,fe),K[se]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(t,f,u){var o=t("../internals/array-buffer-view-core"),l=t("../internals/array-copy-within"),i=o.aTypedArray;(0,o.exportTypedArrayMethod)("copyWithin",function(h,_){return l.call(i(this),h,_,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(t,f,u){var o=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").every,i=o.aTypedArray;(0,o.exportTypedArrayMethod)("every",function(h){return l(i(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(t,f,u){var o=t("../internals/array-buffer-view-core"),l=t("../internals/array-fill"),i=o.aTypedArray;(0,o.exportTypedArrayMethod)("fill",function(h){return l.apply(i(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(t,f,u){var o=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").filter,i=t("../internals/species-constructor"),h=o.aTypedArray,_=o.aTypedArrayConstructor;(0,o.exportTypedArrayMethod)("filter",function(m){for(var s=l(h(this),m,1<arguments.length?arguments[1]:void 0),m=i(this,this.constructor),c=0,p=s.length,g=new(_(m))(p);c<p;)g[c]=s[c++];return g})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(t,f,u){var o=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").findIndex,i=o.aTypedArray;(0,o.exportTypedArrayMethod)("findIndex",function(h){return l(i(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(t,f,u){var o=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").find,i=o.aTypedArray;(0,o.exportTypedArrayMethod)("find",function(h){return l(i(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(t,f,u){t("../internals/typed-array-constructor")("Float32",function(o){return function(l,i,h){return o(this,l,i,h)}})},{"../internals/typed-array-constructor":144}],220:[function(t,f,u){t("../internals/typed-array-constructor")("Float64",function(o){return function(l,i,h){return o(this,l,i,h)}})},{"../internals/typed-array-constructor":144}],221:[function(t,f,u){var o=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").forEach,i=o.aTypedArray;(0,o.exportTypedArrayMethod)("forEach",function(h){l(i(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(t,f,u){var o=t("../internals/array-buffer-view-core"),l=t("../internals/array-includes").includes,i=o.aTypedArray;(0,o.exportTypedArrayMethod)("includes",function(h){return l(i(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(t,f,u){var o=t("../internals/array-buffer-view-core"),l=t("../internals/array-includes").indexOf,i=o.aTypedArray;(0,o.exportTypedArrayMethod)("indexOf",function(h){return l(i(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(t,f,u){t("../internals/typed-array-constructor")("Int16",function(o){return function(l,i,h){return o(this,l,i,h)}})},{"../internals/typed-array-constructor":144}],225:[function(t,f,u){t("../internals/typed-array-constructor")("Int32",function(o){return function(l,i,h){return o(this,l,i,h)}})},{"../internals/typed-array-constructor":144}],226:[function(l,f,u){function o(){return i.call(m(this))}var p=l("../internals/global"),c=l("../internals/array-buffer-view-core"),s=l("../modules/es.array.iterator"),l=l("../internals/well-known-symbol")("iterator"),p=p.Uint8Array,i=s.values,h=s.keys,_=s.entries,m=c.aTypedArray,s=c.exportTypedArrayMethod,c=p&&p.prototype[l],p=!!c&&(c.name=="values"||c.name==null);s("entries",function(){return _.call(m(this))}),s("keys",function(){return h.call(m(this))}),s("values",o,!p),s(l,o,!p)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(l,f,u){var l=l("../internals/array-buffer-view-core"),o=l.aTypedArray,l=l.exportTypedArrayMethod,i=[].join;l("join",function(h){return i.apply(o(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(t,f,u){var o=t("../internals/array-buffer-view-core"),l=t("../internals/array-last-index-of"),i=o.aTypedArray;(0,o.exportTypedArrayMethod)("lastIndexOf",function(h){return l.apply(i(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(t,f,u){var o=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").map,i=t("../internals/species-constructor"),h=o.aTypedArray,_=o.aTypedArrayConstructor;(0,o.exportTypedArrayMethod)("map",function(m){return l(h(this),m,1<arguments.length?arguments[1]:void 0,function(s,c){return new(_(i(s,s.constructor)))(c)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(t,f,u){var o=t("../internals/array-buffer-view-core"),l=t("../internals/array-reduce").right,i=o.aTypedArray;(0,o.exportTypedArrayMethod)("reduceRight",function(h){return l(i(this),h,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(t,f,u){var o=t("../internals/array-buffer-view-core"),l=t("../internals/array-reduce").left,i=o.aTypedArray;(0,o.exportTypedArrayMethod)("reduce",function(h){return l(i(this),h,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(l,f,u){var l=l("../internals/array-buffer-view-core"),o=l.aTypedArray,l=l.exportTypedArrayMethod,i=Math.floor;l("reverse",function(){for(var h,_=o(this).length,m=i(_/2),s=0;s<m;)h=this[s],this[s++]=this[--_],this[_]=h;return this})},{"../internals/array-buffer-view-core":12}],233:[function(_,f,u){var o=_("../internals/array-buffer-view-core"),l=_("../internals/to-length"),i=_("../internals/to-offset"),h=_("../internals/to-object"),_=_("../internals/fails"),m=o.aTypedArray;(0,o.exportTypedArrayMethod)("set",function(s){m(this);var c=i(1<arguments.length?arguments[1]:void 0,1),p=this.length,g=h(s),b=l(g.length),y=0;if(p<b+c)throw RangeError("Wrong length");for(;y<b;)this[c+y]=g[y++]},_(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(l,f,u){var _=l("../internals/array-buffer-view-core"),o=l("../internals/species-constructor"),l=l("../internals/fails"),i=_.aTypedArray,h=_.aTypedArrayConstructor,_=_.exportTypedArrayMethod,m=[].slice;_("slice",function(s,c){for(var p=m.call(i(this),s,c),s=o(this,this.constructor),g=0,b=p.length,y=new(h(s))(b);g<b;)y[g]=p[g++];return y},l(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(t,f,u){var o=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").some,i=o.aTypedArray;(0,o.exportTypedArrayMethod)("some",function(h){return l(i(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(l,f,u){var l=l("../internals/array-buffer-view-core"),o=l.aTypedArray,l=l.exportTypedArrayMethod,i=[].sort;l("sort",function(h){return i.call(o(this),h)})},{"../internals/array-buffer-view-core":12}],237:[function(t,f,u){var o=t("../internals/array-buffer-view-core"),l=t("../internals/to-length"),i=t("../internals/to-absolute-index"),h=t("../internals/species-constructor"),_=o.aTypedArray;(0,o.exportTypedArrayMethod)("subarray",function(g,s){var c=_(this),p=c.length,g=i(g,p);return new(h(c,c.constructor))(c.buffer,c.byteOffset+g*c.BYTES_PER_ELEMENT,l((s===void 0?p:i(s,p))-g))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(l,f,u){var _=l("../internals/global"),o=l("../internals/array-buffer-view-core"),l=l("../internals/fails"),i=_.Int8Array,h=o.aTypedArray,_=o.exportTypedArrayMethod,m=[].toLocaleString,s=[].slice,c=!!i&&l(function(){m.call(new i(1))});_("toLocaleString",function(){return m.apply(c?s.call(h(this)):h(this),arguments)},l(function(){return[1,2].toLocaleString()!=new i([1,2]).toLocaleString()})||!l(function(){i.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(l,f,u){var o=l("../internals/array-buffer-view-core").exportTypedArrayMethod,_=l("../internals/fails"),l=l("../internals/global").Uint8Array,l=l&&l.prototype||{},i=[].toString,h=[].join,_=(_(function(){i.call({})})&&(i=function(){return h.call(this)}),l.toString!=i);o("toString",i,_)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(t,f,u){t("../internals/typed-array-constructor")("Uint16",function(o){return function(l,i,h){return o(this,l,i,h)}})},{"../internals/typed-array-constructor":144}],241:[function(t,f,u){t("../internals/typed-array-constructor")("Uint32",function(o){return function(l,i,h){return o(this,l,i,h)}})},{"../internals/typed-array-constructor":144}],242:[function(t,f,u){t("../internals/typed-array-constructor")("Uint8",function(o){return function(l,i,h){return o(this,l,i,h)}})},{"../internals/typed-array-constructor":144}],243:[function(t,f,u){t("../internals/typed-array-constructor")("Uint8",function(o){return function(l,i,h){return o(this,l,i,h)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(v,E,u){function o(P){return function(){return P(this,arguments.length?arguments[0]:void 0)}}var l,i,h,_,m,j=v("../internals/global"),s=v("../internals/redefine-all"),c=v("../internals/internal-metadata"),p=v("../internals/collection"),g=v("../internals/collection-weak"),b=v("../internals/is-object"),y=v("../internals/internal-state").enforce,v=v("../internals/native-weak-map"),j=!j.ActiveXObject&&"ActiveXObject"in j,x=Object.isExtensible,E=E.exports=p("WeakMap",o,g);v&&j&&(l=g.getConstructor(o,"WeakMap",!0),c.REQUIRED=!0,p=E.prototype,i=p.delete,h=p.has,_=p.get,m=p.set,s(p,{delete:function(P){var O;return b(P)&&!x(P)?((O=y(this)).frozen||(O.frozen=new l),i.call(this,P)||O.frozen.delete(P)):i.call(this,P)},has:function(P){var O;return b(P)&&!x(P)?((O=y(this)).frozen||(O.frozen=new l),h.call(this,P)||O.frozen.has(P)):h.call(this,P)},get:function(P){var O;return!b(P)||x(P)||((O=y(this)).frozen||(O.frozen=new l),h.call(this,P))?_.call(this,P):O.frozen.get(P)},set:function(P,O){var M;return!b(P)||x(P)||((M=y(this)).frozen||(M.frozen=new l),h.call(this,P))?m.call(this,P,O):M.frozen.set(P,O),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(t,f,u){var o,l=t("../internals/global"),i=t("../internals/dom-iterables"),h=t("../internals/array-for-each"),_=t("../internals/create-non-enumerable-property");for(o in i){var m=l[o],m=m&&m.prototype;if(m&&m.forEach!==h)try{_(m,"forEach",h)}catch{m.forEach=h}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(m,f,u){var o,l=m("../internals/global"),i=m("../internals/dom-iterables"),h=m("../modules/es.array.iterator"),_=m("../internals/create-non-enumerable-property"),m=m("../internals/well-known-symbol"),s=m("iterator"),c=m("toStringTag"),p=h.values;for(o in i){var g=l[o],b=g&&g.prototype;if(b){if(b[s]!==p)try{_(b,s,p)}catch{b[s]=p}if(b[c]||_(b,c,o),i[o]){for(var y in h)if(b[y]!==h[y])try{_(b,y,h[y])}catch{b[y]=h[y]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(se,f,u){se("../modules/es.array.iterator");function o(fe){try{return decodeURIComponent(fe)}catch{return fe}}function l(fe){return W[fe]}function i(fe){return encodeURIComponent(fe).replace(F,l)}function h(fe){this.entries.length=0,J(this.entries,fe)}function _(fe,ve){if(fe<ve)throw TypeError("Not enough arguments")}function m(){j(this,m,q);var fe,ve,de,be,pe,ie,ye,_e,Te=0<arguments.length?arguments[0]:void 0,Ee=[];if($(this,{type:q,entries:Ee,updateURL:function(){},updateSearchParams:h}),Te!==void 0)if(M(Te))if(typeof(fe=B(Te))=="function")for(de=(ve=fe.call(Te)).next;!(be=de.call(ve)).done;){if((ie=(pe=(be=I(O(be.value))).next).call(be)).done||(ye=pe.call(be)).done||!pe.call(be).done)throw TypeError("Expected sequence with length 2");Ee.push({key:ie.value+"",value:ye.value+""})}else for(_e in Te)x(Te,_e)&&Ee.push({key:_e,value:Te[_e]+""});else J(Ee,typeof Te=="string"?Te.charAt(0)==="?"?Te.slice(1):Te:Te+"")}var s=se("../internals/export"),z=se("../internals/get-built-in"),c=se("../internals/native-url"),p=se("../internals/redefine"),g=se("../internals/redefine-all"),b=se("../internals/set-to-string-tag"),y=se("../internals/create-iterator-constructor"),v=se("../internals/internal-state"),j=se("../internals/an-instance"),x=se("../internals/has"),E=se("../internals/function-bind-context"),P=se("../internals/classof"),O=se("../internals/an-object"),M=se("../internals/is-object"),D=se("../internals/object-create"),U=se("../internals/create-property-descriptor"),I=se("../internals/get-iterator"),B=se("../internals/get-iterator-method"),se=se("../internals/well-known-symbol"),R=z("fetch"),G=z("Headers"),z=se("iterator"),q="URLSearchParams",Y=q+"Iterator",$=v.set,X=v.getterFor(q),ee=v.getterFor(Y),K=/\+/g,ne=Array(4),T=function(fe){var ve,de=fe.replace(K," "),be=4;try{return decodeURIComponent(de)}catch{for(;be;)de=de.replace((ve=be--,ne[ve-1]||(ne[ve-1]=RegExp("((?:%[\\da-f]{2}){"+ve+"})","gi"))),o);return de}},F=/[!'()~]|%20/g,W={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},J=function(fe,ve){if(ve)for(var de,be=ve.split("&"),pe=0;pe<be.length;)(de=be[pe++]).length&&(de=de.split("="),fe.push({key:T(de.shift()),value:T(de.join("="))}))},oe=y(function(fe,ve){$(this,{type:Y,iterator:I(X(fe).entries),kind:ve})},"Iterator",function(){var ve=ee(this),fe=ve.kind,ve=ve.iterator.next(),de=ve.value;return ve.done||(ve.value=fe==="keys"?de.key:fe==="values"?de.value:[de.key,de.value]),ve}),se=m.prototype;g(se,{append:function(fe,ve){_(arguments.length,2);var de=X(this);de.entries.push({key:fe+"",value:ve+""}),de.updateURL()},delete:function(fe){_(arguments.length,1);for(var ve=X(this),de=ve.entries,be=fe+"",pe=0;pe<de.length;)de[pe].key===be?de.splice(pe,1):pe++;ve.updateURL()},get:function(fe){_(arguments.length,1);for(var ve=X(this).entries,de=fe+"",be=0;be<ve.length;be++)if(ve[be].key===de)return ve[be].value;return null},getAll:function(fe){_(arguments.length,1);for(var ve=X(this).entries,de=fe+"",be=[],pe=0;pe<ve.length;pe++)ve[pe].key===de&&be.push(ve[pe].value);return be},has:function(fe){_(arguments.length,1);for(var ve=X(this).entries,de=fe+"",be=0;be<ve.length;)if(ve[be++].key===de)return!0;return!1},set:function(fe,ve){_(arguments.length,1);for(var de,be=X(this),pe=be.entries,ie=!1,ye=fe+"",_e=ve+"",Te=0;Te<pe.length;Te++)(de=pe[Te]).key===ye&&(ie?pe.splice(Te--,1):(ie=!0,de.value=_e));ie||pe.push({key:ye,value:_e}),be.updateURL()},sort:function(){for(var fe,ve,de=X(this),be=de.entries,pe=be.slice(),ie=be.length=0;ie<pe.length;ie++){for(fe=pe[ie],ve=0;ve<ie;ve++)if(be[ve].key>fe.key){be.splice(ve,0,fe);break}ve===ie&&be.push(fe)}de.updateURL()},forEach:function(fe){for(var ve,de=X(this).entries,be=E(fe,1<arguments.length?arguments[1]:void 0,3),pe=0;pe<de.length;)be((ve=de[pe++]).value,ve.key,this)},keys:function(){return new oe(this,"keys")},values:function(){return new oe(this,"values")},entries:function(){return new oe(this,"entries")}},{enumerable:!0}),p(se,z,se.entries),p(se,"toString",function(){for(var fe,ve=X(this).entries,de=[],be=0;be<ve.length;)fe=ve[be++],de.push(i(fe.key)+"="+i(fe.value));return de.join("&")},{enumerable:!0}),b(m,q),s({global:!0,forced:!c},{URLSearchParams:m}),c||typeof R!="function"||typeof G!="function"||s({global:!0,enumerable:!0,forced:!0},{fetch:function(pe){var ve,de,be,pe=[pe];return 1<arguments.length&&(M(ve=arguments[1])&&(de=ve.body,P(de)===q&&((be=ve.headers?new G(ve.headers):new G).has("content-type")||be.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),ve=D(ve,{body:U(0,String(de)),headers:U(0,be)}))),pe.push(ve)),R.apply(this,pe)}}),f.exports={URLSearchParams:m,getState:X}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(I,f,u){I("../modules/es.string.iterator");function o(xe){var et,mt,Ze,Gt;if(typeof xe=="number"){for(et=[],mt=0;mt<4;mt++)et.unshift(xe%256),xe=Y(xe/256);return et.join(".")}if(typeof xe!="object")return xe;for(et="",Ze=ye(xe),mt=0;mt<8;mt++)Gt&&xe[mt]===0||(Gt=Gt&&!1,Ze===mt?(et+=mt?":":"::",Gt=!0):(et+=xe[mt].toString(16),mt<7&&(et+=":")));return"["+et+"]"}function l(xe){return!xe.host||xe.cannotBeABaseURL||xe.scheme=="file"}function i(xe,et,mt,Ze){var Gt,Je,$t,pt=mt||Ye,Pt=0,gt="",hr=!1,Cr=!1,ur=!1;for(mt||(xe.scheme="",xe.username="",xe.password="",xe.host=null,xe.port=null,xe.path=[],xe.query=null,xe.fragment=null,xe.cannotBeABaseURL=!1,et=et.replace(be,"")),et=et.replace(pe,""),Gt=P(et);Pt<=Gt.length;){switch(Je=Gt[Pt],pt){case Ye:if(!Je||!T.test(Je)){if(mt)return ee;pt=ae;continue}gt+=Je.toLowerCase(),pt=Le;break;case Le:if(Je&&(F.test(Je)||Je=="+"||Je=="-"||Je=="."))gt+=Je.toLowerCase();else{if(Je!=":"){if(mt)return ee;gt="",pt=ae,Pt=0;continue}if(mt&&(Ne(xe)!=x(Xe,gt)||gt=="file"&&(yt(xe)||xe.port!==null)||xe.scheme=="file"&&!xe.host))return;if(xe.scheme=gt,mt)return void(Ne(xe)&&Xe[xe.scheme]==xe.port&&(xe.port=null));gt="",xe.scheme=="file"?pt=It:Ne(xe)&&Ze&&Ze.scheme==xe.scheme?pt=ce:Ne(xe)?pt=Re:Gt[Pt+1]=="/"?(pt=re,Pt++):(xe.cannotBeABaseURL=!0,xe.path.push(""),pt=or)}break;case ae:if(!Ze||Ze.cannotBeABaseURL&&Je!="#")return ee;if(Ze.cannotBeABaseURL&&Je=="#"){xe.scheme=Ze.scheme,xe.path=Ze.path.slice(),xe.query=Ze.query,xe.fragment="",xe.cannotBeABaseURL=!0,pt=_r;break}pt=Ze.scheme=="file"?It:he;continue;case ce:if(Je!="/"||Gt[Pt+1]!="/"){pt=he;continue}pt=He,Pt++;break;case re:if(Je=="/"){pt=Qe;break}pt=Tt;continue;case he:if(xe.scheme=Ze.scheme,Je==m)xe.username=Ze.username,xe.password=Ze.password,xe.host=Ze.host,xe.port=Ze.port,xe.path=Ze.path.slice(),xe.query=Ze.query;else if(Je=="/"||Je=="\\"&&Ne(xe))pt=ke;else if(Je=="?")xe.username=Ze.username,xe.password=Ze.password,xe.host=Ze.host,xe.port=Ze.port,xe.path=Ze.path.slice(),xe.query="",pt=Ar;else{if(Je!="#"){xe.username=Ze.username,xe.password=Ze.password,xe.host=Ze.host,xe.port=Ze.port,xe.path=Ze.path.slice(),xe.path.pop(),pt=Tt;continue}xe.username=Ze.username,xe.password=Ze.password,xe.host=Ze.host,xe.port=Ze.port,xe.path=Ze.path.slice(),xe.query=Ze.query,xe.fragment="",pt=_r}break;case ke:if(!Ne(xe)||Je!="/"&&Je!="\\"){if(Je!="/"){xe.username=Ze.username,xe.password=Ze.password,xe.host=Ze.host,xe.port=Ze.port,pt=Tt;continue}pt=Qe}else pt=He;break;case Re:if(pt=He,Je!="/"||gt.charAt(Pt+1)!="/")continue;Pt++;break;case He:if(Je=="/"||Je=="\\")break;pt=Qe;continue;case Qe:if(Je=="@"){hr&&(gt="%40"+gt);for(var hr=!0,Rr=P(gt),Pn=0;Pn<Rr.length;Pn++){var qr=Rr[Pn];qr!=":"||ur?(qr=Oe(qr,Se),ur?xe.password+=qr:xe.username+=qr):ur=!0}gt=""}else if(Je==m||Je=="/"||Je=="?"||Je=="#"||Je=="\\"&&Ne(xe)){if(hr&&gt=="")return X;Pt-=P(gt).length+1,gt="",pt=it}else gt+=Je;break;case it:case at:if(mt&&xe.scheme=="file"){pt=bt;continue}if(Je!=":"||Cr){if(Je==m||Je=="/"||Je=="?"||Je=="#"||Je=="\\"&&Ne(xe)){if(Ne(xe)&&gt=="")return K;if(mt&&gt==""&&(yt(xe)||xe.port!==null))return;if($t=ie(xe,gt))return $t;if(gt="",pt=At,mt)return;continue}Je=="["?Cr=!0:Je=="]"&&(Cr=!1),gt+=Je}else{if(gt=="")return K;if($t=ie(xe,gt))return $t;if(gt="",pt=ft,mt==at)return}break;case ft:if(!W.test(Je)){if(Je==m||Je=="/"||Je=="?"||Je=="#"||Je=="\\"&&Ne(xe)||mt){if(gt!=""){var Or=parseInt(gt,10);if(65535<Or)return ne;xe.port=Ne(xe)&&Or===Xe[xe.scheme]?null:Or,gt=""}if(mt)return;pt=At;continue}return ne}gt+=Je;break;case It:if(xe.scheme="file",Je=="/"||Je=="\\")pt=Ot;else{if(!Ze||Ze.scheme!="file"){pt=Tt;continue}if(Je==m)xe.host=Ze.host,xe.path=Ze.path.slice(),xe.query=Ze.query;else if(Je=="?")xe.host=Ze.host,xe.path=Ze.path.slice(),xe.query="",pt=Ar;else{if(Je!="#"){rt(Gt.slice(Pt).join(""))||(xe.host=Ze.host,xe.path=Ze.path.slice(),ut(xe)),pt=Tt;continue}xe.host=Ze.host,xe.path=Ze.path.slice(),xe.query=Ze.query,xe.fragment="",pt=_r}}break;case Ot:if(Je=="/"||Je=="\\"){pt=bt;break}Ze&&Ze.scheme=="file"&&!rt(Gt.slice(Pt).join(""))&&(lt(Ze.path[0],!0)?xe.path.push(Ze.path[0]):xe.host=Ze.host),pt=Tt;continue;case bt:if(Je==m||Je=="/"||Je=="\\"||Je=="?"||Je=="#"){if(!mt&&lt(gt))pt=Tt;else{if(gt==""){if(xe.host="",mt)return}else{if($t=ie(xe,gt))return $t;if(xe.host=="localhost"&&(xe.host=""),mt)return;gt=""}pt=At}continue}gt+=Je;break;case At:if(Ne(xe)){if(pt=Tt,Je!="/"&&Je!="\\")continue}else if(mt||Je!="?")if(mt||Je!="#"){if(Je!=m&&(pt=Tt,Je!="/"))continue}else xe.fragment="",pt=_r;else xe.query="",pt=Ar;break;case Tt:if(Je==m||Je=="/"||Je=="\\"&&Ne(xe)||!mt&&(Je=="?"||Je=="#")){if(Me(gt)?(ut(xe),Je=="/"||Je=="\\"&&Ne(xe)||xe.path.push("")):ct(gt)?Je=="/"||Je=="\\"&&Ne(xe)||xe.path.push(""):(xe.scheme=="file"&&!xe.path.length&&lt(gt)&&(xe.host&&(xe.host=""),gt=gt.charAt(0)+":"),xe.path.push(gt)),gt="",xe.scheme=="file"&&(Je==m||Je=="?"||Je=="#"))for(;1<xe.path.length&&xe.path[0]==="";)xe.path.shift();Je=="?"?(xe.query="",pt=Ar):Je=="#"&&(xe.fragment="",pt=_r)}else gt+=Oe(Je,Ee);break;case or:Je=="?"?(xe.query="",pt=Ar):Je=="#"?(xe.fragment="",pt=_r):Je!=m&&(xe.path[0]+=Oe(Je,_e));break;case Ar:mt||Je!="#"?Je!=m&&(Je=="'"&&Ne(xe)?xe.query+="%27":xe.query+=Je=="#"?"%23":Oe(Je,_e)):(xe.fragment="",pt=_r);break;case _r:Je!=m&&(xe.fragment+=Oe(Je,Te))}Pt++}}function h(Je){var et,mt,Ze=j(this,h,"URL"),Gt=1<arguments.length?arguments[1]:void 0,Je=String(Je),$t=z(Ze,{type:"URL"});if(Gt!==void 0){if(Gt instanceof h)et=q(Gt);else if(mt=i(et={},String(Gt)))throw TypeError(mt)}if(mt=i($t,Je,null,et))throw TypeError(mt);var pt=$t.searchParams=new R;(Gt=G(pt)).updateSearchParams($t.query),Gt.updateURL=function(){$t.query=String(pt)||null},g||(Ze.href=sr.call(Ze),Ze.origin=Vt.call(Ze),Ze.protocol=Fr.call(Ze),Ze.username=yr.call(Ze),Ze.password=Yt.call(Ze),Ze.host=kr.call(Ze),Ze.hostname=Eo.call(Ze),Ze.port=Ms.call(Ze),Ze.pathname=Is.call(Ze),Ze.search=pi.call(Ze),Ze.searchParams=Tn.call(Ze),Ze.hash=zo.call(Ze))}function _(xe,et){return{get:xe,set:et,configurable:!0,enumerable:!0}}var m,s,c,p=I("../internals/export"),g=I("../internals/descriptors"),b=I("../internals/native-url"),qt=I("../internals/global"),y=I("../internals/object-define-properties"),v=I("../internals/redefine"),j=I("../internals/an-instance"),x=I("../internals/has"),E=I("../internals/object-assign"),P=I("../internals/array-from"),O=I("../internals/string-multibyte").codeAt,M=I("../internals/string-punycode-to-ascii"),D=I("../internals/set-to-string-tag"),U=I("../modules/web.url-search-params"),I=I("../internals/internal-state"),B=qt.URL,R=U.URLSearchParams,G=U.getState,z=I.set,q=I.getterFor("URL"),Y=Math.floor,$=Math.pow,X="Invalid authority",ee="Invalid scheme",K="Invalid host",ne="Invalid port",T=/[A-Za-z]/,F=/[\d+-.A-Za-z]/,W=/\d/,J=/^(0x|0X)/,oe=/^[0-7]+$/,se=/^\d+$/,fe=/^[\dA-Fa-f]+$/,ve=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,de=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,be=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,pe=/[\u0009\u000A\u000D]/g,ie=function(xe,et){var mt,Ze,Gt;if(et.charAt(0)=="[")return et.charAt(et.length-1)=="]"&&(mt=(function(Je){var $t=[0,0,0,0,0,0,0,0],pt=0,Pt=null,gt=0,hr,Cr,ur,Rr,Pn,qr,Or,Dr=function(){return Je.charAt(gt)};if(Dr()==":"){if(Je.charAt(1)!=":")return;gt+=2,pt++,Pt=pt}for(;Dr();){if(pt==8)return;if(Dr()==":"){if(Pt!==null)return;gt++,pt++,Pt=pt;continue}for(hr=Cr=0;Cr<4&&fe.test(Dr());)hr=hr*16+parseInt(Dr(),16),gt++,Cr++;if(Dr()=="."){if(Cr==0||(gt-=Cr,pt>6))return;for(ur=0;Dr();){if(Rr=null,ur>0)if(Dr()=="."&&ur<4)gt++;else return;if(!W.test(Dr()))return;for(;W.test(Dr());){if(Pn=parseInt(Dr(),10),Rr===null)Rr=Pn;else{if(Rr==0)return;Rr=Rr*10+Pn}if(Rr>255)return;gt++}$t[pt]=$t[pt]*256+Rr,ur++,(ur==2||ur==4)&&pt++}if(ur!=4)return;break}else if(Dr()==":"){if(gt++,!Dr())return}else if(Dr())return;$t[pt++]=hr}if(Pt!==null)for(qr=pt-Pt,pt=7;pt!=0&&qr>0;)Or=$t[pt],$t[pt--]=$t[Pt+qr-1],$t[Pt+--qr]=Or;else if(pt!=8)return;return $t})(et.slice(1,-1)))?void(xe.host=mt):K;if(Ne(xe))return et=M(et),ve.test(et)||(mt=(function(Je){var $t=Je.split("."),pt,Pt,gt,hr,Cr,ur,Rr;if($t.length&&$t[$t.length-1]==""&&$t.pop(),(pt=$t.length)>4)return Je;for(Pt=[],gt=0;gt<pt;gt++){if(hr=$t[gt],hr=="")return Je;if(Cr=10,hr.length>1&&hr.charAt(0)=="0"&&(Cr=J.test(hr)?16:8,hr=hr.slice(Cr==8?1:2)),hr==="")ur=0;else{if(!(Cr==10?se:Cr==8?oe:fe).test(hr))return Je;ur=parseInt(hr,Cr)}Pt.push(ur)}for(gt=0;gt<pt;gt++)if(ur=Pt[gt],gt==pt-1){if(ur>=$(256,5-pt))return null}else if(ur>255)return null;for(Rr=Pt.pop(),gt=0;gt<Pt.length;gt++)Rr+=Pt[gt]*$(256,3-gt);return Rr})(et))===null?K:void(xe.host=mt);if(de.test(et))return K;for(mt="",Ze=P(et),Gt=0;Gt<Ze.length;Gt++)mt+=Oe(Ze[Gt],_e);xe.host=mt},ye=function(xe){for(var et=null,mt=1,Ze=null,Gt=0,Je=0;Je<8;Je++)xe[Je]!==0?(mt<Gt&&(et=Ze,mt=Gt),Ze=null,Gt=0):(Ze===null&&(Ze=Je),++Gt);return mt<Gt&&(et=Ze,mt=Gt),et},_e={},Te=E({},_e,{" ":1,'"':1,"<":1,">":1,"`":1}),Ee=E({},Te,{"#":1,"?":1,"{":1,"}":1}),Se=E({},Ee,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Oe=function(xe,et){var mt=O(xe,0);return 32<mt&&mt<127&&!x(et,xe)?xe:encodeURIComponent(xe)},Xe={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ne=function(xe){return x(Xe,xe.scheme)},yt=function(xe){return xe.username!=""||xe.password!=""},lt=function(xe,et){return xe.length==2&&T.test(xe.charAt(0))&&((xe=xe.charAt(1))==":"||!et&&xe=="|")},rt=function(xe){return 1<xe.length&&lt(xe.slice(0,2))&&(xe.length==2||(xe=xe.charAt(2))==="/"||xe==="\\"||xe==="?"||xe==="#")},ut=function(xe){var et=xe.path,mt=et.length;!mt||xe.scheme=="file"&&mt==1&&lt(et[0],!0)||et.pop()},ct=function(xe){return xe==="."||xe.toLowerCase()==="%2e"},Me=function(xe){return(xe=xe.toLowerCase())===".."||xe==="%2e."||xe===".%2e"||xe==="%2e%2e"},Ye={},Le={},ae={},ce={},re={},he={},ke={},Re={},He={},Qe={},it={},at={},ft={},It={},Ot={},bt={},At={},Tt={},or={},Ar={},_r={},qt=h.prototype,sr=function(){var xe=q(this),et=xe.scheme,mt=xe.username,Ze=xe.password,Gt=xe.host,Je=xe.port,$t=xe.path,pt=xe.query,Pt=xe.fragment,gt=et+":";return Gt!==null?(gt+="//",yt(xe)&&(gt+=mt+(Ze?":"+Ze:"")+"@"),gt+=o(Gt),Je!==null&&(gt+=":"+Je)):et=="file"&&(gt+="//"),gt+=xe.cannotBeABaseURL?$t[0]:$t.length?"/"+$t.join("/"):"",pt!==null&&(gt+="?"+pt),Pt!==null&&(gt+="#"+Pt),gt},Vt=function(){var xe=q(this),et=xe.scheme,mt=xe.port;if(et=="blob")try{return new URL(et.path[0]).origin}catch{return"null"}return et!="file"&&Ne(xe)?et+"://"+o(xe.host)+(mt!==null?":"+mt:""):"null"},Fr=function(){return q(this).scheme+":"},yr=function(){return q(this).username},Yt=function(){return q(this).password},kr=function(){var et=q(this),xe=et.host,et=et.port;return xe===null?"":et===null?o(xe):o(xe)+":"+et},Eo=function(){var xe=q(this).host;return xe===null?"":o(xe)},Ms=function(){var xe=q(this).port;return xe===null?"":String(xe)},Is=function(){var xe=q(this),et=xe.path;return xe.cannotBeABaseURL?et[0]:et.length?"/"+et.join("/"):""},pi=function(){var xe=q(this).query;return xe?"?"+xe:""},Tn=function(){return q(this).searchParams},zo=function(){var xe=q(this).fragment;return xe?"#"+xe:""};g&&y(qt,{href:_(sr,function(mt){var et=q(this),mt=String(mt),mt=i(et,mt);if(mt)throw TypeError(mt);G(et.searchParams).updateSearchParams(et.query)}),origin:_(Vt),protocol:_(Fr,function(xe){var et=q(this);i(et,String(xe)+":",Ye)}),username:_(yr,function(xe){var et=q(this),mt=P(String(xe));if(!l(et)){et.username="";for(var Ze=0;Ze<mt.length;Ze++)et.username+=Oe(mt[Ze],Se)}}),password:_(Yt,function(xe){var et=q(this),mt=P(String(xe));if(!l(et)){et.password="";for(var Ze=0;Ze<mt.length;Ze++)et.password+=Oe(mt[Ze],Se)}}),host:_(kr,function(xe){var et=q(this);et.cannotBeABaseURL||i(et,String(xe),it)}),hostname:_(Eo,function(xe){var et=q(this);et.cannotBeABaseURL||i(et,String(xe),at)}),port:_(Ms,function(xe){var et=q(this);l(et)||((xe=String(xe))==""?et.port=null:i(et,xe,ft))}),pathname:_(Is,function(xe){var et=q(this);et.cannotBeABaseURL||(et.path=[],i(et,xe+"",At))}),search:_(pi,function(xe){var et=q(this);(xe=String(xe))==""?et.query=null:(xe.charAt(0)=="?"&&(xe=xe.slice(1)),et.query="",i(et,xe,Ar)),G(et.searchParams).updateSearchParams(et.query)}),searchParams:_(Tn),hash:_(zo,function(xe){var et=q(this);(xe=String(xe))==""?et.fragment=null:(xe.charAt(0)=="#"&&(xe=xe.slice(1)),et.fragment="",i(et,xe,_r))})}),v(qt,"toJSON",function(){return sr.call(this)},{enumerable:!0}),v(qt,"toString",function(){return sr.call(this)},{enumerable:!0}),B&&(s=B.createObjectURL,c=B.revokeObjectURL,s&&v(h,"createObjectURL",function(xe){return s.apply(B,arguments)}),c&&v(h,"revokeObjectURL",function(xe){return c.apply(B,arguments)})),D(h,"URL"),p({global:!0,forced:!b,sham:!g},{URL:h})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(t,f,u){f.exports=t("./").polyfill()},{"./":250}],250:[function(t,f,u){(function(o,l){var i,h;i=this,h=function(){function _(ie){return typeof ie=="function"}var m=Array.isArray||function(ie){return Object.prototype.toString.call(ie)==="[object Array]"},s=0,c=void 0,p=void 0,g=function(ie,ye){E[s]=ie,E[s+1]=ye,(s+=2)===2&&(p?p(P):R())},b=typeof window<"u"?window:void 0,y=b||{},y=y.MutationObserver||y.WebKitMutationObserver,v=typeof self>"u"&&o!==void 0&&{}.toString.call(o)==="[object process]",j=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function x(){var ie=setTimeout;return function(){return ie(P,1)}}var E=new Array(1e3);function P(){for(var ie=0;ie<s;ie+=2)(0,E[ie])(E[ie+1]),E[ie]=void 0,E[ie+1]=void 0;s=0}function O(){try{var ie=Function("return this")().require("vertx");return(c=ie.runOnLoop||ie.runOnContext)!==void 0?function(){c(P)}:x()}catch{return x()}}var M,D,U,R=void 0;function I(ie,ye){var _e,Te=this,Ee=new this.constructor(z),Se=(Ee[G]===void 0&&fe(Ee),Te._state);return Se?(_e=arguments[Se-1],g(function(){return oe(Se,Ee,_e,Te._result)})):W(Te,Ee,ie,ye),Ee}function B(ie){var ye;return ie&&typeof ie=="object"&&ie.constructor===this?ie:(K(ye=new this(z),ie),ye)}var R=v?function(){return o.nextTick(P)}:y?(D=0,v=new y(P),U=document.createTextNode(""),v.observe(U,{characterData:!0}),function(){U.data=D=++D%2}):j?((M=new MessageChannel).port1.onmessage=P,function(){return M.port2.postMessage(0)}):(b===void 0&&typeof t=="function"?O:x)(),G=Math.random().toString(36).substring(2);function z(){}var q=void 0,Y=1,$=2;function X(ie,ye,_e){g(function(Te){var Ee=!1,Se=(function(Oe,Xe,Ne,yt){try{Oe.call(Xe,Ne,yt)}catch(lt){return lt}})(_e,ye,function(Oe){Ee||(Ee=!0,(ye!==Oe?K:T)(Te,Oe))},function(Oe){Ee||(Ee=!0,F(Te,Oe))},Te._label);!Ee&&Se&&(Ee=!0,F(Te,Se))},ie)}function ee(ie,ye,_e){var Te,Ee;ye.constructor===ie.constructor&&_e===I&&ye.constructor.resolve===B?(Te=ie,(Ee=ye)._state===Y?T(Te,Ee._result):Ee._state===$?F(Te,Ee._result):W(Ee,void 0,function(Se){return K(Te,Se)},function(Se){return F(Te,Se)})):_e!==void 0&&_(_e)?X(ie,ye,_e):T(ie,ye)}function K(ie,ye){if(ie===ye)F(ie,new TypeError("You cannot resolve a promise with itself"));else if(_e=typeof ye,ye===null||_e!="object"&&_e!="function")T(ie,ye);else{_e=void 0;try{_e=ye.then}catch(Te){return void F(ie,Te)}ee(ie,ye,_e)}var _e}function ne(ie){ie._onerror&&ie._onerror(ie._result),J(ie)}function T(ie,ye){ie._state===q&&(ie._result=ye,ie._state=Y,ie._subscribers.length!==0&&g(J,ie))}function F(ie,ye){ie._state===q&&(ie._state=$,ie._result=ye,g(ne,ie))}function W(ie,ye,_e,Te){var Ee=ie._subscribers,Se=Ee.length;ie._onerror=null,Ee[Se]=ye,Ee[Se+Y]=_e,Ee[Se+$]=Te,Se===0&&ie._state&&g(J,ie)}function J(ie){var ye=ie._subscribers,_e=ie._state;if(ye.length!==0){for(var Te,Ee=void 0,Se=ie._result,Oe=0;Oe<ye.length;Oe+=3)Te=ye[Oe],Ee=ye[Oe+_e],Te?oe(_e,Te,Ee,Se):Ee(Se);ie._subscribers.length=0}}function oe(ie,ye,_e,Te){var Ee=_(_e),Se=void 0,Oe=void 0,Xe=!0;if(Ee){try{Se=_e(Te)}catch(Ne){Xe=!1,Oe=Ne}if(ye===Se)return void F(ye,new TypeError("A promises callback cannot return that same promise."))}else Se=Te;ye._state===q&&(Ee&&Xe?K(ye,Se):Xe===!1?F(ye,Oe):ie===Y?T(ye,Se):ie===$&&F(ye,Se))}var se=0;function fe(ie){ie[G]=se++,ie._state=void 0,ie._result=void 0,ie._subscribers=[]}de.prototype._enumerate=function(ie){for(var ye=0;this._state===q&&ye<ie.length;ye++)this._eachEntry(ie[ye],ye)},de.prototype._eachEntry=function(ie,ye){var _e=this._instanceConstructor,Te=_e.resolve;if(Te===B){var Ee,Se=void 0,Oe=void 0,Xe=!1;try{Se=ie.then}catch(Ne){Xe=!0,Oe=Ne}Se===I&&ie._state!==q?this._settledAt(ie._state,ye,ie._result):typeof Se!="function"?(this._remaining--,this._result[ye]=ie):_e===be?(Ee=new _e(z),Xe?F(Ee,Oe):ee(Ee,ie,Se),this._willSettleAt(Ee,ye)):this._willSettleAt(new _e(function(Ne){return Ne(ie)}),ye)}else this._willSettleAt(Te(ie),ye)},de.prototype._settledAt=function(ie,ye,_e){var Te=this.promise;Te._state===q&&(this._remaining--,ie===$?F(Te,_e):this._result[ye]=_e),this._remaining===0&&T(Te,this._result)},de.prototype._willSettleAt=function(ie,ye){var _e=this;W(ie,void 0,function(Te){return _e._settledAt(Y,ye,Te)},function(Te){return _e._settledAt($,ye,Te)})};var ve=de;function de(ie,ye){this._instanceConstructor=ie,this.promise=new ie(z),this.promise[G]||fe(this.promise),m(ye)?(this.length=ye.length,this._remaining=ye.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(ye),this._remaining!==0)||T(this.promise,this._result)):F(this.promise,new Error("Array Methods must be provided an Array"))}pe.prototype.catch=function(ie){return this.then(null,ie)},pe.prototype.finally=function(ie){var ye=this.constructor;return _(ie)?this.then(function(_e){return ye.resolve(ie()).then(function(){return _e})},function(_e){return ye.resolve(ie()).then(function(){throw _e})}):this.then(ie,ie)};var be=pe;function pe(ie){if(this[G]=se++,this._result=this._state=void 0,this._subscribers=[],z!==ie){if(typeof ie!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof pe))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var ye=this;try{ie(function(_e){K(ye,_e)},function(_e){F(ye,_e)})}catch(_e){F(ye,_e)}}}return be.prototype.then=I,be.all=function(ie){return new ve(this,ie).promise},be.race=function(ie){var ye=this;return m(ie)?new ye(function(_e,Te){for(var Ee=ie.length,Se=0;Se<Ee;Se++)ye.resolve(ie[Se]).then(_e,Te)}):new ye(function(_e,Te){return Te(new TypeError("You must pass an array to race."))})},be.resolve=B,be.reject=function(ie){var ye=new this(z);return F(ye,ie),ye},be._setScheduler=function(ie){p=ie},be._setAsap=function(ie){g=ie},be._asap=g,be.polyfill=function(){var ie=void 0;if(l!==void 0)ie=l;else if(typeof self<"u")ie=self;else try{ie=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ye=ie.Promise;if(ye){var _e=null;try{_e=Object.prototype.toString.call(ye.resolve())}catch{}if(_e==="[object Promise]"&&!ye.cast)return}ie.Promise=be},be.Promise=be},typeof u=="object"&&f!==void 0?f.exports=h():i.ES6Promise=h()}).call(this,t("_process"),typeof Ou<"u"?Ou:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(t,f,u){var o,l;o=this,l=function(i,h){var _=5e3,m="callback";function s(p){try{delete window[p]}catch{window[p]=void 0}}function c(p){p=document.getElementById(p),p&&document.getElementsByTagName("head")[0].removeChild(p)}h.exports=function(p){var g=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],b=p,y=g.timeout||_,v=g.jsonpCallback||m,j=void 0;return new Promise(function(x,E){var P=g.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),O=v+"_"+P,M=(window[P]=function(D){x({ok:!0,json:function(){return Promise.resolve(D)}}),j&&clearTimeout(j),c(O),s(P)},b+=b.indexOf("?")===-1?"?":"&",document.createElement("script"));M.setAttribute("src",""+b+v+"="+P),g.charset&&M.setAttribute("charset",g.charset),M.id=O,document.getElementsByTagName("head")[0].appendChild(M),j=setTimeout(function(){E(new Error("JSONP request to "+p+" timed out")),s(P),c(O),window[P]=function(){s(P)}},y),M.onerror=function(){E(new Error("JSONP request to "+p+" failed")),s(P),c(O),j&&clearTimeout(j)}})}},u!==void 0&&f!==void 0?l(0,f):(l(l={exports:{}},l),o.fetchJsonp=l.exports)},{}],252:[function(t,f,u){var o=(function(l){var i,h,_,m,s,c,p,g,b,y,v;if(!(l===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return v=l.document,i=function(){return l.URL||l.webkitURL||l},h=v.createElementNS("http://www.w3.org/1999/xhtml","a"),_="download"in h,m=/constructor/i.test(l.HTMLElement)||l.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),c=function(j){(l.setImmediate||l.setTimeout)(function(){throw j},0)},p=4e4,g=function(j){setTimeout(function(){typeof j=="string"?i().revokeObjectURL(j):j.remove()},p)},b=function(j){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(j.type)?new Blob(["\uFEFF",j],{type:j.type}):j},v=(y=function(j,x,D){D||(j=b(j));var P,O,M=this,D=j.type==="application/octet-stream",U=function(){for(var I=M,B="writestart progress write writeend".split(" "),R=void 0,G=(B=[].concat(B)).length;G--;){var z=I["on"+B[G]];if(typeof z=="function")try{z.call(I,R||I)}catch(q){c(q)}}};M.readyState=M.INIT,_?(P=i().createObjectURL(j),setTimeout(function(){var I,B;h.href=P,h.download=x,I=h,B=new MouseEvent("click"),I.dispatchEvent(B),U(),g(P),M.readyState=M.DONE})):(s||D&&m)&&l.FileReader?((O=new FileReader).onloadend=function(){var I=s?O.result:O.result.replace(/^data:[^;]*;/,"data:attachment/file;");l.open(I,"_blank")||(l.location.href=I),I=void 0,M.readyState=M.DONE,U()},O.readAsDataURL(j),M.readyState=M.INIT):(P=P||i().createObjectURL(j),!D&&l.open(P,"_blank")||(l.location.href=P),M.readyState=M.DONE,U(),g(P))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(j,x,E){return x=x||j.name||"download",E||(j=b(j)),navigator.msSaveOrOpenBlob(j,x)}:(v.abort=function(){},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,function(j,x,E){return new y(j,x||j.name||"download",E)})})(typeof self<"u"&&self||typeof window<"u"&&window||this.content);f!==void 0&&f.exports?f.exports.saveAs=o:d!=null},{}],253:[function(t,f,u){var o,l=Object.defineProperty,i=(l(u,"__esModule",{value:!0}),u),h={GIFEncoder:()=>U,applyPalette:()=>function(q,Y,$="rgb565"){if(!q||!q.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(q instanceof Uint8Array||q instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<Y.length)throw new Error("applyPalette() only works with 256 colors or less");const X=new Uint32Array(q.buffer),ee=X.length,K=$==="rgb444"?4096:65536,ne=new Uint8Array(ee),T=new Array(K);if($==="rgba4444")for(let pe=0;pe<ee;pe++){var oe=X[pe],F=oe>>24&255,W=oe>>16&255,J=oe>>8&255,oe=255&oe,se=g(oe,J,W,F),se=se in T?T[se]:T[se]=(function(ie,ye,_e,Te,Ee){let Se=0,Oe=1e100;for(let lt=0;lt<Ee.length;lt++){var Xe,Ne=Ee[lt],yt=O(Ne[3]-Te);yt>Oe||(Xe=Ne[0],(yt+=O(Xe-ie))>Oe||(Xe=Ne[1],(yt+=O(Xe-ye))>Oe||(Xe=Ne[2],(yt+=O(Xe-_e))>Oe||(Oe=yt,Se=lt))))}return Se})(oe,J,W,F,Y);ne[pe]=se}else{const pe=$==="rgb444"?b:p;for(let ie=0;ie<ee;ie++){var de=X[ie],fe=de>>16&255,ve=de>>8&255,de=255&de,be=pe(de,ve,fe),be=be in T?T[be]:T[be]=(function(ye,_e,Te,Ee){let Se=0,Oe=1e100;for(let lt=0;lt<Ee.length;lt++){var Xe,Ne=Ee[lt],yt=O(Ne[0]-ye);yt>Oe||(Xe=Ne[1],(yt+=O(Xe-_e))>Oe||(Xe=Ne[2],(yt+=O(Xe-Te))>Oe||(Oe=yt,Se=lt)))}return Se})(de,ve,fe,Y);ne[ie]=be}}return ne},default:()=>z,nearestColor:()=>function(q,Y,$=E){return q[M(q,Y,$)]},nearestColorIndex:()=>M,nearestColorIndexWithDistance:()=>D,prequantize:()=>function(q,{roundRGB:Y=5,roundAlpha:$=10,oneBitAlpha:X=null}={}){const ee=new Uint32Array(q.buffer);for(let W=0;W<ee.length;W++){var F=ee[W];let J=F>>24&255;var K,ne=F>>16&255,T=F>>8&255,F=255&F;J=P(J,$),X&&(K=typeof X=="number"?X:127,J=J<=K?0:255),F=P(F,Y),T=P(T,Y),ne=P(ne,Y),ee[W]=J<<24|ne<<16|T<<8|F<<0}},quantize:()=>function(q,Y,$={}){var{format:X="rgb565",clearAlpha:ee=!0,clearAlphaColor:K=0,clearAlphaThreshold:ne=0,oneBitAlpha:T=!1}=$;if(!q||!q.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(q instanceof Uint8Array||q instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");q=new Uint32Array(q.buffer);let F=$.useSqrt!==!1;const W=X==="rgba4444",J=(function(rt,ut){const ct=ut==="rgb444"?4096:65536,Me=new Array(ct),Ye=rt.length;if(ut==="rgba4444")for(let Ot=0;Ot<Ye;++Ot){var re=rt[Ot],Le=re>>24&255,ae=re>>16&255,ce=re>>8&255,re=255&re,he=g(re,ce,ae,Le);let bt=he in Me?Me[he]:Me[he]=x();bt.rc+=re,bt.gc+=ce,bt.bc+=ae,bt.ac+=Le,bt.cnt++}else if(ut==="rgb444")for(let Ot=0;Ot<Ye;++Ot){var He=rt[Ot],ke=He>>16&255,Re=He>>8&255,He=255&He,Qe=b(He,Re,ke);let bt=Qe in Me?Me[Qe]:Me[Qe]=x();bt.rc+=He,bt.gc+=Re,bt.bc+=ke,bt.cnt++}else for(let Ot=0;Ot<Ye;++Ot){var ft=rt[Ot],it=ft>>16&255,at=ft>>8&255,ft=255&ft,It=p(ft,at,it);let bt=It in Me?Me[It]:Me[It]=x();bt.rc+=ft,bt.gc+=at,bt.bc+=it,bt.cnt++}return Me})(q,X),oe=J.length,se=oe-1,fe=new Uint32Array(oe+1);for(var ve=0,de=0;de<oe;++de){const rt=J[de];rt!=null&&(Ne=1/rt.cnt,W&&(rt.ac*=Ne),rt.rc*=Ne,rt.gc*=Ne,rt.bc*=Ne,J[ve++]=rt)}v(Y)/ve<.022&&(F=!1);for(var be,pe,ie,de=0;de<ve-1;++de)J[de].fw=de+1,J[de+1].bk=de,F&&(J[de].cnt=Math.sqrt(J[de].cnt));for(F&&(J[de].cnt=Math.sqrt(J[de].cnt)),de=0;de<ve;++de){j(J,de);var ye=J[de].err;for(pe=++fe[0];1<pe&&(ie=pe>>1,!(J[be=fe[ie]].err<=ye));pe=ie)fe[pe]=be;fe[pe]=de}var _e,Te=ve-Y;for(de=0;de<Te;){for(;;){var Ee=fe[1];if((_e=J[Ee]).tm>=_e.mtm&&J[_e.nn].mtm<=_e.tm)break;for(_e.mtm==se?Ee=fe[1]=fe[fe[0]--]:(j(J,Ee),_e.tm=de),ye=J[Ee].err,pe=1;(ie=pe+pe)<=fe[0]&&(ie<fe[0]&&J[fe[ie]].err>J[fe[ie+1]].err&&ie++,!(ye<=J[be=fe[ie]].err));pe=ie)fe[pe]=be;fe[pe]=Ee}var Se=J[_e.nn],Oe=_e.cnt,Xe=Se.cnt,Ne=1/(Oe+Xe);W&&(_e.ac=Ne*(Oe*_e.ac+Xe*Se.ac)),_e.rc=Ne*(Oe*_e.rc+Xe*Se.rc),_e.gc=Ne*(Oe*_e.gc+Xe*Se.gc),_e.bc=Ne*(Oe*_e.bc+Xe*Se.bc),_e.cnt+=Se.cnt,_e.mtm=++de,J[Se.bk].fw=Se.fw,J[Se.fw].bk=Se.bk,Se.mtm=se}let yt=[];for(de=0;;0){let rt=y(Math.round(J[de].rc),0,255),ut=y(Math.round(J[de].gc),0,255),ct=y(Math.round(J[de].bc),0,255),Me=255;W&&(Me=y(Math.round(J[de].ac),0,255),T&&(lt=typeof T=="number"?T:127,Me=Me<=lt?0:255),ee&&Me<=ne&&(rt=ut=ct=K,Me=0));var lt=W?[rt,ut,ct,Me]:[rt,ut,ct];if((function(Ye,Le){for(let re=0;re<Ye.length;re++){var ce=Ye[re],ae=ce[0]===Le[0]&&ce[1]===Le[1]&&ce[2]===Le[2],ce=!(4<=ce.length&&4<=Le.length)||ce[3]===Le[3];if(ae&&ce)return!0}return!1})(yt,lt)||yt.push(lt),(de=J[de].fw)==0)break}return yt},snapColorsToPalette:()=>function(q,Y,$=5){if(q.length&&Y.length){var X=q.map(F=>F.slice(0,3)),ee=$*$,K=q[0].length;for(let F=0;F<Y.length;F++){let W=Y[F];W=W.length<K?[W[0],W[1],W[2],255]:W.length>K?W.slice(0,3):W.slice();var T=D(X,W.slice(0,3),E),ne=T[0],T=T[1];0<T&&T<=ee&&(q[ne]=W)}}}};for(o in h)l(i,o,{get:h[o],enumerable:!0});var _={trailer:59};function m(q=256){let Y=0,$=new Uint8Array(q);return{get buffer(){return $.buffer},reset(){Y=0},bytesView(){return $.subarray(0,Y)},bytes(){return $.slice(0,Y)},writeByte(ee){X(Y+1),$[Y]=ee,Y++},writeBytes(ee,K=0,ne=ee.length){X(Y+ne);for(let T=0;T<ne;T++)$[Y++]=ee[T+K]},writeBytesView(ee,K=0,ne=ee.byteLength){X(Y+ne),$.set(ee.subarray(K,K+ne),Y),Y+=ne}};function X(ee){var K=$.length;if(!(ee<=K)){ee=Math.max(ee,K*(K<1048576?2:1.125)>>>0),K!=0&&(ee=Math.max(ee,256));const ne=$;$=new Uint8Array(ee),0<Y&&$.set(ne.subarray(0,Y),0)}}}var s=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],c=function(q,Y,$,W,ee=m(512),K=new Uint8Array(256),ne=new Int32Array(5003),T=new Int32Array(5003)){var F=ne.length,W=Math.max(2,W);K.fill(0),T.fill(0),ne.fill(-1);let J=0,oe=0;var se=W+1;const fe=se;let ve=!1,de=fe,be=(1<<de)-1;var pe=1<<se-1;const ie=1+pe;let ye=2+pe,_e=0,Te=$[0],Ee=0;for(let lt=F;lt<65536;lt*=2)++Ee;Ee=8-Ee,ee.writeByte(W),yt(pe);var Se=$.length;for(let lt=1;lt<Se;lt++)e:{var Oe=$[lt],Xe=(Oe<<12)+Te;let rt=Oe<<Ee^Te;if(ne[rt]===Xe)Te=T[rt];else{for(var Ne=rt===0?1:F-rt;0<=ne[rt];)if((rt-=Ne)<0&&(rt+=F),ne[rt]===Xe){Te=T[rt];break e}yt(Te),Te=Oe,ye<4096?(T[rt]=ye++,ne[rt]=Xe):(ne.fill(-1),ye=2+pe,ve=!0,yt(pe))}}return yt(Te),yt(ie),ee.writeByte(0),ee.bytesView();function yt(lt){for(J&=s[oe],0<oe?J|=lt<<oe:J=lt,oe+=de;8<=oe;)K[_e++]=255&J,254<=_e&&(ee.writeByte(_e),ee.writeBytesView(K,0,_e),_e=0),J>>=8,oe-=8;if((ye>be||ve)&&(ve?(de=fe,be=(1<<de)-1,ve=!1):(++de,be=de===12?1<<de:(1<<de)-1)),lt==ie){for(;0<oe;)K[_e++]=255&J,254<=_e&&(ee.writeByte(_e),ee.writeBytesView(K,0,_e),_e=0),J>>=8,oe-=8;0<_e&&(ee.writeByte(_e),ee.writeBytesView(K,0,_e),_e=0)}}};function p(q,Y,$){return q<<8&63488|Y<<2&992|$>>3}function g(q,Y,$,X){return q>>4|240&Y|(240&$)<<4|(240&X)<<8}function b(q,Y,$){return q>>4<<8|240&Y|$>>4}function y(q,Y,$){return q<Y?Y:$<q?$:q}function v(q){return q*q}function j(q,Y,$){var X=0,ee=1e100;const K=q[Y];for(var ne=K.cnt,T=K.ac,F=K.rc,W=K.gc,J=K.bc,oe=K.fw;oe!=0;oe=q[oe].fw){var se,fe=q[oe],ve=fe.cnt,ve=ne*ve/(ne+ve);ee<=ve||(se=0,ee<=(se+=ve*v(fe.rc-F))||ee<=(se+=ve*v(fe.gc-W))||ee<=(se+=ve*v(fe.bc-J))||(ee=se,X=oe))}K.err=ee,K.nn=X}function x(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function E(q,Y){for(var $=0,X=0;X<q.length;X++){var ee=q[X]-Y[X];$+=ee*ee}return $}function P(q,Y){return 1<Y?Math.round(q/Y)*Y:q}function O(q){return q*q}function M(q,Y,$=E){let X=1/0,ee=-1;for(let ne=0;ne<q.length;ne++){var K=$(Y,q[ne]);K<X&&(X=K,ee=ne)}return ee}function D(q,Y,$=E){let X=1/0,ee=-1;for(let ne=0;ne<q.length;ne++){var K=$(Y,q[ne]);K<X&&(X=K,ee=ne)}return[ee,X]}function U(q={}){const{initialCapacity:Y=4096,auto:$=!0}=q,X=m(Y),ee=new Uint8Array(256),K=new Int32Array(5003),ne=new Int32Array(5003);let T=!1;return{reset(){X.reset(),T=!1},finish(){X.writeByte(_.trailer)},bytes(){return X.bytes()},bytesView(){return X.bytesView()},get buffer(){return X.buffer},get stream(){return X},writeHeader:F,writeFrame(W,J,oe,Te={}){var{transparent:fe=!1,transparentIndex:ve=0,delay:Ne=0,palette:de=null,repeat:Se=0,colorDepth:be=8,dispose:pe=-1}=Te;let ie=!1;if($?T||(ie=!0,F(),T=!0):ie=!!Te.first,J=Math.max(0,Math.floor(J)),oe=Math.max(0,Math.floor(oe)),ie){if(!de)throw new Error("First frame must include a { palette } option");var[Te,Oe,_e,Xe,Ee=8]=[X,J,oe,de,be];Xe=G(Xe.length)-1,Ee=128|Ee-1<<4|Xe,B(Te,Oe),B(Te,_e),Te.writeBytes([Ee,0,0]),I(X,de),0<=Se&&(Xe=X,Oe=Se,Xe.writeByte(33),Xe.writeByte(255),Xe.writeByte(11),R(Xe,"NETSCAPE2.0"),Xe.writeByte(3),Xe.writeByte(1),B(Xe,Oe),Xe.writeByte(0))}var ye,_e=Math.round(Ne/10),Te=X,Ee=pe,Se=_e,Oe=fe,Xe=ve,Ne=(Te.writeByte(33),Te.writeByte(249),Te.writeByte(4),Xe<0&&(Xe=0,Oe=!1),Oe=Oe?(ye=1,2):ye=0,0<=Ee&&(Oe=7&Ee),Oe<<=2,Te.writeByte(0|Oe|ye),B(Te,Se),Te.writeByte(Xe||0),Te.writeByte(0),!!de&&!ie);pe=X,fe=J,ve=oe,ye=Ne?de:null,pe.writeByte(44),B(pe,0),B(pe,0),B(pe,fe),B(pe,ve),ye?(fe=G(ye.length)-1,pe.writeByte(128|fe)):pe.writeByte(0),Ne&&I(X,de),[Se,Te,ve,fe,pe=8,Ne,de,W]=[X,W,J,oe,be,ee,K,ne],c(ve,fe,Te,pe,Se,Ne,de,W)}};function F(){R(X,"GIF89a")}}function I(q,Y){var $=1<<G(Y.length);for(let X=0;X<$;X++){let ee=[0,0,0];X<Y.length&&(ee=Y[X]),q.writeByte(ee[0]),q.writeByte(ee[1]),q.writeByte(ee[2])}}function B(q,Y){q.writeByte(255&Y),q.writeByte(Y>>8&255)}function R(q,Y){for(var $=0;$<Y.length;$++)q.writeByte(Y.charCodeAt($))}function G(q){return Math.max(Math.ceil(Math.log2(q)),1)}var z=U},{}],254:[function(t,f,u){u.read=function(o,l,i,h,j){var m,s,c=8*j-h-1,p=(1<<c)-1,g=p>>1,b=-7,y=i?j-1:0,v=i?-1:1,j=o[l+y];for(y+=v,m=j&(1<<-b)-1,j>>=-b,b+=c;0<b;m=256*m+o[l+y],y+=v,b-=8);for(s=m&(1<<-b)-1,m>>=-b,b+=h;0<b;s=256*s+o[l+y],y+=v,b-=8);if(m===0)m=1-g;else{if(m===p)return s?NaN:1/0*(j?-1:1);s+=Math.pow(2,h),m-=g}return(j?-1:1)*s*Math.pow(2,m-h)},u.write=function(o,l,i,h,_,x){var s,c,p=8*x-_-1,g=(1<<p)-1,b=g>>1,y=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=h?0:x-1,j=h?1:-1,x=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(c=isNaN(l)?1:0,s=g):(s=Math.floor(Math.log(l)/Math.LN2),l*(h=Math.pow(2,-s))<1&&(s--,h*=2),2<=(l+=1<=s+b?y/h:y*Math.pow(2,1-b))*h&&(s++,h/=2),g<=s+b?(c=0,s=g):1<=s+b?(c=(l*h-1)*Math.pow(2,_),s+=b):(c=l*Math.pow(2,b-1)*Math.pow(2,_),s=0));8<=_;o[i+v]=255&c,v+=j,c/=256,_-=8);for(s=s<<_|c,p+=_;0<p;o[i+v]=255&s,v+=j,s/=256,p-=8);o[i+v-j]|=128*x}},{}],255:[function(t,f,u){var o;function l(ae,ce){return ae.b===ce.b&&ae.a===ce.a}function i(ae,ce){return ae.b<ce.b||ae.b===ce.b&&ae.a<=ce.a}function h(ae,ce,re){var he=ce.b-ae.b,ke=re.b-ce.b;return 0<he+ke?he<ke?ce.a-ae.a+he/(he+ke)*(ae.a-re.a):ce.a-re.a+ke/(he+ke)*(re.a-ae.a):0}function _(ae,ce,re){var he=ce.b-ae.b,ke=re.b-ce.b;return 0<he+ke?(ce.a-re.a)*he+(ce.a-ae.a)*ke:0}function m(ae,ce){return ae.a<ce.a||ae.a===ce.a&&ae.b<=ce.b}function s(ae,ce,re){var he=ce.a-ae.a,ke=re.a-ce.a;return 0<he+ke?he<ke?ce.b-ae.b+he/(he+ke)*(ae.b-re.b):ce.b-re.b+ke/(he+ke)*(re.b-ae.b):0}function c(ae,ce,re){var he=ce.a-ae.a,ke=re.a-ce.a;return 0<he+ke?(ce.b-re.b)*he+(ce.b-ae.b)*ke:0}function p(ae,ce,re,he){return(ae=ae<0?0:ae)<=(re=re<0?0:re)?re===0?(ce+he)/2:ce+ae/(ae+re)*(he-ce):he+re/(ae+re)*(ce-he)}function g(ae){var ce=x(ae.b);return P(ce,ae.c),P(ce.b,ae.c),O(ce,ae.a),ce}function b(ae,ce){var re=!1,he=!1;ae!==ce&&(ce.a!==ae.a&&(he=!0,D(ce.a,ae.a)),ce.d!==ae.d&&(re=!0,U(ce.d,ae.d)),E(ce,ae),he||(P(ce,ae.a),ae.a.c=ae),re||(O(ce,ae.d),ae.d.a=ae))}function y(ae){var ce=ae.b,re=!1;ae.d!==ae.b.d&&(re=!0,U(ae.d,ae.b.d)),ae.c===ae?D(ae.a,null):(ae.b.d.a=ae.b.e,ae.a.c=ae.c,E(ae,ae.b.e),re||O(ae,ae.d)),ce.c===ce?(D(ce.a,null),U(ce.d,null)):(ae.d.a=ce.b.e,ce.a.c=ce.c,E(ce,ce.b.e)),M(ae)}function v(ae){var ce=x(ae),re=ce.b;return E(ce,ae.e),ce.a=ae.b.a,P(re,ce.a),ce.d=re.d=ae.d,ce=ce.b,E(ae.b,ae.b.b.e),E(ae.b,ce),ae.b.a=ce.a,ce.b.a.c=ce.b,ce.b.d=ae.b.d,ce.f=ae.f,ce.b.f=ae.b.f,ce}function j(ae,ce){var re=!1,he=x(ae),ke=he.b;return ce.d!==ae.d&&(re=!0,U(ce.d,ae.d)),E(he,ae.e),E(ke,ce),he.a=ae.b.a,ke.a=ce.a,he.d=ke.d=ae.d,ae.d.a=ke,re||O(he,ae.d),he}function x(ae){var ce=new _e,re=new _e,he=ae.b.h;return(((re.h=he).b.h=ce).h=ae).b.h=re,ce.b=re,((ce.c=ce).e=re).b=ce,(re.c=re).e=ce}function E(ae,ce){var re=ae.c,he=ce.c;re.b.e=ce,(he.b.e=ae).c=he,ce.c=re}function P(ae,ce){var re=ce.f,he=new Ee(ce,re);for(re.e=he,re=(ce.f=he).c=ae;re.a=he,(re=re.c)!==ae;);}function O(ae,ce){var re=ce.d,he=new ye(ce,re);for(re.b=he,(ce.d=he).a=ae,he.c=ce.c,re=ae;re.d=he,(re=re.e)!==ae;);}function M(ae){var ce=ae.h;ae=ae.b.h,(ce.b.h=ae).b.h=ce}function D(ae,ce){for(var re=ae.c,he=re;he.a=ce,(he=he.c)!==re;);re=ae.f,((he=ae.e).f=re).e=he}function U(ae,ce){for(var re=ae.a,he=re;he.d=ce,(he=he.e)!==re;);re=ae.d,((he=ae.b).d=re).b=he}function I(ae){var ce=0;return Math.abs(ae[1])>Math.abs(ae[0])&&(ce=1),ce=Math.abs(ae[2])>Math.abs(ae[ce])?2:ce}function B(ae,ce){ae.f+=ce.f,ae.b.f+=ce.b.f}function R(ae,ce,re){return ae=ae.a,ce=ce.a,re=re.a,ce.b.a===ae?re.b.a===ae?i(ce.a,re.a)?_(re.b.a,ce.a,re.a)<=0:0<=_(ce.b.a,re.a,ce.a):_(re.b.a,ae,re.a)<=0:re.b.a===ae?0<=_(ce.b.a,ae,ce.a):(ce=h(ce.b.a,ae,ce.a),(ae=h(re.b.a,ae,re.a))<=ce)}function G(ae){ae.a.i=null;var ce=ae.e;ce.a.c=ce.c,ce.c.a=ce.a,ae.e=null}function z(ae,ce){y(ae.a),ae.c=!1,(ae.a=ce).i=ae}function q(ae){for(var ce=ae.a.a;(ae=Le(ae)).a.a===ce;);return ae.c&&(z(ae,ce=j(Ye(ae).a.b,ae.a.e)),ae=Le(ae)),ae}function Y(ae,ce,re){var he=new Me;return he.a=re,he.e=ve(ae.f,ce.e,he),re.i=he}function $(ae,ce){switch(ae.s){case 100130:return(1&ce)!=0;case 100131:return ce!==0;case 100132:return 0<ce;case 100133:return ce<0;case 100134:return 2<=ce||ce<=-2}return!1}function X(ae){var ce=ae.a,re=ce.d;re.c=ae.d,re.a=ce,G(ae)}function ee(ae,ce,re){for(ce=(ae=ce).a;ae!==re;){ae.c=!1;var he=Ye(ae),ke=he.a;if(ke.a!==ce.a){if(!he.c){X(ae);break}z(he,ke=j(ce.c.b,ke.b))}ce.c!==ke&&(b(ke.b.e,ke),b(ce,ke)),X(ae),ce=he.a,ae=he}return ce}function K(ae,ce,re,he,ke,Re){for(var He=!0;Y(ae,ce,re.b),(re=re.c)!==he;);for(ke===null&&(ke=Ye(ce).a.b.c);(re=(he=Ye(ce)).a.b).a===ke.a;)re.c!==ke&&(b(re.b.e,re),b(ke.b.e,re)),he.f=ce.f-re.f,he.d=$(ae,he.f),ce.b=!0,!He&&W(ae,ce)&&(B(re,ke),G(ce),y(ke)),He=!1,ce=he,ke=re;ce.b=!0,Re&&oe(ae,ce)}function ne(ae,ce,re,he,ke){var Re=[ce.g[0],ce.g[1],ce.g[2]];ce.d=null,ce.d=ae.o&&ae.o(Re,re,he,ae.c)||null,ce.d===null&&(ke?ae.n||(ie(ae,100156),ae.n=!0):ce.d=re[0])}function T(ae,ce,re){var he=[null,null,null,null];he[0]=ce.a.d,he[1]=re.a.d,ne(ae,ce.a,he,[.5,.5,0,0],!1),b(ce,re)}function F(ae,ce,re,he,ke){var Re=Math.abs(ce.b-ae.b)+Math.abs(ce.a-ae.a),He=Math.abs(re.b-ae.b)+Math.abs(re.a-ae.a),Qe=ke+1;he[ke]=.5*He/(Re+He),he[Qe]=.5*Re/(Re+He),ae.g[0]+=he[ke]*ce.g[0]+he[Qe]*re.g[0],ae.g[1]+=he[ke]*ce.g[1]+he[Qe]*re.g[1],ae.g[2]+=he[ke]*ce.g[2]+he[Qe]*re.g[2]}function W(ae,ce){var re=Ye(ce),he=ce.a,ke=re.a;if(i(he.a,ke.a)){if(0<_(ke.b.a,he.a,ke.a))return;if(l(he.a,ke.a)){if(he.a!==ke.a){var re=ae.e,Re=he.a.h;if(0<=Re){var He=(re=re.b).d,Qe=re.e,it=re.c,at=it[Re];He[at]=He[re.a],(it[He[at]]=at)<=--re.a&&(at<=1||i(Qe[He[at>>1]],Qe[He[at]])?ut:ct)(re,at),Qe[Re]=null,it[Re]=re.b,re.b=Re}else for(re.c[-(Re+1)]=null;0<re.a&&re.c[re.d[re.a-1]]===null;)--re.a;T(ae,ke.b.e,he)}}else v(ke.b),b(he,ke.b.e),ce.b=re.b=!0}else{if(_(he.b.a,ke.a,he.a)<0)return;Le(ce).b=ce.b=!0,v(he.b),b(ke.b.e,he)}return 1}function J(ae,ce){var re=Ye(ce),he=ce.a,ke=re.a,Re=he.a,He=ke.a,Qe=he.b.a,it=ke.b.a,at=new Ee;if(_(Qe,ae.a,Re),_(it,ae.a,He),!(Re===He||Math.min(Re.a,Qe.a)>Math.max(He.a,it.a))){if(i(Re,He)){if(0<_(it,Re,He))return}else if(_(Qe,He,Re)<0)return;var ft,It,Ot=Qe,bt=Re,At=it,Tt=He;if(i(Ot,bt)||(ft=Ot,Ot=bt,bt=ft),i(At,Tt)||(ft=At,At=Tt,Tt=ft),i(Ot,At)||(ft=Ot,Ot=At,At=ft,ft=bt,bt=Tt,Tt=ft),i(At,bt)?i(bt,Tt)?((ft=h(Ot,At,bt))+(It=h(At,bt,Tt))<0&&(ft=-ft,It=-It),at.b=p(ft,At.b,It,bt.b)):((ft=_(Ot,At,bt))+(It=-_(Ot,Tt,bt))<0&&(ft=-ft,It=-It),at.b=p(ft,At.b,It,Tt.b)):at.b=(At.b+bt.b)/2,m(Ot,bt)||(ft=Ot,Ot=bt,bt=ft),m(At,Tt)||(ft=At,At=Tt,Tt=ft),m(Ot,At)||(ft=Ot,Ot=At,At=ft,ft=bt,bt=Tt,Tt=ft),m(At,bt)?m(bt,Tt)?((ft=s(Ot,At,bt))+(It=s(At,bt,Tt))<0&&(ft=-ft,It=-It),at.a=p(ft,At.a,It,bt.a)):((ft=c(Ot,At,bt))+(It=-c(Ot,Tt,bt))<0&&(ft=-ft,It=-It),at.a=p(ft,At.a,It,Tt.a)):at.a=(At.a+bt.a)/2,i(at,ae.a)&&(at.b=ae.a.b,at.a=ae.a.a),Ot=i(Re,He)?Re:He,i(Ot,at)&&(at.b=Ot.b,at.a=Ot.a),l(at,Re)||l(at,He))return W(ae,ce),0;if(!l(Qe,ae.a)&&0<=_(Qe,ae.a,at)||!l(it,ae.a)&&_(it,ae.a,at)<=0){if(it===ae.a)v(he.b),b(ke.b,he),he=Ye(ce=q(ce)).a,ee(ae,Ye(ce),re),K(ae,ce,he.b.e,he,he,!0);else{if(Qe!==ae.a)return 0<=_(Qe,ae.a,at)&&(Le(ce).b=ce.b=!0,v(he.b),he.a.b=ae.a.b,he.a.a=ae.a.a),void(_(it,ae.a,at)<=0&&(ce.b=re.b=!0,v(ke.b),ke.a.b=ae.a.b,ke.a.a=ae.a.a));for(v(ke.b),b(he.e,ke.b.e),He=(Re=re=ce).a.b.a;(Re=Le(Re)).a.b.a===He;);Re=Ye(ce=Re).a.b.c,re.a=ke.b.e,K(ae,ce,(ke=ee(ae,re,null)).c,he.b.c,Re,!0)}return 1}v(he.b),v(ke.b),b(ke.b.e,he),he.a.b=at.b,he.a.a=at.a,he.a.h=Oe(ae.e,he.a),he=he.a,ke=[0,0,0,0],at=[Re.d,Qe.d,He.d,it.d],he.g[0]=he.g[1]=he.g[2]=0,F(he,Re,Qe,ke,0),F(he,He,it,ke,2),ne(ae,he,at,ke,!0),Le(ce).b=ce.b=re.b=!0}}function oe(ae,ce){for(var re=Ye(ce);;){for(;re.b;)re=Ye(ce=re);if(!ce.b&&((ce=Le(re=ce))===null||!ce.b))break;ce.b=!1;var he=ce.a,ke=re.a;if(Re=he.b.a!==ke.b.a)e:{var Re,He=Ye(Re=ce),Qe=Re.a,it=He.a,at=void 0;if(i(Qe.b.a,it.b.a)){if(_(Qe.b.a,it.b.a,Qe.a)<0){Re=!1;break e}Le(Re).b=Re.b=!0,at=v(Qe),b(it.b,at),at.d.c=Re.d}else{if(0<_(it.b.a,Qe.b.a,it.a)){Re=!1;break e}Re.b=He.b=!0,at=v(it),b(Qe.e,it.b),at.b.d.c=Re.d}Re=!0}if(Re&&(re.c?(G(re),y(ke),ke=(re=Ye(ce)).a):ce.c&&(G(ce),y(he),he=(ce=Le(re)).a)),he.a!==ke.a){if(he.b.a===ke.b.a||ce.c||re.c||he.b.a!==ae.a&&ke.b.a!==ae.a)W(ae,ce);else if(J(ae,ce))break}he.a===ke.a&&he.b.a===ke.b.a&&(B(ke,he),G(ce),y(he),ce=Le(re))}}function se(ae,ce){var re=new Me,he=g(ae.b);he.a.b=4e150,he.a.a=ce,he.b.a.b=-4e150,he.b.a.a=ce,ae.a=he.b.a,re.a=he,re.f=0,re.d=!1,re.c=!1,re.h=!0,re.b=!1,he=ve(he=ae.f,he.a,re),re.e=he}function fe(ae){this.a=new de,this.b=ae,this.c=R}function ve(ae,ce,re){for(;(ce=ce.c).b!==null&&!ae.c(ae.b,ce.b,re););return ae=new de(re,ce.a,ce),ce.a.c=ae,ce.a=ae}function de(ae,ce,re){this.b=ae||null,this.a=ce||this,this.c=re||this}function be(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function pe(ae,ce){if(ae.d!==ce)for(;ae.d!==ce;)if(ae.d<ce)switch(ae.d){case 0:ie(ae,100151),ae.u(null);break;case 1:ie(ae,100152),ae.t()}else switch(ae.d){case 2:ie(ae,100154),ae.v();break;case 1:ie(ae,100153),ae.w()}}function ie(ae,ce){ae.p&&ae.p(ce,ae.c)}function ye(ae,ce){this.b=ae||this,this.d=ce||this,this.a=null,this.c=!1}function _e(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Te(){this.c=new Ee,this.a=new ye,this.b=new _e,this.d=new _e,this.b.b=this.d,this.d.b=this.b}function Ee(ae,ce){this.e=ae||this,this.f=ce||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function Se(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Ne}function Oe(ae,ce){var re,he,ke;return ae.e?(2*(he=++(re=ae.b).a)>re.f&&(re.f*=2,re.c=yt(re.c,re.f+1)),re.b===0?ke=he:(ke=re.b,re.b=re.c[re.b]),re.e[ke]=ce,re.c[ke]=he,re.d[he]=ke,re.h&&ct(re,he),ke):(re=ae.a++,ae.c[re]=ce,-(re+1))}function Xe(ae){if(ae.a===0)return rt(ae.b);var ce=ae.c[ae.d[ae.a-1]];if(ae.b.a!==0&&i(lt(ae.b),ce))return rt(ae.b);for(;--ae.a,0<ae.a&&ae.c[ae.d[ae.a-1]]===null;);return ce}function Ne(){this.d=yt([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function yt(ae,ce){for(var re=Array(ce),he=0;he<ae.length;he++)re[he]=ae[he];for(;he<ce;he++)re[he]=0;return re}function lt(ae){return ae.e[ae.d[1]]}function rt(ae){var ce=ae.d,re=ae.e,he=ae.c,ke=ce[1],Re=re[ke];return 0<ae.a&&(ce[1]=ce[ae.a],he[ce[1]]=1,re[ke]=null,he[ke]=ae.b,ae.b=ke,0<--ae.a&&ut(ae,1)),Re}function ut(ae,ce){for(var re=ae.d,he=ae.e,ke=ae.c,Re=ce,He=re[Re];;){var Qe=Re<<1,it=(Qe<ae.a&&i(he[re[Qe+1]],he[re[Qe]])&&(Qe+=1),re[Qe]);if(Qe>ae.a||i(he[He],he[it])){ke[re[Re]=He]=Re;break}ke[re[Re]=it]=Re,Re=Qe}}function ct(ae,ce){for(var re=ae.d,he=ae.e,ke=ae.c,Re=ce,He=re[Re];;){var Qe=Re>>1,it=re[Qe];if(Qe==0||i(he[it],he[He])){ke[re[Re]=He]=Re;break}ke[re[Re]=it]=Re,Re=Qe}}function Me(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Ye(ae){return ae.e.c.b}function Le(ae){return ae.e.a.b}(o=be.prototype).x=function(){pe(this,0)},o.B=function(ae,ce){switch(ae){case 100142:return;case 100140:switch(ce){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=ce)}break;case 100141:return void(this.m=!!ce);default:return void ie(this,100900)}ie(this,100901)},o.y=function(ae){switch(ae){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:ie(this,100900)}return!1},o.A=function(ae,ce,re){this.j[0]=ae,this.j[1]=ce,this.j[2]=re},o.z=function(ae,ce){var re=ce||null;switch(ae){case 100100:case 100106:this.h=re;break;case 100104:case 100110:this.l=re;break;case 100101:case 100107:this.k=re;break;case 100102:case 100108:this.i=re;break;case 100103:case 100109:this.p=re;break;case 100105:case 100111:this.o=re;break;case 100112:this.r=re;break;default:ie(this,100900)}},o.C=function(ae,ce){var re=!1,he=[0,0,0];pe(this,2);for(var ke=0;ke<3;++ke){var Re=ae[ke];Re<-1e150&&(Re=-1e150,re=!0),1e150<Re&&(Re=1e150,re=!0),he[ke]=Re}re&&ie(this,100155),(re=this.q)===null?b(re=g(this.b),re.b):(v(re),re=re.e),re.a.d=ce,re.a.g[0]=he[0],re.a.g[1]=he[1],re.a.g[2]=he[2],re.f=1,re.b.f=-1,this.q=re},o.u=function(ae){pe(this,0),this.d=1,this.b=new Te,this.c=ae},o.t=function(){pe(this,1),this.d=2,this.q=null},o.v=function(){pe(this,2),this.d=1},o.w=function(){pe(this,1),this.d=0;var ae,ce,re=this.j[0],he=this.j[1],ke=this.j[2],Re=!1,He=[re,he,ke];if(re===0&&he===0&&ke===0){for(var he=[-2e150,-2e150,-2e150],Qe=[2e150,2e150,2e150],ke=[],it=[],re=(Re=this.b.c).e;re!==Re;re=re.e)for(var at=0;at<3;++at){var ft=re.g[at];ft<Qe[at]&&(Qe[at]=ft,it[at]=re),ft>he[at]&&(he[at]=ft,ke[at]=re)}if(he[1]-Qe[1]>he[re=0]-Qe[0]&&(re=1),Qe[re=he[2]-Qe[2]>he[re]-Qe[re]?2:re]>=he[re])He[0]=0,He[1]=0,He[2]=1;else{for(Qe=it[re],ke=ke[re],it=[he=0,0,0],Qe=[Qe.g[0]-ke.g[0],Qe.g[1]-ke.g[1],Qe.g[2]-ke.g[2]],at=[0,0,0],re=Re.e;re!==Re;re=re.e)at[0]=re.g[0]-ke.g[0],at[1]=re.g[1]-ke.g[1],at[2]=re.g[2]-ke.g[2],it[0]=Qe[1]*at[2]-Qe[2]*at[1],it[1]=Qe[2]*at[0]-Qe[0]*at[2],it[2]=Qe[0]*at[1]-Qe[1]*at[0],he<(ft=it[0]*it[0]+it[1]*it[1]+it[2]*it[2])&&(he=ft,He[0]=it[0],He[1]=it[1],He[2]=it[2]);he<=0&&(He[0]=He[1]=He[2]=0,He[I(Qe)]=1)}Re=!0}for(it=I(He),re=this.b.c,he=(it+1)%3,ke=(it+2)%3,it=0<He[it]?1:-1,He=re.e;He!==re;He=He.e)He.b=He.g[he],He.a=it*He.g[ke];if(Re){for(He=0,re=(Re=this.b.a).b;re!==Re;re=re.b)if(!((he=re.a).f<=0))for(;He+=(he.a.b-he.b.a.b)*(he.a.a+he.b.a.a),(he=he.e)!==re.a;);if(He<0)for(Re=(He=this.b.c).e;Re!==He;Re=Re.e)Re.a=-Re.a}for(this.n=!1,He=this.b.b,re=He.h;re!==He;re=Re)Re=re.h,he=re.e,l(re.a,re.b.a)&&re.e.e!==re&&(T(this,he,re),y(re),he=(re=he).e),he.e===re&&(he!==re&&(he!==Re&&he!==Re.b||(Re=Re.h),y(he)),re!==Re&&re!==Re.b||(Re=Re.h),y(re));for(this.e=He=new Se,Re=this.b.c,re=Re.e;re!==Re;re=re.e)re.h=Oe(He,re);var It=He;It.d=[];for(var Ot=0;Ot<It.a;Ot++)It.d[Ot]=Ot;It.d.sort((function(Tt){return function(or,Ar){return i(Tt[or],Tt[Ar])?1:-1}})(It.c)),It.e=!0;for(var bt=It.b,At=bt.a;1<=At;--At)ut(bt,At);for(bt.h=!0,this.f=new fe(this),se(this,-4e150),se(this,4e150);(He=Xe(this.e))!==null;){for(;;){e:if((re=this.e).a===0)Re=lt(re.b);else if(Re=re.c[re.d[re.a-1]],re.b.a!==0&&i(re=lt(re.b),Re)){Re=re;break e}if(Re===null||!l(Re,He))break;Re=Xe(this.e),T(this,He.c,Re.c)}(function Tt(or,Ar){for(var _r,qt=(or.a=Ar).c;qt.i===null;)if((qt=qt.c)===Ar.c){var qt=or,sr=Ar;(Yt=new Me).a=sr.c.b;for(var kr=(Vt=qt.f).a;(kr=kr.a).b!==null&&!Vt.c(Vt.b,Yt,kr.b););var Vt,Fr,yr=Ye(Vt=kr.b),Yt=Vt.a,kr=yr.a;return void(_(Yt.b.a,sr,Yt.a)===0?l((Yt=Vt.a).a,sr)||l(Yt.b.a,sr)||(v(Yt.b),Vt.c&&(y(Yt.c),Vt.c=!1),b(sr.c,Yt),Tt(qt,sr)):(Fr=i(kr.b.a,Yt.b.a)?Vt:yr,yr=void 0,Vt.d||Fr.c?(yr=Fr===Vt?j(sr.c.b,Yt.e):j(kr.b.c.b,sr.c).b,Fr.c?z(Fr,yr):((Vt=Y(Yt=qt,Vt,yr)).f=Le(Vt).f+Vt.a.f,Vt.d=$(Yt,Vt.f)),Tt(qt,sr)):K(qt,Vt,sr.c,sr.c,null,!0)))}Vt=(Yt=Ye(qt=q(qt.i))).a,(Yt=ee(or,Yt,null)).c===Vt?(Yt=(Vt=Yt).c,kr=Ye(qt),yr=qt.a,Fr=kr.a,_r=!1,yr.b.a!==Fr.b.a&&J(or,qt),l(yr.a,or.a)&&(b(Yt.b.e,yr),Yt=Ye(qt=q(qt)).a,ee(or,Ye(qt),kr),_r=!0),l(Fr.a,or.a)&&(b(Vt,Fr.b.e),Vt=ee(or,kr,null),_r=!0),_r?K(or,qt,Vt.c,Yt,Yt,!0):(sr=i(Fr.a,yr.a)?Fr.b.e:yr,K(or,qt,sr=j(Vt.c.b,sr),sr.c,sr.c,!1),sr.b.i.c=!0,oe(or,qt))):K(or,qt,Yt.c,Vt,Vt,!0)})(this,He)}for(this.a=this.f.a.a.b.a.a,He=0;(Re=this.f.a.a.b)!==null;)Re.h||++He,G(Re);for(this.f=null,(He=this.e).b=null,He.d=null,this.e=He.c=null,He=this.b,re=He.a.b;re!==He.a;re=Re)Re=re.b,(re=re.a).e.e===re&&(B(re.c,re),y(re));if(!this.n){if(He=this.b,this.m)for(re=He.b.h;re!==He.b;re=Re)Re=re.h,re.b.d.c!==re.d.c?re.f=re.d.c?1:-1:y(re);else for(re=He.a.b;re!==He.a;re=Re)if(Re=re.b,re.c){for(re=re.a;i(re.b.a,re.a);re=re.c.b);for(;i(re.a,re.b.a);re=re.e);for(he=re.c.b,ke=void 0;re.e!==he;)if(i(re.b.a,he.a)){for(;he.e!==re&&(i((ce=he.e).b.a,ce.a)||_(he.a,he.b.a,he.e.b.a)<=0);)he=(ke=j(he.e,he)).b;he=he.c.b}else{for(;he.e!==re&&(i((ae=re.c.b).a,ae.b.a)||0<=_(re.b.a,re.a,re.c.b.a));)re=(ke=j(re,re.c.b)).b;re=re.e}for(;he.e.e!==re;)ke=j(he.e,he),he=ke.b}if(this.h||this.i||this.k||this.l)if(this.m){for(Re=(He=this.b).a.b;Re!==He.a;Re=Re.b)if(Re.c){for(this.h&&this.h(2,this.c),re=Re.a;this.k&&this.k(re.a.d,this.c),(re=re.e)!==Re.a;);this.i&&this.i(this.c)}}else{for(He=this.b,Re=!!this.l,re=!1,he=-1,ke=He.a.d;ke!==He.a;ke=ke.d)if(ke.c)for(re||(this.h&&this.h(4,this.c),re=!0),it=ke.a;Re&&(Qe=it.b.d.c?0:1,he!==Qe&&(he=Qe,this.l&&this.l(!!he,this.c))),this.k&&this.k(it.a.d,this.c),(it=it.e)!==ke.a;);re&&this.i&&this.i(this.c)}if(this.r){for(He=this.b,re=He.a.b;re!==He.a;re=Re)if(Re=re.b,!re.c){for(ke=(he=re.a).e,it=void 0;ke=(it=ke).e,(it.d=null)===it.b.d&&(it.c===it?D(it.a,null):(it.a.c=it.c,E(it,it.b.e)),(Qe=it.b).c===Qe?D(Qe.a,null):(Qe.a.c=Qe.c,E(Qe,Qe.b.e)),M(it)),it!==he;);he=re.d,((re=re.b).d=he).b=re}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:be,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},be.prototype.gluDeleteTess=be.prototype.x,be.prototype.gluTessProperty=be.prototype.B,be.prototype.gluGetTessProperty=be.prototype.y,be.prototype.gluTessNormal=be.prototype.A,be.prototype.gluTessCallback=be.prototype.z,be.prototype.gluTessVertex=be.prototype.C,be.prototype.gluTessBeginPolygon=be.prototype.u,be.prototype.gluTessBeginContour=be.prototype.t,be.prototype.gluTessEndContour=be.prototype.v,be.prototype.gluTessEndPolygon=be.prototype.w,f!==void 0&&(f.exports=this.libtess)},{}],256:[function(t,f,u){function o(i,h,_,m){var s=0,c=(m=m===void 0?{}:m).loop===void 0?null:m.loop,p=m.palette===void 0?null:m.palette;if(h<=0||_<=0||65535<h||65535<_)throw new Error("Width/Height invalid.");function g(O){if(O=O.length,O<2||256<O||O&O-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return O}i[s++]=71,i[s++]=73,i[s++]=70,i[s++]=56,i[s++]=57,i[s++]=97;var b=0,y=0;if(p!==null){for(var v=g(p);v>>=1;)++b;if(v=1<<b,--b,m.background!==void 0){if(v<=(y=m.background))throw new Error("Background index out of range.");if(y===0)throw new Error("Background index explicitly passed as 0.")}}if(i[s++]=255&h,i[s++]=h>>8&255,i[s++]=255&_,i[s++]=_>>8&255,i[s++]=(p!==null?128:0)|b,i[s++]=y,i[s++]=0,p!==null)for(var j=0,x=p.length;j<x;++j){var E=p[j];i[s++]=E>>16&255,i[s++]=E>>8&255,i[s++]=255&E}if(c!==null){if(c<0||65535<c)throw new Error("Loop count invalid.");i[s++]=33,i[s++]=255,i[s++]=11,i[s++]=78,i[s++]=69,i[s++]=84,i[s++]=83,i[s++]=67,i[s++]=65,i[s++]=80,i[s++]=69,i[s++]=50,i[s++]=46,i[s++]=48,i[s++]=3,i[s++]=1,i[s++]=255&c,i[s++]=c>>8&255,i[s++]=0}var P=!1;this.addFrame=function(O,M,D,U,I,B){if(P===!0&&(--s,P=!1),B=B===void 0?{}:B,O<0||M<0||65535<O||65535<M)throw new Error("x/y invalid.");if(D<=0||U<=0||65535<D||65535<U)throw new Error("Width/Height invalid.");if(I.length<D*U)throw new Error("Not enough pixels for the frame size.");var R=!0,G=B.palette;if(G==null&&(R=!1,G=p),G==null)throw new Error("Must supply either a local or global palette.");for(var q=g(G),z=0;q>>=1;)++z;var q=1<<z,Y=B.delay===void 0?0:B.delay,$=B.disposal===void 0?0:B.disposal;if($<0||3<$)throw new Error("Disposal out of range.");var X=!1,ee=0;if(B.transparent!==void 0&&B.transparent!==null&&(X=!0,(ee=B.transparent)<0||q<=ee))throw new Error("Transparent color index.");if($===0&&!X&&Y===0||(i[s++]=33,i[s++]=249,i[s++]=4,i[s++]=$<<2|(X===!0?1:0),i[s++]=255&Y,i[s++]=Y>>8&255,i[s++]=ee,i[s++]=0),i[s++]=44,i[s++]=255&O,i[s++]=O>>8&255,i[s++]=255&M,i[s++]=M>>8&255,i[s++]=255&D,i[s++]=D>>8&255,i[s++]=255&U,i[s++]=U>>8&255,i[s++]=R===!0?128|z-1:0,R===!0)for(var K=0,ne=G.length;K<ne;++K){var T=G[K];i[s++]=T>>16&255,i[s++]=T>>8&255,i[s++]=255&T}return s=(function(F,W,J,oe){F[W++]=J;var se=W++,fe=1<<J,ve=fe-1,de=1+fe,be=1+de,pe=J+1,ie=0,ye=0;function _e(rt){for(;rt<=ie;)F[W++]=255&ye,ye>>=8,ie-=8,W===se+256&&(F[se]=255,se=W++)}function Te(rt){ye|=rt<<ie,ie+=pe,_e(8)}var Ee=oe[0]&ve,Se={};Te(fe);for(var Oe=1,Xe=oe.length;Oe<Xe;++Oe){var Ne=oe[Oe]&ve,yt=Ee<<8|Ne,lt=Se[yt];if(lt===void 0){for(ye|=Ee<<ie,ie+=pe;8<=ie;)F[W++]=255&ye,ye>>=8,ie-=8,W===se+256&&(F[se]=255,se=W++);be===4096?(Te(fe),be=1+de,pe=J+1,Se={}):(1<<pe<=be&&++pe,Se[yt]=be++),Ee=Ne}else Ee=lt}return Te(Ee),Te(de),_e(1),se+1===W?F[se]=0:(F[se]=W-se-1,F[W++]=0),W})(i,s,z<2?2:z,I)},this.end=function(){return P===!1&&(i[s++]=59,P=!0),s},this.getOutputBuffer=function(){return i},this.setOutputBuffer=function(O){i=O},this.getOutputBufferPosition=function(){return s},this.setOutputBufferPosition=function(O){s=O}}function l(i,h,_,m){for(var s=i[h++],c=1<<s,p=1+c,g=1+p,b=s+1,y=(1<<b)-1,v=0,j=0,x=0,E=i[h++],P=new Int32Array(4096),O=null;;){for(;v<16&&E!==0;)j|=i[h++]<<v,v+=8,E===1?E=i[h++]:--E;if(v<b)break;var M=j&y;if(j>>=b,v-=b,M==c)g=1+p,y=(1<<(b=s+1))-1,O=null;else{if(M==p)break;for(var D=M<g?M:O,U=0,I=D;c<I;)I=P[I]>>8,++U;var B=I;if(m<x+U+(D!==M?1:0))return void console.log("Warning, gif stream longer than expected.");_[x++]=B;var R=x+=U;for(D!==M&&(_[x++]=B),I=D;U--;)I=P[I],_[--R]=255&I,I>>=8;O!==null&&g<4096&&(P[g++]=O<<8|B,y+1<=g&&b<12&&(++b,y=y<<1|1)),O=M}}x!==m&&console.log("Warning, gif stream shorter than expected.")}try{u.GifWriter=o,u.GifReader=function(i){var h=0;if(i[h++]!==71||i[h++]!==73||i[h++]!==70||i[h++]!==56||(i[h++]+1&253)!=56||i[h++]!==97)throw new Error("Invalid GIF 87a/89a header.");var _=i[h++]|i[h++]<<8,m=i[h++]|i[h++]<<8,s=i[h++],c=1<<1+(7&s),p=(i[h++],i[h++],null),g=null,b=(s>>7&&(p=h,h+=3*(g=c)),!0),y=[],v=0,j=null,x=0,E=null;for(this.width=_,this.height=m;b&&h<i.length;)switch(i[h++]){case 33:switch(i[h++]){case 255:if(i[h]!==11||i[h+1]==78&&i[h+2]==69&&i[h+3]==84&&i[h+4]==83&&i[h+5]==67&&i[h+6]==65&&i[h+7]==80&&i[h+8]==69&&i[h+9]==50&&i[h+10]==46&&i[h+11]==48&&i[h+12]==3&&i[h+13]==1&&i[h+16]==0)h+=14,E=i[h++]|i[h++]<<8,h++;else for(h+=12;;){if(!(0<=(O=i[h++])))throw Error("Invalid block size");if(O===0)break;h+=O}break;case 249:if(i[h++]!==4||i[h+4]!==0)throw new Error("Invalid graphics extension block.");var P=i[h++],v=i[h++]|i[h++]<<8,j=i[h++];(1&P)==0&&(j=null),x=P>>2&7,h++;break;case 254:for(;;){if(!(0<=(O=i[h++])))throw Error("Invalid block size");if(O===0)break;h+=O}break;default:throw new Error("Unknown graphic control label: 0x"+i[h-1].toString(16))}break;case 44:var O,M=i[h++]|i[h++]<<8,D=i[h++]|i[h++]<<8,U=i[h++]|i[h++]<<8,I=i[h++]|i[h++]<<8,Y=i[h++],B=Y>>6&1,R=1<<1+(7&Y),G=p,z=g,q=!1,Y=(Y>>7&&(q=!0,G=h,h+=3*(z=R)),h);for(h++;;){if(!(0<=(O=i[h++])))throw Error("Invalid block size");if(O===0)break;h+=O}y.push({x:M,y:D,width:U,height:I,has_local_palette:q,palette_offset:G,palette_size:z,data_offset:Y,data_length:h-Y,transparent_index:j,interlaced:!!B,delay:v,disposal:x});break;case 59:b=!1;break;default:throw new Error("Unknown gif block: 0x"+i[h-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return E},this.frameInfo=function($){if($<0||$>=y.length)throw new Error("Frame index out of range.");return y[$]},this.decodeAndBlitFrameBGRA=function($,X){for(var $=this.frameInfo($),ee=$.width*$.height,K=new Uint8Array(ee),ne=(l(i,$.data_offset,K,ee),$.palette_offset),T=$.transparent_index,F=(T===null&&(T=256),$.width),W=_-F,J=F,oe=4*($.y*_+$.x),se=4*(($.y+$.height)*_+$.x),fe=oe,ve=4*W,de=($.interlaced===!0&&(ve+=4*_*7),8),be=0,pe=K.length;be<pe;++be){var ie,ye,_e=K[be];J===0&&(J=F,se<=(fe+=ve)&&(ve=4*W+4*_*(de-1),fe=oe+(F+W)*(de<<1),de>>=1)),_e===T?fe+=4:(ie=i[ne+3*_e],ye=i[ne+3*_e+1],_e=i[ne+3*_e+2],X[fe++]=_e,X[fe++]=ye,X[fe++]=ie,X[fe++]=255),--J}},this.decodeAndBlitFrameRGBA=function($,X){for(var $=this.frameInfo($),ee=$.width*$.height,K=new Uint8Array(ee),ne=(l(i,$.data_offset,K,ee),$.palette_offset),T=$.transparent_index,F=(T===null&&(T=256),$.width),W=_-F,J=F,oe=4*($.y*_+$.x),se=4*(($.y+$.height)*_+$.x),fe=oe,ve=4*W,de=($.interlaced===!0&&(ve+=4*_*7),8),be=0,pe=K.length;be<pe;++be){var ie,ye,_e=K[be];J===0&&(J=F,se<=(fe+=ve)&&(ve=4*W+4*_*(de-1),fe=oe+(F+W)*(de<<1),de>>=1)),_e===T?fe+=4:(ie=i[ne+3*_e],ye=i[ne+3*_e+1],_e=i[ne+3*_e+2],X[fe++]=ie,X[fe++]=ye,X[fe++]=_e,X[fe++]=255),--J}}}}catch{}},{}],257:[function(t,f,u){(function(o){var l,i;l=this,i=function(h){function _(V){if(this==null)throw TypeError();var C,A=String(this),N=A.length,V=V?Number(V):0;if(!((V=V!=V?0:V)<0||N<=V))return 55296<=(C=A.charCodeAt(V))&&C<=56319&&V+1<N&&56320<=(N=A.charCodeAt(V+1))&&N<=57343?1024*(C-55296)+N-56320+65536:C}String.prototype.codePointAt||((m=(function(){try{var S={},C=Object.defineProperty,A=C(S,S,S)&&C}catch{}return A})())?m(String.prototype,"codePointAt",{value:_,configurable:!0,writable:!0}):String.prototype.codePointAt=_);var m,s=0,c=-3;function p(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function g(S,C){this.source=S,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=C,this.destLen=0,this.ltree=new p,this.dtree=new p}var b=new p,y=new p,v=new Uint8Array(30),j=new Uint16Array(30),x=new Uint8Array(30),E=new Uint16Array(30),P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),O=new p,M=new Uint8Array(320);function D(S,C,A,N){for(var V,Q=0;Q<A;++Q)S[Q]=0;for(Q=0;Q<30-A;++Q)S[Q+A]=Q/A|0;for(V=N,Q=0;Q<30;++Q)C[Q]=V,V+=1<<S[Q]}var U=new Uint16Array(16);function I(S,C,A,N){for(var V,Q=0;Q<16;++Q)S.table[Q]=0;for(Q=0;Q<N;++Q)S.table[C[A+Q]]++;for(Q=V=S.table[0]=0;Q<16;++Q)U[Q]=V,V+=S.table[Q];for(Q=0;Q<N;++Q)C[A+Q]&&(S.trans[U[C[A+Q]]++]=Q)}function B(S,C,A){if(!C)return A;for(;S.bitcount<24;)S.tag|=S.source[S.sourceIndex++]<<S.bitcount,S.bitcount+=8;var N=S.tag&65535>>>16-C;return S.tag>>>=C,S.bitcount-=C,N+A}function R(S,C){for(;S.bitcount<24;)S.tag|=S.source[S.sourceIndex++]<<S.bitcount,S.bitcount+=8;for(var A=0,N=0,V=0,Q=S.tag;N=2*N+(1&Q),Q>>>=1,A+=C.table[++V],0<=(N-=C.table[V]););return S.tag=Q,S.bitcount-=V,C.trans[A+N]}function G(S,C,A){for(;;){var N=R(S,C);if(N===256)return s;if(N<256)S.dest[S.destLen++]=N;else for(var V,Q=B(S,v[N-=257],j[N]),N=R(S,A),te=V=S.destLen-B(S,x[N],E[N]);te<V+Q;++te)S.dest[S.destLen++]=S.dest[te]}}for(var z=b,q=y,Y=0;Y<7;++Y)z.table[Y]=0;for(z.table[7]=24,z.table[8]=152,z.table[9]=112,Y=0;Y<24;++Y)z.trans[Y]=256+Y;for(Y=0;Y<144;++Y)z.trans[24+Y]=Y;for(Y=0;Y<8;++Y)z.trans[168+Y]=280+Y;for(Y=0;Y<112;++Y)z.trans[176+Y]=144+Y;for(Y=0;Y<5;++Y)q.table[Y]=0;for(q.table[5]=32,Y=0;Y<32;++Y)q.trans[Y]=Y;D(v,j,4,3),D(x,E,2,1),v[28]=0,j[28]=258;var $=function(S,C){var A,N,V,Q=new g(S,C);do{switch(V=void 0,(N=Q).bitcount--||(N.tag=N.source[N.sourceIndex++],N.bitcount=7),V=1&N.tag,N.tag>>>=1,N=V,B(Q,2,0)){case 0:A=(function(Be){for(var St,Nt;8<Be.bitcount;)Be.sourceIndex--,Be.bitcount-=8;if((St=256*Be.source[Be.sourceIndex+1]+Be.source[Be.sourceIndex])!==(65535&~(256*Be.source[Be.sourceIndex+3]+Be.source[Be.sourceIndex+2])))return c;for(Be.sourceIndex+=4,Nt=St;Nt;--Nt)Be.dest[Be.destLen++]=Be.source[Be.sourceIndex++];return Be.bitcount=0,s})(Q);break;case 1:A=G(Q,b,y);break;case 2:$e=Ge=Ke=Fe=te=we=Ie=Ue=Ce=ge=me=le=void 0;for(var te,le=Q,me=Q.ltree,ge=Q.dtree,Ce=B(le,5,257),Ue=B(le,5,1),Ie=B(le,4,4),we=0;we<19;++we)M[we]=0;for(we=0;we<Ie;++we){var Ke=B(le,3,0);M[P[we]]=Ke}for(I(O,M,0,19),te=0;te<Ce+Ue;){var Ge=R(le,O);switch(Ge){case 16:for(var $e=M[te-1],Fe=B(le,2,3);Fe;--Fe)M[te++]=$e;break;case 17:for(Fe=B(le,3,3);Fe;--Fe)M[te++]=0;break;case 18:for(Fe=B(le,7,11);Fe;--Fe)M[te++]=0;break;default:M[te++]=Ge}}I(me,M,0,Ce),I(ge,M,Ce,Ue),A=G(Q,Q.ltree,Q.dtree);break;default:A=c}if(A!==s)throw new Error("Data error")}while(!N);return Q.destLen<Q.dest.length?typeof Q.dest.slice=="function"?Q.dest.slice(0,Q.destLen):Q.dest.subarray(0,Q.destLen):Q.dest};function X(S,C,A,N,V){return Math.pow(1-V,3)*S+3*Math.pow(1-V,2)*V*C+3*(1-V)*Math.pow(V,2)*A+Math.pow(V,3)*N}function ee(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function K(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function ne(S){throw new Error(S)}function T(S,C){S||ne(C)}ee.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},ee.prototype.addPoint=function(S,C){typeof S=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=S,this.x2=S),S<this.x1&&(this.x1=S),S>this.x2&&(this.x2=S)),typeof C=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=C,this.y2=C),C<this.y1&&(this.y1=C),C>this.y2&&(this.y2=C))},ee.prototype.addX=function(S){this.addPoint(S,null)},ee.prototype.addY=function(S){this.addPoint(null,S)},ee.prototype.addBezier=function(S,C,A,N,V,Q,te,le){var me=[S,C],ge=[A,N],Ce=[V,Q],Ue=[te,le];this.addPoint(S,C),this.addPoint(te,le);for(var Ie=0;Ie<=1;Ie++){var we,Ke=6*me[Ie]-12*ge[Ie]+6*Ce[Ie],Ge=-3*me[Ie]+9*ge[Ie]-9*Ce[Ie]+3*Ue[Ie],$e=3*ge[Ie]-3*me[Ie];Ge==0?Ke==0||0<(we=-$e/Ke)&&we<1&&(Ie===0&&this.addX(X(me[Ie],ge[Ie],Ce[Ie],Ue[Ie],we)),Ie===1&&this.addY(X(me[Ie],ge[Ie],Ce[Ie],Ue[Ie],we))):(we=Math.pow(Ke,2)-4*$e*Ge)<0||(0<($e=(-Ke+Math.sqrt(we))/(2*Ge))&&$e<1&&(Ie===0&&this.addX(X(me[Ie],ge[Ie],Ce[Ie],Ue[Ie],$e)),Ie===1&&this.addY(X(me[Ie],ge[Ie],Ce[Ie],Ue[Ie],$e))),0<($e=(-Ke-Math.sqrt(we))/(2*Ge))&&$e<1&&(Ie===0&&this.addX(X(me[Ie],ge[Ie],Ce[Ie],Ue[Ie],$e)),Ie===1&&this.addY(X(me[Ie],ge[Ie],Ce[Ie],Ue[Ie],$e))))}},ee.prototype.addQuad=function(S,C,A,N,V,Q){A=S+2/3*(A-S),N=C+2/3*(N-C),this.addBezier(S,C,A,N,A+1/3*(V-S),N+1/3*(Q-C),V,Q)},K.prototype.moveTo=function(S,C){this.commands.push({type:"M",x:S,y:C})},K.prototype.lineTo=function(S,C){this.commands.push({type:"L",x:S,y:C})},K.prototype.curveTo=K.prototype.bezierCurveTo=function(S,C,A,N,V,Q){this.commands.push({type:"C",x1:S,y1:C,x2:A,y2:N,x:V,y:Q})},K.prototype.quadTo=K.prototype.quadraticCurveTo=function(S,C,A,N){this.commands.push({type:"Q",x1:S,y1:C,x:A,y:N})},K.prototype.close=K.prototype.closePath=function(){this.commands.push({type:"Z"})},K.prototype.extend=function(S){var C;if(S.commands)S=S.commands;else if(S instanceof ee)return C=S,this.moveTo(C.x1,C.y1),this.lineTo(C.x2,C.y1),this.lineTo(C.x2,C.y2),this.lineTo(C.x1,C.y2),void this.close();Array.prototype.push.apply(this.commands,S)},K.prototype.getBoundingBox=function(){for(var S=new ee,C=0,A=0,N=0,V=0,Q=0;Q<this.commands.length;Q++){var te=this.commands[Q];switch(te.type){case"M":S.addPoint(te.x,te.y),C=N=te.x,A=V=te.y;break;case"L":S.addPoint(te.x,te.y),N=te.x,V=te.y;break;case"Q":S.addQuad(N,V,te.x1,te.y1,te.x,te.y),N=te.x,V=te.y;break;case"C":S.addBezier(N,V,te.x1,te.y1,te.x2,te.y2,te.x,te.y),N=te.x,V=te.y;break;case"Z":N=C,V=A;break;default:throw new Error("Unexpected path command "+te.type)}}return S.isEmpty()&&S.addPoint(0,0),S},K.prototype.draw=function(S){S.beginPath();for(var C=0;C<this.commands.length;C+=1){var A=this.commands[C];A.type==="M"?S.moveTo(A.x,A.y):A.type==="L"?S.lineTo(A.x,A.y):A.type==="C"?S.bezierCurveTo(A.x1,A.y1,A.x2,A.y2,A.x,A.y):A.type==="Q"?S.quadraticCurveTo(A.x1,A.y1,A.x,A.y):A.type==="Z"&&S.closePath()}this.fill&&(S.fillStyle=this.fill,S.fill()),this.stroke&&(S.strokeStyle=this.stroke,S.lineWidth=this.strokeWidth,S.stroke())},K.prototype.toPathData=function(S){function C(){for(var Q=arguments,te="",le=0;le<arguments.length;le+=1){var me=Q[le];0<=me&&0<le&&(te+=" "),te+=(me=me,Math.round(me)===me?""+Math.round(me):me.toFixed(S))}return te}S=S!==void 0?S:2;for(var A="",N=0;N<this.commands.length;N+=1){var V=this.commands[N];V.type==="M"?A+="M"+C(V.x,V.y):V.type==="L"?A+="L"+C(V.x,V.y):V.type==="C"?A+="C"+C(V.x1,V.y1,V.x2,V.y2,V.x,V.y):V.type==="Q"?A+="Q"+C(V.x1,V.y1,V.x,V.y):V.type==="Z"&&(A+="Z")}return A},K.prototype.toSVG=function(S){var C=(C='<path d="')+this.toPathData(S)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?C+=' fill="none"':C+=' fill="'+this.fill+'"'),this.stroke&&(C+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),C+="/>"},K.prototype.toDOMElement=function(C){var C=this.toPathData(C),A=document.createElementNS("http://www.w3.org/2000/svg","path");return A.setAttribute("d",C),A};var F={fail:ne,argument:T,assert:T},W={},J={},oe={};function se(S){return function(){return S}}J.BYTE=function(S){return F.argument(0<=S&&S<=255,"Byte value should be between 0 and 255."),[S]},oe.BYTE=se(1),J.CHAR=function(S){return[S.charCodeAt(0)]},oe.CHAR=se(1),J.CHARARRAY=function(S){for(var C=[],A=0;A<S.length;A+=1)C[A]=S.charCodeAt(A);return C},oe.CHARARRAY=function(S){return S.length},J.USHORT=function(S){return[S>>8&255,255&S]},oe.USHORT=se(2),J.SHORT=function(S){return[(S=32768<=S?-(65536-S):S)>>8&255,255&S]},oe.SHORT=se(2),J.UINT24=function(S){return[S>>16&255,S>>8&255,255&S]},oe.UINT24=se(3),J.ULONG=function(S){return[S>>24&255,S>>16&255,S>>8&255,255&S]},oe.ULONG=se(4),J.LONG=function(S){return[(S=2147483648<=S?-(4294967296-S):S)>>24&255,S>>16&255,S>>8&255,255&S]},oe.LONG=se(4),J.FIXED=J.ULONG,oe.FIXED=oe.ULONG,J.FWORD=J.SHORT,oe.FWORD=oe.SHORT,J.UFWORD=J.USHORT,oe.UFWORD=oe.USHORT,J.LONGDATETIME=function(S){return[0,0,0,0,S>>24&255,S>>16&255,S>>8&255,255&S]},oe.LONGDATETIME=se(8),J.TAG=function(S){return F.argument(S.length===4,"Tag should be exactly 4 ASCII characters."),[S.charCodeAt(0),S.charCodeAt(1),S.charCodeAt(2),S.charCodeAt(3)]},oe.TAG=se(4),J.Card8=J.BYTE,oe.Card8=oe.BYTE,J.Card16=J.USHORT,oe.Card16=oe.USHORT,J.OffSize=J.BYTE,oe.OffSize=oe.BYTE,J.SID=J.USHORT,oe.SID=oe.USHORT,J.NUMBER=function(S){return-107<=S&&S<=107?[S+139]:108<=S&&S<=1131?[247+((S-=108)>>8),255&S]:-1131<=S&&S<=-108?[251+((S=-S-108)>>8),255&S]:-32768<=S&&S<=32767?J.NUMBER16(S):J.NUMBER32(S)},oe.NUMBER=function(S){return J.NUMBER(S).length},J.NUMBER16=function(S){return[28,S>>8&255,255&S]},oe.NUMBER16=se(3),J.NUMBER32=function(S){return[29,S>>24&255,S>>16&255,S>>8&255,255&S]},oe.NUMBER32=se(5),J.REAL=function(S){for(var C=S.toString(),A=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(C),N=(A&&(A=parseFloat("1e"+((A[2]?+A[2]:0)+A[1].length)),C=(Math.round(S*A)/A).toString()),""),V=0,Q=C.length;V<Q;V+=1){var te=C[V];N+=te==="e"?C[++V]==="-"?"c":"b":te==="."?"a":te==="-"?"e":te}for(var le=[30],me=0,ge=(N+=1&N.length?"f":"ff").length;me<ge;me+=2)le.push(parseInt(N.substr(me,2),16));return le},oe.REAL=function(S){return J.REAL(S).length},J.NAME=J.CHARARRAY,oe.NAME=oe.CHARARRAY,J.STRING=J.CHARARRAY,oe.STRING=oe.CHARARRAY,W.UTF8=function(S,C,A){for(var N=[],V=A,Q=0;Q<V;Q++,C+=1)N[Q]=S.getUint8(C);return String.fromCharCode.apply(null,N)},W.UTF16=function(S,C,A){for(var N=[],V=A/2,Q=0;Q<V;Q++,C+=2)N[Q]=S.getUint16(C);return String.fromCharCode.apply(null,N)},J.UTF16=function(S){for(var C=[],A=0;A<S.length;A+=1){var N=S.charCodeAt(A);C[C.length]=N>>8&255,C[C.length]=255&N}return C},oe.UTF16=function(S){return 2*S.length};var fe,ve={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""},de=(W.MACSTRING=function(S,C,A,N){var V=ve[N];if(V!==void 0){for(var Q="",te=0;te<A;te++){var le=S.getUint8(C+te);Q+=le<=127?String.fromCharCode(le):V[127&le]}return Q}},typeof WeakMap=="function"&&new WeakMap);function be(S){return-128<=S&&S<=127}J.MACSTRING=function(S,C){var A=(function(te){if(!fe)for(var le in fe={},ve)fe[le]=new String(le);var me=fe[te];if(me!==void 0){if(de){var ge=de.get(me);if(ge!==void 0)return ge}var Ce=ve[te];if(Ce!==void 0){for(var Ue={},Ie=0;Ie<Ce.length;Ie++)Ue[Ce.charCodeAt(Ie)]=Ie+128;return de&&de.set(me,Ue),Ue}}})(C);if(A!==void 0){for(var N=[],V=0;V<S.length;V++){var Q=S.charCodeAt(V);if(128<=Q&&(Q=A[Q])===void 0)return;N[V]=Q}return N}},oe.MACSTRING=function(S,C){return S=J.MACSTRING(S,C),S!==void 0?S.length:0},J.VARDELTAS=function(S){for(var N=0,C=[];N<S.length;)var A=S[N],N=(A===0?function(V,Q,te){for(var le=0,me=V.length;Q<me&&le<64&&V[Q]===0;)++Q,++le;return te.push(128|le-1),Q}:-128<=A&&A<=127?function(V,Q,te){for(var le=0,me=V.length,ge=Q;ge<me&&le<64;){var Ce=V[ge];if(!be(Ce)||Ce===0&&ge+1<me&&V[ge+1]===0)break;++ge,++le}te.push(le-1);for(var Ue=Q;Ue<ge;++Ue)te.push(V[Ue]+256&255);return ge}:function(V,Q,te){for(var le=0,me=V.length,ge=Q;ge<me&&le<64;){var Ce=V[ge];if(Ce===0||be(Ce)&&ge+1<me&&be(V[ge+1]))break;++ge,++le}te.push(64|le-1);for(var Ue=Q;Ue<ge;++Ue){var Ie=V[Ue];te.push(Ie+65536>>8&255,Ie+256&255)}return ge})(S,N,C);return C},J.INDEX=function(S){for(var C=1,A=[C],N=[],V=0;V<S.length;V+=1){var Q=J.OBJECT(S[V]);Array.prototype.push.apply(N,Q),C+=Q.length,A.push(C)}if(N.length===0)return[0,0];for(var te=[],le=1+Math.floor(Math.log(C)/Math.log(2))/8|0,me=[void 0,J.BYTE,J.USHORT,J.UINT24,J.ULONG][le],ge=0;ge<A.length;ge+=1){var Ce=me(A[ge]);Array.prototype.push.apply(te,Ce)}return Array.prototype.concat(J.Card16(S.length),J.OffSize(le),te,N)},oe.INDEX=function(S){return J.INDEX(S).length},J.DICT=function(S){for(var C=[],A=Object.keys(S),N=A.length,V=0;V<N;V+=1){var Q=parseInt(A[V],0),te=S[Q];C=(C=C.concat(J.OPERAND(te.value,te.type))).concat(J.OPERATOR(Q))}return C},oe.DICT=function(S){return J.DICT(S).length},J.OPERATOR=function(S){return S<1200?[S]:[12,S-1200]},J.OPERAND=function(S,C){var A=[];if(Array.isArray(C))for(var N=0;N<C.length;N+=1)F.argument(S.length===C.length,"Not enough arguments given for type"+C),A=A.concat(J.OPERAND(S[N],C[N]));else if(C==="SID")A=A.concat(J.NUMBER(S));else if(C==="offset")A=A.concat(J.NUMBER32(S));else if(C==="number")A=A.concat(J.NUMBER(S));else{if(C!=="real")throw new Error("Unknown operand type "+C);A=A.concat(J.REAL(S))}return A},J.OP=J.BYTE,oe.OP=oe.BYTE;var pe=typeof WeakMap=="function"&&new WeakMap;function ie(S,C,A){for(var N=0;N<C.length;N+=1){var V=C[N];this[V.name]=V.value}if(this.tableName=S,this.fields=C,A)for(var Q=Object.keys(A),te=0;te<Q.length;te+=1){var le=Q[te],me=A[le];this[le]!==void 0&&(this[le]=me)}}function ye(S,C,A){A===void 0&&(A=C.length);var N=new Array(C.length+1);N[0]={name:S+"Count",type:"USHORT",value:A};for(var V=0;V<C.length;V++)N[V+1]={name:S+V,type:"USHORT",value:C[V]};return N}function _e(S,C,A){var N=C.length,V=new Array(N+1);V[0]={name:S+"Count",type:"USHORT",value:N};for(var Q=0;Q<N;Q++)V[Q+1]={name:S+Q,type:"TABLE",value:A(C[Q],Q)};return V}function Te(S,C,A){var N=C.length,V=[];V[0]={name:S+"Count",type:"USHORT",value:N};for(var Q=0;Q<N;Q++)V=V.concat(A(C[Q],Q));return V}function Ee(S){S.format===1?ie.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(ye("glyph",S.glyphs))):F.assert(!1,"Can't create coverage table format 2 yet.")}function Se(S){ie.call(this,"scriptListTable",Te("scriptRecord",S,function(C,A){var N=C.script,V=N.defaultLangSys;return F.assert(!!V,"Unable to write GSUB: script "+C.tag+" has no default language system."),[{name:"scriptTag"+A,type:"TAG",value:C.tag},{name:"script"+A,type:"TABLE",value:new ie("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new ie("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:V.reqFeatureIndex}].concat(ye("featureIndex",V.featureIndexes)))}].concat(Te("langSys",N.langSysRecords,function(Q,te){var le=Q.langSys;return[{name:"langSysTag"+te,type:"TAG",value:Q.tag},{name:"langSys"+te,type:"TABLE",value:new ie("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:le.reqFeatureIndex}].concat(ye("featureIndex",le.featureIndexes)))}]})))}]}))}function Oe(S){ie.call(this,"featureListTable",Te("featureRecord",S,function(C,A){var N=C.feature;return[{name:"featureTag"+A,type:"TAG",value:C.tag},{name:"feature"+A,type:"TABLE",value:new ie("featureTable",[{name:"featureParams",type:"USHORT",value:N.featureParams}].concat(ye("lookupListIndex",N.lookupListIndexes)))}]}))}function Xe(S,C){ie.call(this,"lookupListTable",_e("lookup",S,function(A){var N=C[A.lookupType];return F.assert(!!N,"Unable to write GSUB lookup type "+A.lookupType+" tables."),new ie("lookupTable",[{name:"lookupType",type:"USHORT",value:A.lookupType},{name:"lookupFlag",type:"USHORT",value:A.lookupFlag}].concat(_e("subtable",A.subtables,N)))}))}J.CHARSTRING=function(S){if(pe){var C=pe.get(S);if(C!==void 0)return C}for(var Q=[],A=S.length,N=0;N<A;N+=1)var V=S[N],Q=Q.concat(J[V.type](V.value));return pe&&pe.set(S,Q),Q},oe.CHARSTRING=function(S){return J.CHARSTRING(S).length},J.OBJECT=function(S){var C=J[S.type];return F.argument(C!==void 0,"No encoding function for type "+S.type),C(S.value)},oe.OBJECT=function(S){var C=oe[S.type];return F.argument(C!==void 0,"No sizeOf function for type "+S.type),C(S.value)},J.TABLE=function(S){for(var C=[],A=S.fields.length,N=[],V=[],Q=0;Q<A;Q+=1){var te=S.fields[Q],me=J[te.type],le=(F.argument(me!==void 0,"No encoding function for field type "+te.type+" ("+te.name+")"),S[te.name]),me=me(le=le===void 0?te.value:le);te.type==="TABLE"?(V.push(C.length),C=C.concat([0,0]),N.push(me)):C=C.concat(me)}for(var ge=0;ge<N.length;ge+=1){var Ce=V[ge],Ue=C.length;F.argument(Ue<65536,"Table "+S.tableName+" too big."),C[Ce]=Ue>>8,C[Ce+1]=255&Ue,C=C.concat(N[ge])}return C},oe.TABLE=function(S){for(var C=0,A=S.fields.length,N=0;N<A;N+=1){var V=S.fields[N],Q=oe[V.type],te=(F.argument(Q!==void 0,"No sizeOf function for field type "+V.type+" ("+V.name+")"),S[V.name]);C+=Q(te=te===void 0?V.value:te),V.type==="TABLE"&&(C+=2)}return C},J.RECORD=J.TABLE,oe.RECORD=oe.TABLE,J.LITERAL=function(S){return S},oe.LITERAL=function(S){return S.length},ie.prototype.encode=function(){return J.TABLE(this)},ie.prototype.sizeOf=function(){return oe.TABLE(this)};var Ne={Table:ie,Record:ie,Coverage:(Ee.prototype=Object.create(ie.prototype)).constructor=Ee,ScriptList:(Se.prototype=Object.create(ie.prototype)).constructor=Se,FeatureList:(Oe.prototype=Object.create(ie.prototype)).constructor=Oe,LookupList:(Xe.prototype=Object.create(ie.prototype)).constructor=Xe,ushortList:ye,tableList:_e,recordList:Te};function yt(S,C){return S.getUint8(C)}function lt(S,C){return S.getUint16(C,!1)}function rt(S,C){return S.getUint32(C,!1)}function ut(S,C){return S.getInt16(C,!1)+S.getUint16(C+2,!1)/65535}var ct={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Me(S,C){this.data=S,this.offset=C,this.relativeOffset=0}Me.prototype.parseByte=function(){var S=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,S},Me.prototype.parseChar=function(){var S=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,S},Me.prototype.parseCard8=Me.prototype.parseByte,Me.prototype.parseCard16=Me.prototype.parseUShort=function(){var S=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,S},Me.prototype.parseSID=Me.prototype.parseUShort,Me.prototype.parseOffset16=Me.prototype.parseUShort,Me.prototype.parseShort=function(){var S=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,S},Me.prototype.parseF2Dot14=function(){var S=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,S},Me.prototype.parseOffset32=Me.prototype.parseULong=function(){var S=rt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,S},Me.prototype.parseFixed=function(){var S=ut(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,S},Me.prototype.parseString=function(S){var C=this.data,A=this.offset+this.relativeOffset,N="";this.relativeOffset+=S;for(var V=0;V<S;V++)N+=String.fromCharCode(C.getUint8(A+V));return N},Me.prototype.parseTag=function(){return this.parseString(4)},Me.prototype.parseLongDateTime=function(){var S=rt(this.data,this.offset+this.relativeOffset+4);return S-=2082844800,this.relativeOffset+=8,S},Me.prototype.parseVersion=function(S){var C=lt(this.data,this.offset+this.relativeOffset),A=lt(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,C+A/(S=S===void 0?4096:S)/10},Me.prototype.skip=function(S,C){this.relativeOffset+=ct[S]*(C=C===void 0?1:C)},Me.prototype.parseULongList=function(S){S===void 0&&(S=this.parseULong());for(var C=new Array(S),A=this.data,N=this.offset+this.relativeOffset,V=0;V<S;V++)C[V]=A.getUint32(N),N+=4;return this.relativeOffset+=4*S,C},Me.prototype.parseOffset16List=Me.prototype.parseUShortList=function(S){S===void 0&&(S=this.parseUShort());for(var C=new Array(S),A=this.data,N=this.offset+this.relativeOffset,V=0;V<S;V++)C[V]=A.getUint16(N),N+=2;return this.relativeOffset+=2*S,C},Me.prototype.parseShortList=function(S){for(var C=new Array(S),A=this.data,N=this.offset+this.relativeOffset,V=0;V<S;V++)C[V]=A.getInt16(N),N+=2;return this.relativeOffset+=2*S,C},Me.prototype.parseByteList=function(S){for(var C=new Array(S),A=this.data,N=this.offset+this.relativeOffset,V=0;V<S;V++)C[V]=A.getUint8(N++);return this.relativeOffset+=S,C},Me.prototype.parseList=function(S,C){C||(C=S,S=this.parseUShort());for(var A=new Array(S),N=0;N<S;N++)A[N]=C.call(this);return A},Me.prototype.parseList32=function(S,C){C||(C=S,S=this.parseULong());for(var A=new Array(S),N=0;N<S;N++)A[N]=C.call(this);return A},Me.prototype.parseRecordList=function(S,C){C||(C=S,S=this.parseUShort());for(var A=new Array(S),N=Object.keys(C),V=0;V<S;V++){for(var Q={},te=0;te<N.length;te++){var le=N[te],me=C[le];Q[le]=me.call(this)}A[V]=Q}return A},Me.prototype.parseRecordList32=function(S,C){C||(C=S,S=this.parseULong());for(var A=new Array(S),N=Object.keys(C),V=0;V<S;V++){for(var Q={},te=0;te<N.length;te++){var le=N[te],me=C[le];Q[le]=me.call(this)}A[V]=Q}return A},Me.prototype.parseStruct=function(S){if(typeof S=="function")return S.call(this);for(var C=Object.keys(S),A={},N=0;N<C.length;N++){var V=C[N],Q=S[V];A[V]=Q.call(this)}return A},Me.prototype.parseValueRecord=function(S){var C;if((S=S===void 0?this.parseUShort():S)!==0)return C={},1&S&&(C.xPlacement=this.parseShort()),2&S&&(C.yPlacement=this.parseShort()),4&S&&(C.xAdvance=this.parseShort()),8&S&&(C.yAdvance=this.parseShort()),16&S&&(C.xPlaDevice=void 0,this.parseShort()),32&S&&(C.yPlaDevice=void 0,this.parseShort()),64&S&&(C.xAdvDevice=void 0,this.parseShort()),128&S&&(C.yAdvDevice=void 0,this.parseShort()),C},Me.prototype.parseValueRecordList=function(){for(var S=this.parseUShort(),C=this.parseUShort(),A=new Array(C),N=0;N<C;N++)A[N]=this.parseValueRecord(S);return A},Me.prototype.parsePointer=function(S){var C=this.parseOffset16();if(0<C)return new Me(this.data,this.offset+C).parseStruct(S)},Me.prototype.parsePointer32=function(S){var C=this.parseOffset32();if(0<C)return new Me(this.data,this.offset+C).parseStruct(S)},Me.prototype.parseListOfLists=function(S){for(var C=this.parseOffset16List(),A=C.length,N=this.relativeOffset,V=new Array(A),Q=0;Q<A;Q++){var te=C[Q];if(te===0)V[Q]=void 0;else if(this.relativeOffset=te,S){for(var le=this.parseOffset16List(),me=new Array(le.length),ge=0;ge<le.length;ge++)this.relativeOffset=te+le[ge],me[ge]=S.call(this);V[Q]=me}else V[Q]=this.parseUShortList()}return this.relativeOffset=N,V},Me.prototype.parseCoverage=function(){var S=this.offset+this.relativeOffset,C=this.parseUShort(),A=this.parseUShort();if(C===1)return{format:1,glyphs:this.parseUShortList(A)};if(C!==2)throw new Error("0x"+S.toString(16)+": Coverage format must be 1 or 2.");for(var N=new Array(A),V=0;V<A;V++)N[V]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:N}},Me.prototype.parseClassDef=function(){var S=this.offset+this.relativeOffset,C=this.parseUShort();if(C===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(C===2)return{format:2,ranges:this.parseRecordList({start:Me.uShort,end:Me.uShort,classId:Me.uShort})};throw new Error("0x"+S.toString(16)+": ClassDef format must be 1 or 2.")},Me.list=function(S,C){return function(){return this.parseList(S,C)}},Me.list32=function(S,C){return function(){return this.parseList32(S,C)}},Me.recordList=function(S,C){return function(){return this.parseRecordList(S,C)}},Me.recordList32=function(S,C){return function(){return this.parseRecordList32(S,C)}},Me.pointer=function(S){return function(){return this.parsePointer(S)}},Me.pointer32=function(S){return function(){return this.parsePointer32(S)}},Me.tag=Me.prototype.parseTag,Me.byte=Me.prototype.parseByte,Me.uShort=Me.offset16=Me.prototype.parseUShort,Me.uShortList=Me.prototype.parseUShortList,Me.uLong=Me.offset32=Me.prototype.parseULong,Me.uLongList=Me.prototype.parseULongList,Me.struct=Me.prototype.parseStruct,Me.coverage=Me.prototype.parseCoverage,Me.classDef=Me.prototype.parseClassDef;var Ye={reserved:Me.uShort,reqFeatureIndex:Me.uShort,featureIndexes:Me.uShortList},Le=(Me.prototype.parseScriptList=function(){return this.parsePointer(Me.recordList({tag:Me.tag,script:Me.pointer({defaultLangSys:Me.pointer(Ye),langSysRecords:Me.recordList({tag:Me.tag,langSys:Me.pointer(Ye)})})}))||[]},Me.prototype.parseFeatureList=function(){return this.parsePointer(Me.recordList({tag:Me.tag,feature:Me.pointer({featureParams:Me.offset16,lookupListIndexes:Me.uShortList})}))||[]},Me.prototype.parseLookupList=function(S){return this.parsePointer(Me.list(Me.pointer(function(){var C=this.parseUShort(),A=(F.argument(1<=C&&C<=9,"GPOS/GSUB lookup type "+C+" unknown."),this.parseUShort()),N=16&A;return{lookupType:C,lookupFlag:A,subtables:this.parseList(Me.pointer(S[C])),markFilteringSet:N?this.parseUShort():void 0}})))||[]},Me.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var S=this.parseUShort(),C=this.parseUShort();return F.argument(S===1&&C<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Me.offset32,featureTableSubstitutionOffset:Me.offset32})})||[]},{getByte:yt,getCard8:yt,getUShort:lt,getCard16:lt,getShort:function(S,C){return S.getInt16(C,!1)},getULong:rt,getFixed:ut,getTag:function(S,C){for(var A="",N=C;N<C+4;N+=1)A+=String.fromCharCode(S.getInt8(N));return A},getOffset:function(S,C,A){for(var N=0,V=0;V<A;V+=1)N=(N<<=8)+S.getUint8(C+V);return N},getBytes:function(S,C,A){for(var N=[],V=C;V<A;V+=1)N.push(S.getUint8(V));return N},bytesToString:function(S){for(var C="",A=0;A<S.length;A+=1)C+=String.fromCharCode(S[A]);return C},Parser:Me}),ae={parse:function(S,C){for(var A={},N=(A.version=Le.getUShort(S,C),F.argument(A.version===0,"cmap table version should be 0."),A.numTables=Le.getUShort(S,C+2),-1),V=A.numTables-1;0<=V;--V){var Q=Le.getUShort(S,C+4+8*V),te=Le.getUShort(S,C+4+8*V+2);if(Q===3&&(te===0||te===1||te===10)||Q===0&&(te===0||te===1||te===2||te===3||te===4)){N=Le.getULong(S,C+4+8*V+4);break}}if(N===-1)throw new Error("No valid cmap sub-tables found.");var le=new Le.Parser(S,C+N);if(A.format=le.parseUShort(),A.format===12){var me,ge=A,Ce=le;Ce.parseUShort(),ge.length=Ce.parseULong(),ge.language=Ce.parseULong(),ge.groupCount=me=Ce.parseULong(),ge.glyphIndexMap={};for(var Ue=0;Ue<me;Ue+=1)for(var Ie=Ce.parseULong(),we=Ce.parseULong(),Ke=Ce.parseULong(),Ge=Ie;Ge<=we;Ge+=1)ge.glyphIndexMap[Ge]=Ke,Ke++}else{if(A.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+A.format+").");var $e=A,Fe=S,Be=C,St=N;$e.length=le.parseUShort(),$e.language=le.parseUShort(),$e.segCount=Nt=le.parseUShort()>>1,le.skip("uShort",3),$e.glyphIndexMap={};for(var Nt,_t=new Le.Parser(Fe,Be+St+14),jt=new Le.Parser(Fe,Be+St+16+2*Nt),Ft=new Le.Parser(Fe,Be+St+16+4*Nt),Qt=new Le.Parser(Fe,Be+St+16+6*Nt),vr=Be+St+16+8*Nt,xr=0;xr<Nt-1;xr+=1)for(var Lr=void 0,Nr=_t.parseUShort(),wn=jt.parseUShort(),tr=Ft.parseShort(),ar=Qt.parseUShort(),er=wn;er<=Nr;er+=1)ar!==0?(vr=(vr=Qt.offset+Qt.relativeOffset-2)+ar+2*(er-wn),(Lr=Le.getUShort(Fe,vr))!==0&&(Lr=Lr+tr&65535)):Lr=er+tr&65535,$e.glyphIndexMap[er]=Lr}return A},make:function(S){for(var C=!0,A=S.length-1;0<A;--A)if(65535<S.get(A).unicode){console.log("Adding CMAP format 12 (needed!)"),C=!1;break}var N,V,Q=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:C?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:C?12:20}],te=(Q=(Q=C?Q:Q.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Ne.Table("cmap",Q));for(te.segments=[],A=0;A<S.length;A+=1){for(var le=S.get(A),me=0;me<le.unicodes.length;me+=1)N=le.unicodes[me],V=A,te.segments.push({end:N,start:N,delta:-(N-V),offset:0,glyphIndex:V});te.segments=te.segments.sort(function(Be,St){return Be.start-St.start})}te.segments.push({end:65535,start:65535,delta:1,offset:0});var ge=te.segments.length,Ce=0,Ue=[],Ie=[],we=[],Ke=[],Ge=[],$e=[];for(A=0;A<ge;A+=1){var Fe=te.segments[A];Fe.end<=65535&&Fe.start<=65535?(Ue=Ue.concat({name:"end_"+A,type:"USHORT",value:Fe.end}),Ie=Ie.concat({name:"start_"+A,type:"USHORT",value:Fe.start}),we=we.concat({name:"idDelta_"+A,type:"SHORT",value:Fe.delta}),Ke=Ke.concat({name:"idRangeOffset_"+A,type:"USHORT",value:Fe.offset}),Fe.glyphId!==void 0&&(Ge=Ge.concat({name:"glyph_"+A,type:"USHORT",value:Fe.glyphId}))):Ce+=1,C||Fe.glyphIndex===void 0||($e=($e=($e=$e.concat({name:"cmap12Start_"+A,type:"ULONG",value:Fe.start})).concat({name:"cmap12End_"+A,type:"ULONG",value:Fe.end})).concat({name:"cmap12Glyph_"+A,type:"ULONG",value:Fe.glyphIndex}))}return te.segCountX2=2*(ge-Ce),te.searchRange=2*Math.pow(2,Math.floor(Math.log(ge-Ce)/Math.log(2))),te.entrySelector=Math.log(te.searchRange/2)/Math.log(2),te.rangeShift=te.segCountX2-te.searchRange,te.fields=te.fields.concat(Ue),te.fields.push({name:"reservedPad",type:"USHORT",value:0}),te.fields=te.fields.concat(Ie),te.fields=te.fields.concat(we),te.fields=te.fields.concat(Ke),te.fields=te.fields.concat(Ge),te.cmap4Length=14+2*Ue.length+2+2*Ie.length+2*we.length+2*Ke.length+2*Ge.length,C||(Q=16+4*$e.length,te.cmap12Offset=20+te.cmap4Length,te.fields=te.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:Q},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:$e.length/3}]),te.fields=te.fields.concat($e)),te}},ce=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],re=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],he=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ke=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Re(S){this.font=S}function He(S){this.cmap=S}function Qe(S,C){this.encoding=S,this.charset=C}function it(S){switch(S.version){case 1:this.names=ke.slice();break;case 2:this.names=new Array(S.numberOfGlyphs);for(var C=0;C<S.numberOfGlyphs;C++)S.glyphNameIndex[C]<ke.length?this.names[C]=ke[S.glyphNameIndex[C]]:this.names[C]=S.names[S.glyphNameIndex[C]-ke.length];break;case 2.5:this.names=new Array(S.numberOfGlyphs);for(var A=0;A<S.numberOfGlyphs;A++)this.names[A]=ke[A+S.glyphNameIndex[A]];break;default:this.names=[]}}Re.prototype.charToGlyphIndex=function(S){var C=S.codePointAt(0),A=this.font.glyphs;if(A){for(var N=0;N<A.length;N+=1)for(var V=A.get(N),Q=0;Q<V.unicodes.length;Q+=1)if(V.unicodes[Q]===C)return N}return null},He.prototype.charToGlyphIndex=function(S){return this.cmap.glyphIndexMap[S.codePointAt(0)]||0},Qe.prototype.charToGlyphIndex=function(S){return S=S.codePointAt(0),S=this.encoding[S],this.charset.indexOf(S)},it.prototype.nameToGlyphIndex=function(S){return this.names.indexOf(S)},it.prototype.glyphIndexToName=function(S){return this.names[S]};var at={line:function(S,C,A,N,V){S.beginPath(),S.moveTo(C,A),S.lineTo(N,V),S.stroke()}};function ft(S){this.bindConstructorValues(S)}function It(S,C,A){Object.defineProperty(S,C,{get:function(){return S.path,S[A]},set:function(N){S[A]=N},enumerable:!0,configurable:!0})}function Ot(S,C){if(this.font=S,this.glyphs={},Array.isArray(C))for(var A=0;A<C.length;A++)this.glyphs[A]=C[A];this.length=C&&C.length||0}ft.prototype.bindConstructorValues=function(S){var C;this.index=S.index||0,this.name=S.name||null,this.unicode=S.unicode||void 0,this.unicodes=S.unicodes||S.unicode!==void 0?[S.unicode]:[],S.xMin&&(this.xMin=S.xMin),S.yMin&&(this.yMin=S.yMin),S.xMax&&(this.xMax=S.xMax),S.yMax&&(this.yMax=S.yMax),S.advanceWidth&&(this.advanceWidth=S.advanceWidth),Object.defineProperty(this,"path",(S=S.path,C=S||new K,{configurable:!0,get:function(){return C=typeof C=="function"?C():C},set:function(A){C=A}}))},ft.prototype.addUnicode=function(S){this.unicodes.length===0&&(this.unicode=S),this.unicodes.push(S)},ft.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},ft.prototype.getPath=function(S,C,A,N,V){S=S!==void 0?S:0,C=C!==void 0?C:0,A=A!==void 0?A:72;for(var Q,te,le=(N=N||{}).xScale,me=N.yScale,ge=((Q=N.hinting&&V&&V.hinting?this.path&&V.hinting.exec(this,A):Q)?(te=V.hinting.getCommands(Q),S=Math.round(S),C=Math.round(C),le=me=1):(te=this.path.commands,N=1/this.path.unitsPerEm*A,le===void 0&&(le=N),me===void 0&&(me=N)),new K),Ce=0;Ce<te.length;Ce+=1){var Ue=te[Ce];Ue.type==="M"?ge.moveTo(S+Ue.x*le,C+-Ue.y*me):Ue.type==="L"?ge.lineTo(S+Ue.x*le,C+-Ue.y*me):Ue.type==="Q"?ge.quadraticCurveTo(S+Ue.x1*le,C+-Ue.y1*me,S+Ue.x*le,C+-Ue.y*me):Ue.type==="C"?ge.curveTo(S+Ue.x1*le,C+-Ue.y1*me,S+Ue.x2*le,C+-Ue.y2*me,S+Ue.x*le,C+-Ue.y*me):Ue.type==="Z"&&ge.closePath()}return ge},ft.prototype.getContours=function(){if(this.points===void 0)return[];for(var S=[],C=[],A=0;A<this.points.length;A+=1){var N=this.points[A];C.push(N),N.lastPointOfContour&&(S.push(C),C=[])}return F.argument(C.length===0,"There are still points left in the current contour."),S},ft.prototype.getMetrics=function(){for(var S=this.path.commands,C=[],A=[],N=0;N<S.length;N+=1){var V=S[N];V.type!=="Z"&&(C.push(V.x),A.push(V.y)),V.type!=="Q"&&V.type!=="C"||(C.push(V.x1),A.push(V.y1)),V.type==="C"&&(C.push(V.x2),A.push(V.y2))}var Q={xMin:Math.min.apply(null,C),yMin:Math.min.apply(null,A),xMax:Math.max.apply(null,C),yMax:Math.max.apply(null,A),leftSideBearing:this.leftSideBearing};return isFinite(Q.xMin)||(Q.xMin=0),isFinite(Q.xMax)||(Q.xMax=this.advanceWidth),isFinite(Q.yMin)||(Q.yMin=0),isFinite(Q.yMax)||(Q.yMax=0),Q.rightSideBearing=this.advanceWidth-Q.leftSideBearing-(Q.xMax-Q.xMin),Q},ft.prototype.draw=function(S,C,A,N,V){this.getPath(C,A,N,V).draw(S)},ft.prototype.drawPoints=function(S,C,A,N){function V(Ce,Ue,Ie,we){var Ke=2*Math.PI;S.beginPath();for(var Ge=0;Ge<Ce.length;Ge+=1)S.moveTo(Ue+Ce[Ge].x*we,Ie+Ce[Ge].y*we),S.arc(Ue+Ce[Ge].x*we,Ie+Ce[Ge].y*we,2,0,Ke,!1);S.closePath(),S.fill()}C=C!==void 0?C:0,A=A!==void 0?A:0;for(var N=1/this.path.unitsPerEm*(N=N!==void 0?N:24),Q=[],te=[],le=this.path,me=0;me<le.commands.length;me+=1){var ge=le.commands[me];ge.x!==void 0&&Q.push({x:ge.x,y:-ge.y}),ge.x1!==void 0&&te.push({x:ge.x1,y:-ge.y1}),ge.x2!==void 0&&te.push({x:ge.x2,y:-ge.y2})}S.fillStyle="blue",V(Q,C,A,N),S.fillStyle="red",V(te,C,A,N)},ft.prototype.drawMetrics=function(S,C,A,N){C=C!==void 0?C:0,A=A!==void 0?A:0,N=1/this.path.unitsPerEm*(N=N!==void 0?N:24),S.lineWidth=1,S.strokeStyle="black",at.line(S,C,-1e4,C,1e4),at.line(S,-1e4,A,1e4,A);var V=this.xMin||0,Q=this.yMin||0,te=this.xMax||0,le=this.yMax||0,me=this.advanceWidth||0;S.strokeStyle="blue",at.line(S,C+V*N,-1e4,C+V*N,1e4),at.line(S,C+te*N,-1e4,C+te*N,1e4),at.line(S,-1e4,A+-Q*N,1e4,A+-Q*N),at.line(S,-1e4,A+-le*N,1e4,A+-le*N),S.strokeStyle="green",at.line(S,C+me*N,-1e4,C+me*N,1e4)},Ot.prototype.get=function(S){return typeof this.glyphs[S]=="function"&&(this.glyphs[S]=this.glyphs[S]()),this.glyphs[S]},Ot.prototype.push=function(S,C){this.glyphs[S]=C,this.length++};var bt={GlyphSet:Ot,glyphLoader:function(S,C){return new ft({index:C,font:S})},ttfGlyphLoader:function(S,C,A,N,V,Q){return function(){var te=new ft({index:C,font:S});return te.path=function(){A(te,N,V);var le=Q(S.glyphs,te);return le.unitsPerEm=S.unitsPerEm,le},It(te,"xMin","_xMin"),It(te,"xMax","_xMax"),It(te,"yMin","_yMin"),It(te,"yMax","_yMax"),te}},cffGlyphLoader:function(S,C,A,N){return function(){var V=new ft({index:C,font:S});return V.path=function(){var Q=A(S,V,N);return Q.unitsPerEm=S.unitsPerEm,Q},V}}};function At(S){return S=S.length<1240?107:S.length<33900?1131:32768,S}function Tt(S,C,A){var N,V=[],Q=[],te=Le.getCard16(S,C);if(te!==0){for(var le=Le.getByte(S,C+2),me=C+(te+1)*le+2,ge=C+3,Ce=0;Ce<te+1;Ce+=1)V.push(Le.getOffset(S,ge,le)),ge+=le;N=me+V[te]}else N=C+2;for(var Ue=0;Ue<V.length-1;Ue+=1){var Ie=Le.getBytes(S,me+V[Ue],me+V[Ue+1]);A&&(Ie=A(Ie)),Q.push(Ie)}return{objects:Q,startOffset:C,endOffset:N}}function or(S,C){if(C===28)return S.parseByte()<<8|S.parseByte();if(C===29)return S.parseByte()<<24|S.parseByte()<<16|S.parseByte()<<8|S.parseByte();if(C===30){for(var A=S,N="",V=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var te=A.parseByte(),Q=te>>4,te=15&te;if(Q==15||(N+=V[Q],te==15))break;N+=V[te]}return parseFloat(N)}if(32<=C&&C<=246)return C-139;if(247<=C&&C<=250)return 256*(C-247)+S.parseByte()+108;if(251<=C&&C<=254)return 256*-(C-251)-S.parseByte()-108;throw new Error("Invalid b0 "+C)}function Ar(S,C,A){var N=new Le.Parser(S,C=C!==void 0?C:0),V=[],Q=[];for(A=A!==void 0?A:S.length;N.relativeOffset<A;){var te=N.parseByte();te<=21?(te===12&&(te=1200+N.parseByte()),V.push([te,Q]),Q=[]):Q.push(or(N,te))}for(var le=V,me={},ge=0;ge<le.length;ge+=1){var Ce=le[ge][0],Ue=le[ge][1],Ie=void 0,Ie=Ue.length===1?Ue[0]:Ue;if(me.hasOwnProperty(Ce)&&!isNaN(me[Ce]))throw new Error("Object "+me+" already has key "+Ce);me[Ce]=Ie}return me}function _r(S,C){return C=C<=390?ce[C]:S[C-391]}function qt(S,C,A){for(var N,V={},Q=0;Q<C.length;Q+=1){var te=C[Q];if(Array.isArray(te.type)){var le=[];le.length=te.type.length;for(var me=0;me<te.type.length;me++)(N=S[te.op]!==void 0?S[te.op][me]:void 0)===void 0&&(N=te.value!==void 0&&te.value[me]!==void 0?te.value[me]:null),te.type[me]==="SID"&&(N=_r(A,N)),le[me]=N;V[te.name]=le}else(N=S[te.op])===void 0&&(N=te.value!==void 0?te.value:null),te.type==="SID"&&(N=_r(A,N)),V[te.name]=N}return V}var sr=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Vt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Fr(S,C,A,N){return qt(Ar(S,C,A),Vt,N)}function yr(S,C,A,N){for(var V=[],Q=0;Q<A.length;Q+=1){var te=new DataView(new Uint8Array(A[Q]).buffer),te=(le=N,qt(Ar(te,0,te.byteLength),sr,le)),le=(te._subrs=[],te._subrsBias=0,te.private[0]),me=te.private[1];le!==0&&me!==0&&(le=Fr(S,me+C,le,N),te._defaultWidthX=le.defaultWidthX,te._nominalWidthX=le.nominalWidthX,le.subrs!==0&&(me=Tt(S,me+le.subrs+C),te._subrs=me.objects,te._subrsBias=At(te._subrs)),te._privateDict=le),V.push(te)}return V}function Yt(S,C,A){var N,V,Q,te,le,me,ge,Ce,Ue,Ie=new K,we=[],Ke=0,Ge=!1,$e=!1,Fe=0,Be=0,St=(Ue=(S.isCIDFont?(le=S.tables.cff.topDict._fdSelect[C.index],le=S.tables.cff.topDict._fdArray[le],me=le._subrs,ge=le._subrsBias,Ce=le._defaultWidthX,le):(me=S.tables.cff.topDict._subrs,ge=S.tables.cff.topDict._subrsBias,Ce=S.tables.cff.topDict._defaultWidthX,S.tables.cff.topDict))._nominalWidthX,Ce);function Nt(jt,Ft){$e&&Ie.closePath(),Ie.moveTo(jt,Ft),$e=!0}function _t(){we.length%2==0||Ge||(St=we.shift()+Ue),Ke+=we.length>>1,we.length=0,Ge=!0}return(function jt(Ft){for(var Qt,vr,xr,Lr,Nr,wn,tr,ar,er,$r,pr,Br,cr=0;cr<Ft.length;){var rr=Ft[cr];switch(cr+=1,rr){case 1:case 3:_t();break;case 4:1<we.length&&!Ge&&(St=we.shift()+Ue,Ge=!0),Be+=we.pop(),Nt(Fe,Be);break;case 5:for(;0<we.length;)Fe+=we.shift(),Be+=we.shift(),Ie.lineTo(Fe,Be);break;case 6:for(;0<we.length&&(Fe+=we.shift(),Ie.lineTo(Fe,Be),we.length!==0);)Be+=we.shift(),Ie.lineTo(Fe,Be);break;case 7:for(;0<we.length&&(Be+=we.shift(),Ie.lineTo(Fe,Be),we.length!==0);)Fe+=we.shift(),Ie.lineTo(Fe,Be);break;case 8:for(;0<we.length;)N=Fe+we.shift(),V=Be+we.shift(),Q=N+we.shift(),te=V+we.shift(),Fe=Q+we.shift(),Be=te+we.shift(),Ie.curveTo(N,V,Q,te,Fe,Be);break;case 10:Nr=we.pop()+ge,(wn=me[Nr])&&jt(wn);break;case 11:return;case 12:switch(rr=Ft[cr],cr+=1,rr){case 35:N=Fe+we.shift(),V=Be+we.shift(),Q=N+we.shift(),te=V+we.shift(),tr=Q+we.shift(),ar=te+we.shift(),er=tr+we.shift(),$r=ar+we.shift(),pr=er+we.shift(),Br=$r+we.shift(),Fe=pr+we.shift(),Be=Br+we.shift(),we.shift(),Ie.curveTo(N,V,Q,te,tr,ar),Ie.curveTo(er,$r,pr,Br,Fe,Be);break;case 34:N=Fe+we.shift(),V=Be,Q=N+we.shift(),te=V+we.shift(),tr=Q+we.shift(),ar=te,er=tr+we.shift(),$r=te,pr=er+we.shift(),Br=Be,Fe=pr+we.shift(),Ie.curveTo(N,V,Q,te,tr,ar),Ie.curveTo(er,$r,pr,Br,Fe,Be);break;case 36:N=Fe+we.shift(),V=Be+we.shift(),Q=N+we.shift(),te=V+we.shift(),tr=Q+we.shift(),ar=te,er=tr+we.shift(),$r=te,pr=er+we.shift(),Br=$r+we.shift(),Fe=pr+we.shift(),Ie.curveTo(N,V,Q,te,tr,ar),Ie.curveTo(er,$r,pr,Br,Fe,Be);break;case 37:N=Fe+we.shift(),V=Be+we.shift(),Q=N+we.shift(),te=V+we.shift(),tr=Q+we.shift(),ar=te+we.shift(),er=tr+we.shift(),$r=ar+we.shift(),pr=er+we.shift(),Br=$r+we.shift(),Math.abs(pr-Fe)>Math.abs(Br-Be)?Fe=pr+we.shift():Be=Br+we.shift(),Ie.curveTo(N,V,Q,te,tr,ar),Ie.curveTo(er,$r,pr,Br,Fe,Be);break;default:console.log("Glyph "+C.index+": unknown operator 1200"+rr),we.length=0}break;case 14:0<we.length&&!Ge&&(St=we.shift()+Ue,Ge=!0),$e&&(Ie.closePath(),$e=!1);break;case 18:_t();break;case 19:case 20:_t(),cr+=Ke+7>>3;break;case 21:2<we.length&&!Ge&&(St=we.shift()+Ue,Ge=!0),Be+=we.pop(),Nt(Fe+=we.pop(),Be);break;case 22:1<we.length&&!Ge&&(St=we.shift()+Ue,Ge=!0),Nt(Fe+=we.pop(),Be);break;case 23:_t();break;case 24:for(;2<we.length;)N=Fe+we.shift(),V=Be+we.shift(),Q=N+we.shift(),te=V+we.shift(),Fe=Q+we.shift(),Be=te+we.shift(),Ie.curveTo(N,V,Q,te,Fe,Be);Fe+=we.shift(),Be+=we.shift(),Ie.lineTo(Fe,Be);break;case 25:for(;6<we.length;)Fe+=we.shift(),Be+=we.shift(),Ie.lineTo(Fe,Be);N=Fe+we.shift(),V=Be+we.shift(),Q=N+we.shift(),te=V+we.shift(),Fe=Q+we.shift(),Be=te+we.shift(),Ie.curveTo(N,V,Q,te,Fe,Be);break;case 26:for(we.length%2&&(Fe+=we.shift());0<we.length;)N=Fe,V=Be+we.shift(),Q=N+we.shift(),te=V+we.shift(),Fe=Q,Be=te+we.shift(),Ie.curveTo(N,V,Q,te,Fe,Be);break;case 27:for(we.length%2&&(Be+=we.shift());0<we.length;)N=Fe+we.shift(),V=Be,Q=N+we.shift(),te=V+we.shift(),Fe=Q+we.shift(),Be=te,Ie.curveTo(N,V,Q,te,Fe,Be);break;case 28:Qt=Ft[cr],vr=Ft[cr+1],we.push((Qt<<24|vr<<16)>>16),cr+=2;break;case 29:Nr=we.pop()+S.gsubrsBias,(wn=S.gsubrs[Nr])&&jt(wn);break;case 30:for(;0<we.length&&(N=Fe,V=Be+we.shift(),Q=N+we.shift(),te=V+we.shift(),Fe=Q+we.shift(),Be=te+(we.length===1?we.shift():0),Ie.curveTo(N,V,Q,te,Fe,Be),we.length!==0);)N=Fe+we.shift(),V=Be,Q=N+we.shift(),te=V+we.shift(),Be=te+we.shift(),Fe=Q+(we.length===1?we.shift():0),Ie.curveTo(N,V,Q,te,Fe,Be);break;case 31:for(;0<we.length&&(N=Fe+we.shift(),V=Be,Q=N+we.shift(),te=V+we.shift(),Be=te+we.shift(),Fe=Q+(we.length===1?we.shift():0),Ie.curveTo(N,V,Q,te,Fe,Be),we.length!==0);)N=Fe,V=Be+we.shift(),Q=N+we.shift(),te=V+we.shift(),Fe=Q+we.shift(),Be=te+(we.length===1?we.shift():0),Ie.curveTo(N,V,Q,te,Fe,Be);break;default:rr<32?console.log("Glyph "+C.index+": unknown operator "+rr):rr<247?we.push(rr-139):rr<251?(Qt=Ft[cr],cr+=1,we.push(256*(rr-247)+Qt+108)):rr<255?(Qt=Ft[cr],cr+=1,we.push(256*-(rr-251)-Qt-108)):(Qt=Ft[cr],vr=Ft[cr+1],xr=Ft[cr+2],Lr=Ft[cr+3],cr+=4,we.push((Qt<<24|vr<<16|xr<<8|Lr)/65536))}}})(A),C.advanceWidth=St,Ie}function kr(S,C){var A,N=ce.indexOf(S);return 0<=N&&(A=N),0<=(N=C.indexOf(S))?A=N+ce.length:(A=ce.length+C.length,C.push(S)),A}function Eo(S,C,A){for(var N={},V=0;V<S.length;V+=1){var Q=S[V],te=C[Q.name];te===void 0||(function le(me,ge){if(me===ge)return 1;if(Array.isArray(me)&&Array.isArray(ge)&&me.length===ge.length){for(var Ce=0;Ce<me.length;Ce+=1)if(!le(me[Ce],ge[Ce]))return;return 1}})(te,Q.value)||(Q.type==="SID"&&(te=kr(te,A)),N[Q.op]={name:Q.name,type:Q.type,value:te})}return N}function Ms(S,C){var A=new Ne.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return A.dict=Eo(sr,S,C),A}function Is(S){var C=new Ne.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return C.topDicts=[{name:"topDict_0",type:"TABLE",value:S}],C}function pi(S){for(var C=new Ne.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),A=0;A<S.length;A+=1){var N=S.get(A),V=(function(Q){for(var te=[],le=Q.path,me=(te.push({name:"width",type:"NUMBER",value:Q.advanceWidth}),0),ge=0,Ce=0;Ce<le.commands.length;Ce+=1){var Ue,Ie,we,Ke,Ge=void 0,$e=void 0,Fe=le.commands[Ce];(Fe=Fe.type==="Q"?{type:"C",x:Fe.x,y:Fe.y,x1:1/3*me+2/3*Fe.x1,y1:1/3*ge+2/3*Fe.y1,x2:1/3*Fe.x+2/3*Fe.x1,y2:1/3*Fe.y+2/3*Fe.y1}:Fe).type==="M"?(Ge=Math.round(Fe.x-me),$e=Math.round(Fe.y-ge),te.push({name:"dx",type:"NUMBER",value:Ge}),te.push({name:"dy",type:"NUMBER",value:$e}),te.push({name:"rmoveto",type:"OP",value:21}),me=Math.round(Fe.x),ge=Math.round(Fe.y)):Fe.type==="L"?(Ge=Math.round(Fe.x-me),$e=Math.round(Fe.y-ge),te.push({name:"dx",type:"NUMBER",value:Ge}),te.push({name:"dy",type:"NUMBER",value:$e}),te.push({name:"rlineto",type:"OP",value:5}),me=Math.round(Fe.x),ge=Math.round(Fe.y)):Fe.type==="C"&&(Ue=Math.round(Fe.x1-me),Ie=Math.round(Fe.y1-ge),we=Math.round(Fe.x2-Fe.x1),Ke=Math.round(Fe.y2-Fe.y1),Ge=Math.round(Fe.x-Fe.x2),$e=Math.round(Fe.y-Fe.y2),te.push({name:"dx1",type:"NUMBER",value:Ue}),te.push({name:"dy1",type:"NUMBER",value:Ie}),te.push({name:"dx2",type:"NUMBER",value:we}),te.push({name:"dy2",type:"NUMBER",value:Ke}),te.push({name:"dx",type:"NUMBER",value:Ge}),te.push({name:"dy",type:"NUMBER",value:$e}),te.push({name:"rrcurveto",type:"OP",value:8}),me=Math.round(Fe.x),ge=Math.round(Fe.y))}return te.push({name:"endchar",type:"OP",value:14}),te})(N);C.charStrings.push({name:N.name,type:"CHARSTRING",value:V})}return C}var Tn={parse:function(S,C,A){A.tables.cff={},le=S,N=C,(V={}).formatMajor=Le.getCard8(le,N),V.formatMinor=Le.getCard8(le,N+1),V.size=Le.getCard8(le,N+2),V.offsetSize=Le.getCard8(le,N+3),V.startOffset=N,V.endOffset=N+4;var le=Tt(S,V.endOffset,Le.bytesToString),N=Tt(S,le.endOffset),V=Tt(S,N.endOffset,Le.bytesToString),le=Tt(S,V.endOffset);if(A.gsubrs=le.objects,A.gsubrsBias=At(A.gsubrs),(le=yr(S,C,N.objects,V.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+le.length);if(N=le[0],(A.tables.cff.topDict=N)._privateDict&&(A.defaultWidthX=N._privateDict.defaultWidthX,A.nominalWidthX=N._privateDict.nominalWidthX),N.ros[0]!==void 0&&N.ros[1]!==void 0&&(A.isCIDFont=!0),A.isCIDFont){var le=N.fdArray,Q=N.fdSelect;if(le===0||Q===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");le=yr(S,C,Tt(S,le+=C).objects,V.objects),N._fdArray=le,N._fdSelect=(function(Ie,we,Ke,Ge){var $e,Fe=[],Be=new Le.Parser(Ie,we);if((Ie=Be.parseCard8())===0)for(var St=0;St<Ke;St++){if(Ge<=($e=Be.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+$e+" (FD count "+Ge+")");Fe.push($e)}else{if(Ie!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Ie);var Nt,_t=Be.parseCard16(),jt=Be.parseCard16();if(jt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+jt);for(var Ft=0;Ft<_t;Ft++){if($e=Be.parseCard8(),Nt=Be.parseCard16(),Ge<=$e)throw new Error("CFF table CID Font FDSelect has bad FD index value "+$e+" (FD count "+Ge+")");if(Ke<Nt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Nt);for(;jt<Nt;jt++)Fe.push($e);jt=Nt}if(Nt!==Ke)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Nt)}return Fe})(S,Q+=C,A.numGlyphs,le.length)}var Q=C+N.private[1],le=Fr(S,Q,N.private[0],V.objects),te=(A.defaultWidthX=le.defaultWidthX,A.nominalWidthX=le.nominalWidthX,le.subrs!==0?(Q=Tt(S,Q+le.subrs),A.subrs=Q.objects,A.subrsBias=At(A.subrs)):(A.subrs=[],A.subrsBias=0),Tt(S,C+N.charStrings)),le=(A.nGlyphs=te.objects.length,(function(Ce,Ue,Ie,we){var Ke=new Le.Parser(Ce,Ue),Ge=(--Ie,[".notdef"]);if((Ce=Ke.parseCard8())===0)for(var $e=0;$e<Ie;$e+=1)Fe=Ke.parseSID(),Ge.push(_r(we,Fe));else if(Ce===1)for(;Ge.length<=Ie;)for(var Fe=Ke.parseSID(),Be=Ke.parseCard8(),St=0;St<=Be;St+=1)Ge.push(_r(we,Fe)),Fe+=1;else{if(Ce!==2)throw new Error("Unknown charset format "+Ce);for(;Ge.length<=Ie;){Fe=Ke.parseSID(),Be=Ke.parseCard16();for(var Nt=0;Nt<=Be;Nt+=1)Ge.push(_r(we,Fe)),Fe+=1}}return Ge})(S,C+N.charset,A.nGlyphs,V.objects));N.encoding===0?A.cffEncoding=new Qe(re,le):N.encoding===1?A.cffEncoding=new Qe(he,le):A.cffEncoding=(function(Ce,Ue,Ie){var we={},Ke=new Le.Parser(Ce,Ue);if((Ce=Ke.parseCard8())===0)for(var Ge=Ke.parseCard8(),$e=0;$e<Ge;$e+=1)we[Be=Ke.parseCard8()]=$e;else{if(Ce!==1)throw new Error("Unknown encoding format "+Ce);for(var Fe=Ke.parseCard8(),Be=1,St=0;St<Fe;St+=1)for(var Nt=Ke.parseCard8(),_t=Ke.parseCard8(),jt=Nt;jt<=Nt+_t;jt+=1)we[jt]=Be,Be+=1}return new Qe(we,Ie)})(S,C+N.encoding,le),A.encoding=A.encoding||A.cffEncoding,A.glyphs=new bt.GlyphSet(A);for(var me=0;me<A.nGlyphs;me+=1){var ge=te.objects[me];A.glyphs.push(me,bt.cffGlyphLoader(A,me,Yt,ge))}},make:function(S,Ce){for(var A,N=new Ne.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),V=1/Ce.unitsPerEm,V={version:Ce.version,fullName:Ce.fullName,familyName:Ce.familyName,weight:Ce.weightName,fontBBox:Ce.fontBBox||[0,0,0,0],fontMatrix:[V,0,0,V,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},Q=[],te=1;te<S.length;te+=1)A=S.get(te),Q.push(A.name);var le,me,ge=[],Ce=(N.header=new Ne.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),N.nameIndex=(function(Ie){var we=new Ne.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);we.names=[];for(var Ke=0;Ke<Ie.length;Ke+=1)we.names.push({name:"name_"+Ke,type:"NAME",value:Ie[Ke]});return we})([Ce.postScriptName]),Ms(V,ge)),Ue=(N.topDictIndex=Is(Ce),N.globalSubrIndex=new Ne.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),N.charsets=(function(Ie,we){for(var Ke=new Ne.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Ge=0;Ge<Ie.length;Ge+=1){var $e=kr(Ie[Ge],we);Ke.fields.push({name:"glyph_"+Ge,type:"SID",value:$e})}return Ke})(Q,ge),N.charStringsIndex=pi(S),N.privateDict=(Ue={},le=ge,(me=new Ne.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Eo(Vt,Ue,le),me),N.stringIndex=(function(Ie){var we=new Ne.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);we.strings=[];for(var Ke=0;Ke<Ie.length;Ke+=1)we.strings.push({name:"string_"+Ke,type:"STRING",value:Ie[Ke]});return we})(ge),N.header.sizeOf()+N.nameIndex.sizeOf()+N.topDictIndex.sizeOf()+N.stringIndex.sizeOf()+N.globalSubrIndex.sizeOf());return V.charset=Ue,V.encoding=0,V.charStrings=V.charset+N.charsets.sizeOf(),V.private[1]=V.charStrings+N.charStringsIndex.sizeOf(),Ce=Ms(V,ge),N.topDictIndex=Is(Ce),N}},zo={parse:function(N,C){var A={},N=new Le.Parser(N,C);return A.version=N.parseVersion(),A.fontRevision=Math.round(1e3*N.parseFixed())/1e3,A.checkSumAdjustment=N.parseULong(),A.magicNumber=N.parseULong(),F.argument(A.magicNumber===1594834165,"Font header has wrong magic number."),A.flags=N.parseUShort(),A.unitsPerEm=N.parseUShort(),A.created=N.parseLongDateTime(),A.modified=N.parseLongDateTime(),A.xMin=N.parseShort(),A.yMin=N.parseShort(),A.xMax=N.parseShort(),A.yMax=N.parseShort(),A.macStyle=N.parseUShort(),A.lowestRecPPEM=N.parseUShort(),A.fontDirectionHint=N.parseShort(),A.indexToLocFormat=N.parseShort(),A.glyphDataFormat=N.parseShort(),A},make:function(S){var C=Math.round(new Date().getTime()/1e3)+2082844800,A=C;return S.createdTimestamp&&(A=S.createdTimestamp+2082844800),new Ne.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:A},{name:"modified",type:"LONGDATETIME",value:C},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],S)}},xe={parse:function(N,C){var A={},N=new Le.Parser(N,C);return A.version=N.parseVersion(),A.ascender=N.parseShort(),A.descender=N.parseShort(),A.lineGap=N.parseShort(),A.advanceWidthMax=N.parseUShort(),A.minLeftSideBearing=N.parseShort(),A.minRightSideBearing=N.parseShort(),A.xMaxExtent=N.parseShort(),A.caretSlopeRise=N.parseShort(),A.caretSlopeRun=N.parseShort(),A.caretOffset=N.parseShort(),N.relativeOffset+=8,A.metricDataFormat=N.parseShort(),A.numberOfHMetrics=N.parseUShort(),A},make:function(S){return new Ne.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],S)}},et={parse:function(S,C,A,N,V){for(var Q,te,le=new Le.Parser(S,C),me=0;me<N;me+=1){me<A&&(Q=le.parseUShort(),te=le.parseShort());var ge=V.get(me);ge.advanceWidth=Q,ge.leftSideBearing=te}},make:function(S){for(var C=new Ne.Table("hmtx",[]),A=0;A<S.length;A+=1){var V=S.get(A),N=V.advanceWidth||0,V=V.leftSideBearing||0;C.fields.push({name:"advanceWidth_"+A,type:"USHORT",value:N}),C.fields.push({name:"leftSideBearing_"+A,type:"SHORT",value:V})}return C}},mt={make:function(S){for(var C=new Ne.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:S.length}]),A="",N=12+4*S.length,V=0;V<S.length;++V){var Q=A.indexOf(S[V]);Q<0&&(Q=A.length,A+=S[V]),C.fields.push({name:"offset "+V,type:"USHORT",value:N+Q}),C.fields.push({name:"length "+V,type:"USHORT",value:S[V].length})}return C.fields.push({name:"stringPool",type:"CHARARRAY",value:A}),C},parse:function(S,C){for(var A=new Le.Parser(S,C),N=A.parseULong(),V=(F.argument(N===1,"Unsupported ltag table version."),A.skip("uLong",1),A.parseULong()),Q=[],te=0;te<V;te++){for(var le="",me=C+A.parseUShort(),ge=A.parseUShort(),Ce=me;Ce<me+ge;++Ce)le+=String.fromCharCode(S.getInt8(Ce));Q.push(le)}return Q}},Ze={parse:function(N,C){var A={},N=new Le.Parser(N,C);return A.version=N.parseVersion(),A.numGlyphs=N.parseUShort(),A.version===1&&(A.maxPoints=N.parseUShort(),A.maxContours=N.parseUShort(),A.maxCompositePoints=N.parseUShort(),A.maxCompositeContours=N.parseUShort(),A.maxZones=N.parseUShort(),A.maxTwilightPoints=N.parseUShort(),A.maxStorage=N.parseUShort(),A.maxFunctionDefs=N.parseUShort(),A.maxInstructionDefs=N.parseUShort(),A.maxStackElements=N.parseUShort(),A.maxSizeOfInstructions=N.parseUShort(),A.maxComponentElements=N.parseUShort(),A.maxComponentDepth=N.parseUShort()),A},make:function(S){return new Ne.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:S}])}},Gt=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Je={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},$t={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},pt={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Pt="utf-16",gt={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},hr={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Cr(S,C,A){switch(S){case 0:return Pt;case 1:return hr[A]||gt[C];case 3:if(C===1||C===10)return Pt}}function ur(S){var C,A={};for(C in S)A[S[C]]=parseInt(C);return A}function Rr(S,C,A,N,V,Q){return new Ne.Record("NameRecord",[{name:"platformID",type:"USHORT",value:S},{name:"encodingID",type:"USHORT",value:C},{name:"languageID",type:"USHORT",value:A},{name:"nameID",type:"USHORT",value:N},{name:"length",type:"USHORT",value:V},{name:"offset",type:"USHORT",value:Q}])}function Pn(S,C){if((A=(function(Q,te){var le=Q.length,me=te.length-le+1;e:for(var ge=0;ge<me;ge++)for(;ge<me;ge++){for(var Ce=0;Ce<le;Ce++)if(te[ge+Ce]!==Q[Ce])continue e;return ge}return-1})(S,C))<0)for(var A=C.length,N=0,V=S.length;N<V;++N)C.push(S[N]);return A}var qr={parse:function(S,C,A){for(var N={},V=new Le.Parser(S,C),C=V.parseUShort(),Q=V.parseUShort(),te=V.offset+V.parseUShort(),le=0;le<Q;le++){var Ke=V.parseUShort(),me=V.parseUShort(),ge=V.parseUShort(),Ce=V.parseUShort(),Ce=Gt[Ce]||Ce,Ue=V.parseUShort(),Ie=V.parseUShort(),we=(function($e,Fe,Be){switch($e){case 0:if(Fe===65535)return"und";if(Be)return Be[Fe];break;case 1:return Je[Fe];case 3:return pt[Fe]}})(Ke,ge,A),Ke=Cr(Ke,me,ge);Ke!==void 0&&we!==void 0&&(me=void 0,(me=Ke===Pt?W.UTF16(S,te+Ie,Ue):W.MACSTRING(S,te+Ie,Ue,Ke))&&((ge=(ge=N[Ce])===void 0?N[Ce]={}:ge)[we]=me))}return C===1&&V.parseUShort(),N},make:function(S,C){var A,N=[],V={},Q=ur(Gt);for(A in S){var te=Q[A];if(te===void 0&&(te=A),Ie=parseInt(te),isNaN(Ie))throw new Error('Name table entry "'+A+'" does not exist, see nameTableNames for complete list.');V[Ie]=S[A],N.push(Ie)}for(var le=ur(Je),me=ur(pt),ge=[],Ce=[],Ue=0;Ue<N.length;Ue++){var Ie,we,Ke=V[Ie=N[Ue]];for(we in Ke){var Ge=Ke[we],Nt=1,$e=le[we],Fe=$t[$e],Be=Cr(Nt,Fe,$e),Be=J.MACSTRING(Ge,Be),St=(Be===void 0&&(Nt=0,($e=C.indexOf(we))<0&&($e=C.length,C.push(we)),Fe=4,Be=J.UTF16(Ge)),Pn(Be,Ce)),Nt=(ge.push(Rr(Nt,Fe,$e,Ie,Be.length,St)),me[we]);Nt!==void 0&&($e=Pn(Fe=J.UTF16(Ge),Ce),ge.push(Rr(3,1,Nt,Ie,Fe.length,$e)))}}ge.sort(function(Ft,Qt){return Ft.platformID-Qt.platformID||Ft.encodingID-Qt.encodingID||Ft.languageID-Qt.languageID||Ft.nameID-Qt.nameID});for(var _t=new Ne.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:ge.length},{name:"stringOffset",type:"USHORT",value:6+12*ge.length}]),jt=0;jt<ge.length;jt++)_t.fields.push({name:"record_"+jt,type:"RECORD",value:ge[jt]});return _t.fields.push({name:"strings",type:"LITERAL",value:Ce}),_t}},Or=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Dr={parse:function(S,C){var A={},N=new Le.Parser(S,C);A.version=N.parseUShort(),A.xAvgCharWidth=N.parseShort(),A.usWeightClass=N.parseUShort(),A.usWidthClass=N.parseUShort(),A.fsType=N.parseUShort(),A.ySubscriptXSize=N.parseShort(),A.ySubscriptYSize=N.parseShort(),A.ySubscriptXOffset=N.parseShort(),A.ySubscriptYOffset=N.parseShort(),A.ySuperscriptXSize=N.parseShort(),A.ySuperscriptYSize=N.parseShort(),A.ySuperscriptXOffset=N.parseShort(),A.ySuperscriptYOffset=N.parseShort(),A.yStrikeoutSize=N.parseShort(),A.yStrikeoutPosition=N.parseShort(),A.sFamilyClass=N.parseShort(),A.panose=[];for(var V=0;V<10;V++)A.panose[V]=N.parseByte();return A.ulUnicodeRange1=N.parseULong(),A.ulUnicodeRange2=N.parseULong(),A.ulUnicodeRange3=N.parseULong(),A.ulUnicodeRange4=N.parseULong(),A.achVendID=String.fromCharCode(N.parseByte(),N.parseByte(),N.parseByte(),N.parseByte()),A.fsSelection=N.parseUShort(),A.usFirstCharIndex=N.parseUShort(),A.usLastCharIndex=N.parseUShort(),A.sTypoAscender=N.parseShort(),A.sTypoDescender=N.parseShort(),A.sTypoLineGap=N.parseShort(),A.usWinAscent=N.parseUShort(),A.usWinDescent=N.parseUShort(),1<=A.version&&(A.ulCodePageRange1=N.parseULong(),A.ulCodePageRange2=N.parseULong()),2<=A.version&&(A.sxHeight=N.parseShort(),A.sCapHeight=N.parseShort(),A.usDefaultChar=N.parseUShort(),A.usBreakChar=N.parseUShort(),A.usMaxContent=N.parseUShort()),A},make:function(S){return new Ne.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],S)},unicodeRanges:Or,getUnicodeRange:function(S){for(var C=0;C<Or.length;C+=1){var A=Or[C];if(S>=A.begin&&S<A.end)return C}return-1}},yn={parse:function(S,C){var A={},N=new Le.Parser(S,C);switch(A.version=N.parseVersion(),A.italicAngle=N.parseFixed(),A.underlinePosition=N.parseShort(),A.underlineThickness=N.parseShort(),A.isFixedPitch=N.parseULong(),A.minMemType42=N.parseULong(),A.maxMemType42=N.parseULong(),A.minMemType1=N.parseULong(),A.maxMemType1=N.parseULong(),A.version){case 1:A.names=ke.slice();break;case 2:A.numberOfGlyphs=N.parseUShort(),A.glyphNameIndex=new Array(A.numberOfGlyphs);for(var V=0;V<A.numberOfGlyphs;V++)A.glyphNameIndex[V]=N.parseUShort();A.names=[];for(var Q,te=0;te<A.numberOfGlyphs;te++)A.glyphNameIndex[te]>=ke.length&&(Q=N.parseChar(),A.names.push(N.parseString(Q)));break;case 2.5:A.numberOfGlyphs=N.parseUShort(),A.offset=new Array(A.numberOfGlyphs);for(var le=0;le<A.numberOfGlyphs;le++)A.offset[le]=N.parseChar()}return A},make:function(){return new Ne.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},On=new Array(9),Vo=(On[1]=function(){var S=this.offset+this.relativeOffset,C=this.parseUShort();return C===1?{substFormat:1,coverage:this.parsePointer(Me.coverage),deltaGlyphId:this.parseUShort()}:C===2?{substFormat:2,coverage:this.parsePointer(Me.coverage),substitute:this.parseOffset16List()}:void F.assert(!1,"0x"+S.toString(16)+": lookup type 1 format must be 1 or 2.")},On[2]=function(){var S=this.parseUShort();return F.argument(S===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(Me.coverage),sequences:this.parseListOfLists()}},On[3]=function(){var S=this.parseUShort();return F.argument(S===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(Me.coverage),alternateSets:this.parseListOfLists()}},On[4]=function(){var S=this.parseUShort();return F.argument(S===1,"GSUB ligature table identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(Me.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:Me.uShort,lookupListIndex:Me.uShort});On[5]=function(){var S,C,A=this.offset+this.relativeOffset,N=this.parseUShort();return N===1?{substFormat:N,coverage:this.parsePointer(Me.coverage),ruleSets:this.parseListOfLists(function(){var V=this.parseUShort(),Q=this.parseUShort();return{input:this.parseUShortList(V-1),lookupRecords:this.parseRecordList(Q,Vo)}})}:N===2?{substFormat:N,coverage:this.parsePointer(Me.coverage),classDef:this.parsePointer(Me.classDef),classSets:this.parseListOfLists(function(){var V=this.parseUShort(),Q=this.parseUShort();return{classes:this.parseUShortList(V-1),lookupRecords:this.parseRecordList(Q,Vo)}})}:N===3?(S=this.parseUShort(),C=this.parseUShort(),{substFormat:N,coverages:this.parseList(S,Me.pointer(Me.coverage)),lookupRecords:this.parseRecordList(C,Vo)}):void F.assert(!1,"0x"+A.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},On[6]=function(){var S=this.offset+this.relativeOffset,C=this.parseUShort();return C===1?{substFormat:1,coverage:this.parsePointer(Me.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Vo)}})}:C===2?{substFormat:2,coverage:this.parsePointer(Me.coverage),backtrackClassDef:this.parsePointer(Me.classDef),inputClassDef:this.parsePointer(Me.classDef),lookaheadClassDef:this.parsePointer(Me.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Vo)}})}:C===3?{substFormat:3,backtrackCoverage:this.parseList(Me.pointer(Me.coverage)),inputCoverage:this.parseList(Me.pointer(Me.coverage)),lookaheadCoverage:this.parseList(Me.pointer(Me.coverage)),lookupRecords:this.parseRecordList(Vo)}:void F.assert(!1,"0x"+S.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},On[7]=function(){var S=this.parseUShort(),S=(F.argument(S===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),C=new Me(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:S,extension:On[S].call(C)}},On[8]=function(){var S=this.parseUShort();return F.argument(S===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(Me.coverage),backtrackCoverage:this.parseList(Me.pointer(Me.coverage)),lookaheadCoverage:this.parseList(Me.pointer(Me.coverage)),substitutes:this.parseUShortList()}};var mi=new Array(9);mi[1]=function(S){return S.substFormat===1?new Ne.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ne.Coverage(S.coverage)},{name:"deltaGlyphID",type:"USHORT",value:S.deltaGlyphId}]):new Ne.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Ne.Coverage(S.coverage)}].concat(Ne.ushortList("substitute",S.substitute)))},mi[3]=function(S){return F.assert(S.substFormat===1,"Lookup type 3 substFormat must be 1."),new Ne.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ne.Coverage(S.coverage)}].concat(Ne.tableList("altSet",S.alternateSets,function(C){return new Ne.Table("alternateSetTable",Ne.ushortList("alternate",C))})))},mi[4]=function(S){return F.assert(S.substFormat===1,"Lookup type 4 substFormat must be 1."),new Ne.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ne.Coverage(S.coverage)}].concat(Ne.tableList("ligSet",S.ligatureSets,function(C){return new Ne.Table("ligatureSetTable",Ne.tableList("ligature",C,function(A){return new Ne.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:A.ligGlyph}].concat(Ne.ushortList("component",A.components,A.components.length+1)))}))})))};var As={parse:function(S,C){return C=(S=new Me(S,C=C||0)).parseVersion(1),F.argument(C===1||C===1.1,"Unsupported GSUB table version."),C===1?{version:C,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(On)}:{version:C,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(On),variations:S.parseFeatureVariationsList()}},make:function(S){return new Ne.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ne.ScriptList(S.scripts)},{name:"features",type:"TABLE",value:new Ne.FeatureList(S.features)},{name:"lookups",type:"TABLE",value:new Ne.LookupList(S.lookups,mi)}])}},Rs={parse:function(S,C){for(var A=new Le.Parser(S,C),N=A.parseULong(),V=(F.argument(N===1,"Unsupported META table version."),A.parseULong(),A.parseULong(),A.parseULong()),Q={},te=0;te<V;te++){var le=A.parseTag(),ge=A.parseULong(),me=A.parseULong(),ge=W.UTF8(S,C+ge,me);Q[le]=ge}return Q},make:function(S){var C,A=Object.keys(S).length,N="",V=16+12*A,Q=new Ne.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:V},{name:"numTags",type:"ULONG",value:A}]);for(C in S){var te=N.length;N+=S[C],Q.fields.push({name:"tag "+C,type:"TAG",value:C}),Q.fields.push({name:"offset "+C,type:"ULONG",value:V+te}),Q.fields.push({name:"length "+C,type:"ULONG",value:S[C].length})}return Q.fields.push({name:"stringPool",type:"CHARARRAY",value:N}),Q}};function Wo(S){return Math.log(S)/Math.log(2)|0}function Ho(S){for(;S.length%4!=0;)S.push(0);for(var C=0,A=0;A<S.length;A+=4)C+=(S[A]<<24)+(S[A+1]<<16)+(S[A+2]<<8)+S[A+3];return C%=Math.pow(2,32)}function Tl(S,C,A,N){return new Ne.Record("Table Record",[{name:"tag",type:"TAG",value:S!==void 0?S:""},{name:"checkSum",type:"ULONG",value:C!==void 0?C:0},{name:"offset",type:"ULONG",value:A!==void 0?A:0},{name:"length",type:"ULONG",value:N!==void 0?N:0}])}function Pl(S){for(var C=new Ne.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),A=(C.tables=S,C.numTables=S.length,Math.pow(2,Wo(C.numTables))),N=(C.searchRange=16*A,C.entrySelector=Wo(A),C.rangeShift=16*C.numTables-C.searchRange,[]),V=[],Q=C.sizeOf()+Tl().sizeOf()*C.numTables;Q%4!=0;)Q+=1,V.push({name:"padding",type:"BYTE",value:0});for(var te=0;te<S.length;te+=1){var le=S[te],me=(F.argument(le.tableName.length===4,"Table name"+le.tableName+" is invalid."),le.sizeOf()),ge=Tl(le.tableName,Ho(le.encode()),Q,me);for(N.push({name:ge.tag+" Table Record",type:"RECORD",value:ge}),V.push({name:le.tableName+" table",type:"RECORD",value:le}),Q+=me,F.argument(!isNaN(Q),"Something went wrong calculating the offset.");Q%4!=0;)Q+=1,V.push({name:"padding",type:"BYTE",value:0})}return N.sort(function(Ce,Ue){return Ce.value.tag>Ue.value.tag?1:-1}),C.fields=C.fields.concat(N),C.fields=C.fields.concat(V),C}function gi(S,C,A){for(var N=0;N<C.length;N+=1){var V=S.charToGlyphIndex(C[N]);if(0<V)return S.glyphs.get(V).getMetrics()}return A}var Ol={make:Pl,fontToTable:function(S){for(var C,A=[],N=[],V=[],Q=[],te=[],le=[],me=[],ge=0,Ce=0,Ue=0,Ie=0,we=0,Ke=0;Ke<S.glyphs.length;Ke+=1){var Ge=S.glyphs.get(Ke),$e=0|Ge.unicode;if(isNaN(Ge.advanceWidth))throw new Error("Glyph "+Ge.name+" ("+Ke+"): advanceWidth is not a number.");($e<C||C===void 0)&&0<$e&&(C=$e),ge<$e&&(ge=$e);var $e=Dr.getUnicodeRange($e);if($e<32)Ce|=1<<$e;else if($e<64)Ue|=1<<$e-32;else if($e<96)Ie|=1<<$e-64;else{if(!($e<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");we|=1<<$e-96}Ge.name!==".notdef"&&($e=Ge.getMetrics(),A.push($e.xMin),N.push($e.yMin),V.push($e.xMax),Q.push($e.yMax),le.push($e.leftSideBearing),me.push($e.rightSideBearing),te.push(Ge.advanceWidth))}var Fe,Be={xMin:Math.min.apply(null,A),yMin:Math.min.apply(null,N),xMax:Math.max.apply(null,V),yMax:Math.max.apply(null,Q),advanceWidthMax:Math.max.apply(null,te),advanceWidthAvg:(function(rr){for(var oo=0,To=0;To<rr.length;To+=1)oo+=rr[To];return oo/rr.length})(te),minLeftSideBearing:Math.min.apply(null,le),maxLeftSideBearing:Math.max.apply(null,le),minRightSideBearing:Math.min.apply(null,me)},St=(Be.ascender=S.ascender,Be.descender=S.descender,zo.make({flags:3,unitsPerEm:S.unitsPerEm,xMin:Be.xMin,yMin:Be.yMin,xMax:Be.xMax,yMax:Be.yMax,lowestRecPPEM:3,createdTimestamp:S.createdTimestamp})),Nt=xe.make({ascender:Be.ascender,descender:Be.descender,advanceWidthMax:Be.advanceWidthMax,minLeftSideBearing:Be.minLeftSideBearing,minRightSideBearing:Be.minRightSideBearing,xMaxExtent:Be.maxLeftSideBearing+(Be.xMax-Be.xMin),numberOfHMetrics:S.glyphs.length}),_t=Ze.make(S.glyphs.length),jt=Dr.make({xAvgCharWidth:Math.round(Be.advanceWidthAvg),usWeightClass:S.tables.os2.usWeightClass,usWidthClass:S.tables.os2.usWidthClass,usFirstCharIndex:C,usLastCharIndex:ge,ulUnicodeRange1:Ce,ulUnicodeRange2:Ue,ulUnicodeRange3:Ie,ulUnicodeRange4:we,fsSelection:S.tables.os2.fsSelection,sTypoAscender:Be.ascender,sTypoDescender:Be.descender,sTypoLineGap:0,usWinAscent:Be.yMax,usWinDescent:Math.abs(Be.yMin),ulCodePageRange1:1,sxHeight:gi(S,"xyvw",{yMax:Math.round(Be.ascender/2)}).yMax,sCapHeight:gi(S,"HIKLEFJMNTZBDPRAGOQSUVWXY",Be).yMax,usDefaultChar:S.hasChar(" ")?32:0,usBreakChar:S.hasChar(" ")?32:0}),Ft=et.make(S.glyphs),Qt=ae.make(S.glyphs),ar=S.getEnglishName("fontFamily"),er=S.getEnglishName("fontSubfamily"),tr=ar+" "+er,vr=(vr=S.getEnglishName("postScriptName"))||ar.replace(/\s/g,"")+"-"+er,xr={};for(Fe in S.names)xr[Fe]=S.names[Fe];xr.uniqueID||(xr.uniqueID={en:S.getEnglishName("manufacturer")+":"+tr}),xr.postScriptName||(xr.postScriptName={en:vr}),xr.preferredFamily||(xr.preferredFamily=S.names.fontFamily),xr.preferredSubfamily||(xr.preferredSubfamily=S.names.fontSubfamily);var Nr=[],Lr=qr.make(xr,Nr),Nr=0<Nr.length?mt.make(Nr):void 0,wn=yn.make(),tr=Tn.make(S.glyphs,{version:S.getEnglishName("version"),fullName:tr,familyName:ar,weightName:er,postScriptName:vr,unitsPerEm:S.unitsPerEm,fontBBox:[0,Be.yMin,Be.ascender,Be.advanceWidthMax]}),ar=S.metas&&0<Object.keys(S.metas).length?Rs.make(S.metas):void 0,er=[St,Nt,_t,jt,Lr,Qt,wn,tr,Ft];Nr&&er.push(Nr),S.tables.gsub&&er.push(As.make(S.tables.gsub)),ar&&er.push(ar);for(var $r=Ho((vr=Pl(er)).encode()),pr=vr.fields,Br=!1,cr=0;cr<pr.length;cr+=1)if(pr[cr].name==="head table"){pr[cr].value.checkSumAdjustment=2981146554-$r,Br=!0;break}if(Br)return vr;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:Ho};function Ds(S,C){for(var A=0,N=S.length-1;A<=N;){var V=A+N>>>1,Q=S[V].tag;if(Q===C)return V;Q<C?A=1+V:N=V-1}return-A-1}function qo(S,C){for(var A=0,N=S.length-1;A<=N;){var V=A+N>>>1,Q=S[V];if(Q===C)return V;Q<C?A=1+V:N=V-1}return-A-1}function Ml(S,C){for(var A=0,N=S.length-1;A<=N;){var V,Q=A+N>>>1,te=(V=S[Q]).start;if(te===C)return V;te<C?A=1+Q:N=Q-1}if(0<A)return C>(V=S[A-1]).end?0:V}function $o(S,C){this.font=S,this.tableName=C}function Xt(S){$o.call(this,S,"gpos")}function Mn(S){$o.call(this,S,"gsub")}function va(S,C,A){for(var N=S.subtables,V=0;V<N.length;V++){var Q=N[V];if(Q.substFormat===C)return Q}if(A)return N.push(A),A}function yi(S){for(var C=new ArrayBuffer(S.length),A=new Uint8Array(C),N=0;N<S.length;++N)A[N]=S[N];return C}function ko(S,C){if(!S)throw C}function ba(S,C,A,N,V){var Q=0<(C&N)?(Q=S.parseByte(),A+(Q=(C&V)==0?-Q:Q)):0<(C&V)?A:A+S.parseShort();return Q}function Il(S,C,A){var N,V=new Le.Parser(C,A);if(S.numberOfContours=V.parseShort(),S._xMin=V.parseShort(),S._yMin=V.parseShort(),S._xMax=V.parseShort(),S._yMax=V.parseShort(),0<S.numberOfContours){for(var Q=S.endPointIndices=[],te=0;te<S.numberOfContours;te+=1)Q.push(V.parseUShort());S.instructionLength=V.parseUShort(),S.instructions=[];for(var le=0;le<S.instructionLength;le+=1)S.instructions.push(V.parseByte());for(var me=Q[Q.length-1]+1,ge=[],Ce=0;Ce<me;Ce+=1)if(N=V.parseByte(),ge.push(N),0<(8&N))for(var Ue=V.parseByte(),Ie=0;Ie<Ue;Ie+=1)ge.push(N),Ce+=1;if(F.argument(ge.length===me,"Bad flags."),0<Q.length){var we,Ke=[];if(0<me){for(var Ge=0;Ge<me;Ge+=1)N=ge[Ge],(we={}).onCurve=!!(1&N),we.lastPointOfContour=0<=Q.indexOf(Ge),Ke.push(we);for(var $e=0,Fe=0;Fe<me;Fe+=1)N=ge[Fe],(we=Ke[Fe]).x=ba(V,N,$e,2,16),$e=we.x;for(var Be=0,St=0;St<me;St+=1)N=ge[St],(we=Ke[St]).y=ba(V,N,Be,4,32),Be=we.y}S.points=Ke}else S.points=[]}else if(S.numberOfContours===0)S.points=[];else{S.isComposite=!0,S.points=[],S.components=[];for(var Nt=!0;Nt;){ge=V.parseUShort();var _t={glyphIndex:V.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&ge)?0<(2&ge)?(_t.dx=V.parseShort(),_t.dy=V.parseShort()):_t.matchedPoints=[V.parseUShort(),V.parseUShort()]:0<(2&ge)?(_t.dx=V.parseChar(),_t.dy=V.parseChar()):_t.matchedPoints=[V.parseByte(),V.parseByte()],0<(8&ge)?_t.xScale=_t.yScale=V.parseF2Dot14():0<(64&ge)?(_t.xScale=V.parseF2Dot14(),_t.yScale=V.parseF2Dot14()):0<(128&ge)&&(_t.xScale=V.parseF2Dot14(),_t.scale01=V.parseF2Dot14(),_t.scale10=V.parseF2Dot14(),_t.yScale=V.parseF2Dot14()),S.components.push(_t),Nt=!!(32&ge)}if(256&ge){S.instructionLength=V.parseUShort(),S.instructions=[];for(var jt=0;jt<S.instructionLength;jt+=1)S.instructions.push(V.parseByte())}}}function Ls(S,C){for(var A=[],N=0;N<S.length;N+=1){var V=S[N],V={x:C.xScale*V.x+C.scale01*V.y+C.dx,y:C.scale10*V.x+C.yScale*V.y+C.dy,onCurve:V.onCurve,lastPointOfContour:V.lastPointOfContour};A.push(V)}return A}function Ns(S){var C=new K;if(S)for(var A=(function(Ue){for(var Ie=[],we=[],Ke=0;Ke<Ue.length;Ke+=1){var Ge=Ue[Ke];we.push(Ge),Ge.lastPointOfContour&&(Ie.push(we),we=[])}return F.argument(we.length===0,"There are still points left in the current contour."),Ie})(S),N=0;N<A.length;++N){var V,Q=A[N],te=Q[Q.length-1],le=Q[0];te.onCurve?C.moveTo(te.x,te.y):le.onCurve?C.moveTo(le.x,le.y):(V={x:.5*(te.x+le.x),y:.5*(te.y+le.y)},C.moveTo(V.x,V.y));for(var me=0;me<Q.length;++me){var ge,Ce=te,te=le,le=Q[(me+1)%Q.length];te.onCurve?C.lineTo(te.x,te.y):(ge=le,Ce.onCurve||(te.x,Ce.x,te.y,Ce.y),le.onCurve||(ge={x:.5*(te.x+le.x),y:.5*(te.y+le.y)}),C.quadraticCurveTo(te.x,te.y,ge.x,ge.y))}C.closePath()}return C}function mo(S,C){if(C.isComposite)for(var A=0;A<C.components.length;A+=1){var N=C.components[A],V=S.get(N.glyphIndex);if(V.getPath(),V.points){var Q=void 0;if(N.matchedPoints===void 0)Q=Ls(V.points,N);else{if(N.matchedPoints[0]>C.points.length-1||N.matchedPoints[1]>V.points.length-1)throw Error("Matched points out of range in "+C.name);var te=C.points[N.matchedPoints[0]],le=V.points[N.matchedPoints[1]],N={xScale:N.xScale,scale01:N.scale01,scale10:N.scale10,yScale:N.yScale,dx:0,dy:0},le=Ls([le],N)[0];N.dx=te.x-le.x,N.dy=te.y-le.y,Q=Ls(V.points,N)}C.points=C.points.concat(Q)}}return Ns(C.points)}(Xt.prototype=$o.prototype={searchTag:Ds,binSearch:qo,getTable:function(S){var C=this.font.tables[this.tableName];return C=!C&&S?this.font.tables[this.tableName]=this.createDefaultTable():C},getScriptNames:function(){var S=this.getTable();return S?S.scripts.map(function(C){return C.tag}):[]},getDefaultScriptName:function(){var S=this.getTable();if(S){for(var C=!1,A=0;A<S.scripts.length;A++){var N=S.scripts[A].tag;if(N==="DFLT")return N;N==="latn"&&(C=!0)}return C?"latn":void 0}},getScriptTable:function(S,C){var A,N=this.getTable(C);if(N)return A=N.scripts,0<=(N=Ds(N.scripts,S=S||"DFLT"))?A[N].script:C?(A.splice(-1-N,0,C={tag:S,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),C.script):void 0},getLangSysTable:function(V,C,A){var N,V=this.getScriptTable(V,A);if(V)return C&&C!=="dflt"&&C!=="DFLT"?0<=(N=Ds(V.langSysRecords,C))?V.langSysRecords[N].langSys:A?(V.langSysRecords.splice(-1-N,0,A={tag:C,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),A.langSys):void 0:V.defaultLangSys},getFeatureTable:function(S,C,A,N){if(S=this.getLangSysTable(S,C,N),S){for(var V,Q=S.featureIndexes,te=this.font.tables[this.tableName].features,le=0;le<Q.length;le++)if((V=te[Q[le]]).tag===A)return V.feature;if(N)return C=te.length,F.assert(C===0||A>=te[C-1].tag,"Features must be added in alphabetical order."),te.push(V={tag:A,feature:{params:0,lookupListIndexes:[]}}),Q.push(C),V.feature}},getLookupTables:function(Q,C,A,N,V){var Q=this.getFeatureTable(Q,C,A,V),te=[];if(Q){for(var le,me=Q.lookupListIndexes,ge=this.font.tables[this.tableName].lookups,Ce=0;Ce<me.length;Ce++)(le=ge[me[Ce]]).lookupType===N&&te.push(le);if(te.length===0&&V)return C=ge.length,ge.push(le={lookupType:N,lookupFlag:0,subtables:[],markFilteringSet:void 0}),me.push(C),[le]}return te},getGlyphClass:function(S,C){switch(S.format){case 1:return S.startGlyph<=C&&C<S.startGlyph+S.classes.length?S.classes[C-S.startGlyph]:0;case 2:var A=Ml(S.ranges,C);return A?A.classId:0}},getCoverageIndex:function(S,C){switch(S.format){case 1:var A=qo(S.glyphs,C);return 0<=A?A:-1;case 2:return A=Ml(S.ranges,C),A?A.index+C-A.start:-1}},expandCoverage:function(S){if(S.format===1)return S.glyphs;for(var C=[],A=S.ranges,N=0;N<A.length;N++)for(var V=A[N],Q=V.start,te=V.end,le=Q;le<=te;le++)C.push(le);return C}}).init=function(){var S=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(S)},Xt.prototype.getKerningValue=function(S,C,A){for(var N=0;N<S.length;N++)for(var V=S[N].subtables,Q=0;Q<V.length;Q++){var te=V[Q],le=this.getCoverageIndex(te.coverage,C);if(!(le<0))switch(te.posFormat){case 1:for(var me=te.pairSets[le],ge=0;ge<me.length;ge++){var Ce=me[ge];if(Ce.secondGlyph===A)return Ce.value1&&Ce.value1.xAdvance||0}break;case 2:var Ie=this.getGlyphClass(te.classDef1,C),Ue=this.getGlyphClass(te.classDef2,A),Ie=te.classRecords[Ie][Ue];return Ie.value1&&Ie.value1.xAdvance||0}}return 0},Xt.prototype.getKerningTables=function(S,C){if(this.font.tables.gpos)return this.getLookupTables(S,C,"kern",2)},(Mn.prototype=$o.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Mn.prototype.getSingle=function(S,C,A){for(var N=[],V=this.getLookupTables(C,A,S,1),Q=0;Q<V.length;Q++)for(var te=V[Q].subtables,le=0;le<te.length;le++){var me=te[le],ge=this.expandCoverage(me.coverage),Ce=void 0;if(me.substFormat===1)for(var Ue=me.deltaGlyphId,Ce=0;Ce<ge.length;Ce++){var Ie=ge[Ce];N.push({sub:Ie,by:Ie+Ue})}else{var we=me.substitute;for(Ce=0;Ce<ge.length;Ce++)N.push({sub:ge[Ce],by:we[Ce]})}}return N},Mn.prototype.getAlternates=function(S,C,A){for(var N=[],V=this.getLookupTables(C,A,S,3),Q=0;Q<V.length;Q++)for(var te=V[Q].subtables,le=0;le<te.length;le++)for(var me=te[le],ge=this.expandCoverage(me.coverage),Ce=me.alternateSets,Ue=0;Ue<ge.length;Ue++)N.push({sub:ge[Ue],by:Ce[Ue]});return N},Mn.prototype.getLigatures=function(S,C,A){for(var N=[],V=this.getLookupTables(C,A,S,4),Q=0;Q<V.length;Q++)for(var te=V[Q].subtables,le=0;le<te.length;le++)for(var me=te[le],ge=this.expandCoverage(me.coverage),Ce=me.ligatureSets,Ue=0;Ue<ge.length;Ue++)for(var Ie=ge[Ue],we=Ce[Ue],Ke=0;Ke<we.length;Ke++){var Ge=we[Ke];N.push({sub:[Ie].concat(Ge.components),by:Ge.ligGlyph})}return N},Mn.prototype.addSingle=function(S,C,A,N){A=va(this.getLookupTables(A,N,S,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),F.assert(A.coverage.format===1,"Ligature: unable to modify coverage table format "+A.coverage.format),N=C.sub,S=this.binSearch(A.coverage.glyphs,N),S<0&&(A.coverage.glyphs.splice(S=-1-S,0,N),A.substitute.splice(S,0,0)),A.substitute[S]=C.by},Mn.prototype.addAlternate=function(S,C,A,N){A=va(this.getLookupTables(A,N,S,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),F.assert(A.coverage.format===1,"Ligature: unable to modify coverage table format "+A.coverage.format),N=C.sub,S=this.binSearch(A.coverage.glyphs,N),S<0&&(A.coverage.glyphs.splice(S=-1-S,0,N),A.alternateSets.splice(S,0,0)),A.alternateSets[S]=C.by},Mn.prototype.addLigature=function(Q,me,le,V){var le=this.getLookupTables(le,V,Q,4,!0)[0],V=le.subtables[0],Q=(V||(le.subtables[0]=V={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),F.assert(V.coverage.format===1,"Ligature: unable to modify coverage table format "+V.coverage.format),me.sub[0]),te=me.sub.slice(1),le={ligGlyph:me.by,components:te},me=this.binSearch(V.coverage.glyphs,Q);if(0<=me){for(var ge=V.ligatureSets[me],Ce=0;Ce<ge.length;Ce++)if((function(Ue,Ie){var we=Ue.length;if(we===Ie.length){for(var Ke=0;Ke<we;Ke++)if(Ue[Ke]!==Ie[Ke])return;return 1}})(ge[Ce].components,te))return;ge.push(le)}else V.coverage.glyphs.splice(me=-1-me,0,Q),V.ligatureSets.splice(me,0,[le])},Mn.prototype.getFeature=function(S,C,A){if(/ss\d\d/.test(S))return this.getSingle(S,C,A);switch(S){case"aalt":case"salt":return this.getSingle(S,C,A).concat(this.getAlternates(S,C,A));case"dlig":case"liga":case"rlig":return this.getLigatures(S,C,A)}},Mn.prototype.add=function(S,C,A,N){if(/ss\d\d/.test(S))return this.addSingle(S,C,A,N);switch(S){case"aalt":case"salt":return typeof C.by=="number"?this.addSingle(S,C,A,N):this.addAlternate(S,C,A,N);case"dlig":case"liga":case"rlig":return this.addLigature(S,C,A,N)}};var Qn={getPath:Ns,parse:function(S,C,A,N){for(var V=new bt.GlyphSet(N),Q=0;Q<A.length-1;Q+=1){var te=A[Q];te!==A[Q+1]?V.push(Q,bt.ttfGlyphLoader(N,Q,Il,S,C+te,mo)):V.push(Q,bt.glyphLoader(N,Q))}return V}};function eo(S){this.font=S,this.getCommands=function(C){return Qn.getPath(C).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Us(S){return S}function Xo(S){return Math.sign(S)*Math.round(Math.abs(S))}function go(S){return Math.sign(S)*Math.round(Math.abs(2*S))/2}function Mc(S){return Math.sign(S)*(Math.round(Math.abs(S)+.5)-.5)}function Al(S){return Math.sign(S)*Math.ceil(Math.abs(S))}function Fs(S){return Math.sign(S)*Math.floor(Math.abs(S))}function Rl(S){var C=this.srPeriod,A=this.srPhase,N=1;return S<0&&(S=-S,N=-1),S+=this.srThreshold-A,S=Math.trunc(S/C)*C,(S+=A)<0?A*N:S*N}var In={x:1,y:0,axis:"x",distance:function(S,C,A,N){return(A?S.xo:S.x)-(N?C.xo:C.x)},interpolate:function(S,C,A,N){var V,Q,te,le,me,ge,Ce;if(!N||N===this)return V=S.xo-C.xo,Q=S.xo-A.xo,me=C.x-C.xo,ge=A.x-A.xo,(Ce=(te=Math.abs(V))+(le=Math.abs(Q)))===0?void(S.x=S.xo+(me+ge)/2):void(S.x=S.xo+(me*le+ge*te)/Ce);V=N.distance(S,C,!0,!0),Q=N.distance(S,A,!0,!0),me=N.distance(C,C,!1,!0),ge=N.distance(A,A,!1,!0),(Ce=(te=Math.abs(V))+(le=Math.abs(Q)))===0?In.setRelative(S,S,(me+ge)/2,N,!0):In.setRelative(S,S,(me*le+ge*te)/Ce,N,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(S,C,A,N,V){var Q,te;N&&N!==this?(Q=V?C.xo:C.x,te=V?C.yo:C.y,Q+=A*N.x,te+=A*N.y,S.x=Q+(S.y-te)/N.normalSlope):S.x=(V?C.xo:C.x)+A},slope:0,touch:function(S){S.xTouched=!0},touched:function(S){return S.xTouched},untouch:function(S){S.xTouched=!1}},vn={x:0,y:1,axis:"y",distance:function(S,C,A,N){return(A?S.yo:S.y)-(N?C.yo:C.y)},interpolate:function(S,C,A,N){var V,Q,te,le,me,ge,Ce;if(!N||N===this)return V=S.yo-C.yo,Q=S.yo-A.yo,me=C.y-C.yo,ge=A.y-A.yo,(Ce=(te=Math.abs(V))+(le=Math.abs(Q)))===0?void(S.y=S.yo+(me+ge)/2):void(S.y=S.yo+(me*le+ge*te)/Ce);V=N.distance(S,C,!0,!0),Q=N.distance(S,A,!0,!0),me=N.distance(C,C,!1,!0),ge=N.distance(A,A,!1,!0),(Ce=(te=Math.abs(V))+(le=Math.abs(Q)))===0?vn.setRelative(S,S,(me+ge)/2,N,!0):vn.setRelative(S,S,(me*le+ge*te)/Ce,N,!0)},normalSlope:0,setRelative:function(S,C,A,N,V){var Q,te;N&&N!==this?(Q=V?C.xo:C.x,te=V?C.yo:C.y,Q+=A*N.x,te+=A*N.y,S.y=te+N.normalSlope*(S.x-Q)):S.y=(V?C.yo:C.y)+A},slope:Number.POSITIVE_INFINITY,touch:function(S){S.yTouched=!0},touched:function(S){return S.yTouched},untouch:function(S){S.yTouched=!1}};function Yo(S,C){this.x=S,this.y=C,this.axis=void 0,this.slope=C/S,this.normalSlope=-S/C,Object.freeze(this)}function Bs(S,C){var A=Math.sqrt(S*S+C*C);return C/=A,(S/=A)===1&&C===0?In:S===0&&C===1?vn:new Yo(S,C)}function un(S,C,A,N){this.x=this.xo=Math.round(64*S)/64,this.y=this.yo=Math.round(64*C)/64,this.lastPointOfContour=A,this.onCurve=N,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(In),Object.freeze(vn),Yo.prototype.distance=function(S,C,A,N){return this.x*In.distance(S,C,A,N)+this.y*vn.distance(S,C,A,N)},Yo.prototype.interpolate=function(S,V,Q,N){var te=N.distance(S,V,!0,!0),le=N.distance(S,Q,!0,!0),V=N.distance(V,V,!1,!0),Q=N.distance(Q,Q,!1,!0),te=Math.abs(te),le=Math.abs(le),me=te+le;me===0?this.setRelative(S,S,(V+Q)/2,N,!0):this.setRelative(S,S,(V*le+Q*te)/me,N,!0)},Yo.prototype.setRelative=function(S,Q,me,ge,le){var te=le?Q.xo:Q.x,le=le?Q.yo:Q.y,Q=te+me*(ge=ge||this).x,te=le+me*ge.y,le=ge.normalSlope,me=this.slope,ge=S.x,Ce=S.y;S.x=(me*ge-le*Q+te-Ce)/(me-le),S.y=me*(S.x-ge)+Ce},Yo.prototype.touch=function(S){S.xTouched=!0,S.yTouched=!0},un.prototype.nextTouched=function(S){for(var C=this.nextPointOnContour;!S.touched(C)&&C!==this;)C=C.nextPointOnContour;return C},un.prototype.prevTouched=function(S){for(var C=this.prevPointOnContour;!S.touched(C)&&C!==this;)C=C.prevPointOnContour;return C};var to=Object.freeze(new un(0,0)),Ko={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function An(S,C){switch(this.env=S,this.stack=[],this.prog=C,S){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=In,this.round=Xo}}function vi(S){for(var C=S.tZone=new Array(S.gZone.length),A=0;A<C.length;A++)C[A]=new un(0,0)}function Dl(S,C){var A,N=S.prog,V=S.ip,Q=1;do if((A=N[++V])===88)Q++;else if(A===89)Q--;else if(A===64)V+=N[V+1]+1;else if(A===65)V+=2*N[V+1]+1;else if(176<=A&&A<=183)V+=A-176+1;else if(184<=A&&A<=191)V+=2*(A-184+1);else if(C&&Q===1&&A===27)break;while(0<Q);S.ip=V}function bi(S,C){h.DEBUG&&console.log(C.step,"SVTCA["+S.axis+"]"),C.fv=C.pv=C.dpv=S}function Gs(S,C){h.DEBUG&&console.log(C.step,"SPVTCA["+S.axis+"]"),C.pv=C.dpv=S}function wi(S,C){h.DEBUG&&console.log(C.step,"SFVTCA["+S.axis+"]"),C.fv=S}function wa(S,C){var A,V=C.stack,N=V.pop(),V=V.pop(),Q=C.z2[N],te=C.z1[V];h.DEBUG&&console.log("SPVTL["+S+"]",N,V),N=S?(A=Q.y-te.y,te.x-Q.x):(A=te.x-Q.x,te.y-Q.y),C.pv=C.dpv=Bs(A,N)}function ro(S,C){var A,V=C.stack,N=V.pop(),V=V.pop(),Q=C.z2[N],te=C.z1[V];h.DEBUG&&console.log("SFVTL["+S+"]",N,V),N=S?(A=Q.y-te.y,te.x-Q.x):(A=te.x-Q.x,te.y-Q.y),C.fv=Bs(A,N)}function zs(S){h.DEBUG&&console.log(S.step,"POP[]"),S.stack.pop()}function Vs(S,C){var A=C.stack.pop(),N=C.z0[A],V=C.fv,Q=C.pv,te=(h.DEBUG&&console.log(C.step,"MDAP["+S+"]",A),Q.distance(N,to));S&&(te=C.round(te)),V.setRelative(N,to,te,Q),V.touch(N),C.rp0=C.rp1=A}function _a(S,C){var A,N,V,Q=C.z2,te=Q.length-2;h.DEBUG&&console.log(C.step,"IUP["+S.axis+"]");for(var le=0;le<te;le++)A=Q[le],S.touched(A)||(N=A.prevTouched(S))!==A&&(N===(V=A.nextTouched(S))&&S.setRelative(A,A,S.distance(N,N,!1,!0),S,!0),S.interpolate(A,N,V,S))}function Ws(S,C){for(var A=C.stack,N=S?C.rp1:C.rp2,V=(S?C.z0:C.z1)[N],Q=C.fv,te=C.pv,le=C.loop,me=C.z2;le--;){var ge=A.pop(),Ce=me[ge],Ue=te.distance(V,V,!1,!0);Q.setRelative(Ce,Ce,Ue,te),Q.touch(Ce),h.DEBUG&&console.log(C.step,(1<C.loop?"loop "+(C.loop-le)+": ":"")+"SHP["+(S?"rp1":"rp2")+"]",ge)}C.loop=1}function Hs(S,C){for(var A=C.stack,te=S?C.rp1:C.rp2,N=(S?C.z0:C.z1)[te],V=C.fv,Q=C.pv,te=A.pop(),le=C.z2[C.contours[te]],me=le,ge=(h.DEBUG&&console.log(C.step,"SHC["+S+"]",te),Q.distance(N,N,!1,!0));me!==N&&V.setRelative(me,me,ge,Q),(me=me.nextPointOnContour)!==le;);}function xa(S,C){var A,N,le=C.stack,V=S?C.rp1:C.rp2,V=(S?C.z0:C.z1)[V],Q=C.fv,te=C.pv,le=le.pop();switch(h.DEBUG&&console.log(C.step,"SHZ["+S+"]",le),le){case 0:A=C.tZone;break;case 1:A=C.gZone;break;default:throw new Error("Invalid zone")}for(var me=te.distance(V,V,!1,!0),ge=A.length-2,Ce=0;Ce<ge;Ce++)N=A[Ce],Q.setRelative(N,N,me,te)}function nn(S,C){var N=C.stack,A=N.pop()/64,N=N.pop(),V=C.z1[N],Q=C.z0[C.rp0],te=C.fv,le=C.pv;te.setRelative(V,Q,A,le),te.touch(V),h.DEBUG&&console.log(C.step,"MSIRP["+S+"]",A,N),C.rp1=C.rp0,C.rp2=N,S&&(C.rp0=N)}function Co(S,C){var A=C.stack,le=A.pop(),A=A.pop(),N=C.z0[A],V=C.fv,Q=C.pv,te=C.cvt[le],le=(h.DEBUG&&console.log(C.step,"MIAP["+S+"]",le,"(",te,")",A),Q.distance(N,to));S&&(Math.abs(le-te)<C.cvCutIn&&(le=te),le=C.round(le)),V.setRelative(N,to,le,Q),C.zp0===0&&(N.xo=N.x,N.yo=N.y),V.touch(N),C.rp0=C.rp1=A}function _i(S,C){var A=C.stack,N=A.pop(),V=C.z2[N];h.DEBUG&&console.log(C.step,"GC["+S+"]",N),A.push(64*C.dpv.distance(V,to,S,!1))}function Jo(S,C){var N=C.stack,A=N.pop(),N=N.pop(),V=C.z1[A],Q=C.z0[N],Q=C.dpv.distance(Q,V,S,S);h.DEBUG&&console.log(C.step,"MD["+S+"]",A,N,"->",Q),C.stack.push(Math.round(64*Q))}function ja(S,C){var A=C.stack,N=A.pop(),V=C.fv,Q=C.pv,te=C.ppem,le=C.deltaBase+16*(S-1),me=C.deltaShift,ge=C.z0;h.DEBUG&&console.log(C.step,"DELTAP["+S+"]",N,A);for(var Ce=0;Ce<N;Ce++){var Ue=A.pop(),Ie=A.pop();le+((240&Ie)>>4)===te&&(0<=(Ie=(15&Ie)-8)&&Ie++,h.DEBUG&&console.log(C.step,"DELTAPFIX",Ue,"by",Ie*me),Ue=ge[Ue],V.setRelative(Ue,Ue,Ie*me,Q))}}function Zo(S,C){var A=C.stack,N=A.pop();h.DEBUG&&console.log(C.step,"ROUND[]"),A.push(64*C.round(N/64))}function qs(S,C){var A=C.stack,N=A.pop(),V=C.ppem,Q=C.deltaBase+16*(S-1),te=C.deltaShift;h.DEBUG&&console.log(C.step,"DELTAC["+S+"]",N,A);for(var le=0;le<N;le++){var me=A.pop(),ge=A.pop();Q+((240&ge)>>4)===V&&(0<=(ge=(15&ge)-8)&&ge++,ge=ge*te,h.DEBUG&&console.log(C.step,"DELTACFIX",me,"by",ge),C.cvt[me]+=ge)}}function Qo(S,C){var A,V=C.stack,N=V.pop(),V=V.pop(),Q=C.z2[N],te=C.z1[V];h.DEBUG&&console.log(C.step,"SDPVTL["+S+"]",N,V),N=S?(A=Q.y-te.y,te.x-Q.x):(A=te.x-Q.x,te.y-Q.y),C.dpv=Bs(A,N)}function Rn(S,C){var A=C.stack,N=C.prog,V=C.ip;h.DEBUG&&console.log(C.step,"PUSHB["+S+"]");for(var Q=0;Q<S;Q++)A.push(N[++V]);C.ip=V}function no(S,C){var A=C.ip,N=C.prog,V=C.stack;h.DEBUG&&console.log(C.ip,"PUSHW["+S+"]");for(var Q=0;Q<S;Q++){var te=N[++A]<<8|N[++A];32768&te&&(te=-(1+(65535^te))),V.push(te)}C.ip=A}function wt(S,C,A,N,V,Q){var te,le,ge=Q.stack,me=S&&ge.pop(),ge=ge.pop(),Ce=Q.rp0,Ce=Q.z0[Ce],Ue=Q.z1[ge],Ie=Q.minDis,we=Q.fv,Ke=Q.dpv,Ge=te=Ke.distance(Ue,Ce,!0,!0),$e=0<=Ge?1:-1;Ge=Math.abs(Ge),S&&(le=Q.cvt[me],N&&Math.abs(Ge-le)<Q.cvCutIn&&(Ge=le)),A&&Ge<Ie&&(Ge=Ie),N&&(Ge=Q.round(Ge)),we.setRelative(Ue,Ce,$e*Ge,Ke),we.touch(Ue),h.DEBUG&&console.log(Q.step,(S?"MIRP[":"MDRP[")+(C?"M":"m")+(A?">":"_")+(N?"R":"_")+(V===0?"Gr":V===1?"Bl":V===2?"Wh":"")+"]",S?me+"("+Q.cvt[me]+","+le+")":"",ge,"(d =",te,"->",$e*Ge,")"),Q.rp1=Q.rp0,Q.rp2=ge,C&&(Q.rp0=ge)}eo.prototype.exec=function(S,C){if(typeof C!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var A=this.font,N=this._prepState;if(!N||N.ppem!==C){var V=this._fpgmState;if(!V){An.prototype=Ko,(V=this._fpgmState=new An("fpgm",A.tables.fpgm)).funcs=[],V.font=A,h.DEBUG&&(console.log("---EXEC FPGM---"),V.step=-1);try{yo(V)}catch(ge){return console.log("Hinting error in FPGM:"+ge),void(this._errorState=3)}}An.prototype=V,(N=this._prepState=new An("prep",A.tables.prep)).ppem=C;var Q=A.tables.cvt;if(Q)for(var te=N.cvt=new Array(Q.length),le=C/A.unitsPerEm,me=0;me<Q.length;me++)te[me]=Q[me]*le;else N.cvt=[];h.DEBUG&&(console.log("---EXEC PREP---"),N.step=-1);try{yo(N)}catch(ge){this._errorState<2&&console.log("Hinting error in PREP:"+ge),this._errorState=2}}if(!(1<this._errorState))try{return Ic(S,N)}catch(ge){this._errorState<1&&(console.log("Hinting error:"+ge),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Ic=function(S,C){var A=C.ppem/C.font.unitsPerEm,N=A,V=S.components;if(An.prototype=C,V){for(var Q=C.font,te=[],le=[],me=0;me<V.length;me++){var ge=V[me],Ce=Q.glyphs.get(ge.glyphIndex),Ue=new An("glyf",Ce.instructions);h.DEBUG&&(console.log("---EXEC COMP "+me+"---"),Ue.step=-1),Ll(Ce,Ue,A,N);for(var Ie=Math.round(ge.dx*A),we=Math.round(ge.dy*N),Ke=Ue.gZone,Ge=Ue.contours,$e=0;$e<Ke.length;$e++){var Fe=Ke[$e];Fe.xTouched=Fe.yTouched=!1,Fe.xo=Fe.x=Fe.x+Ie,Fe.yo=Fe.y=Fe.y+we}var Be=te.length;te.push.apply(te,Ke);for(var St=0;St<Ge.length;St++)le.push(Ge[St]+Be)}S.instructions&&!Ue.inhibitGridFit&&((Ue=new An("glyf",S.instructions)).gZone=Ue.z0=Ue.z1=Ue.z2=te,Ue.contours=le,te.push(new un(0,0),new un(Math.round(S.advanceWidth*A),0)),h.DEBUG&&(console.log("---EXEC COMPOSITE---"),Ue.step=-1),yo(Ue),te.length-=2)}else Ue=new An("glyf",S.instructions),h.DEBUG&&(console.log("---EXEC GLYPH---"),Ue.step=-1),Ll(S,Ue,A,N),te=Ue.gZone;return te},Ll=function(S,C,A,N){for(var V,Q,te,le=S.points||[],me=le.length,ge=C.gZone=C.z0=C.z1=C.z2=[],Ce=C.contours=[],Ue=0;Ue<me;Ue++)V=le[Ue],ge[Ue]=new un(V.x*A,V.y*N,V.lastPointOfContour,V.onCurve);for(var Ie=0;Ie<me;Ie++)V=ge[Ie],Q||(Q=V,Ce.push(Ie)),V.lastPointOfContour?((V.nextPointOnContour=Q).prevPointOnContour=V,Q=void 0):(te=ge[Ie+1],(V.nextPointOnContour=te).prevPointOnContour=V);if(!C.inhibitGridFit){if(h.DEBUG){console.log("PROCESSING GLYPH",C.stack);for(var we=0;we<me;we++)console.log(we,ge[we].x,ge[we].y)}if(ge.push(new un(0,0),new un(Math.round(S.advanceWidth*A),0)),yo(C),ge.length-=2,h.DEBUG){console.log("FINISHED GLYPH",C.stack);for(var Ke=0;Ke<me;Ke++)console.log(Ke,ge[Ke].x,ge[Ke].y)}}},yo=function(S){var C=S.prog;if(C){var A,N=C.length;for(S.ip=0;S.ip<N;S.ip++){if(h.DEBUG&&S.step++,!(A=Ac[C[S.ip]]))throw new Error("unknown instruction: 0x"+Number(C[S.ip]).toString(16));A(S)}}},Ac=[bi.bind(void 0,vn),bi.bind(void 0,In),Gs.bind(void 0,vn),Gs.bind(void 0,In),wi.bind(void 0,vn),wi.bind(void 0,In),wa.bind(void 0,0),wa.bind(void 0,1),ro.bind(void 0,0),ro.bind(void 0,1),function(S){var C=(A=S.stack).pop(),A=A.pop();h.DEBUG&&console.log(S.step,"SPVFS[]",C,A),S.pv=S.dpv=Bs(A,C)},function(S){var C=(A=S.stack).pop(),A=A.pop();h.DEBUG&&console.log(S.step,"SPVFS[]",C,A),S.fv=Bs(A,C)},function(S){var C=S.stack,A=S.pv;h.DEBUG&&console.log(S.step,"GPV[]"),C.push(16384*A.x),C.push(16384*A.y)},function(S){var C=S.stack,A=S.fv;h.DEBUG&&console.log(S.step,"GFV[]"),C.push(16384*A.x),C.push(16384*A.y)},function(S){S.fv=S.pv,h.DEBUG&&console.log(S.step,"SFVTPV[]")},function(C){var A=(te=C.stack).pop(),N=te.pop(),V=te.pop(),Q=te.pop(),te=te.pop(),me=C.z0,Ce=C.z1,le=me[A],me=me[N],ge=Ce[V],Ce=Ce[Q],C=C.z2[te],A=(h.DEBUG&&console.log("ISECT[], ",A,N,V,Q,te),le.x),N=le.y,V=me.x,Q=me.y,te=ge.x,le=ge.y,me=Ce.x,ge=Ce.y,Ce=(A-V)*(le-ge)-(N-Q)*(te-me),Ue=A*Q-N*V,Ie=te*ge-le*me;C.x=(Ue*(te-me)-Ie*(A-V))/Ce,C.y=(Ue*(le-ge)-Ie*(N-Q))/Ce},function(S){S.rp0=S.stack.pop(),h.DEBUG&&console.log(S.step,"SRP0[]",S.rp0)},function(S){S.rp1=S.stack.pop(),h.DEBUG&&console.log(S.step,"SRP1[]",S.rp1)},function(S){S.rp2=S.stack.pop(),h.DEBUG&&console.log(S.step,"SRP2[]",S.rp2)},function(S){var C=S.stack.pop();switch(h.DEBUG&&console.log(S.step,"SZP0[]",C),S.zp0=C){case 0:S.tZone||vi(S),S.z0=S.tZone;break;case 1:S.z0=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){var C=S.stack.pop();switch(h.DEBUG&&console.log(S.step,"SZP1[]",C),S.zp1=C){case 0:S.tZone||vi(S),S.z1=S.tZone;break;case 1:S.z1=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){var C=S.stack.pop();switch(h.DEBUG&&console.log(S.step,"SZP2[]",C),S.zp2=C){case 0:S.tZone||vi(S),S.z2=S.tZone;break;case 1:S.z2=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){var C=S.stack.pop();switch(h.DEBUG&&console.log(S.step,"SZPS[]",C),S.zp0=S.zp1=S.zp2=C){case 0:S.tZone||vi(S),S.z0=S.z1=S.z2=S.tZone;break;case 1:S.z0=S.z1=S.z2=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){S.loop=S.stack.pop(),h.DEBUG&&console.log(S.step,"SLOOP[]",S.loop)},function(S){h.DEBUG&&console.log(S.step,"RTG[]"),S.round=Xo},function(S){h.DEBUG&&console.log(S.step,"RTHG[]"),S.round=Mc},function(S){var C=S.stack.pop();h.DEBUG&&console.log(S.step,"SMD[]",C),S.minDis=C/64},function(S){h.DEBUG&&console.log(S.step,"ELSE[]"),Dl(S,!1)},function(S){var C=S.stack.pop();h.DEBUG&&console.log(S.step,"JMPR[]",C),S.ip+=C-1},function(S){var C=S.stack.pop();h.DEBUG&&console.log(S.step,"SCVTCI[]",C),S.cvCutIn=C/64},void 0,void 0,function(S){var C=S.stack;h.DEBUG&&console.log(S.step,"DUP[]"),C.push(C[C.length-1])},zs,function(S){h.DEBUG&&console.log(S.step,"CLEAR[]"),S.stack.length=0},function(S){var C=S.stack,A=C.pop(),N=C.pop();h.DEBUG&&console.log(S.step,"SWAP[]"),C.push(A),C.push(N)},function(S){var C=S.stack;h.DEBUG&&console.log(S.step,"DEPTH[]"),C.push(C.length)},function(S){var C=S.stack,A=C.pop();h.DEBUG&&console.log(S.step,"CINDEX[]",A),C.push(C[C.length-A])},function(S){var C=S.stack,A=C.pop();h.DEBUG&&console.log(S.step,"MINDEX[]",A),C.push(C.splice(C.length-A,1)[0])},void 0,void 0,void 0,function(S){var C=(N=S.stack).pop(),A=N.pop(),N=(h.DEBUG&&console.log(S.step,"LOOPCALL[]",C,A),S.ip),V=S.prog;S.prog=S.funcs[C];for(var Q=0;Q<A;Q++)yo(S),h.DEBUG&&console.log(++S.step,Q+1<A?"next loopcall":"done loopcall",Q);S.ip=N,S.prog=V},function(S){var C=S.stack.pop(),A=(h.DEBUG&&console.log(S.step,"CALL[]",C),S.ip),N=S.prog;S.prog=S.funcs[C],yo(S),S.ip=A,S.prog=N,h.DEBUG&&console.log(++S.step,"returning from",C)},function(S){if(S.env!=="fpgm")throw new Error("FDEF not allowed here");var N=S.stack,C=S.prog,A=S.ip,N=N.pop(),V=A;for(h.DEBUG&&console.log(S.step,"FDEF[]",N);C[++A]!==45;);S.ip=A,S.funcs[N]=C.slice(V+1,A)},void 0,Vs.bind(void 0,0),Vs.bind(void 0,1),_a.bind(void 0,vn),_a.bind(void 0,In),Ws.bind(void 0,0),Ws.bind(void 0,1),Hs.bind(void 0,0),Hs.bind(void 0,1),xa.bind(void 0,0),xa.bind(void 0,1),function(S){for(var C=S.stack,A=S.loop,N=S.fv,V=C.pop()/64,Q=S.z2;A--;){var te=C.pop(),le=Q[te];h.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-A)+": ":"")+"SHPIX[]",te,V),N.setRelative(le,le,V),N.touch(le)}S.loop=1},function(S){for(var C=S.stack,A=S.rp1,N=S.rp2,V=S.loop,Q=S.z0[A],te=S.z1[N],le=S.fv,me=S.dpv,ge=S.z2;V--;){var Ce=C.pop(),Ue=ge[Ce];h.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-V)+": ":"")+"IP[]",Ce,A,"<->",N),le.interpolate(Ue,Q,te,me),le.touch(Ue)}S.loop=1},nn.bind(void 0,0),nn.bind(void 0,1),function(S){for(var C=S.stack,A=S.rp0,N=S.z0[A],V=S.loop,Q=S.fv,te=S.pv,le=S.z1;V--;){var me=C.pop(),ge=le[me];h.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-V)+": ":"")+"ALIGNRP[]",me),Q.setRelative(ge,N,0,te),Q.touch(ge)}S.loop=1},function(S){h.DEBUG&&console.log(S.step,"RTDG[]"),S.round=go},Co.bind(void 0,0),Co.bind(void 0,1),function(S){var C=S.prog,A=S.ip,N=S.stack,V=C[++A];h.DEBUG&&console.log(S.step,"NPUSHB[]",V);for(var Q=0;Q<V;Q++)N.push(C[++A]);S.ip=A},function(S){var C=S.ip,A=S.prog,N=S.stack,V=A[++C];h.DEBUG&&console.log(S.step,"NPUSHW[]",V);for(var Q=0;Q<V;Q++){var te=A[++C]<<8|A[++C];32768&te&&(te=-(1+(65535^te))),N.push(te)}S.ip=C},function(S){var N=S.stack,C=(C=S.store)||(S.store=[]),A=N.pop(),N=N.pop();h.DEBUG&&console.log(S.step,"WS",A,N),C[N]=A},function(V){var C=V.stack,A=V.store,N=C.pop(),V=(h.DEBUG&&console.log(V.step,"RS",N),A&&A[N]||0);C.push(V)},function(S){var C=(A=S.stack).pop(),A=A.pop();h.DEBUG&&console.log(S.step,"WCVTP",C,A),S.cvt[A]=C/64},function(S){var C=S.stack,A=C.pop();h.DEBUG&&console.log(S.step,"RCVT",A),C.push(64*S.cvt[A])},_i.bind(void 0,0),_i.bind(void 0,1),void 0,Jo.bind(void 0,0),Jo.bind(void 0,1),function(S){h.DEBUG&&console.log(S.step,"MPPEM[]"),S.stack.push(S.ppem)},void 0,function(S){h.DEBUG&&console.log(S.step,"FLIPON[]"),S.autoFlip=!0},void 0,void 0,function(S){var C=S.stack,A=C.pop(),N=C.pop();h.DEBUG&&console.log(S.step,"LT[]",A,N),C.push(N<A?1:0)},function(S){var C=S.stack,A=C.pop(),N=C.pop();h.DEBUG&&console.log(S.step,"LTEQ[]",A,N),C.push(N<=A?1:0)},function(S){var C=S.stack,A=C.pop(),N=C.pop();h.DEBUG&&console.log(S.step,"GT[]",A,N),C.push(A<N?1:0)},function(S){var C=S.stack,A=C.pop(),N=C.pop();h.DEBUG&&console.log(S.step,"GTEQ[]",A,N),C.push(A<=N?1:0)},function(S){var C=S.stack,A=C.pop(),N=C.pop();h.DEBUG&&console.log(S.step,"EQ[]",A,N),C.push(A===N?1:0)},function(S){var C=S.stack,A=C.pop(),N=C.pop();h.DEBUG&&console.log(S.step,"NEQ[]",A,N),C.push(A!==N?1:0)},function(S){var C=S.stack,A=C.pop();h.DEBUG&&console.log(S.step,"ODD[]",A),C.push(Math.trunc(A)%2?1:0)},function(S){var C=S.stack,A=C.pop();h.DEBUG&&console.log(S.step,"EVEN[]",A),C.push(Math.trunc(A)%2?0:1)},function(S){var C=S.stack.pop();h.DEBUG&&console.log(S.step,"IF[]",C),C||(Dl(S,!0),h.DEBUG&&console.log(S.step,"EIF[]"))},function(S){h.DEBUG&&console.log(S.step,"EIF[]")},function(S){var C=S.stack,A=C.pop(),N=C.pop();h.DEBUG&&console.log(S.step,"AND[]",A,N),C.push(A&&N?1:0)},function(S){var C=S.stack,A=C.pop(),N=C.pop();h.DEBUG&&console.log(S.step,"OR[]",A,N),C.push(A||N?1:0)},function(S){var C=S.stack,A=C.pop();h.DEBUG&&console.log(S.step,"NOT[]",A),C.push(A?0:1)},ja.bind(void 0,1),function(S){var C=S.stack.pop();h.DEBUG&&console.log(S.step,"SDB[]",C),S.deltaBase=C},function(S){var C=S.stack.pop();h.DEBUG&&console.log(S.step,"SDS[]",C),S.deltaShift=Math.pow(.5,C)},function(S){var C=S.stack,A=C.pop(),N=C.pop();h.DEBUG&&console.log(S.step,"ADD[]",A,N),C.push(N+A)},function(S){var C=S.stack,A=C.pop(),N=C.pop();h.DEBUG&&console.log(S.step,"SUB[]",A,N),C.push(N-A)},function(S){var C=S.stack,A=C.pop(),N=C.pop();h.DEBUG&&console.log(S.step,"DIV[]",A,N),C.push(64*N/A)},function(S){var C=S.stack,A=C.pop(),N=C.pop();h.DEBUG&&console.log(S.step,"MUL[]",A,N),C.push(N*A/64)},function(S){var C=S.stack,A=C.pop();h.DEBUG&&console.log(S.step,"ABS[]",A),C.push(Math.abs(A))},function(S){var C=S.stack,A=C.pop();h.DEBUG&&console.log(S.step,"NEG[]",A),C.push(-A)},function(S){var C=S.stack,A=C.pop();h.DEBUG&&console.log(S.step,"FLOOR[]",A),C.push(64*Math.floor(A/64))},function(S){var C=S.stack,A=C.pop();h.DEBUG&&console.log(S.step,"CEILING[]",A),C.push(64*Math.ceil(A/64))},Zo.bind(void 0,0),Zo.bind(void 0,1),Zo.bind(void 0,2),Zo.bind(void 0,3),void 0,void 0,void 0,void 0,function(S){var C=(A=S.stack).pop(),A=A.pop();h.DEBUG&&console.log(S.step,"WCVTF[]",C,A),S.cvt[A]=C*S.ppem/S.font.unitsPerEm},ja.bind(void 0,2),ja.bind(void 0,3),qs.bind(void 0,1),qs.bind(void 0,2),qs.bind(void 0,3),function(S){var C,A=S.stack.pop();switch(h.DEBUG&&console.log(S.step,"SROUND[]",A),S.round=Rl,192&A){case 0:C=.5;break;case 64:C=1;break;case 128:C=2;break;default:throw new Error("invalid SROUND value")}switch(S.srPeriod=C,48&A){case 0:S.srPhase=0;break;case 16:S.srPhase=.25*C;break;case 32:S.srPhase=.5*C;break;case 48:S.srPhase=.75*C;break;default:throw new Error("invalid SROUND value")}S.srThreshold=(A&=15)===0?0:(A/8-.5)*C},function(S){var C,A=S.stack.pop();switch(h.DEBUG&&console.log(S.step,"S45ROUND[]",A),S.round=Rl,192&A){case 0:C=Math.sqrt(2)/2;break;case 64:C=Math.sqrt(2);break;case 128:C=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(S.srPeriod=C,48&A){case 0:S.srPhase=0;break;case 16:S.srPhase=.25*C;break;case 32:S.srPhase=.5*C;break;case 48:S.srPhase=.75*C;break;default:throw new Error("invalid S45ROUND value")}S.srThreshold=(A&=15)===0?0:(A/8-.5)*C},void 0,void 0,function(S){h.DEBUG&&console.log(S.step,"ROFF[]"),S.round=Us},void 0,function(S){h.DEBUG&&console.log(S.step,"RUTG[]"),S.round=Al},function(S){h.DEBUG&&console.log(S.step,"RDTG[]"),S.round=Fs},zs,zs,void 0,void 0,void 0,void 0,void 0,function(S){var C=S.stack.pop();h.DEBUG&&console.log(S.step,"SCANCTRL[]",C)},Qo.bind(void 0,0),Qo.bind(void 0,1),function(S){var C=S.stack,A=C.pop(),N=0;h.DEBUG&&console.log(S.step,"GETINFO[]",A),1&A&&(N=35),32&A&&(N|=4096),C.push(N)},void 0,function(S){var C=S.stack,A=C.pop(),N=C.pop(),V=C.pop();h.DEBUG&&console.log(S.step,"ROLL[]"),C.push(N),C.push(A),C.push(V)},function(S){var C=S.stack,A=C.pop(),N=C.pop();h.DEBUG&&console.log(S.step,"MAX[]",A,N),C.push(Math.max(N,A))},function(S){var C=S.stack,A=C.pop(),N=C.pop();h.DEBUG&&console.log(S.step,"MIN[]",A,N),C.push(Math.min(N,A))},function(S){var C=S.stack.pop();h.DEBUG&&console.log(S.step,"SCANTYPE[]",C)},function(S){var C=S.stack.pop(),A=S.stack.pop();switch(h.DEBUG&&console.log(S.step,"INSTCTRL[]",C,A),C){case 1:return void(S.inhibitGridFit=!!A);case 2:return void(S.ignoreCvt=!!A);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Rn.bind(void 0,1),Rn.bind(void 0,2),Rn.bind(void 0,3),Rn.bind(void 0,4),Rn.bind(void 0,5),Rn.bind(void 0,6),Rn.bind(void 0,7),Rn.bind(void 0,8),no.bind(void 0,1),no.bind(void 0,2),no.bind(void 0,3),no.bind(void 0,4),no.bind(void 0,5),no.bind(void 0,6),no.bind(void 0,7),no.bind(void 0,8),wt.bind(void 0,0,0,0,0,0),wt.bind(void 0,0,0,0,0,1),wt.bind(void 0,0,0,0,0,2),wt.bind(void 0,0,0,0,0,3),wt.bind(void 0,0,0,0,1,0),wt.bind(void 0,0,0,0,1,1),wt.bind(void 0,0,0,0,1,2),wt.bind(void 0,0,0,0,1,3),wt.bind(void 0,0,0,1,0,0),wt.bind(void 0,0,0,1,0,1),wt.bind(void 0,0,0,1,0,2),wt.bind(void 0,0,0,1,0,3),wt.bind(void 0,0,0,1,1,0),wt.bind(void 0,0,0,1,1,1),wt.bind(void 0,0,0,1,1,2),wt.bind(void 0,0,0,1,1,3),wt.bind(void 0,0,1,0,0,0),wt.bind(void 0,0,1,0,0,1),wt.bind(void 0,0,1,0,0,2),wt.bind(void 0,0,1,0,0,3),wt.bind(void 0,0,1,0,1,0),wt.bind(void 0,0,1,0,1,1),wt.bind(void 0,0,1,0,1,2),wt.bind(void 0,0,1,0,1,3),wt.bind(void 0,0,1,1,0,0),wt.bind(void 0,0,1,1,0,1),wt.bind(void 0,0,1,1,0,2),wt.bind(void 0,0,1,1,0,3),wt.bind(void 0,0,1,1,1,0),wt.bind(void 0,0,1,1,1,1),wt.bind(void 0,0,1,1,1,2),wt.bind(void 0,0,1,1,1,3),wt.bind(void 0,1,0,0,0,0),wt.bind(void 0,1,0,0,0,1),wt.bind(void 0,1,0,0,0,2),wt.bind(void 0,1,0,0,0,3),wt.bind(void 0,1,0,0,1,0),wt.bind(void 0,1,0,0,1,1),wt.bind(void 0,1,0,0,1,2),wt.bind(void 0,1,0,0,1,3),wt.bind(void 0,1,0,1,0,0),wt.bind(void 0,1,0,1,0,1),wt.bind(void 0,1,0,1,0,2),wt.bind(void 0,1,0,1,0,3),wt.bind(void 0,1,0,1,1,0),wt.bind(void 0,1,0,1,1,1),wt.bind(void 0,1,0,1,1,2),wt.bind(void 0,1,0,1,1,3),wt.bind(void 0,1,1,0,0,0),wt.bind(void 0,1,1,0,0,1),wt.bind(void 0,1,1,0,0,2),wt.bind(void 0,1,1,0,0,3),wt.bind(void 0,1,1,0,1,0),wt.bind(void 0,1,1,0,1,1),wt.bind(void 0,1,1,0,1,2),wt.bind(void 0,1,1,0,1,3),wt.bind(void 0,1,1,1,0,0),wt.bind(void 0,1,1,1,0,1),wt.bind(void 0,1,1,1,0,2),wt.bind(void 0,1,1,1,0,3),wt.bind(void 0,1,1,1,1,0),wt.bind(void 0,1,1,1,1,1),wt.bind(void 0,1,1,1,1,2),wt.bind(void 0,1,1,1,1,3)],Rc=Array.from||function(S){return S.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function ir(S){(S=S||{}).empty||(ko(S.familyName,"When creating a new Font object, familyName is required."),ko(S.styleName,"When creating a new Font object, styleName is required."),ko(S.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),ko(S.ascender,"When creating a new Font object, ascender is required."),ko(S.descender,"When creating a new Font object, descender is required."),ko(S.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:S.familyName||" "},fontSubfamily:{en:S.styleName||" "},fullName:{en:S.fullName||S.familyName+" "+S.styleName},postScriptName:{en:S.postScriptName||(S.familyName+S.styleName).replace(/\s/g,"")},designer:{en:S.designer||" "},designerURL:{en:S.designerURL||" "},manufacturer:{en:S.manufacturer||" "},manufacturerURL:{en:S.manufacturerURL||" "},license:{en:S.license||" "},licenseURL:{en:S.licenseURL||" "},version:{en:S.version||"Version 0.1"},description:{en:S.description||" "},copyright:{en:S.copyright||" "},trademark:{en:S.trademark||" "}},this.unitsPerEm=S.unitsPerEm||1e3,this.ascender=S.ascender,this.descender=S.descender,this.createdTimestamp=S.createdTimestamp,this.tables={os2:{usWeightClass:S.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:S.widthClass||this.usWidthClasses.MEDIUM,fsSelection:S.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new bt.GlyphSet(this,S.glyphs||[]),this.encoding=new Re(this),this.position=new Xt(this),this.substitution=new Mn(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new eo(this):void 0)}})}function Nl(S,C){var A,N=JSON.stringify(S),V=256;for(A in C){var Q=parseInt(A);if(Q&&!(Q<256)){if(JSON.stringify(C[A])===N)return Q;V<=Q&&(V=Q+1)}}return C[V]=S,V}ir.prototype.hasChar=function(S){return this.encoding.charToGlyphIndex(S)!==null},ir.prototype.charToGlyphIndex=function(S){return this.encoding.charToGlyphIndex(S)},ir.prototype.charToGlyph=function(S){return S=this.charToGlyphIndex(S),this.glyphs.get(S)||this.glyphs.get(0)},ir.prototype.stringToGlyphs=function(S,C){C=C||this.defaultRenderOptions;for(var A=Rc(S),N=[],V=0;V<A.length;V+=1){var Q=A[V];N.push(this.charToGlyphIndex(Q))}var te=N.length;if(C.features){var S=C.script||this.substitution.getDefaultScriptName(),le=[];C.features.liga&&(le=le.concat(this.substitution.getFeature("liga",S,C.language))),C.features.rlig&&(le=le.concat(this.substitution.getFeature("rlig",S,C.language)));for(var me=0;me<te;me+=1)for(var ge=0;ge<le.length;ge++){for(var Ce=le[ge],Ue=Ce.sub,Ie=Ue.length,we=0;we<Ie&&Ue[we]===N[me+we];)we++;we===Ie&&(N.splice(me,Ie,Ce.by),te=te-Ie+1)}}for(var Ke=new Array(te),Ge=this.glyphs.get(0),$e=0;$e<te;$e+=1)Ke[$e]=this.glyphs.get(N[$e])||Ge;return Ke},ir.prototype.nameToGlyphIndex=function(S){return this.glyphNames.nameToGlyphIndex(S)},ir.prototype.nameToGlyph=function(S){return S=this.nameToGlyphIndex(S),this.glyphs.get(S)||this.glyphs.get(0)},ir.prototype.glyphIndexToName=function(S){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(S):""},ir.prototype.getKerningValue=function(S,C){S=S.index||S,C=C.index||C;var A=this.position.defaultKerningTables;return A?this.position.getKerningValue(A,S,C):this.kerningPairs[S+","+C]||0},ir.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},ir.prototype.forEachGlyph=function(S,C,A,N,V,Q){C=C!==void 0?C:0,A=A!==void 0?A:0,V=V||this.defaultRenderOptions;var te,le=1/this.unitsPerEm*(N=N!==void 0?N:72),me=this.stringToGlyphs(S,V);V.kerning&&(S=V.script||this.position.getDefaultScriptName(),te=this.position.getKerningTables(S,V.language));for(var ge=0;ge<me.length;ge+=1){var Ce=me[ge];Q.call(this,Ce,C,A,N,V),Ce.advanceWidth&&(C+=Ce.advanceWidth*le),V.kerning&&ge<me.length-1&&(C+=(te?this.position.getKerningValue(te,Ce.index,me[ge+1].index):this.getKerningValue(Ce,me[ge+1]))*le),V.letterSpacing?C+=V.letterSpacing*N:V.tracking&&(C+=V.tracking/1e3*N)}return C},ir.prototype.getPath=function(S,C,A,N,V){var Q=new K;return this.forEachGlyph(S,C,A,N,V,function(te,le,me,ge){te=te.getPath(le,me,ge,V,this),Q.extend(te)}),Q},ir.prototype.getPaths=function(S,C,A,N,V){var Q=[];return this.forEachGlyph(S,C,A,N,V,function(te,le,me,ge){te=te.getPath(le,me,ge,V,this),Q.push(te)}),Q},ir.prototype.getAdvanceWidth=function(S,C,A){return this.forEachGlyph(S,0,0,C,A,function(){})},ir.prototype.draw=function(S,C,A,N,V,Q){this.getPath(C,A,N,V,Q).draw(S)},ir.prototype.drawPoints=function(S,C,A,N,V,Q){this.forEachGlyph(C,A,N,V,Q,function(te,le,me,ge){te.drawPoints(S,le,me,ge)})},ir.prototype.drawMetrics=function(S,C,A,N,V,Q){this.forEachGlyph(C,A,N,V,Q,function(te,le,me,ge){te.drawMetrics(S,le,me,ge)})},ir.prototype.getEnglishName=function(S){if(S=this.names[S],S)return S.en},ir.prototype.validate=function(){var S=this;function C(A){A=S.getEnglishName(A),A&&A.trim().length}C("fontFamily"),C("weightName"),C("manufacturer"),C("copyright"),C("version"),this.unitsPerEm},ir.prototype.toTables=function(){return Ol.fontToTable(this)},ir.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},ir.prototype.toArrayBuffer=function(){for(var S=this.toTables().encode(),C=new ArrayBuffer(S.length),A=new Uint8Array(C),N=0;N<S.length;N++)A[N]=S[N];return C},ir.prototype.download=function(S){var C=this.getEnglishName("fontFamily"),A=this.getEnglishName("fontSubfamily"),N=(S=S||C.replace(/\s/g,"")+"-"+A+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,N.byteLength,function(V){V.root.getFile(S,{create:!0},function(Q){Q.createWriter(function(te){var le=new DataView(N),le=new Blob([le],{type:"font/opentype"});te.write(le),te.addEventListener("writeend",function(){location.href=Q.toURL()},!1)})})},function(V){throw new Error(V.name+": "+V.message)})):(C=t("fs"),A=(function(V){for(var Q=new o(V.byteLength),te=new Uint8Array(V),le=0;le<Q.length;++le)Q[le]=te[le];return Q})(N),C.writeFileSync(S,A))},ir.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},ir.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},ir.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Dc={make:function(S,C){var A=new Ne.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:S.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:S.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*S.axes.length}]);A.offsetToData=A.sizeOf();for(var N,V,Q,te=0;te<S.axes.length;te++)A.fields=A.fields.concat((N=te,V=S.axes[te],Q=C,Q=Nl(V.name,C),[{name:"tag_"+N,type:"TAG",value:V.tag},{name:"minValue_"+N,type:"FIXED",value:V.minValue<<16},{name:"defaultValue_"+N,type:"FIXED",value:V.defaultValue<<16},{name:"maxValue_"+N,type:"FIXED",value:V.maxValue<<16},{name:"flags_"+N,type:"USHORT",value:0},{name:"nameID_"+N,type:"USHORT",value:Q}]));for(var le=0;le<S.instances.length;le++)A.fields=A.fields.concat((function(me,ge,Ce,Ue){for(var Ie=[{name:"nameID_"+me,type:"USHORT",value:Nl(ge.name,Ue)},{name:"flags_"+me,type:"USHORT",value:0}],we=0;we<Ce.length;++we){var Ke=Ce[we].tag;Ie.push({name:"axis_"+me+" "+Ke,type:"FIXED",value:ge.coordinates[Ke]<<16})}return Ie})(le,S.instances[le],S.axes,C));return A},parse:function(S,C,A){for(var N,V,Q,te,le=new Le.Parser(S,C),me=le.parseULong(),ge=(F.argument(me===65536,"Unsupported fvar table version."),le.parseOffset16()),Ce=(le.skip("uShort",1),le.parseUShort()),Ue=le.parseUShort(),Ie=le.parseUShort(),we=le.parseUShort(),Ke=[],Ge=0;Ge<Ce;Ge++)Ke.push((N=S,V=C+ge+Ge*Ue,Q=A,te={},N=new Le.Parser(N,V),te.tag=N.parseTag(),te.minValue=N.parseFixed(),te.defaultValue=N.parseFixed(),te.maxValue=N.parseFixed(),N.skip("uShort",1),te.name=Q[N.parseUShort()]||{},te));for(var $e=[],Fe=C+ge+Ce*Ue,Be=0;Be<Ie;Be++)$e.push((function(St,Nt,_t,jt){var Ft={},Qt=new Le.Parser(St,Nt);Ft.name=jt[Qt.parseUShort()]||{},Qt.skip("uShort",1),Ft.coordinates={};for(var vr=0;vr<_t.length;++vr)Ft.coordinates[_t[vr].tag]=Qt.parseFixed();return Ft})(S,Fe+Be*we,Ke,A));return{axes:Ke,instances:$e}}},bn=new Array(10);bn[1]=function(){var S=this.offset+this.relativeOffset,C=this.parseUShort();return C===1?{posFormat:1,coverage:this.parsePointer(Me.coverage),value:this.parseValueRecord()}:C===2?{posFormat:2,coverage:this.parsePointer(Me.coverage),values:this.parseValueRecordList()}:void F.assert(!1,"0x"+S.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},bn[2]=function(){var S,C,A,N,Q=this.offset+this.relativeOffset,V=this.parseUShort(),Q=(F.assert(V===1||V===2,"0x"+Q.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(Me.coverage)),te=this.parseUShort(),le=this.parseUShort();return V===1?{posFormat:V,coverage:Q,valueFormat1:te,valueFormat2:le,pairSets:this.parseList(Me.pointer(Me.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(te),value2:this.parseValueRecord(le)}})))}:V===2?(S=this.parsePointer(Me.classDef),C=this.parsePointer(Me.classDef),A=this.parseUShort(),N=this.parseUShort(),{posFormat:V,coverage:Q,valueFormat1:te,valueFormat2:le,classDef1:S,classDef2:C,class1Count:A,class2Count:N,classRecords:this.parseList(A,Me.list(N,function(){return{value1:this.parseValueRecord(te),value2:this.parseValueRecord(le)}}))}):void 0},bn[3]=function(){return{error:"GPOS Lookup 3 not supported"}},bn[4]=function(){return{error:"GPOS Lookup 4 not supported"}},bn[5]=function(){return{error:"GPOS Lookup 5 not supported"}},bn[6]=function(){return{error:"GPOS Lookup 6 not supported"}},bn[7]=function(){return{error:"GPOS Lookup 7 not supported"}},bn[8]=function(){return{error:"GPOS Lookup 8 not supported"}},bn[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Lc=new Array(10),Nc={parse:function(S,C){return C=(S=new Me(S,C=C||0)).parseVersion(1),F.argument(C===1||C===1.1,"Unsupported GPOS table version "+C),C===1?{version:C,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(bn)}:{version:C,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(bn),variations:S.parseFeatureVariationsList()}},make:function(S){return new Ne.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ne.ScriptList(S.scripts)},{name:"features",type:"TABLE",value:new Ne.FeatureList(S.features)},{name:"lookups",type:"TABLE",value:new Ne.LookupList(S.lookups,Lc)}])}},Uc={parse:function(S,C){if(S=new Le.Parser(S,C),(C=S.parseUShort())===0){var A=S,N={},Ue=(A.skip("uShort"),A.parseUShort()),V=(F.argument(Ue===0,"Unsupported kern sub-table version."),A.skip("uShort",2),A.parseUShort());A.skip("uShort",3);for(var Q=0;Q<V;Q+=1){var te=A.parseUShort(),le=A.parseUShort(),me=A.parseShort();N[te+","+le]=me}return N}if(C!==1)throw new Error("Unsupported kern table version ("+C+").");var ge=S,Ce={},Ue=(ge.skip("uShort"),1<ge.parseULong()&&console.warn("Only the first kern subtable is supported."),ge.skip("uLong"),255&ge.parseUShort());if(ge.skip("uShort"),Ue==0){var Ie=ge.parseUShort();ge.skip("uShort",3);for(var we=0;we<Ie;we+=1){var Ke=ge.parseUShort(),Ge=ge.parseUShort(),$e=ge.parseShort();Ce[Ke+","+Ge]=$e}}return Ce}},Fc={parse:function(S,C,A,N){for(var V=new Le.Parser(S,C),Q=N?V.parseUShort:V.parseULong,te=[],le=0;le<A+1;le+=1){var me=Q.call(V);N&&(me*=2),te.push(me)}return te}};function Sa(S,C){t("fs").readFile(S,function(A,N){if(A)return C(A.message);C(null,yi(N))})}function Bc(S,C){var A=new XMLHttpRequest;A.open("get",S,!0),A.responseType="arraybuffer",A.onload=function(){return A.response?C(null,A.response):C("Font could not be loaded: "+A.statusText)},A.onerror=function(){C("Font could not be loaded")},A.send()}function Ul(S,C){for(var A=[],N=12,V=0;V<C;V+=1){var Q=Le.getTag(S,N),te=Le.getULong(S,N+4),le=Le.getULong(S,N+8),me=Le.getULong(S,N+12);A.push({tag:Q,checksum:te,offset:le,length:me,compression:!1}),N+=16}return A}function Tr(A,C){if(C.compression!=="WOFF")return{data:A,offset:C.offset};var A=new Uint8Array(A.buffer,C.offset+2,C.compressedLength-2),N=new Uint8Array(C.length);if($(A,N),N.byteLength!==C.length)throw new Error("Decompression error: "+C.tag+" decompressed length doesn't match recorded length");return{data:new DataView(N.buffer,0),offset:0}}function xi(Be){var C,A,N,V,Q,te,le,me,ge,Ce,Ue,Ie,we,Ke,Ge=new ir({empty:!0}),$e=new DataView(Be,0),Fe=[],Be=Le.getTag($e,0);if(Be==="\0\0\0"||Be==="true"||Be==="typ1")Ge.outlinesFormat="truetype",Fe=Ul($e,N=Le.getUShort($e,4));else if(Be==="OTTO")Ge.outlinesFormat="cff",Fe=Ul($e,N=Le.getUShort($e,4));else{if(Be!=="wOFF")throw new Error("Unsupported OpenType signature "+Be);var St=Le.getTag($e,4);if(St==="\0\0\0")Ge.outlinesFormat="truetype";else{if(St!=="OTTO")throw new Error("Unsupported OpenType flavor "+Be);Ge.outlinesFormat="cff"}Fe=(function(ar,er){for(var $r=[],pr=44,Br=0;Br<er;Br+=1){var cr=Le.getTag(ar,pr),rr=Le.getULong(ar,pr+4),oo=Le.getULong(ar,pr+8),To=Le.getULong(ar,pr+12),Ea=void 0,Ea=oo<To&&"WOFF";$r.push({tag:cr,offset:rr,compression:Ea,compressedLength:oo,length:To}),pr+=20}return $r})($e,N=Le.getUShort($e,12))}for(var Nt=0;Nt<N;Nt+=1){var _t=Fe[Nt],jt=void 0;switch(_t.tag){case"cmap":jt=Tr($e,_t),Ge.tables.cmap=ae.parse(jt.data,jt.offset),Ge.encoding=new He(Ge.tables.cmap);break;case"cvt ":jt=Tr($e,_t),Ke=new Le.Parser(jt.data,jt.offset),Ge.tables.cvt=Ke.parseShortList(_t.length/2);break;case"fvar":Q=_t;break;case"fpgm":jt=Tr($e,_t),Ke=new Le.Parser(jt.data,jt.offset),Ge.tables.fpgm=Ke.parseByteList(_t.length);break;case"head":jt=Tr($e,_t),Ge.tables.head=zo.parse(jt.data,jt.offset),Ge.unitsPerEm=Ge.tables.head.unitsPerEm,C=Ge.tables.head.indexToLocFormat;break;case"hhea":jt=Tr($e,_t),Ge.tables.hhea=xe.parse(jt.data,jt.offset),Ge.ascender=Ge.tables.hhea.ascender,Ge.descender=Ge.tables.hhea.descender,Ge.numberOfHMetrics=Ge.tables.hhea.numberOfHMetrics;break;case"hmtx":ge=_t;break;case"ltag":jt=Tr($e,_t),A=mt.parse(jt.data,jt.offset);break;case"maxp":jt=Tr($e,_t),Ge.tables.maxp=Ze.parse(jt.data,jt.offset),Ge.numGlyphs=Ge.tables.maxp.numGlyphs;break;case"name":Ie=_t;break;case"OS/2":jt=Tr($e,_t),Ge.tables.os2=Dr.parse(jt.data,jt.offset);break;case"post":jt=Tr($e,_t),Ge.tables.post=yn.parse(jt.data,jt.offset),Ge.glyphNames=new it(Ge.tables.post);break;case"prep":jt=Tr($e,_t),Ke=new Le.Parser(jt.data,jt.offset),Ge.tables.prep=Ke.parseByteList(_t.length);break;case"glyf":te=_t;break;case"loca":Ue=_t;break;case"CFF ":V=_t;break;case"kern":Ce=_t;break;case"GPOS":le=_t;break;case"GSUB":me=_t;break;case"meta":we=_t}}if(St=Tr($e,Ie),Ge.tables.name=qr.parse(St.data,St.offset,A),Ge.names=Ge.tables.name,te&&Ue)Be=C===0,St=Tr($e,Ue),St=Fc.parse(St.data,St.offset,Ge.numGlyphs,Be),Be=Tr($e,te),Ge.glyphs=Qn.parse(Be.data,Be.offset,St,Ge);else{if(!V)throw new Error("Font doesn't contain TrueType or CFF outlines.");Be=Tr($e,V),Tn.parse(Be.data,Be.offset,Ge)}for(var St=Tr($e,ge),Ft=(et.parse(St.data,St.offset,Ge.numberOfHMetrics,Ge.numGlyphs,Ge.glyphs),Ge),Qt=Ft.tables.cmap.glyphIndexMap,vr=Object.keys(Qt),xr=0;xr<vr.length;xr+=1){var Lr,Nr=vr[xr],wn=Qt[Nr];(Lr=Ft.glyphs.get(wn)).addUnicode(parseInt(Nr))}for(var tr=0;tr<Ft.glyphs.length;tr+=1)Lr=Ft.glyphs.get(tr),Ft.cffEncoding?Ft.isCIDFont?Lr.name="gid"+tr:Lr.name=Ft.cffEncoding.charset[tr]:Ft.glyphNames.names&&(Lr.name=Ft.glyphNames.glyphIndexToName(tr));return Ce?(Be=Tr($e,Ce),Ge.kerningPairs=Uc.parse(Be.data,Be.offset)):Ge.kerningPairs={},le&&(St=Tr($e,le),Ge.tables.gpos=Nc.parse(St.data,St.offset),Ge.position.init()),me&&(Be=Tr($e,me),Ge.tables.gsub=As.parse(Be.data,Be.offset)),Q&&(St=Tr($e,Q),Ge.tables.fvar=Dc.parse(St.data,St.offset,Ge.names)),we&&(Be=Tr($e,we),Ge.tables.meta=Rs.parse(Be.data,Be.offset),Ge.metas=Ge.tables.meta),Ge}h.Font=ir,h.Glyph=ft,h.Path=K,h.BoundingBox=ee,h._parse=Le,h.parse=xi,h.load=function(S,C){(typeof window>"u"?Sa:Bc)(S,function(A,N){if(A)return C(A);var V;try{V=xi(N)}catch(Q){return C(Q,null)}return C(null,V)})},h.loadSync=function(S){return xi(yi(t("fs").readFileSync(S)))},Object.defineProperty(h,"__esModule",{value:!0})},i(typeof u=="object"&&f!==void 0?u:l.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],258:[function(t,f,u){(function(o){function l(_,m){for(var s=0,c=_.length-1;0<=c;c--){var p=_[c];p==="."?_.splice(c,1):p===".."?(_.splice(c,1),s++):s&&(_.splice(c,1),s--)}if(m)for(;s--;)_.unshift("..");return _}function i(_,m){if(_.filter)return _.filter(m);for(var s=[],c=0;c<_.length;c++)m(_[c],c,_)&&s.push(_[c]);return s}u.resolve=function(){for(var _="",m=!1,s=arguments.length-1;-1<=s&&!m;s--){var c=0<=s?arguments[s]:o.cwd();if(typeof c!="string")throw new TypeError("Arguments to path.resolve must be strings");c&&(_=c+"/"+_,m=c.charAt(0)==="/")}return(m?"/":"")+(_=l(i(_.split("/"),function(p){return!!p}),!m).join("/"))||"."},u.normalize=function(_){var m=u.isAbsolute(_),s=h(_,-1)==="/";return(_=(_=l(i(_.split("/"),function(c){return!!c}),!m).join("/"))||m?_:".")&&s&&(_+="/"),(m?"/":"")+_},u.isAbsolute=function(_){return _.charAt(0)==="/"},u.join=function(){var _=Array.prototype.slice.call(arguments,0);return u.normalize(i(_,function(m,s){if(typeof m!="string")throw new TypeError("Arguments to path.join must be strings");return m}).join("/"))},u.relative=function(_,m){function s(j){for(var x=0;x<j.length&&j[x]==="";x++);for(var E=j.length-1;0<=E&&j[E]==="";E--);return E<x?[]:j.slice(x,E-x+1)}_=u.resolve(_).substr(1),m=u.resolve(m).substr(1);for(var c=s(_.split("/")),p=s(m.split("/")),g=Math.min(c.length,p.length),b=g,y=0;y<g;y++)if(c[y]!==p[y]){b=y;break}for(var v=[],y=b;y<c.length;y++)v.push("..");return(v=v.concat(p.slice(b))).join("/")},u.sep="/",u.delimiter=":",u.dirname=function(_){if(typeof _!="string"&&(_+=""),_.length===0)return".";for(var m=_.charCodeAt(0)===47,s=-1,c=!0,p=_.length-1;1<=p;--p)if(_.charCodeAt(p)===47){if(!c){s=p;break}}else c=!1;return s===-1?m?"/":".":m&&s===1?"/":_.slice(0,s)},u.basename=function(_,m){return _=(function(s){typeof s!="string"&&(s+="");for(var c=0,p=-1,g=!0,b=s.length-1;0<=b;--b)if(s.charCodeAt(b)===47){if(!g){c=b+1;break}}else p===-1&&(g=!1,p=b+1);return p===-1?"":s.slice(c,p)})(_),_=m&&_.substr(-1*m.length)===m?_.substr(0,_.length-m.length):_},u.extname=function(_){typeof _!="string"&&(_+="");for(var m=-1,s=0,c=-1,p=!0,g=0,b=_.length-1;0<=b;--b){var y=_.charCodeAt(b);if(y===47){if(p)continue;s=b+1;break}c===-1&&(p=!1,c=b+1),y===46?m===-1?m=b:g!==1&&(g=1):m!==-1&&(g=-1)}return m===-1||c===-1||g===0||g===1&&m===c-1&&m===s+1?"":_.slice(m,c)};var h="ab".substr(-1)==="b"?function(_,m,s){return _.substr(m,s)}:function(_,m,s){return m<0&&(m=_.length+m),_.substr(m,s)}}).call(this,t("_process"))},{_process:259}],259:[function(t,i,u){var o,l,i=i.exports={};function h(){throw new Error("setTimeout has not been defined")}function _(){throw new Error("clearTimeout has not been defined")}try{o=typeof setTimeout=="function"?setTimeout:h}catch{o=h}try{l=typeof clearTimeout=="function"?clearTimeout:_}catch{l=_}function m(x){if(o===setTimeout)return setTimeout(x,0);if((o===h||!o)&&setTimeout)return(o=setTimeout)(x,0);try{return o(x,0)}catch{try{return o.call(null,x,0)}catch{return o.call(this,x,0)}}}var s,c=[],p=!1,g=-1;function b(){p&&s&&(p=!1,s.length?c=s.concat(c):g=-1,c.length&&y())}function y(){if(!p){for(var x=m(b),E=(p=!0,c.length);E;){for(s=c,c=[];++g<E;)s&&s[g].run();g=-1,E=c.length}s=null,p=!1,(function(P){if(l===clearTimeout)return clearTimeout(P);if((l===_||!l)&&clearTimeout)return(l=clearTimeout)(P);try{l(P)}catch{try{return l.call(null,P)}catch{return l.call(this,P)}}})(x)}}function v(x,E){this.fun=x,this.array=E}function j(){}i.nextTick=function(x){var E=new Array(arguments.length-1);if(1<arguments.length)for(var P=1;P<arguments.length;P++)E[P-1]=arguments[P];c.push(new v(x,E)),c.length!==1||p||m(y)},v.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=j,i.addListener=j,i.once=j,i.off=j,i.removeListener=j,i.removeAllListeners=j,i.emit=j,i.prependListener=j,i.prependOnceListener=j,i.listeners=function(x){return[]},i.binding=function(x){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(x){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],260:[function(t,f,u){f=(function(o){var l,i=Object.prototype,h=i.hasOwnProperty,O=typeof Symbol=="function"?Symbol:{},_=O.iterator||"@@iterator",m=O.asyncIterator||"@@asyncIterator",s=O.toStringTag||"@@toStringTag";function c(Y,W,X,J){var K,ne,T,F,W=W&&W.prototype instanceof x?W:x,W=Object.create(W.prototype),J=new G(J||[]);return W._invoke=(K=Y,ne=X,T=J,F=g,function(oe,se){if(F===y)throw new Error("Generator is already running");if(F===v){if(oe==="throw")throw se;return q()}for(T.method=oe,T.arg=se;;){var fe=T.delegate;if(fe&&(fe=(function ve(de,be){var pe=de.iterator[be.method];if(pe===l){if(be.delegate=null,be.method==="throw"){if(de.iterator.return&&(be.method="return",be.arg=l,ve(de,be),be.method==="throw"))return j;be.method="throw",be.arg=new TypeError("The iterator does not provide a 'throw' method")}return j}if(pe=p(pe,de.iterator,be.arg),pe.type==="throw")return be.method="throw",be.arg=pe.arg,be.delegate=null,j;if(pe=pe.arg,!pe)return be.method="throw",be.arg=new TypeError("iterator result is not an object"),be.delegate=null,j;{if(!pe.done)return pe;be[de.resultName]=pe.value,be.next=de.nextLoc,be.method!=="return"&&(be.method="next",be.arg=l)}return be.delegate=null,j})(fe,T),fe)){if(fe===j)continue;return fe}if(T.method==="next")T.sent=T._sent=T.arg;else if(T.method==="throw"){if(F===g)throw F=v,T.arg;T.dispatchException(T.arg)}else T.method==="return"&&T.abrupt("return",T.arg);if(F=y,fe=p(K,ne,T),fe.type==="normal"){if(F=T.done?v:b,fe.arg!==j)return{value:fe.arg,done:T.done}}else fe.type==="throw"&&(F=v,T.method="throw",T.arg=fe.arg)}}),W}function p(Y,$,X){try{return{type:"normal",arg:Y.call($,X)}}catch(ee){return{type:"throw",arg:ee}}}o.wrap=c;var g="suspendedStart",b="suspendedYield",y="executing",v="completed",j={};function x(){}function E(){}function P(){}var O={},M=(O[_]=function(){return this},Object.getPrototypeOf),M=M&&M(M(z([]))),D=(M&&M!==i&&h.call(M,_)&&(O=M),P.prototype=x.prototype=Object.create(O));function U(Y){["next","throw","return"].forEach(function($){Y[$]=function(X){return this._invoke($,X)}})}function I(Y){var $;this._invoke=function(X,ee){function K(){return new Promise(function(ne,T){(function F(ve,J,oe,se){var fe,ve=p(Y[ve],Y,J);if(ve.type!=="throw")return(J=(fe=ve.arg).value)&&typeof J=="object"&&h.call(J,"__await")?Promise.resolve(J.__await).then(function(de){F("next",de,oe,se)},function(de){F("throw",de,oe,se)}):Promise.resolve(J).then(function(de){fe.value=de,oe(fe)},function(de){return F("throw",de,oe,se)});se(ve.arg)})(X,ee,ne,T)})}return $=$?$.then(K,K):K()}}function B(Y){var $={tryLoc:Y[0]};1 in Y&&($.catchLoc=Y[1]),2 in Y&&($.finallyLoc=Y[2],$.afterLoc=Y[3]),this.tryEntries.push($)}function R(Y){var $=Y.completion||{};$.type="normal",delete $.arg,Y.completion=$}function G(Y){this.tryEntries=[{tryLoc:"root"}],Y.forEach(B,this),this.reset(!0)}function z(Y){if(Y){var $,X=Y[_];if(X)return X.call(Y);if(typeof Y.next=="function")return Y;if(!isNaN(Y.length))return $=-1,(X=function ee(){for(;++$<Y.length;)if(h.call(Y,$))return ee.value=Y[$],ee.done=!1,ee;return ee.value=l,ee.done=!0,ee}).next=X}return{next:q}}function q(){return{value:l,done:!0}}return(E.prototype=D.constructor=P).constructor=E,P[s]=E.displayName="GeneratorFunction",o.isGeneratorFunction=function(Y){return Y=typeof Y=="function"&&Y.constructor,!!Y&&(Y===E||(Y.displayName||Y.name)==="GeneratorFunction")},o.mark=function(Y){return Object.setPrototypeOf?Object.setPrototypeOf(Y,P):(Y.__proto__=P,s in Y||(Y[s]="GeneratorFunction")),Y.prototype=Object.create(D),Y},o.awrap=function(Y){return{__await:Y}},U(I.prototype),I.prototype[m]=function(){return this},o.AsyncIterator=I,o.async=function(Y,$,X,ee){var K=new I(c(Y,$,X,ee));return o.isGeneratorFunction($)?K:K.next().then(function(ne){return ne.done?ne.value:K.next()})},U(D),D[s]="Generator",D[_]=function(){return this},D.toString=function(){return"[object Generator]"},o.keys=function(Y){var $,X=[];for($ in Y)X.push($);return X.reverse(),function ee(){for(;X.length;){var K=X.pop();if(K in Y)return ee.value=K,ee.done=!1,ee}return ee.done=!0,ee}},o.values=z,G.prototype={constructor:G,reset:function(Y){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(R),!Y)for(var $ in this)$.charAt(0)==="t"&&h.call(this,$)&&!isNaN(+$.slice(1))&&(this[$]=l)},stop:function(){this.done=!0;var Y=this.tryEntries[0].completion;if(Y.type==="throw")throw Y.arg;return this.rval},dispatchException:function(Y){if(this.done)throw Y;var $=this;function X(W,J){return ne.type="throw",ne.arg=Y,$.next=W,J&&($.method="next",$.arg=l),!!J}for(var ee=this.tryEntries.length-1;0<=ee;--ee){var K=this.tryEntries[ee],ne=K.completion;if(K.tryLoc==="root")return X("end");if(K.tryLoc<=this.prev){var T=h.call(K,"catchLoc"),F=h.call(K,"finallyLoc");if(T&&F){if(this.prev<K.catchLoc)return X(K.catchLoc,!0);if(this.prev<K.finallyLoc)return X(K.finallyLoc)}else if(T){if(this.prev<K.catchLoc)return X(K.catchLoc,!0)}else{if(!F)throw new Error("try statement without catch or finally");if(this.prev<K.finallyLoc)return X(K.finallyLoc)}}}},abrupt:function(Y,$){for(var X=this.tryEntries.length-1;0<=X;--X){var ee=this.tryEntries[X];if(ee.tryLoc<=this.prev&&h.call(ee,"finallyLoc")&&this.prev<ee.finallyLoc){var K=ee;break}}var ne=(K=K&&(Y==="break"||Y==="continue")&&K.tryLoc<=$&&$<=K.finallyLoc?null:K)?K.completion:{};return ne.type=Y,ne.arg=$,K?(this.method="next",this.next=K.finallyLoc,j):this.complete(ne)},complete:function(Y,$){if(Y.type==="throw")throw Y.arg;return Y.type==="break"||Y.type==="continue"?this.next=Y.arg:Y.type==="return"?(this.rval=this.arg=Y.arg,this.method="return",this.next="end"):Y.type==="normal"&&$&&(this.next=$),j},finish:function(Y){for(var $=this.tryEntries.length-1;0<=$;--$){var X=this.tryEntries[$];if(X.finallyLoc===Y)return this.complete(X.completion,X.afterLoc),R(X),j}},catch:function(Y){for(var $=this.tryEntries.length-1;0<=$;--$){var X,ee,K=this.tryEntries[$];if(K.tryLoc===Y)return(X=K.completion).type==="throw"&&(ee=X.arg,R(K)),ee}throw new Error("illegal catch attempt")},delegateYield:function(Y,$,X){return this.delegate={iterator:z(Y),resultName:$,nextLoc:X},this.method==="next"&&(this.arg=l),j}},o})(typeof f=="object"?f.exports:{});try{regeneratorRuntime=f}catch{Function("r","regeneratorRuntime = r")(f)}},{}],261:[function(t,f,u){(function(o){var l,i,h,_,m,s,c,p,g,b;function y(R){if(typeof R!="string"&&(R=String(R)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(R))throw new TypeError("Invalid character in header field name");return R.toLowerCase()}function v(R){return R=typeof R!="string"?String(R):R}function j(R){var G={next:function(){var z=R.shift();return{done:z===void 0,value:z}}};return i&&(G[Symbol.iterator]=function(){return G}),G}function x(R){this.map={},R instanceof x?R.forEach(function(G,z){this.append(z,G)},this):Array.isArray(R)?R.forEach(function(G){this.append(G[0],G[1])},this):R&&Object.getOwnPropertyNames(R).forEach(function(G){this.append(G,R[G])},this)}function E(R){if(R.bodyUsed)return Promise.reject(new TypeError("Already read"));R.bodyUsed=!0}function P(R){return new Promise(function(G,z){R.onload=function(){G(R.result)},R.onerror=function(){z(R.error)}})}function O(R){var G=new FileReader,z=P(G);return G.readAsArrayBuffer(R),z}function M(R){var G;return R.slice?R.slice(0):((G=new Uint8Array(R.byteLength)).set(new Uint8Array(R)),G.buffer)}function D(){return this.bodyUsed=!1,this._initBody=function(R){if(this._bodyInit=R)if(typeof R=="string")this._bodyText=R;else if(h&&Blob.prototype.isPrototypeOf(R))this._bodyBlob=R;else if(_&&FormData.prototype.isPrototypeOf(R))this._bodyFormData=R;else if(l&&URLSearchParams.prototype.isPrototypeOf(R))this._bodyText=R.toString();else if(m&&h&&c(R))this._bodyArrayBuffer=M(R.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m||!ArrayBuffer.prototype.isPrototypeOf(R)&&!p(R))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=M(R)}else this._bodyText="";this.headers.get("content-type")||(typeof R=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l&&URLSearchParams.prototype.isPrototypeOf(R)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h&&(this.blob=function(){var R=E(this);if(R)return R;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?E(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(O)}),this.text=function(){var R,G,z=E(this);if(z)return z;if(this._bodyBlob)return z=this._bodyBlob,R=new FileReader,G=P(R),R.readAsText(z),G;if(this._bodyArrayBuffer)return Promise.resolve((function(q){for(var Y=new Uint8Array(q),$=new Array(Y.length),X=0;X<Y.length;X++)$[X]=String.fromCharCode(Y[X]);return $.join("")})(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},_&&(this.formData=function(){return this.text().then(I)}),this.json=function(){return this.text().then(JSON.parse)},this}function U(R,G){var z,q=(G=G||{}).body;if(R instanceof U){if(R.bodyUsed)throw new TypeError("Already read");this.url=R.url,this.credentials=R.credentials,G.headers||(this.headers=new x(R.headers)),this.method=R.method,this.mode=R.mode,q||R._bodyInit==null||(q=R._bodyInit,R.bodyUsed=!0)}else this.url=String(R);if(this.credentials=G.credentials||this.credentials||"omit",!G.headers&&this.headers||(this.headers=new x(G.headers)),this.method=(R=G.method||this.method||"GET",z=R.toUpperCase(),-1<g.indexOf(z)?z:R),this.mode=G.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&q)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(q)}function I(R){var G=new FormData;return R.trim().split("&").forEach(function(z){var q;z&&(q=(z=z.split("=")).shift().replace(/\+/g," "),z=z.join("=").replace(/\+/g," "),G.append(decodeURIComponent(q),decodeURIComponent(z)))}),G}function B(R,G){G=G||{},this.type="default",this.status=G.status===void 0?200:G.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in G?G.statusText:"OK",this.headers=new x(G.headers),this.url=G.url||"",this._initBody(R)}o.fetch||(l="URLSearchParams"in o,i="Symbol"in o&&"iterator"in Symbol,h="FileReader"in o&&"Blob"in o&&(function(){try{return new Blob,!0}catch{return!1}})(),_="FormData"in o,(m="ArrayBuffer"in o)&&(s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=function(R){return R&&DataView.prototype.isPrototypeOf(R)},p=ArrayBuffer.isView||function(R){return R&&-1<s.indexOf(Object.prototype.toString.call(R))}),x.prototype.append=function(R,G){R=y(R),G=v(G);var z=this.map[R];this.map[R]=z?z+","+G:G},x.prototype.delete=function(R){delete this.map[y(R)]},x.prototype.get=function(R){return R=y(R),this.has(R)?this.map[R]:null},x.prototype.has=function(R){return this.map.hasOwnProperty(y(R))},x.prototype.set=function(R,G){this.map[y(R)]=v(G)},x.prototype.forEach=function(R,G){for(var z in this.map)this.map.hasOwnProperty(z)&&R.call(G,this.map[z],z,this)},x.prototype.keys=function(){var R=[];return this.forEach(function(G,z){R.push(z)}),j(R)},x.prototype.values=function(){var R=[];return this.forEach(function(G){R.push(G)}),j(R)},x.prototype.entries=function(){var R=[];return this.forEach(function(G,z){R.push([z,G])}),j(R)},i&&(x.prototype[Symbol.iterator]=x.prototype.entries),g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],U.prototype.clone=function(){return new U(this,{body:this._bodyInit})},D.call(U.prototype),D.call(B.prototype),B.prototype.clone=function(){return new B(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},B.error=function(){var R=new B(null,{status:0,statusText:""});return R.type="error",R},b=[301,302,303,307,308],B.redirect=function(R,G){if(b.indexOf(G)===-1)throw new RangeError("Invalid status code");return new B(null,{status:G,headers:{location:R}})},o.Headers=x,o.Request=U,o.Response=B,o.fetch=function(R,G){return new Promise(function(z,q){var Y=new U(R,G),$=new XMLHttpRequest;$.onload=function(){var X,ee={status:$.status,statusText:$.statusText,headers:(ee=$.getAllResponseHeaders()||"",X=new x,ee.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(T){var T=T.split(":"),F=T.shift().trim();F&&(T=T.join(":").trim(),X.append(F,T))}),X)},K=(ee.url="responseURL"in $?$.responseURL:ee.headers.get("X-Request-URL"),"response"in $?$.response:$.responseText);z(new B(K,ee))},$.onerror=function(){q(new TypeError("Network request failed"))},$.ontimeout=function(){q(new TypeError("Network request failed"))},$.open(Y.method,Y.url,!0),Y.credentials==="include"?$.withCredentials=!0:Y.credentials==="omit"&&($.withCredentials=!1),"responseType"in $&&h&&($.responseType="blob"),Y.headers.forEach(function(X,ee){$.setRequestHeader(ee,X)}),$.send(Y._bodyInit===void 0?null:Y._bodyInit)})},o.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],262:[function(t,f,u){t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o,l=h(t("../core/main")),i=h(t("../color/color_conversion"));function h(s){return s&&s.__esModule?s:{default:s}}var _=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],m=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];l.default.prototype._rgbColorName=function(g){var c,p,g=i.default._rgbaToHSBA(g),b=[(o=g)[0],g[1],g[2]];b[0]!==0&&(b[0]=Math.round(100*b[0]),(g=b[0].toString().split(""))[p=g.length-1]=parseInt(g[p]),g[p]<2.5?g[p]=0:2.5<=g[p]&&g[p]<7.5&&(g[p]=5),g.length===2?(g[0]=parseInt(g[0]),7.5<=g[p]&&(g[p]=0,g[0]=g[0]+1),b[0]=10*g[0]+g[1]):7.5<=g[p]?b[0]=10:b[0]=g[p]),b[2]=b[2]/255;for(var y=b.length-1;1<=y;y--)b[y]<=.25?b[y]=0:.25<b[y]&&b[y]<.75?b[y]=.5:b[y]=1;if(b[0]===0&&b[1]===0&&b[2]===1){for(var v=2;0<=v;v--)o[v]=Math.round(1e4*o[v])/1e4;for(var j=0;j<_.length;j++){if(_[j].h===o[0]&&_[j].s===o[1]&&_[j].b===o[2]){c=_[j].name;break}c="white"}}else for(var x=0;x<m.length;x++)if(m[x].h===b[0]&&m[x].s===b[1]&&m[x].b===b[2]){c=m[x].name;break}return c},t=l.default,u.default=t},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(t,f,u){t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t},l="_Description",i="_fallbackDesc",h="_fallbackTable",_="_Label",m="_labelDesc",s="_labelTable";function c(p){if(p==="label"||p==="fallback")throw new Error("description should not be LABEL or FALLBACK");return p.endsWith(".")||p.endsWith(";")||p.endsWith(",")||p.endsWith("?")||p.endsWith("!")||(p+="."),p}o.default.prototype.describe=function(p,g){var b;o.default._validateParameters("describe",arguments),typeof p=="string"&&(b=this.canvas.id,p=c(p),this.dummyDOM||(this.dummyDOM=document.getElementById(b).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==p&&(this.descriptions.fallback.innerHTML=p):this._describeHTML("fallback",p),g===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==p&&(this.descriptions.label.innerHTML=p):this._describeHTML("label",p)))},o.default.prototype.describeElement=function(p,g,b){var y,v;o.default._validateParameters("describeElement",arguments),typeof g=="string"&&typeof p=="string"&&(y=this.canvas.id,g=c(g),v=(function(j){if(j==="label"||j==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return j.endsWith(".")||j.endsWith(";")||j.endsWith(",")?j=j.replace(/.$/,":"):j.endsWith(":")||(j+=":"),j})(p),p=p.replace(/[^a-zA-Z0-9]/g,""),v='<th scope="row">'.concat(v,"</th><td>").concat(g,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(y).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[p]?this.descriptions.fallbackElements[p].innerHTML!==v&&(this.descriptions.fallbackElements[p].innerHTML=v):this._describeElementHTML("fallback",p,v),b===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[p]?this.descriptions.labelElements[p].innerHTML!==v&&(this.descriptions.labelElements[p].innerHTML=v):this._describeElementHTML("label",p,v)))},o.default.prototype._describeHTML=function(p,g){var b,y=this.canvas.id;p==="fallback"?(this.dummyDOM.querySelector("#".concat(y+l))?this.dummyDOM.querySelector("#"+y+h).insertAdjacentHTML("beforebegin",'<p id="'.concat(y+i,'"></p>')):(b='<div id="'.concat(y).concat(l,'" role="region" aria-label="Canvas Description"><p id="').concat(y).concat(i,'"></p></div>'),this.dummyDOM.querySelector("#".concat(y,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(y,"accessibleOutput")).insertAdjacentHTML("beforebegin",b):this.dummyDOM.querySelector("#".concat(y)).innerHTML=b),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(y).concat(i)),this.descriptions.fallback.innerHTML=g):p==="label"&&(this.dummyDOM.querySelector("#".concat(y+_))?this.dummyDOM.querySelector("#".concat(y+s))&&this.dummyDOM.querySelector("#".concat(y+s)).insertAdjacentHTML("beforebegin",'<p id="'.concat(y).concat(m,'"></p>')):(b='<div id="'.concat(y).concat(_,'" class="p5Label"><p id="').concat(y).concat(m,'"></p></div>'),this.dummyDOM.querySelector("#".concat(y,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(y,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",b):this.dummyDOM.querySelector("#"+y).insertAdjacentHTML("afterend",b)),this.descriptions.label=this.dummyDOM.querySelector("#"+y+m),this.descriptions.label.innerHTML=g)},o.default.prototype._describeElementHTML=function(p,g,b){var y,v=this.canvas.id;p==="fallback"?(this.dummyDOM.querySelector("#".concat(v+l))?this.dummyDOM.querySelector("#"+v+h)||this.dummyDOM.querySelector("#"+v+i).insertAdjacentHTML("afterend",'<table id="'.concat(v).concat(h,'"><caption>Canvas elements and their descriptions</caption></table>')):(y='<div id="'.concat(v).concat(l,'" role="region" aria-label="Canvas Description"><table id="').concat(v).concat(h,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutput")).insertAdjacentHTML("beforebegin",y):this.dummyDOM.querySelector("#"+v).innerHTML=y),(y=document.createElement("tr")).id=v+"_fte_"+g,this.dummyDOM.querySelector("#"+v+h).appendChild(y),this.descriptions.fallbackElements[g]=this.dummyDOM.querySelector("#".concat(v).concat("_fte_").concat(g)),this.descriptions.fallbackElements[g].innerHTML=b):p==="label"&&(this.dummyDOM.querySelector("#".concat(v+_))?this.dummyDOM.querySelector("#".concat(v+s))||this.dummyDOM.querySelector("#"+v+m).insertAdjacentHTML("afterend",'<table id="'.concat(v+s,'"></table>')):(y='<div id="'.concat(v).concat(_,'" class="p5Label"><table id="').concat(v).concat(s,'"></table></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",y):this.dummyDOM.querySelector("#"+v).insertAdjacentHTML("afterend",y)),(p=document.createElement("tr")).id=v+"_lte_"+g,this.dummyDOM.querySelector("#"+v+s).appendChild(p),this.descriptions.labelElements[g]=this.dummyDOM.querySelector("#".concat(v).concat("_lte_").concat(g)),this.descriptions.labelElements[g].innerHTML=b)},t=o.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(t,f,u){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(o){var l,i,h,_;this.dummyDOM.querySelector("#".concat(o,"_summary"))&&(l=this._accessibleOutputs[o],h=(function(m,s,c,p){return s="".concat(s," canvas, ").concat(c," by ").concat(p," pixels, contains ").concat(m[0]),s=(m[0]===1?"".concat(s," shape: "):"".concat(s," shapes: ")).concat(m[1]),s})((i=(function(m,s){var c,p="",g="",b=0;for(c in s){var y,v=0;for(y in s[c]){var j='<li id="'.concat(m,"shape").concat(b,'">').concat(s[c][y].color," ").concat(c,",");c==="line"?j+=" location = ".concat(s[c][y].pos,", length = ").concat(s[c][y].length," pixels"):(j+=" location = ".concat(s[c][y].pos),c!=="point"&&(j+=", area = ".concat(s[c][y].area," %")),j+="</li>"),p+=j,v++,b++}g=1<v?"".concat(g," ").concat(v," ").concat(c,"s"):"".concat(g," ").concat(v," ").concat(c)}return{numShapes:[b,g],details:p}})(o,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),_=(function(m,s){var c,p,g=0,b="",y=Array.from(Array(10),function(){return Array(10)});for(c in s)for(var v in s[c]){var j=void 0;j=c!=="line"?'<a href="#'.concat(m,"shape").concat(g,'">').concat(s[c][v].color," ").concat(c,"</a>"):'<a href="#'.concat(m,"shape").concat(g,'">').concat(s[c][v].color," ").concat(c," midpoint</a>"),s[c][v].loc.locY<y.length&&s[c][v].loc.locX<y[s[c][v].loc.locY].length&&(y[s[c][v].loc.locY][s[c][v].loc.locX]?y[s[c][v].loc.locY][s[c][v].loc.locX]=y[s[c][v].loc.locY][s[c][v].loc.locX]+"  "+j:y[s[c][v].loc.locY][s[c][v].loc.locX]=j,g++)}for(p in y){var x,E="<tr>";for(x in y[p])E+="<td>",y[p][x]!==void 0&&(E+=y[p][x]),E+="</td>";b=b+E+"</tr>"}return b})(o,this.ingredients.shapes),h!==l.summary.innerHTML&&(l.summary.innerHTML=h),_!==l.map.innerHTML&&(l.map.innerHTML=_),i.details!==l.shapeDetails.innerHTML&&(l.shapeDetails.innerHTML=i.details),this._accessibleOutputs[o]=l)},t=t.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(t,f,u){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(h){return(function(_){if(Array.isArray(_)){for(var m=0,s=new Array(_.length);m<_.length;m++)s[m]=_[m];return s}})(h)||(function(_){if(Symbol.iterator in Object(_)||Object.prototype.toString.call(_)==="[object Arguments]")return Array.from(_)})(h)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function i(c,_,m){var s=c[0],c=c[1];return s<0||_<=s||c<0||m<=c?null:((s=Math.floor(s/_*10))===10&&(s-=1),(_=Math.floor(c/m*10))===10&&(_-=1),{locX:s,locY:_})}o.default.prototype.textOutput=function(h){o.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),h===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},o.default.prototype.gridOutput=function(h){o.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),h===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},o.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},o.default.prototype._createOutput=function(h,_){var m,s,c,p=this.canvas.id,g=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(p).parentNode),"");_==="Fallback"?(m=p+h,this.dummyDOM.querySelector("#".concat(s=p+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(p,"_Description"))?this.dummyDOM.querySelector("#".concat(p,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(s,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(p)).innerHTML='<div id="'.concat(s,'" role="region" aria-label="Canvas Outputs"></div>'))):_==="Label"&&(m=p+h+(g=_),this.dummyDOM.querySelector("#".concat(s=p+"accessibleOutput"+_))||(this.dummyDOM.querySelector("#".concat(p,"_Label"))?this.dummyDOM.querySelector("#".concat(p,"_Label")):this.dummyDOM.querySelector("#".concat(p))).insertAdjacentHTML("afterend",'<div id="'.concat(s,'"></div>'))),this._accessibleOutputs[m]={},h==="textOutput"?(g="#".concat(p,"gridOutput").concat(g),c='<div id="'.concat(m,'">Text Output<div id="').concat(m,'Summary" aria-label="text output summary"><p id="').concat(m,'_summary"></p><ul id="').concat(m,'_list"></ul></div><table id="').concat(m,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(g)?this.dummyDOM.querySelector(g).insertAdjacentHTML("beforebegin",c):this.dummyDOM.querySelector("#".concat(s)).innerHTML=c,this._accessibleOutputs[m].list=this.dummyDOM.querySelector("#".concat(m,"_list"))):h==="gridOutput"&&(g="#".concat(p,"textOutput").concat(g),c='<div id="'.concat(m,'">Grid Output<p id="').concat(m,'_summary" aria-label="grid output summary"><table id="').concat(m,'_map" summary="grid output content"></table><ul id="').concat(m,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(g)?this.dummyDOM.querySelector(g).insertAdjacentHTML("afterend",c):this.dummyDOM.querySelector("#".concat(s)).innerHTML=c,this._accessibleOutputs[m].map=this.dummyDOM.querySelector("#".concat(m,"_map"))),this._accessibleOutputs[m].shapeDetails=this.dummyDOM.querySelector("#".concat(m,"_shapeDetails")),this._accessibleOutputs[m].summary=this.dummyDOM.querySelector("#".concat(m,"_summary"))},o.default.prototype._updateAccsOutput=function(){var h=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(h+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(h+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(h+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(h+"gridOutputLabel"))},o.default.prototype._accsBackground=function(h){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==h&&(this.ingredients.colors.backgroundRGBA=h,this.ingredients.colors.background=this._rgbColorName(h))},o.default.prototype._accsCanvasColors=function(h,_){h==="fill"?this.ingredients.colors.fillRGBA!==_&&(this.ingredients.colors.fillRGBA=_,this.ingredients.colors.fill=this._rgbColorName(_)):h==="stroke"&&this.ingredients.colors.strokeRGBA!==_&&(this.ingredients.colors.strokeRGBA=_,this.ingredients.colors.stroke=this._rgbColorName(_))},o.default.prototype._accsOutput=function(h,_){h==="ellipse"&&_[2]===_[3]?h="circle":h==="rectangle"&&_[2]===_[3]&&(h="square");var m,s,c={},p=!0,g=(function(y,v){var j;return y=y==="rectangle"||y==="ellipse"||y==="arc"||y==="circle"||y==="square"?(j=Math.round(v[0]+v[2]/2),Math.round(v[1]+v[3]/2)):y==="triangle"?(j=(v[0]+v[2]+v[4])/3,(v[1]+v[3]+v[5])/3):y==="quadrilateral"?(j=(v[0]+v[2]+v[4]+v[6])/4,(v[1]+v[3]+v[5]+v[7])/4):y==="line"?(j=(v[0]+v[2])/2,(v[1]+v[3])/2):(j=v[0],v[1]),[j,y]})(h,_);if(h==="line"?(c.color=this.ingredients.colors.stroke,c.length=Math.round(this.dist(_[0],_[1],_[2],_[3])),m=this._getPos(_[0],[1]),s=this._getPos(_[2],[3]),c.loc=i(g,this.width,this.height),c.pos=m===s?"at ".concat(m):"from ".concat(m," to ").concat(s)):(h==="point"?c.color=this.ingredients.colors.stroke:(c.color=this.ingredients.colors.fill,c.area=this._getArea(h,_)),c.pos=this._getPos.apply(this,l(g)),c.loc=i(g,this.width,this.height)),this.ingredients.shapes[h]){if(this.ingredients.shapes[h]!==[c]){for(var b in this.ingredients.shapes[h])JSON.stringify(this.ingredients.shapes[h][b])===JSON.stringify(c)&&(p=!1);p===!0&&this.ingredients.shapes[h].push(c)}}else this.ingredients.shapes[h]=[c]},o.default.prototype._getPos=function(s,m){var s=new DOMPointReadOnly(s,m),m=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),s=s.matrixTransform(m),m=s.x,s=s.y,c=this.width*this._pixelDensity,p=this.height*this._pixelDensity;return m<.4*c?s<.4*p?"top left":.6*p<s?"bottom left":"mid left":.6*c<m?s<.4*p?"top right":.6*p<s?"bottom right":"mid right":s<.4*p?"top middle":.6*p<s?"bottom middle":"middle"},o.default.prototype._getArea=function(h,_){var m,s,c=0,p=(h==="arc"?(c=(m=((_[5]-_[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*_[2]*_[3]/8,_[6]!=="open"&&_[6]!=="chord"||(s=_[0],v=_[1],p=_[0]+_[2]/2*Math.cos(_[4]).toFixed(2),j=_[1]+_[3]/2*Math.sin(_[4]).toFixed(2),b=_[0]+_[2]/2*Math.cos(_[5]).toFixed(2),g=_[1]+_[3]/2*Math.sin(_[5]).toFixed(2),s=Math.abs(s*(j-g)+p*(g-v)+b*(v-j))/2,m>Math.PI?c+=s:c-=s)):h==="ellipse"||h==="circle"?c=3.14*_[2]/2*_[3]/2:h==="line"||h==="point"?c=0:h==="quadrilateral"?c=Math.abs((_[6]+_[0])*(_[7]-_[1])+(_[0]+_[2])*(_[1]-_[3])+(_[2]+_[4])*(_[3]-_[5])+(_[4]+_[6])*(_[5]-_[7]))/2:h==="rectangle"||h==="square"?c=_[2]*_[3]:h==="triangle"&&(c=Math.abs(_[0]*(_[3]-_[5])+_[2]*(_[5]-_[1])+_[4]*(_[1]-_[3]))/2),this.width*this._pixelDensity),g=this.height*this._pixelDensity,b=[new DOMPoint(0,0),new DOMPoint(p,0),new DOMPoint(p,g),new DOMPoint(0,g)],y=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),v=b.map(function(x){return x.matrixTransform(y)}),j=Math.abs((v[3].x+v[0].x)*(v[3].y-v[0].y)+(v[0].x+v[1].x)*(v[0].y-v[1].y)+(v[1].x+v[2].x)*(v[1].y-v[2].y)+(v[2].x+v[3].x)*(v[2].y-v[3].y))/2;return Math.round(100*c/j)},t=o.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(t,f,u){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(o){var l,i,h,_;this.dummyDOM.querySelector("#".concat(o,"_summary"))&&(l=this._accessibleOutputs[o],h=(function(m,s,c,p){return c="Your output is a, ".concat(c," by ").concat(p," pixels, ").concat(s," canvas containing the following"),c=m===1?"".concat(c," shape:"):"".concat(c," ").concat(m," shapes:"),c})((i=(function(m,s){var c,p="",g=0;for(c in s)for(var b in s[c]){var y='<li><a href="#'.concat(m,"shape").concat(g,'">').concat(s[c][b].color," ").concat(c,"</a>");c==="line"?y+=", ".concat(s[c][b].pos,", ").concat(s[c][b].length," pixels long.</li>"):(y+=", at ".concat(s[c][b].pos),c!=="point"&&(y+=", covering ".concat(s[c][b].area,"% of the canvas")),y+=".</li>"),p+=y,g++}return{numShapes:g,listShapes:p}})(o,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),_=(function(m,s){var c,p="",g=0;for(c in s)for(var b in s[c]){var y='<tr id="'.concat(m,"shape").concat(g,'"><th>').concat(s[c][b].color," ").concat(c,"</th>");c==="line"?y+="<td>location = ".concat(s[c][b].pos,"</td><td>length = ").concat(s[c][b].length," pixels</td></tr>"):(y+="<td>location = ".concat(s[c][b].pos,"</td>"),c!=="point"&&(y+="<td> area = ".concat(s[c][b].area,"%</td>")),y+="</tr>"),p+=y,g++}return p})(o,this.ingredients.shapes),h!==l.summary.innerHTML&&(l.summary.innerHTML=h),i.listShapes!==l.list.innerHTML&&(l.list.innerHTML=i.listShapes),_!==l.shapeDetails.innerHTML&&(l.shapeDetails.innerHTML=_),this._accessibleOutputs[o]=l)},t=t.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(t,f,u){var o=(o=t("./core/main"))&&o.__esModule?o:{default:o};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.DataArray"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.Quat"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),f.exports=o.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(t,f,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={_hsbaToHSLA:function(o){var l=o[0],i=o[1],h=o[2],_=(2-i)*h/2;return _!=0&&(_==1?i=0:_<.5?i/=2-i:i=i*h/(2-2*_)),[l,i,_,o[3]]},_hsbaToRGBA:function(o){var l,i,h,_,m,s=6*o[0],c=o[1],p=o[2];return c===0?[p,p,p,o[3]]:(i=p*(1-c),h=p*(1-c*(s-(l=Math.floor(s)))),c=p*(1-c*(1+l-s)),s=l===1?(_=h,m=p,i):l===2?(_=i,m=p,c):l===3?(_=i,m=h,p):l===4?(_=c,m=i,p):l===5?(_=p,m=i,h):(_=p,m=c,i),[_,m,s,o[3]])},_hslaToHSBA:function(o){var l=o[0],i=o[1],h=o[2],_=h<.5?(1+i)*h:h+i-h*i;return[l,i=2*(_-h)/_,_,o[3]]},_hslaToRGBA:function(o){var l,i=6*o[0],h=o[1],_=o[2];return h===0?[_,_,_,o[3]]:[(l=function(m,s,c){return m<0?m+=6:6<=m&&(m-=6),m<1?s+(c-s)*m:m<3?c:m<4?s+(c-s)*(4-m):s})(2+i,h=2*_-(_=_<.5?(1+h)*_:_+h-_*h),_),l(i,h,_),l(i-2,h,_),o[3]]},_rgbaToHSBA:function(o){var l,i,h=o[0],_=o[1],m=o[2],s=Math.max(h,_,m),c=s-Math.min(h,_,m);return c==0?i=l=0:(i=c/s,h===s?l=(_-m)/c:_===s?l=2+(m-h)/c:m===s&&(l=4+(h-_)/c),l<0?l+=6:6<=l&&(l-=6)),[l/6,i,s,o[3]]},_rgbaToHSLA:function(o){var l,i,h=o[0],_=o[1],m=o[2],s=Math.max(h,_,m),p=Math.min(h,_,m),c=s+p,p=s-p;return p==0?i=l=0:(i=c<1?p/c:p/(2-c),h===s?l=(_-m)/p:_===s?l=2+(m-h)/p:m===s&&(l=4+(h-_)/p),l<0?l+=6:6<=l&&(l-=6)),[l/6,i,c/2,o[3]]}},t=t.default.ColorConversion,u.default=t},{"../core/main":283}],269:[function(t,f,u){function o(s){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(s)}function l(s){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(c){return o(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":o(c)})(s)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var i=(m=t("../core/main"))&&m.__esModule?m:{default:m},h=(function(s){if(s&&s.__esModule)return s;if(s===null||l(s)!=="object"&&typeof s!="function")return{default:s};var c=_();if(c&&c.has(s))return c.get(s);var p,g={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in s){var y;Object.prototype.hasOwnProperty.call(s,p)&&((y=b?Object.getOwnPropertyDescriptor(s,p):null)&&(y.get||y.set)?Object.defineProperty(g,p,y):g[p]=s[p])}return g.default=s,c&&c.set(s,g),g})(t("../core/constants"));function _(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,_=function(){return s},s)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),i.default.prototype.alpha=function(s){return i.default._validateParameters("alpha",arguments),this.color(s)._getAlpha()},i.default.prototype.blue=function(s){return i.default._validateParameters("blue",arguments),this.color(s)._getBlue()},i.default.prototype.brightness=function(s){return i.default._validateParameters("brightness",arguments),this.color(s)._getBrightness()},i.default.prototype.color=function(){for(var s,c=arguments.length,p=new Array(c),g=0;g<c;g++)p[g]=arguments[g];return i.default._validateParameters("color",p),p[0]instanceof i.default.Color?p[0]:(s=Array.isArray(p[0])?p[0]:p,new i.default.Color(this,s))},i.default.prototype.green=function(s){return i.default._validateParameters("green",arguments),this.color(s)._getGreen()},i.default.prototype.hue=function(s){return i.default._validateParameters("hue",arguments),this.color(s)._getHue()},i.default.prototype.lerpColor=function(s,c,p){i.default._validateParameters("lerpColor",arguments),s instanceof i.default.Color||(s=color(s)),c instanceof i.default.Color||(c=color(c));var g,b,y,v=this._colorMode,j=this._colorMaxes;if(v===h.RGB)b=s.levels.map(function(x){return x/255}),y=c.levels.map(function(x){return x/255});else if(v===h.HSB)s._getBrightness(),c._getBrightness(),b=s.hsba,y=c.hsba;else{if(v!==h.HSL)throw new Error("".concat(v," cannot be used for interpolation."));s._getLightness(),c._getLightness(),b=s.hsla,y=c.hsla}return p=Math.max(Math.min(p,1),0),this.lerp===void 0&&(this.lerp=function(x,E,P){return P*(E-x)+x}),v===h.RGB?g=this.lerp(b[0],y[0],p):(.5<Math.abs(b[0]-y[0])&&(b[0]>y[0]?y[0]+=1:b[0]+=1),1<=(g=this.lerp(b[0],y[0],p))&&--g),s=this.lerp(b[1],y[1],p),c=this.lerp(b[2],y[2],p),b=this.lerp(b[3],y[3],p),g*=j[v][0],s*=j[v][1],c*=j[v][2],b*=j[v][3],this.color(g,s,c,b)},i.default.prototype.paletteLerp=function(s,c){var p=s[0];if(c<p[1])return this.color(p[0]);for(var g=1;g<s.length;g++){var b,y=s[g];if(c<y[1])return b=s[g-1],this.lerpColor(this.color(b[0]),this.color(y[0]),(c-b[1])/(y[1]-b[1]))}return this.color(s[s.length-1][0])},i.default.prototype.lightness=function(s){return i.default._validateParameters("lightness",arguments),this.color(s)._getLightness()},i.default.prototype.red=function(s){return i.default._validateParameters("red",arguments),this.color(s)._getRed()},i.default.prototype.saturation=function(s){return i.default._validateParameters("saturation",arguments),this.color(s)._getSaturation()};var m=i.default;u.default=m},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(g,f,u){function o(x){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(x)}function l(x){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(E){return o(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":o(E)})(x)}g("core-js/modules/es.symbol"),g("core-js/modules/es.symbol.description"),g("core-js/modules/es.symbol.iterator"),g("core-js/modules/es.array.includes"),g("core-js/modules/es.array.iterator"),g("core-js/modules/es.array.join"),g("core-js/modules/es.array.map"),g("core-js/modules/es.array.slice"),g("core-js/modules/es.object.get-own-property-descriptor"),g("core-js/modules/es.object.to-string"),g("core-js/modules/es.regexp.constructor"),g("core-js/modules/es.regexp.exec"),g("core-js/modules/es.regexp.to-string"),g("core-js/modules/es.string.includes"),g("core-js/modules/es.string.iterator"),g("core-js/modules/es.string.trim"),g("core-js/modules/es.weak-map"),g("core-js/modules/web.dom-collections.iterator"),g("core-js/modules/es.array.includes"),g("core-js/modules/es.array.join"),g("core-js/modules/es.array.map"),g("core-js/modules/es.array.slice"),g("core-js/modules/es.object.to-string"),g("core-js/modules/es.regexp.constructor"),g("core-js/modules/es.regexp.exec"),g("core-js/modules/es.regexp.to-string"),g("core-js/modules/es.string.includes"),g("core-js/modules/es.string.trim"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var i=s(g("../core/main")),h=(function(x){if(x&&x.__esModule)return x;if(x===null||l(x)!=="object"&&typeof x!="function")return{default:x};var E=m();if(E&&E.has(x))return E.get(x);var P,O={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(P in x){var D;Object.prototype.hasOwnProperty.call(x,P)&&((D=M?Object.getOwnPropertyDescriptor(x,P):null)&&(D.get||D.set)?Object.defineProperty(O,P,D):O[P]=x[P])}return O.default=x,E&&E.set(x,O),O})(g("../core/constants")),_=s(g("./color_conversion"));function m(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,m=function(){return x},x)}function s(x){return x&&x.__esModule?x:{default:x}}function c(x,E){for(var P=0;P<E.length;P++){var O=E[P];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(x,O.key,O)}}var p={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},g=/\s*/,j=/(\d{1,3})/,b=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,y=new RegExp("".concat(b.source,"%")),v={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",j.source,",",j.source,",",j.source,"\\)$"].join(g.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",y.source,",",y.source,",",y.source,"\\)$"].join(g.source),"i"),RGBA:new RegExp(["^rgba\\(",j.source,",",j.source,",",j.source,",",b.source,"\\)$"].join(g.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",y.source,",",y.source,",",y.source,",",b.source,"\\)$"].join(g.source),"i"),HSL:new RegExp(["^hsl\\(",j.source,",",y.source,",",y.source,"\\)$"].join(g.source),"i"),HSLA:new RegExp(["^hsla\\(",j.source,",",y.source,",",y.source,",",b.source,"\\)$"].join(g.source),"i"),HSB:new RegExp(["^hsb\\(",j.source,",",y.source,",",y.source,"\\)$"].join(g.source),"i"),HSBA:new RegExp(["^hsba\\(",j.source,",",y.source,",",y.source,",",b.source,"\\)$"].join(g.source),"i")},j=(i.default.Color=(function(){function x(M,D){if(!(this instanceof x))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(M._colorMode,M._colorMaxes),![h.RGB,h.HSL,h.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=x._parseInputs.apply(this,D),this._calculateLevels()}var E,P,O;return E=x,O=[{key:"_parseInputs",value:function(M,D,U,I){var B,R=arguments.length,G=this.mode,z=this.maxes[G],q=[];if(3<=R){for(q[0]=M/z[0],q[1]=D/z[1],q[2]=U/z[2],q[3]=typeof I=="number"?I/z[3]:1,B=q.length-1;0<=B;--B){var Y=q[B];Y<0?q[B]=0:1<Y&&(q[B]=1)}return G===h.HSL?_.default._hslaToRGBA(q):G===h.HSB?_.default._hsbaToRGBA(q):q}if(R===1&&typeof M=="string"){if(U=M.trim().toLowerCase(),p[U])return x._parseInputs.call(this,p[U]);if(v.HEX3.test(U))return(q=v.HEX3.exec(U).slice(1).map(function($){return parseInt($+$,16)/255}))[3]=1,q;if(v.HEX6.test(U))return(q=v.HEX6.exec(U).slice(1).map(function($){return parseInt($,16)/255}))[3]=1,q;if(v.HEX4.test(U))return q=v.HEX4.exec(U).slice(1).map(function($){return parseInt($+$,16)/255});if(v.HEX8.test(U))return q=v.HEX8.exec(U).slice(1).map(function($){return parseInt($,16)/255});if(v.RGB.test(U))return(q=v.RGB.exec(U).slice(1).map(function($){return $/255}))[3]=1,q;if(v.RGB_PERCENT.test(U))return(q=v.RGB_PERCENT.exec(U).slice(1).map(function($){return parseFloat($)/100}))[3]=1,q;if(v.RGBA.test(U))return q=v.RGBA.exec(U).slice(1).map(function($,X){return X===3?parseFloat($):$/255});if(v.RGBA_PERCENT.test(U))return q=v.RGBA_PERCENT.exec(U).slice(1).map(function($,X){return X===3?parseFloat($):parseFloat($)/100});if(v.HSL.test(U)?(q=v.HSL.exec(U).slice(1).map(function($,X){return X===0?parseInt($,10)/360:parseInt($,10)/100}))[3]=1:v.HSLA.test(U)&&(q=v.HSLA.exec(U).slice(1).map(function($,X){return X===0?parseInt($,10)/360:X===3?parseFloat($):parseInt($,10)/100})),(q=q.map(function($){return Math.max(Math.min($,1),0)})).length)return _.default._hslaToRGBA(q);if(v.HSB.test(U)?(q=v.HSB.exec(U).slice(1).map(function($,X){return X===0?parseInt($,10)/360:parseInt($,10)/100}))[3]=1:v.HSBA.test(U)&&(q=v.HSBA.exec(U).slice(1).map(function($,X){return X===0?parseInt($,10)/360:X===3?parseFloat($):parseInt($,10)/100})),q.length){for(B=q.length-1;0<=B;--B)q[B]=Math.max(Math.min(q[B],1),0);return _.default._hsbaToRGBA(q)}q=[1,1,1,1]}else{if(R!==1&&R!==2||typeof M!="number")throw new Error("".concat(arguments,"is not a valid color representation."));q[0]=M/z[2],q[1]=M/z[2],q[2]=M/z[2],q[3]=typeof D=="number"?D/z[3]:1,q=q.map(function($){return Math.max(Math.min($,1),0)})}return q}}],(P=[{key:"toString",value:function(M){var D=this.levels,U=this._array,I=U[3];switch(M){case"#rrggbb":return"#".concat(D[0]<16?"0".concat(D[0].toString(16)):D[0].toString(16),D[1]<16?"0".concat(D[1].toString(16)):D[1].toString(16),D[2]<16?"0".concat(D[2].toString(16)):D[2].toString(16));case"#rrggbbaa":return"#".concat(D[0]<16?"0".concat(D[0].toString(16)):D[0].toString(16),D[1]<16?"0".concat(D[1].toString(16)):D[1].toString(16),D[2]<16?"0".concat(D[2].toString(16)):D[2].toString(16),D[3]<16?"0".concat(D[3].toString(16)):D[3].toString(16));case"#rgb":return"#".concat(Math.round(15*U[0]).toString(16),Math.round(15*U[1]).toString(16),Math.round(15*U[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*U[0]).toString(16),Math.round(15*U[1]).toString(16),Math.round(15*U[2]).toString(16),Math.round(15*U[3]).toString(16));case"rgb":return"rgb(".concat(D[0],", ",D[1],", ",D[2],")");case"rgb%":return"rgb(".concat((100*U[0]).toPrecision(3),"%, ",(100*U[1]).toPrecision(3),"%, ",(100*U[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*U[0]).toPrecision(3),"%, ",(100*U[1]).toPrecision(3),"%, ",(100*U[2]).toPrecision(3),"%, ",(100*U[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=_.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[h.HSB][0],", ",this.hsba[1]*this.maxes[h.HSB][1],", ",this.hsba[2]*this.maxes[h.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=_.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=_.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[h.HSB][0],", ",this.hsba[1]*this.maxes[h.HSB][1],", ",this.hsba[2]*this.maxes[h.HSB][2],", ",I,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=_.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*I).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=_.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[h.HSL][0],", ",this.hsla[1]*this.maxes[h.HSL][1],", ",this.hsla[2]*this.maxes[h.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=_.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=_.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[h.HSL][0],", ",this.hsla[1]*this.maxes[h.HSL][1],", ",this.hsla[2]*this.maxes[h.HSL][2],", ",I,")");case"hsla%":return this.hsla||(this.hsla=_.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*I).toPrecision(3),"%)");default:return"rgba(".concat(D[0],",",D[1],",",D[2],",",I,")")}}},{key:"setRed",value:function(M){this._array[0]=M/this.maxes[h.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(M){this._array[1]=M/this.maxes[h.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(M){this._array[2]=M/this.maxes[h.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(M){this._array[3]=M/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var M=this._array,D=this.levels=new Array(M.length),U=M.length-1;0<=U;--U)D[U]=Math.round(255*M[U]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(M,D){this.mode=M,this.maxes=D}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[h.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=_.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[h.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[h.RGB][1]}},{key:"_getHue",value:function(){return this.mode===h.HSB?(this.hsba||(this.hsba=_.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[h.HSB][0]):(this.hsla||(this.hsla=_.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[h.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=_.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[h.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[h.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===h.HSB?(this.hsba||(this.hsba=_.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[h.HSB][1]):(this.hsla||(this.hsla=_.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[h.HSL][1])}}])&&c(E.prototype,P),O&&c(E,O),x})(),i.default.Color);u.default=j},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(t,f,u){function o(s){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(s)}function l(s){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(c){return o(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":o(c)})(s)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var i=(m=t("../core/main"))&&m.__esModule?m:{default:m},h=(function(s){if(s&&s.__esModule)return s;if(s===null||l(s)!=="object"&&typeof s!="function")return{default:s};var c=_();if(c&&c.has(s))return c.get(s);var p,g={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in s){var y;Object.prototype.hasOwnProperty.call(s,p)&&((y=b?Object.getOwnPropertyDescriptor(s,p):null)&&(y.get||y.set)?Object.defineProperty(g,p,y):g[p]=s[p])}return g.default=s,c&&c.set(s,g),g})(t("../core/constants"));function _(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,_=function(){return s},s)}t("./p5.Color"),i.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},i.default.prototype.endClip=function(){this._renderer.endClip()},i.default.prototype.clip=function(s,c){this._renderer.beginClip(c),s(),this._renderer.endClip(c)},i.default.prototype.background=function(){var s;return(s=this._renderer).background.apply(s,arguments),this},i.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},i.default.prototype.colorMode=function(s,c,p,g,b){return i.default._validateParameters("colorMode",arguments),s!==h.RGB&&s!==h.HSB&&s!==h.HSL||(this._colorMode=s,s=this._colorMaxes[s],arguments.length===2?(s[0]=c,s[1]=c,s[2]=c,s[3]=c):arguments.length===4?(s[0]=c,s[1]=p,s[2]=g):arguments.length===5&&(s[0]=c,s[1]=p,s[2]=g,s[3]=b)),this},i.default.prototype.fill=function(){var s;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(s=this._renderer).fill.apply(s,arguments),this},i.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},i.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},i.default.prototype.stroke=function(){var s;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(s=this._renderer).stroke.apply(s,arguments),this},i.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},i.default.prototype.noErase=function(){return this._renderer.noErase(),this};var m=i.default;u.default=m},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(t,f,u){Object.defineProperty(u,"__esModule",{value:!0}),u.QUADRATIC=u.LINEAR=u._CTX_MIDDLE=u._DEFAULT_LEADMULT=u._DEFAULT_TEXT_FILL=u.WORD=u.CHAR=u.BOLDITALIC=u.BOLD=u.ITALIC=u.NORMAL=u.BLUR=u.ERODE=u.DILATE=u.POSTERIZE=u.INVERT=u.OPAQUE=u.GRAY=u.THRESHOLD=u.BURN=u.DODGE=u.SOFT_LIGHT=u.HARD_LIGHT=u.OVERLAY=u.REPLACE=u.SCREEN=u.MULTIPLY=u.EXCLUSION=u.SUBTRACT=u.DIFFERENCE=u.LIGHTEST=u.DARKEST=u.ADD=u.REMOVE=u.BLEND=u.UP_ARROW=u.TAB=u.SHIFT=u.RIGHT_ARROW=u.RETURN=u.OPTION=u.LEFT_ARROW=u.ESCAPE=u.ENTER=u.DOWN_ARROW=u.DELETE=u.CONTROL=u.BACKSPACE=u.ALT=u.AUTO=u.HSL=u.HSB=u.RGB=u.MITER=u.BEVEL=u.ROUND=u.SQUARE=u.PROJECT=u.PIE=u.CHORD=u.OPEN=u.CLOSE=u.TESS=u.QUAD_STRIP=u.QUADS=u.TRIANGLE_STRIP=u.TRIANGLE_FAN=u.TRIANGLES=u.LINE_LOOP=u.LINE_STRIP=u.LINES=u.POINTS=u.BASELINE=u.BOTTOM=u.TOP=u.CENTER=u.LEFT=u.RIGHT=u.RADIUS=u.CORNERS=u.CORNER=u.RAD_TO_DEG=u.DEG_TO_RAD=u.RADIANS=u.DEGREES=u.TWO_PI=u.TAU=u.QUARTER_PI=u.PI=u.HALF_PI=u.WAIT=u.TEXT=u.MOVE=u.HAND=u.CROSS=u.ARROW=u.WEBGL2=u.WEBGL=u.P2D=u.VERSION=void 0,u.RGBA=u.HALF_FLOAT=u.FLOAT=u.UNSIGNED_INT=u.UNSIGNED_BYTE=u.COVER=u.CONTAIN=u.FALLBACK=u.LABEL=u.AXES=u.GRID=u._DEFAULT_FILL=u._DEFAULT_STROKE=u.PORTRAIT=u.LANDSCAPE=u.SMOOTH=u.FLAT=u.MIRROR=u.CLAMP=u.REPEAT=u.NEAREST=u.IMAGE=u.IMMEDIATE=u.TEXTURE=u.FILL=u.STROKE=u.CURVE=u.BEZIER=void 0;var o=Math.PI,l=(u.VERSION="1.11.9",u.P2D="p2d",u.WEBGL="webgl",u.WEBGL2="webgl2",u.ARROW="default",u.CROSS="crosshair",u.HAND="pointer",u.MOVE="move",u.TEXT="text",u.WAIT="wait",o/2),l=(u.HALF_PI=l,o),l=(u.PI=l,o/4),l=(u.QUARTER_PI=l,2*o),l=(u.TAU=l,2*o),l=(u.TWO_PI=l,u.DEGREES="degrees",u.RADIANS="radians",o/180),l=(u.DEG_TO_RAD=l,180/o);u.RAD_TO_DEG=l,u.CORNER="corner",u.CORNERS="corners",u.RADIUS="radius",u.RIGHT="right",u.LEFT="left",u.CENTER="center",u.TOP="top",u.BOTTOM="bottom",u.BASELINE="alphabetic",u.POINTS=0,u.LINES=1,u.LINE_STRIP=3,u.LINE_LOOP=2,u.TRIANGLES=4,u.TRIANGLE_FAN=6,u.TRIANGLE_STRIP=5,u.QUADS="quads",u.QUAD_STRIP="quad_strip",u.TESS="tess",u.CLOSE="close",u.OPEN="open",u.CHORD="chord",u.PIE="pie",u.PROJECT="square",u.SQUARE="butt",u.ROUND="round",u.BEVEL="bevel",u.MITER="miter",u.RGB="rgb",u.HSB="hsb",u.HSL="hsl",u.AUTO="auto",u.ALT=18,u.BACKSPACE=8,u.CONTROL=17,u.DELETE=46,u.DOWN_ARROW=40,u.ENTER=13,u.ESCAPE=27,u.LEFT_ARROW=37,u.OPTION=18,u.RETURN=13,u.RIGHT_ARROW=39,u.SHIFT=16,u.TAB=9,u.UP_ARROW=38,u.BLEND="source-over",u.REMOVE="destination-out",u.ADD="lighter",u.DARKEST="darken",u.LIGHTEST="lighten",u.DIFFERENCE="difference",u.SUBTRACT="subtract",u.EXCLUSION="exclusion",u.MULTIPLY="multiply",u.SCREEN="screen",u.REPLACE="copy",u.OVERLAY="overlay",u.HARD_LIGHT="hard-light",u.SOFT_LIGHT="soft-light",u.DODGE="color-dodge",u.BURN="color-burn",u.THRESHOLD="threshold",u.GRAY="gray",u.OPAQUE="opaque",u.INVERT="invert",u.POSTERIZE="posterize",u.DILATE="dilate",u.ERODE="erode",u.BLUR="blur",u.NORMAL="normal",u.ITALIC="italic",u.BOLD="bold",u.BOLDITALIC="bold italic",u.CHAR="CHAR",u.WORD="WORD",u._DEFAULT_TEXT_FILL="#000000",u._DEFAULT_LEADMULT=1.25,u._CTX_MIDDLE="middle",u.LINEAR="linear",u.QUADRATIC="quadratic",u.BEZIER="bezier",u.CURVE="curve",u.STROKE="stroke",u.FILL="fill",u.TEXTURE="texture",u.IMMEDIATE="immediate",u.IMAGE="image",u.NEAREST="nearest",u.REPEAT="repeat",u.CLAMP="clamp",u.MIRROR="mirror",u.FLAT="flat",u.SMOOTH="smooth",u.LANDSCAPE="landscape",u.PORTRAIT="portrait",u._DEFAULT_STROKE="#000000",u._DEFAULT_FILL="#FFFFFF",u.GRID="grid",u.AXES="axes",u.LABEL="label",u.FALLBACK="fallback",u.CONTAIN="contain",u.COVER="cover",u.UNSIGNED_BYTE="unsigned-byte",u.UNSIGNED_INT="unsigned-int",u.FLOAT="float",u.HALF_FLOAT="half-float",u.RGBA="rgba"},{}],273:[function(t,f,u){function o(b){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(b)}function l(b){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(y){return o(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":o(y)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var i=(h=t("./main"))&&h.__esModule?h:{default:h},h=(function(b){if(b&&b.__esModule)return b;if(b===null||l(b)!=="object"&&typeof b!="function")return{default:b};var y=_();if(y&&y.has(b))return y.get(b);var v,j={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in b){var E;Object.prototype.hasOwnProperty.call(b,v)&&((E=x?Object.getOwnPropertyDescriptor(b,v):null)&&(E.get||E.set)?Object.defineProperty(j,v,E):j[v]=b[v])}return j.default=b,y&&y.set(b,j),j})(t("./constants"));function _(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,_=function(){return b},b)}var m=[h.ARROW,h.CROSS,h.HAND,h.MOVE,h.TEXT,h.WAIT],s=(i.default.prototype._frameRate=0,i.default.prototype._lastFrameTime=window.performance.now(),i.default.prototype._targetFrameRate=60,window.print),c=!1;function p(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function g(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}i.default.prototype.print=function(){var b;arguments.length?(b=console).log.apply(b,arguments):c||(s(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(c=!0))},i.default.prototype.frameCount=0,i.default.prototype.deltaTime=0,i.default.prototype.focused=document.hasFocus(),i.default.prototype.cursor=function(b,y,v){var j,x="auto",E=this._curElement.elt;m.includes(b)?x=b:typeof b=="string"&&(j="",y&&v&&typeof y=="number"&&typeof v=="number"&&(j="".concat(y," ").concat(v)),x=b.substring(0,7)==="http://"||b.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(b)?"url(".concat(b,") ").concat(j,", auto"):b),E.style.cursor=x},i.default.prototype.frameRate=function(b){return i.default._validateParameters("frameRate",arguments),typeof b!="number"||b<0?this._frameRate:(this._setProperty("_targetFrameRate",b),b===0&&this._setProperty("_frameRate",b),this)},i.default.prototype.getFrameRate=function(){return this.frameRate()},i.default.prototype.setFrameRate=function(b){return this.frameRate(b)},i.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},i.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},i.default.prototype.webglVersion=h.P2D,i.default.prototype.displayWidth=screen.width,i.default.prototype.displayHeight=screen.height,i.default.prototype.windowWidth=0,i.default.prototype.windowHeight=0,i.default.prototype._onresize=function(b){this._setProperty("windowWidth",p()),this._setProperty("windowHeight",g());var y=this._isGlobal?window:this;typeof y.windowResized!="function"||(y=y.windowResized(b))===void 0||y||b.preventDefault()},i.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",p()),this._setProperty("windowHeight",g())},i.default.prototype.width=0,i.default.prototype.height=0,i.default.prototype.fullscreen=function(b){if(i.default._validateParameters("fullscreen",arguments),b===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(b){if(b=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");b.requestFullscreen?b.requestFullscreen():b.mozRequestFullScreen?b.mozRequestFullScreen():b.webkitRequestFullscreen?b.webkitRequestFullscreen():b.msRequestFullscreen&&b.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},i.default.prototype.pixelDensity=function(b){var y;return i.default._validateParameters("pixelDensity",arguments),typeof b=="number"?(b!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=b),(y=this).resizeCanvas(this.width,this.height,!0)):y=this._pixelDensity,y},i.default.prototype.displayDensity=function(){return window.devicePixelRatio},i.default.prototype.getURL=function(){return location.href},i.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(b){return b!==""})},i.default.prototype.getURLParams=function(){for(var b,y=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,v={};(b=y.exec(location.search))!=null;)b.index===y.lastIndex&&y.lastIndex++,v[b[1]]=b[2];return v},t=i.default,u.default=t},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(t,f,u){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o=(m=t("../main"))&&m.__esModule?m:{default:m};t("../internationalization");function l(s,c){c=c||console.log.bind(console),i||_(),i.some(function(p){var g;if(s.message&&s.message.match("\\W?".concat(p.name,"\\W"))!==null)return g=p.type==="function"?"".concat(p.name,"()"):p.name,c("Did you just try to use p5.js's ".concat(g," ").concat(p.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(h)),!0})}var i=null,_=null,h=(o.default._friendlyError=o.default._checkForUserDefinedFunctions=o.default._fesErrorMonitor=function(){},i=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),_=function(){function s(p){return Object.getOwnPropertyNames(p).filter(function(g){return g[0]!=="_"&&!(g in c)&&(c[g]=!0)}).map(function(g){var b=typeof p[g]=="function"?"function":g===g.toUpperCase()?"constant":"variable";return{name:g,type:b}})}var c={};(i=[].concat(s(o.default.prototype),s(t("../constants")))).sort(function(p,g){return g.name.length-p.name.length})},m=(o.default.prototype._helpForMisusedAtTopLevelCode=l,document.readyState!=="complete"&&(window.addEventListener("error",l,!1),window.addEventListener("load",function(){window.removeEventListener("error",l,!1)})),o.default);u.default=m},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(t,f,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o=(o=t("../main"))&&o.__esModule?o:{default:o};t("../internationalization"),o.default._friendlyFileLoadError=function(){},t=o.default,u.default=t},{"../internationalization":281,"../main":283}],276:[function(t,f,u){function o(c){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(c)}function l(c){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(p){return o(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":o(p)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var i=m(t("../main"));t("../internationalization"),_(t("../constants"));function h(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,h=function(){return c},c)}function _(c){if(c&&c.__esModule)return c;if(c===null||l(c)!=="object"&&typeof c!="function")return{default:c};var p=h();if(p&&p.has(c))return p.get(c);var g,b,y={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in c)Object.prototype.hasOwnProperty.call(c,g)&&((b=v?Object.getOwnPropertyDescriptor(c,g):null)&&(b.get||b.set)?Object.defineProperty(y,g,b):y[g]=c[g]);return y.default=c,p&&p.set(c,y),y}function m(c){return c&&c.__esModule?c:{default:c}}i.default._fesCodeReader=function(){};var s=i.default;u.default=s},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(t,f,u){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function o(){var l=/(^|@)\S+:\d+/,i=/^\s*at .*(\S+:\d+|\(native\))/m,h=/^(eval@)?(\[native code])?$/;return{parse:function(_){return _.stacktrace!==void 0||_["opera#sourceloc"]!==void 0?this.parseOpera(_):_.stack&&_.stack.match(i)?this.parseV8OrIE(_):_.stack?this.parseFFOrSafari(_):void 0},extractLocation:function(_){return _.indexOf(":")===-1?[_]:[(_=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(_.replace(/[()]/g,"")))[1],_[2]||void 0,_[3]||void 0]},parseV8OrIE:function(_){return _.stack.split(`
`).filter(function(m){return!!m.match(i)},this).map(function(m){var s=(m=-1<m.indexOf("(eval ")?m.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):m).replace(/^\s+/,"").replace(/\(eval code/g,"("),c=s.match(/ (\((.+):(\d+):(\d+)\)$)/),s=(s=c?s.replace(c[0],""):s).split(/\s+/).slice(1),c=this.extractLocation(c?c[1]:s.pop());return{functionName:s.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(c[0])?void 0:c[0],lineNumber:c[1],columnNumber:c[2],source:m}},this)},parseFFOrSafari:function(_){return _.stack.split(`
`).filter(function(m){return!m.match(h)},this).map(function(m){var s,c;return(m=-1<m.indexOf(" > eval")?m.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):m).indexOf("@")===-1&&m.indexOf(":")===-1?{functionName:m}:{functionName:(c=m.match(s=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&c[1]?c[1]:void 0,fileName:(c=this.extractLocation(m.replace(s,"")))[0],lineNumber:c[1],columnNumber:c[2],source:m}},this)},parseOpera:function(_){return!_.stacktrace||-1<_.message.indexOf(`
`)&&_.message.split(`
`).length>_.stacktrace.split(`
`).length?this.parseOpera9(_):_.stack?this.parseOpera11(_):this.parseOpera10(_)},parseOpera9:function(_){for(var m=/Line (\d+).*script (?:in )?(\S+)/i,s=_.message.split(`
`),c=[],p=2,g=s.length;p<g;p+=2){var b=m.exec(s[p]);b&&c.push({fileName:b[2],lineNumber:b[1],source:s[p]})}return c},parseOpera10:function(_){for(var m=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,s=_.stacktrace.split(`
`),c=[],p=0,g=s.length;p<g;p+=2){var b=m.exec(s[p]);b&&c.push({functionName:b[3]||void 0,fileName:b[2],lineNumber:b[1],source:s[p]})}return c},parseOpera11:function(_){return _.stack.split(`
`).filter(function(m){return!!m.match(l)&&!m.match(/^Error created at/)},this).map(function(m){var s,p=m.split("@"),c=this.extractLocation(p.pop()),p=p.shift()||"";return{functionName:p.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(s=p.match(/\(([^)]*)\)/)?p.replace(/^[^(]+\(([^)]*)\)$/,"$1"):s)===void 0||s==="[arguments not available]"?void 0:s.split(","),fileName:c[0],lineNumber:c[1],columnNumber:c[2],source:m}},this)}}}t.default._getErrorStackParser=function(){return new o},t=t.default,u.default=t},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(t,f,u){function o(_){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var l=(l=t("../main"))&&l.__esModule?l:{default:l};(function(_){if(!(_&&_.__esModule)&&!(_===null||h(_)!=="object"&&typeof _!="function")){var m=i();if(m&&m.has(_))return m.get(_);var s,c={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in _){var g;Object.prototype.hasOwnProperty.call(_,s)&&((g=p?Object.getOwnPropertyDescriptor(_,s):null)&&(g.get||g.set)?Object.defineProperty(c,s,g):c[s]=_[s])}c.default=_,m&&m.set(_,c)}})(t("../constants")),t("../internationalization");function i(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,i=function(){return _},_)}function h(_){return(h=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(m){return o(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":o(m)})(_)}l.default._validateParameters=l.default._clearValidateParamsCache=function(){},t=l.default,u.default=t},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(t,f,u){function o(_){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(_)}function l(_){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(m){return o(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":o(m)})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var i=(function(_){if(_&&_.__esModule)return _;if(_===null||l(_)!=="object"&&typeof _!="function")return{default:_};var m=h();if(m&&m.has(_))return m.get(_);var s,c={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in _){var g;Object.prototype.hasOwnProperty.call(_,s)&&((g=p?Object.getOwnPropertyDescriptor(_,s):null)&&(g.get||g.set)?Object.defineProperty(c,s,g):c[s]=_[s])}return c.default=_,m&&m.set(_,c),c})(t("./constants"));function h(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,h=function(){return _},_)}u.default={modeAdjust:function(_,m,s,c,p){var g;return p===i.CORNER?g={x:_,y:m,w:Math.abs(s),h:Math.abs(c)}:p===i.CORNERS?g={x:Math.min(_,s),y:Math.min(m,c),w:Math.abs(s-_),h:Math.abs(c-m)}:p===i.RADIUS?g={x:_-(s=Math.abs(s)),y:m-(c=Math.abs(c)),w:2*s,h:2*c}:p===i.CENTER&&(g={x:_-.5*(s=Math.abs(s)),y:m-.5*(c=Math.abs(c)),w:s,h:c}),g}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(t,f,u){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var o=(l=t("../core/main"))&&l.__esModule?l:{default:l};t("./internationalization");var l=Promise.resolve();Promise.all([new Promise(function(i,h){document.readyState==="complete"?i():window.addEventListener("load",i,!1)}),l]).then(function(){var i;window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(i=new Event("p5Ready"),window.dispatchEvent(i),(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!o.default.instance&&new o.default)})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(t,f,u){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.setTranslatorLanguage=u.currentTranslatorLanguage=u.availableTranslatorLanguages=u.initialize=u.translator=void 0;var o,l,i=_(t("i18next")),h=_(t("i18next-browser-languagedetector"));function _(c){return c&&c.__esModule?c:{default:c}}function m(c,p){for(var g=0;g<p.length;g++){var b=p[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(c,b.key,b)}}var s=(function(){function c(b,y){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.init(b,y)}var p,g;return p=c,(g=[{key:"fetchWithTimeout",value:function(b,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(b,y),new Promise(function(j,x){return setTimeout(function(){return x(new Error("timeout"))},v)})])}},{key:"init",value:function(b){var y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=b,this.options=y}},{key:"read",value:function(b,y,v){var j=this.options.loadPath;b===this.options.fallback?v(null,o[b][y]):l.includes(b)?(j=this.services.interpolator.interpolate(j,{lng:b,ns:y}),this.loadUrl(j,v)):v("Not found",!1)}},{key:"loadUrl",value:function(b,y){this.fetchWithTimeout(b).then(function(v){if(v.ok)return v.json();throw new Error("failed loading ".concat(b))},function(){throw new Error("failed loading ".concat(b))}).then(function(v){return y(null,v)}).catch(y)}}])&&m(p.prototype,g),c})();s.type="backend",u.translator=function(c,p){console.debug("p5.js translator called before translations were loaded"),i.default.t(c,p)},u.initialize=function(){return i.default.use(h.default).use(s).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:o}).then(function(c){u.translator=c},function(c){return console.debug("Translations failed to load (".concat(c,")"))})},u.availableTranslatorLanguages=function(){return i.default.languages},u.currentTranslatorLanguage=function(c){return i.default.language},u.setTranslatorLanguage=function(c){return i.default.changeLanguage(c||void 0,function(p){return console.debug("Translations failed to load (".concat(p,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(t,f,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,u.default=t},{"./main":283}],283:[function(t,f,u){function o(c){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(c)}function l(c){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(p){return o(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":o(p)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t("./shim");var i=(function(c){if(c&&c.__esModule)return c;if(c===null||l(c)!=="object"&&typeof c!="function")return{default:c};var p=h();if(p&&p.has(c))return p.get(c);var g,b={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in c){var v;Object.prototype.hasOwnProperty.call(c,g)&&((v=y?Object.getOwnPropertyDescriptor(c,g):null)&&(v.get||v.set)?Object.defineProperty(b,g,v):b[g]=c[g])}return b.default=c,p&&p.set(c,b),b})(t("./constants"));function h(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,h=function(){return c},c)}function _(c,p){for(var g=0;g<p.length;g++){var b=p[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(c,b.key,b)}}var m,s=(function(){function c(b,j){var v=this;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._isGlobal=!b,this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=j,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var j=Object.getOwnPropertyNames(c.prototype._registeredMethods),x=!0,E=!1,P=void 0;try{for(var O,M=j[Symbol.iterator]();!(x=(O=M.next()).done);x=!0){var D=O.value;this._registeredMethods[D]=c.prototype._registeredMethods[D].slice()}}catch($){E=!0,P=$}finally{try{x||M.return==null||M.return()}finally{if(E)throw P}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),c.prototype.callRegisteredHooksFor=function($){var X=this||c.prototype,ee=this._isGlobal?window:this;if(X._registeredMethods.hasOwnProperty($)){var X=X._registeredMethods[$],K=!0,$=!1,ne=void 0;try{for(var T,F=X[Symbol.iterator]();!(K=(T=F.next()).done);K=!0){var W=T.value;typeof W=="function"&&W.call(ee)}}catch(se){$=!0,ne=se}finally{try{K||F.return==null||F.return()}finally{if($)throw ne}}}},this._start=function(){v._userNode&&typeof v._userNode=="string"&&(v._userNode=document.getElementById(v._userNode));var $=v._isGlobal?window:v;if($.preload){v.callRegisteredHooksFor("beforePreload");var X,ee=document.getElementById(v._loadingScreenId),K=(ee||((ee=document.createElement("div")).innerHTML="Loading...",ee.style.position="absolute",ee.id=v._loadingScreenId,(v._userNode||document.body).appendChild(ee)),v._preloadMethods);for(X in K){K[X]=K[X]||c;var ne=K[X];ne!==c.prototype&&ne!==c||(v._isGlobal&&(window[X]=v._wrapPreload(v,X)),ne=v),v._registeredPreloadMethods[X]=ne[X],ne[X]=v._wrapPreload(ne,X)}$.preload(),v._runIfPreloadsAreDone()}else v._setup(),v._recording||v._draw()},this._runIfPreloadsAreDone=function(){var $,X=this._isGlobal?window:this;X._preloadCount===0&&(($=document.getElementById(X._loadingScreenId))&&$.parentNode.removeChild($),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),X._setup(),this._recording||X._draw()))},this._decrementPreload=function(){var $=this._isGlobal?window:this;$._preloadDone||typeof $.preload!="function"||($._setProperty("_preloadCount",$._preloadCount-1),$._runIfPreloadsAreDone())},this._wrapPreload=function($,X){var ee=this;return function(){ee._incrementPreload();for(var K=arguments.length,ne=new Array(K),T=0;T<K;T++)ne[T]=arguments[T];return ee._registeredPreloadMethods[X].apply($,ne)}},this._incrementPreload=function(){var $=this._isGlobal?window:this;$._preloadDone||$._setProperty("_preloadCount",$._preloadCount+1)},this._setup=function(){v.callRegisteredHooksFor("beforeSetup"),v.createCanvas(v._defaultCanvasSize.width,v._defaultCanvasSize.height,"p2d");var $=v._isGlobal?window:v;if(typeof $.preload=="function")for(var X in v._preloadMethods)$[X]=v._preloadMethods[X][X],$[X]&&v&&($[X]=$[X].bind(v));v._millisStart=window.performance.now(),$._preloadDone=!0,typeof $.setup=="function"&&$.setup();var ee=document.getElementsByTagName("canvas"),K=!0,ne=!1,T=void 0;try{for(var F,W=ee[Symbol.iterator]();!(K=(F=W.next()).done);K=!0){var J=F.value;J.dataset.hidden==="true"&&(J.style.visibility="",delete J.dataset.hidden)}}catch(oe){ne=!0,T=oe}finally{try{K||W.return==null||W.return()}finally{if(ne)throw T}}v._lastTargetFrameTime=window.performance.now(),v._lastRealFrameTime=window.performance.now(),v._setupDone=!0,(v._accessibleOutputs.grid||v._accessibleOutputs.text)&&v._updateAccsOutput(),v.callRegisteredHooksFor("afterSetup")},this._draw=function(X){var X=X||window.performance.now(),ee=X-v._lastTargetFrameTime,K=1e3/v._targetFrameRate;(!v._loop||K-5<=ee)&&(v.deltaTime=X-v._lastRealFrameTime,v._setProperty("deltaTime",v.deltaTime),v._frameRate=1e3/v.deltaTime,v.redraw(),v._lastTargetFrameTime=Math.max(v._lastTargetFrameTime+K,X),v._lastRealFrameTime=X,v._updateMouseCoords!==void 0&&(v._updateMouseCoords(),v._setProperty("movedX",0),v._setProperty("movedY",0))),v._loop&&(v._requestAnimId=window.requestAnimationFrame(v._draw))},this._setProperty=function($,X){v[$]=X,v._isGlobal&&(window[$]=X)},this.remove=function(){v._startListener&&window.removeEventListener("load",v._startListener,!1);var $=document.getElementById(v._loadingScreenId);if($&&($.parentNode.removeChild($),v._incrementPreload()),v._curElement){for(var X in v._loop=!1,v._requestAnimId&&window.cancelAnimationFrame(v._requestAnimId),v._events)window.removeEventListener(X,v._events[X]);var ee=!0,$=!1,K=void 0;try{for(var ne,T=v._elements[Symbol.iterator]();!(ee=(ne=T.next()).done);ee=!0){var F,W=ne.value;for(F in W.elt&&W.elt.parentNode&&W.elt.parentNode.removeChild(W.elt),W._events)W.elt.removeEventListener(F,W._events[F])}}catch(ve){$=!0,K=ve}finally{try{ee||T.return==null||T.return()}finally{if($)throw K}}var J=v;v._registeredMethods.remove.forEach(function(ve){ve!==void 0&&ve.call(J)})}if(v._isGlobal){for(var oe in c.prototype)try{delete window[oe]}catch{window[oe]=void 0}for(var se in v)if(v.hasOwnProperty(se))try{delete window[se]}catch{window[se]=void 0}c.instance=null}};var U,I,B=this._createFriendlyGlobalFunctionBinder();if(this._isGlobal){for(var R in c.instance=this,c.prototype)typeof c.prototype[R]=="function"?(U=R.substring(2),this._events.hasOwnProperty(U)||(Math.hasOwnProperty(R)&&Math[R]===c.prototype[R]?B(R,c.prototype[R]):B(R,c.prototype[R].bind(this)))):B(R,c.prototype[R]);for(var G in this)this.hasOwnProperty(G)&&B(G,this[G])}else b(this),c._checkForUserDefinedFunctions(this);for(I in this._updateWindowSize(),this.callRegisteredHooksFor("init"),this._setupPromisePreloads(),this._events){var z=this["_on".concat(I)];z&&(z=z.bind(this),window.addEventListener(I,z,{passive:!1}),this._events[I]=z)}function q(){v._setProperty("focused",!0)}function Y(){v._setProperty("focused",!1)}window.addEventListener("focus",q),window.addEventListener("blur",Y),this.registerMethod("remove",function(){window.removeEventListener("focus",q),window.removeEventListener("blur",Y)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var p,g;return p=c,(g=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=i.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(b,y){c.prototype._preloadMethods.hasOwnProperty(b)||(c.prototype._preloadMethods[b]=y)}},{key:"registerMethod",value:function(b,y){var v=this||c.prototype;v._registeredMethods.hasOwnProperty(b)||(v._registeredMethods[b]=[]),v._registeredMethods[b].push(y)}},{key:"unregisterMethod",value:function(b,y){var v=this||c.prototype;if(v._registeredMethods.hasOwnProperty(b)){for(var j=v._registeredMethods[b],x=[],E=0;E<j.length;E++)j[E]===y&&x.push(E);for(var P=x.length-1;0<=P;P--)j.splice(x[P],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},y=b.globalObject||window;return b.log||console.log.bind(console),function(v,j){c.disableFriendlyErrors,y[v]=j}}}])&&_(p.prototype,g),c})();for(m in s.instance=null,s.disableFriendlyErrors=!1,i)s.prototype[m]=i[m];s.VERSION=i.VERSION,s.prototype._preloadMethods={loadJSON:s.prototype,loadImage:s.prototype,loadStrings:s.prototype,loadXML:s.prototype,loadBytes:s.prototype,loadTable:s.prototype,loadFont:s.prototype,loadModel:s.prototype,loadShader:s.prototype},s.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},s.prototype._registeredPreloadMethods={},u.default=s},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(t,f,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o=(t=t("./main"))&&t.__esModule?t:{default:t};function l(i,h){for(var _=0;_<h.length;_++){var m=h[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(i,m.key,m)}}o.default.Element=(function(){function i(s,c){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.elt=s,this._pInst=this._pixelsState=c,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var h,_,m;return h=i,m=[{key:"_adjustListener",value:function(s,c,p){return c===!1?o.default.Element._detachListener(s,p):o.default.Element._attachListener(s,c,p),this}},{key:"_attachListener",value:function(s,c,p){p._events[s]&&o.default.Element._detachListener(s,p),c=c.bind(p),p.elt.addEventListener(s,c,!1),p._events[s]=c}},{key:"_detachListener",value:function(s,c){var p=c._events[s];c.elt.removeEventListener(s,p,!1),c._events[s]=null}}],(_=[{key:"parent",value:function(s){return s===void 0?this.elt.parentNode:(typeof s=="string"?(s[0]==="#"&&(s=s.substring(1)),s=document.getElementById(s)):s instanceof o.default.Element&&(s=s.elt),s.appendChild(this.elt),this)}},{key:"id",value:function(s){return s===void 0?this.elt.id:(this.elt.id=s,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(s){return s===void 0?this.elt.className:(this.elt.className=s,this)}},{key:"mousePressed",value:function(s){return o.default.Element._adjustListener("mousedown",function(c){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(c),s.call(this,c)},this),this}},{key:"doubleClicked",value:function(s){return o.default.Element._adjustListener("dblclick",s,this),this}},{key:"mouseWheel",value:function(s){return o.default.Element._adjustListener("wheel",s,this),this}},{key:"mouseReleased",value:function(s){return o.default.Element._adjustListener("mouseup",s,this),this}},{key:"mouseClicked",value:function(s){return o.default.Element._adjustListener("click",s,this),this}},{key:"mouseMoved",value:function(s){return o.default.Element._adjustListener("mousemove",s,this),this}},{key:"mouseOver",value:function(s){return o.default.Element._adjustListener("mouseover",s,this),this}},{key:"mouseOut",value:function(s){return o.default.Element._adjustListener("mouseout",s,this),this}},{key:"touchStarted",value:function(s){return o.default.Element._adjustListener("touchstart",s,this),this}},{key:"touchMoved",value:function(s){return o.default.Element._adjustListener("touchmove",s,this),this}},{key:"touchEnded",value:function(s){return o.default.Element._adjustListener("touchend",s,this),this}},{key:"dragOver",value:function(s){return o.default.Element._adjustListener("dragover",s,this),this}},{key:"dragLeave",value:function(s){return o.default.Element._adjustListener("dragleave",s,this),this}},{key:"_setProperty",value:function(s,c){this[s]=c}}])&&l(h.prototype,_),m&&l(h,m),i})(),t=o.default.Element,u.default=t},{"./main":283}],285:[function(t,f,u){function o(v){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(v)}function l(v){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(j){return o(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":o(j)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var i=(y=t("./main"))&&y.__esModule?y:{default:y},h=(function(v){if(v&&v.__esModule)return v;if(v===null||l(v)!=="object"&&typeof v!="function")return{default:v};var j=_();if(j&&j.has(v))return j.get(v);var x,E={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in v){var O;Object.prototype.hasOwnProperty.call(v,x)&&((O=P?Object.getOwnPropertyDescriptor(v,x):null)&&(O.get||O.set)?Object.defineProperty(E,x,O):E[x]=v[x])}return E.default=v,j&&j.set(v,E),E})(t("./constants"));function _(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,_=function(){return v},v)}function m(v,j){for(var x=0;x<j.length;x++){var E=j[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(v,E.key,E)}}function s(v,j){return(s=Object.setPrototypeOf||function(x,E){return x.__proto__=E,x})(v,j)}function c(v){return function(){var j,x=b(v);return p(this,(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?(j=b(this).constructor,Reflect.construct(x,arguments,j)):x.apply(this,arguments))}}function p(v,j){return!j||l(j)!=="object"&&typeof j!="function"?g(v):j}function g(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function b(v){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)})(v)}i.default.Graphics=(function(v){var j=E;if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(v&&v.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),v&&s(j,v);var x=c(E);function E(P,O,G,D,U){var I;if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");R=U||document.createElement("canvas"),(I=x.call(this,R,D)).canvas=R;var B,R=G||h.P2D,G=D._userNode||document.body;for(B in U||G.appendChild(I.canvas),i.default.prototype)I[B]||(typeof i.default.prototype[B]=="function"?I[B]=i.default.prototype[B].bind(g(I)):I[B]=i.default.prototype[B]);return i.default.prototype._initializeInstanceVariables.apply(g(I)),I.width=P,I.height=O,I._pixelDensity=D._pixelDensity,R===h.WEBGL?(I._renderer=new i.default.RendererGL(I.canvas,g(I),!1),P=(U=I._renderer._adjustDimensions(P,O)).adjustedWidth,O=U.adjustedHeight):I._renderer=new i.default.Renderer2D(I.canvas,g(I),!1),D._elements.push(g(I)),Object.defineProperty(g(I),"deltaTime",{get:function(){return this._pInst.deltaTime}}),I._renderer.resize(P,O),I._renderer._applyDefaults(),p(I,g(I))}return j=E,(v=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var P,O=this._pInst._elements.indexOf(this);for(P in O!==-1&&this._pInst._elements.splice(O,1),this._events)this.elt.removeEventListener(P,this._events[P]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(P){return new i.default.Framebuffer(this,P)}}])&&m(j.prototype,v),E})(i.default.Element);var y=i.default.Graphics;u.default=y},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(t,f,u){function o(v){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var l=(b=t("./main"))&&b.__esModule?b:{default:b},i=(function(v){if(v&&v.__esModule)return v;if(v===null||_(v)!=="object"&&typeof v!="function")return{default:v};var j=h();if(j&&j.has(v))return j.get(v);var x,E={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in v){var O;Object.prototype.hasOwnProperty.call(v,x)&&((O=P?Object.getOwnPropertyDescriptor(v,x):null)&&(O.get||O.set)?Object.defineProperty(E,x,O):E[x]=v[x])}return E.default=v,j&&j.set(v,E),E})(t("../core/constants"));function h(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,h=function(){return v},v)}function _(v){return(_=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(j){return o(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":o(j)})(v)}function m(v,j){for(var x=0;x<j.length;x++){var E=j[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(v,E.key,E)}}function s(v,j){return(s=Object.setPrototypeOf||function(x,E){return x.__proto__=E,x})(v,j)}function c(v){return function(){var j,x,E=g(v);return j=(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?(j=g(this).constructor,Reflect.construct(E,arguments,j)):E.apply(this,arguments),E=this,!(x=j)||_(x)!=="object"&&typeof x!="function"?p(E):x}}function p(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function g(v){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)})(v)}var b=(function(v){var j=E;if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(v&&v.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),v&&s(j,v);var x=c(E);function E(P,O,M){var D;if(this instanceof E)return(D=x.call(this,P,O)).canvas=P,D._pixelsState=O,M?(D._isMainCanvas=!0,D._pInst._setProperty("_curElement",p(D)),D._pInst._setProperty("canvas",D.canvas),D._pInst._setProperty("width",D.width),D._pInst._setProperty("height",D.height)):(D.canvas.style.display="none",D._styles=[]),D._clipping=!1,D._clipInvert=!1,D._textSize=12,D._textLeading=15,D._textFont="sans-serif",D._textStyle=i.NORMAL,D._textAscent=null,D._textDescent=null,D._textAlign=i.LEFT,D._textBaseline=i.BASELINE,D._textWrap=i.WORD,D._rectMode=i.CORNER,D._ellipseMode=i.CENTER,D._curveTightness=0,D._imageMode=i.CORNER,D._tint=null,D._doStroke=!0,D._doFill=!0,D._strokeSet=!1,D._fillSet=!1,D._leadingSet=!1,D._pushPopDepth=0,D;throw new TypeError("Cannot call a class as a function")}return j=E,(v=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(P){this._pushPopDepth--,P.properties&&Object.assign(this,P.properties)}},{key:"beginClip",value:function(){var P=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=P.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(P,O){this.width=P,this.height=O,this.elt.width=P*this._pInst._pixelDensity,this.elt.height=O*this._pInst._pixelDensity,this.elt.style.width="".concat(P,"px"),this.elt.style.height="".concat(O,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(P,O,M,D){var U=this._pixelsState,I=U._pixelDensity,B=this.canvas;if(P===void 0&&O===void 0)P=O=0,M=U.width,D=U.height;else if(P*=I,O*=I,M===void 0&&D===void 0)return P<0||O<0||P>=B.width||O>=B.height?[0,0,0,0]:this._getPixel(P,O);return U=new l.default.Image(M*I,D*I),U.pixelDensity(I),U.canvas.getContext("2d").drawImage(B,P,O,M*I,D*I,0,0,M*I,D*I),U}},{key:"textLeading",value:function(P){return typeof P=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",P),this._pInst):this._textLeading}},{key:"textStyle",value:function(P){return P?(P!==i.NORMAL&&P!==i.ITALIC&&P!==i.BOLD&&P!==i.BOLDITALIC||this._setProperty("_textStyle",P),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(P,O){return P!==void 0?(this._setProperty("_textAlign",P),O!==void 0&&this._setProperty("_textBaseline",O),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(P){return this._setProperty("_textWrap",P),this._textWrap}},{key:"text",value:function(P,O,M,D,U){var I,B,R,G,z=this._pInst,q=this._textWrap,Y=Number.MAX_VALUE,$=M;if((this._doFill||this._doStroke)&&P!==void 0){if(I=(P=(P=typeof P!="string"?P.toString():P).replace(/(\t)/g,"  ")).split(`
`),D!==void 0){switch(this._rectMode===i.CENTER&&(O-=D/2),this._textAlign){case i.CENTER:O+=D/2;break;case i.RIGHT:O+=D}if(U!==void 0){this._rectMode===i.CENTER&&(M-=U/2,$-=U/2);var P=M,X=z.textAscent();switch(this._textBaseline){case i.BOTTOM:G=M+U,M=Math.max(G,M),$+=X;break;case i.CENTER:G=M+U/2,M=Math.max(G,M),$+=X/2}Y=M+U-X,this._textBaseline===i.CENTER&&(Y=P+U-X/2)}else this._textBaseline!==i.BOTTOM&&this._textBaseline!==i.CENTER||($=M-(P=z.textSize()*this._textLeading)/2,Y=M+P/2);if(q===i.WORD){for(var ee=[],K=0;K<I.length;K++){for(var ne="",T=I[K].split(" "),F=0;F<T.length;F++)B="".concat(ne+T[F])+" ",ne=D<(R=this.textWidth(B))&&0<ne.length?(ee.push(ne),"".concat(T[F])+" "):B;ee.push(ne)}var W=0;this._textBaseline===i.CENTER?W=(ee.length-1)*z.textLeading()/2:this._textBaseline===i.BOTTOM&&(W=(ee.length-1)*z.textLeading());for(var J=0;J<I.length;J++){ne="",T=I[J].split(" ");for(var oe=0;oe<T.length;oe++)B="".concat(ne+T[oe])+" ",D<(R=this.textWidth(B))&&0<ne.length?(this._renderText(z,ne.trim(),O,M-W,Y,$),ne="".concat(T[oe])+" ",M+=z.textLeading()):ne=B;this._renderText(z,ne.trim(),O,M-W,Y,$),M+=z.textLeading()}}else{for(var se=[],fe=0;fe<I.length;fe++)for(var ve=I[fe].split(ne=""),de=0;de<ve.length;de++)B="".concat(ne+ve[de]),(R=this.textWidth(B))<=D?ne+=ve[de]:D<R&&0<ne.length&&(se.push(ne),ne="".concat(ve[de]));se.push(ne);var be=0;this._textBaseline===i.CENTER?be=(se.length-1)*z.textLeading()/2:this._textBaseline===i.BOTTOM&&(be=(se.length-1)*z.textLeading());for(var pe=0;pe<I.length;pe++){ve=I[pe].split(ne="");for(var ie=0;ie<ve.length;ie++)B="".concat(ne+ve[ie]),(R=this.textWidth(B))<=D?ne+=ve[ie]:D<R&&0<ne.length&&(this._renderText(z,ne.trim(),O,M-be,Y,$),M+=z.textLeading(),ne="".concat(ve[ie]))}this._renderText(z,ne.trim(),O,M-be,Y,$),M+=z.textLeading()}}else{var ye=0;this._textBaseline===i.CENTER?ye=(I.length-1)*z.textLeading()/2:this._textBaseline===i.BOTTOM&&(ye=(I.length-1)*z.textLeading());for(var _e=0;_e<I.length;_e++)this._renderText(z,I[_e],O,M-ye,Y,$-ye),M+=z.textLeading()}return z}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var P=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return _(P)==="object"&&P.font&&P.font.supported}},{key:"_updateTextMetrics",value:function(){var P,O,M,D,U,I;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((P=document.createElement("span")).style.fontFamily=this._textFont,P.style.fontSize="".concat(this._textSize,"px"),P.innerHTML="ABCjgq|",(I=document.createElement("div")).style.display="inline-block",I.style.width="1px",I.style.height="0px",D=((O=document.createElement("div")).appendChild(P),O.appendChild(I),O.style.height="0px",O.style.overflow="hidden",document.body.appendChild(O),I.style.verticalAlign="baseline",y(I)),U=y(P),M=D[1]-U[1],D=(I.style.verticalAlign="bottom",y(I)),U=y(P),I=D[1]-U[1]-M,document.body.removeChild(O),this._setProperty("_textAscent",M),this._setProperty("_textDescent",I)),this}}])&&m(j.prototype,v),E})(l.default.Element);function y(v){var j=0,x=0;if(v.offsetParent)for(;j+=v.offsetLeft,x+=v.offsetTop,v=v.offsetParent;);else j+=v.offsetLeft,x+=v.offsetTop;return[j,x]}b.prototype.textSize=function(v){return typeof v=="number"?(this._setProperty("_textSize",v),this._leadingSet||this._setProperty("_textLeading",v*i._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},l.default.Renderer=b,t=l.default.Renderer,u.default=t},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(v,f,u){function o(j){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(j)}function l(j){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(x){return o(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":o(x)})(j)}v("core-js/modules/es.symbol"),v("core-js/modules/es.symbol.description"),v("core-js/modules/es.symbol.iterator"),v("core-js/modules/es.array.concat"),v("core-js/modules/es.array.fill"),v("core-js/modules/es.array.iterator"),v("core-js/modules/es.array.join"),v("core-js/modules/es.array.slice"),v("core-js/modules/es.function.name"),v("core-js/modules/es.object.get-own-property-descriptor"),v("core-js/modules/es.object.get-prototype-of"),v("core-js/modules/es.object.to-string"),v("core-js/modules/es.reflect.construct"),v("core-js/modules/es.reflect.get"),v("core-js/modules/es.regexp.exec"),v("core-js/modules/es.regexp.to-string"),v("core-js/modules/es.string.iterator"),v("core-js/modules/es.weak-map"),v("core-js/modules/web.dom-collections.iterator"),v("core-js/modules/es.array.concat"),v("core-js/modules/es.array.fill"),v("core-js/modules/es.array.join"),v("core-js/modules/es.array.slice"),v("core-js/modules/es.function.name"),v("core-js/modules/es.object.get-prototype-of"),v("core-js/modules/es.object.to-string"),v("core-js/modules/es.regexp.exec"),v("core-js/modules/es.regexp.to-string"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var i=(y=v("./main"))&&y.__esModule?y:{default:y},h=(function(j){if(j&&j.__esModule)return j;if(j===null||l(j)!=="object"&&typeof j!="function")return{default:j};var x=_();if(x&&x.has(j))return x.get(j);var E,P={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(E in j){var M;Object.prototype.hasOwnProperty.call(j,E)&&((M=O?Object.getOwnPropertyDescriptor(j,E):null)&&(M.get||M.set)?Object.defineProperty(P,E,M):P[E]=j[E])}return P.default=j,x&&x.set(j,P),P})(v("./constants"));function _(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,_=function(){return j},j)}function m(j,x){for(var E=0;E<x.length;E++){var P=x[E];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(j,P.key,P)}}function s(j,x,E){return(s=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(D,O,M){var D=(function(U,I){for(;!Object.prototype.hasOwnProperty.call(U,I)&&(U=g(U))!==null;);return U})(D,O);if(D)return(D=Object.getOwnPropertyDescriptor(D,O)).get?D.get.call(M):D.value})(j,x,E||j)}function c(j,x){return(c=Object.setPrototypeOf||function(E,P){return E.__proto__=P,E})(j,x)}function p(j){return function(){var x,E=g(j),E=(x=(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?(x=g(this).constructor,Reflect.construct(E,arguments,x)):E.apply(this,arguments),this);if(!x||l(x)!=="object"&&typeof x!="function"){if(E!==void 0)return E;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return x}}function g(j){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(j)}v("./p5.Renderer");var b="rgba(0,0,0,0)",y=(function(j){var x=P;if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(j&&j.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),j&&c(x,j);var E=p(P);function P(O,M,D){if(this instanceof P)return(O=E.call(this,O,M,D)).drawingContext=O.canvas.getContext("2d"),O._pInst._setProperty("drawingContext",O.drawingContext),O;throw new TypeError("Cannot call a class as a function")}return x=P,(j=[{key:"getFilterGraphicsLayer",value:function(){var O;return this.filterGraphicsLayer||(O=(this._pInst instanceof i.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new i.default.Graphics(this.width,this.height,h.WEBGL,O)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=h.BLEND,this._setFill(h._DEFAULT_FILL),this._setStroke(h._DEFAULT_STROKE),this.drawingContext.lineCap=h.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(O,M){s(g(P.prototype),"resize",this).call(this,O,M),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var O,M;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof i.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(O=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(O,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(O=this._getFill(),M=(M=this._pInst).color.apply(M,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(M.levels),M=M.toString(),this._setFill(M),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(O),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var O=(O=this._pInst).color.apply(O,arguments);this._setFill(O.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",O.levels)}},{key:"stroke",value:function(){var O=(O=this._pInst).color.apply(O,arguments);this._setStroke(O.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",O.levels)}},{key:"erase",value:function(O,M){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,O=this._pInst.color(255,O).toString(),this.drawingContext.fillStyle=O,this._cachedStrokeStyle=this.drawingContext.strokeStyle,O=this._pInst.color(255,M).toString(),this.drawingContext.strokeStyle=O,M=this._cachedBlendMode,this.blendMode(h.REMOVE),this._cachedBlendMode=M,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var O=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},O=(s(g(P.prototype),"beginClip",this).call(this,O),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),O=(this.drawingContext.fillStyle=O,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),O=(this.drawingContext.strokeStyle=O,this._cachedBlendMode);this.blendMode(h.BLEND),this._cachedBlendMode=O,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),s(g(P.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(O,M,D,U,I,B,R,G,z){O.gifProperties&&O._animateGif(this._pInst);try{i.default.MediaElement&&O instanceof i.default.MediaElement&&O._ensureCanvas();var q=(q=this._tint&&O.canvas?this._getTintedImageCanvas(O):q)||O.canvas||O.elt,Y=1;O.width&&0<O.width&&(Y=q.width/O.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(q,Y*M,Y*D,Y*U,Y*I,B,R,G,z),this._isErasing&&this._pInst.erase()}catch($){if($.name!=="NS_ERROR_NOT_AVAILABLE")throw $}}},{key:"_getTintedImageCanvas",value:function(O){if(!O.canvas)return O;O.tintCanvas||(O.tintCanvas=document.createElement("canvas")),O.tintCanvas.width!==O.canvas.width&&(O.tintCanvas.width=O.canvas.width),O.tintCanvas.height!==O.canvas.height&&(O.tintCanvas.height=O.canvas.height);var M=O.tintCanvas.getContext("2d");return M.save(),M.clearRect(0,0,O.canvas.width,O.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(M.drawImage(O.canvas,0,0),M.globalCompositeOperation="luminosity",M.drawImage(O.canvas,0,0),M.globalCompositeOperation="color",M.drawImage(O.canvas,0,0),M.globalCompositeOperation="multiply",M.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),M.fillRect(0,0,O.canvas.width,O.canvas.height),M.globalCompositeOperation="destination-in"),M.globalAlpha=this._tint[3]/255,M.drawImage(O.canvas,0,0),M.restore(),O.tintCanvas}},{key:"blendMode",value:function(O){if(O===h.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(O!==h.BLEND&&O!==h.REMOVE&&O!==h.DARKEST&&O!==h.LIGHTEST&&O!==h.DIFFERENCE&&O!==h.MULTIPLY&&O!==h.EXCLUSION&&O!==h.SCREEN&&O!==h.REPLACE&&O!==h.OVERLAY&&O!==h.HARD_LIGHT&&O!==h.SOFT_LIGHT&&O!==h.DODGE&&O!==h.BURN&&O!==h.ADD)throw new Error("Mode ".concat(O," not recognized."));this._cachedBlendMode=O,this.drawingContext.globalCompositeOperation=O}}},{key:"blend",value:function(){for(var O=this.drawingContext.globalCompositeOperation,M=arguments.length,D=new Array(M),U=0;U<M;U++)D[U]=arguments[U];var I=D[D.length-1],B=Array.prototype.slice.call(D,0,D.length-1);this.drawingContext.globalCompositeOperation=I,i.default.prototype.copy.apply(this,B),this.drawingContext.globalCompositeOperation=O}},{key:"_getPixel",value:function(O,M){return O=this.drawingContext.getImageData(O,M,1,1).data,[O[0],O[1],O[2],O[3]]}},{key:"loadPixels",value:function(){var O=this._pixelsState,M=O._pixelDensity,D=this.width*M,M=this.height*M,D=this.drawingContext.getImageData(0,0,D,M);O._setProperty("imageData",D),O._setProperty("pixels",D.data)}},{key:"set",value:function(O,M,D){O=Math.floor(O),M=Math.floor(M);var U=this._pixelsState;if(D instanceof i.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(U._pixelDensity,U._pixelDensity),this.drawingContext.clearRect(O,M,D.width,D.height),this.drawingContext.drawImage(D.canvas,O,M),this.drawingContext.restore();else{var I=0,B=0,R=0,G=0,z=4*(M*U._pixelDensity*(this.width*U._pixelDensity)+O*U._pixelDensity);if(U.imageData||U.loadPixels(),typeof D=="number")z<U.pixels.length&&(R=B=I=D,G=255);else if(Array.isArray(D)){if(D.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");z<U.pixels.length&&(I=D[0],B=D[1],R=D[2],G=D[3])}else D instanceof i.default.Color&&z<U.pixels.length&&(I=D.levels[0],B=D.levels[1],R=D.levels[2],G=D.levels[3]);for(var q=0;q<U._pixelDensity;q++)for(var Y=0;Y<U._pixelDensity;Y++)z=4*((M*U._pixelDensity+Y)*this.width*U._pixelDensity+(O*U._pixelDensity+q)),U.pixels[z]=I,U.pixels[z+1]=B,U.pixels[z+2]=R,U.pixels[z+3]=G}}},{key:"updatePixels",value:function(O,M,D,U){var I=this._pixelsState,B=I._pixelDensity;O===void 0&&M===void 0&&D===void 0&&U===void 0&&(M=O=0,D=this.width,U=this.height),O*=B,M*=B,D*=B,U*=B,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=I.imageData),this.drawingContext.putImageData(I.imageData,0,0,O,M,D,U)}},{key:"arc",value:function(z,q,Y,$,I,B,R){var G=this.drawingContext,z=z+Y/2,q=q+$/2,Y=Y/2,$=$/2,X=!(R===h.CHORD||R===h.OPEN||(B-I)%h.TWO_PI==0);return this._doFill&&(this._clipping||G.beginPath(),G.ellipse(z,q,Y,$,0,I,B),X&&G.lineTo(z,q),G.closePath(),this._clipping||G.fill()),this._doStroke&&(this._clipping||G.beginPath(),G.ellipse(z,q,Y,$,0,I,B),R===h.PIE&&X&&G.lineTo(z,q),R!==h.PIE&&R!==h.CHORD||G.closePath(),this._clipping||G.stroke()),this}},{key:"ellipse",value:function(G){var M=this.drawingContext,D=this._doFill,U=this._doStroke,I=parseFloat(G[0]),B=parseFloat(G[1]),R=parseFloat(G[2]),G=parseFloat(G[3]);if(D&&!U){if(this._getFill()===b)return this}else if(!D&&U&&this._getStroke()===b)return this;I+=R/2,B+=G/2,R/=2,G/=2,this._clipping||M.beginPath(),M.ellipse(I,B,R,G,0,0,2*Math.PI),M.closePath(),!this._clipping&&D&&M.fill(),!this._clipping&&U&&M.stroke()}},{key:"line",value:function(O,M,D,U){var I=this.drawingContext;return this._doStroke&&this._getStroke()!==b&&(this._clipping||I.beginPath(),I.moveTo(O,M),I.lineTo(D,U),I.stroke()),this}},{key:"point",value:function(O,M){var D,U,I=this.drawingContext;return!this._doStroke||this._getStroke()===b?this:(D=this._getStroke(),U=this._getFill(),this._clipping||this._setFill(D),this._clipping||I.beginPath(),I.arc(O,M,I.lineWidth/2,0,h.TWO_PI,!1),void(this._clipping||(I.fill(),this._setFill(U))))}},{key:"quad",value:function(O,M,D,U,I,B,R,G){var z=this.drawingContext,q=this._doFill,Y=this._doStroke;if(q&&!Y){if(this._getFill()===b)return this}else if(!q&&Y&&this._getStroke()===b)return this;return this._clipping||z.beginPath(),z.moveTo(O,M),z.lineTo(D,U),z.lineTo(I,B),z.lineTo(R,G),z.closePath(),!this._clipping&&q&&z.fill(),!this._clipping&&Y&&z.stroke(),this}},{key:"rect",value:function(Y){var M,D,U=Y[0],I=Y[1],B=Y[2],R=Y[3],G=Y[4],z=Y[5],q=Y[6],Y=Y[7],$=this.drawingContext,X=this._doFill,ee=this._doStroke;if(X&&!ee){if(this._getFill()===b)return this}else if(!X&&ee&&this._getStroke()===b)return this;return this._clipping||$.beginPath(),G===void 0?$.rect(U,I,B,R):(z===void 0&&(z=G),q===void 0&&(q=z),Y===void 0&&(Y=q),ee=(X=Math.abs(B))/2,D=(M=Math.abs(R))/2,$.roundRect(U,I,B,R,[G=M<2*(G=X<2*G?ee:G)?D:G,z=M<2*(z=X<2*z?ee:z)?D:z,q=M<2*(q=X<2*q?ee:q)?D:q,Y=M<2*(Y=X<2*Y?ee:Y)?D:Y])),!this._clipping&&this._doFill&&$.fill(),!this._clipping&&this._doStroke&&$.stroke(),this}},{key:"triangle",value:function(q){var M=this.drawingContext,D=this._doFill,U=this._doStroke,I=q[0],B=q[1],R=q[2],G=q[3],z=q[4],q=q[5];if(D&&!U){if(this._getFill()===b)return this}else if(!D&&U&&this._getStroke()===b)return this;this._clipping||M.beginPath(),M.moveTo(I,B),M.lineTo(R,G),M.lineTo(z,q),M.closePath(),!this._clipping&&D&&M.fill(),!this._clipping&&U&&M.stroke()}},{key:"endShape",value:function(O,M,D,U,I,B,R){if(M.length!==0&&(this._doStroke||this._doFill)){var G,z,q,Y=O===h.CLOSE,$=(Y&&!B&&M.push(M[0]),M.length);if(D&&R===null){if(3<$){var X=[],ee=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(M[1][0],M[1][1]),z=1;z+2<$;z++)G=M[z],X[0]=[G[0],G[1]],X[1]=[G[0]+(ee*M[z+1][0]-ee*M[z-1][0])/6,G[1]+(ee*M[z+1][1]-ee*M[z-1][1])/6],X[2]=[M[z+1][0]+(ee*M[z][0]-ee*M[z+2][0])/6,M[z+1][1]+(ee*M[z][1]-ee*M[z+2][1])/6],X[3]=[M[z+1][0],M[z+1][1]],this.drawingContext.bezierCurveTo(X[1][0],X[1][1],X[2][0],X[2][1],X[3][0],X[3][1]);Y&&this.drawingContext.lineTo(M[z+1][0],M[z+1][1]),this._doFillStrokeClose(Y)}}else if(U&&R===null){for(this._clipping||this.drawingContext.beginPath(),z=0;z<$;z++)M[z].isVert?M[z].moveTo?this.drawingContext.moveTo(M[z][0],M[z][1]):this.drawingContext.lineTo(M[z][0],M[z][1]):this.drawingContext.bezierCurveTo(M[z][0],M[z][1],M[z][2],M[z][3],M[z][4],M[z][5]);this._doFillStrokeClose(Y)}else if(I&&R===null){for(this._clipping||this.drawingContext.beginPath(),z=0;z<$;z++)M[z].isVert?M[z].moveTo?this.drawingContext.moveTo(M[z][0],M[z][1]):this.drawingContext.lineTo(M[z][0],M[z][1]):this.drawingContext.quadraticCurveTo(M[z][0],M[z][1],M[z][2],M[z][3]);this._doFillStrokeClose(Y)}else if(R===h.POINTS)for(z=0;z<$;z++)G=M[z],this._doStroke&&this._pInst.stroke(G[6]),this._pInst.point(G[0],G[1]);else if(R===h.LINES)for(z=0;z+1<$;z+=2)G=M[z],this._doStroke&&this._pInst.stroke(M[z+1][6]),this._pInst.line(G[0],G[1],M[z+1][0],M[z+1][1]);else if(R===h.TRIANGLES)for(z=0;z+2<$;z+=3)G=M[z],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(G[0],G[1]),this.drawingContext.lineTo(M[z+1][0],M[z+1][1]),this.drawingContext.lineTo(M[z+2][0],M[z+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(M[z+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(M[z+2][6]),this.drawingContext.stroke());else if(R===h.TRIANGLE_STRIP)for(z=0;z+1<$;z++)G=M[z],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(M[z+1][0],M[z+1][1]),this.drawingContext.lineTo(G[0],G[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(M[z+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(M[z+1][5]),z+2<$&&(this.drawingContext.lineTo(M[z+2][0],M[z+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(M[z+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(M[z+2][5])),this._doFillStrokeClose(Y);else if(R===h.TRIANGLE_FAN){if(2<$){for(this._clipping||this.drawingContext.beginPath(),z=2;z<$;z++)G=M[z],this.drawingContext.moveTo(M[0][0],M[0][1]),this.drawingContext.lineTo(M[z-1][0],M[z-1][1]),this.drawingContext.lineTo(G[0],G[1]),this.drawingContext.lineTo(M[0][0],M[0][1]),z<$-1&&(this._doFill&&G[5]!==M[z+1][5]||this._doStroke&&G[6]!==M[z+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(G[5]),this.drawingContext.fill(),this._pInst.fill(M[z+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(G[6]),this.drawingContext.stroke(),this._pInst.stroke(M[z+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(Y)}}else if(R===h.QUADS)for(z=0;z+3<$;z+=4){for(G=M[z],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(G[0],G[1]),q=1;q<4;q++)this.drawingContext.lineTo(M[z+q][0],M[z+q][1]);this.drawingContext.lineTo(G[0],G[1]),!this._clipping&&this._doFill&&this._pInst.fill(M[z+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(M[z+3][6]),this._doFillStrokeClose(Y)}else if(R===h.QUAD_STRIP){if(3<$)for(z=0;z+1<$;z+=2)G=M[z],this._clipping||this.drawingContext.beginPath(),z+3<$?(this.drawingContext.moveTo(M[z+2][0],M[z+2][1]),this.drawingContext.lineTo(G[0],G[1]),this.drawingContext.lineTo(M[z+1][0],M[z+1][1]),this.drawingContext.lineTo(M[z+3][0],M[z+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(M[z+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(M[z+3][6])):(this.drawingContext.moveTo(G[0],G[1]),this.drawingContext.lineTo(M[z+1][0],M[z+1][1])),this._doFillStrokeClose(Y)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(M[0][0],M[0][1]),z=1;z<$;z++)(G=M[z]).isVert&&(G.moveTo?(Y&&this.drawingContext.closePath(),this.drawingContext.moveTo(G[0],G[1])):this.drawingContext.lineTo(G[0],G[1]));this._doFillStrokeClose(Y),this.drawingContext.closePath()}B=I=U=D=!1,Y&&M.pop()}return this}},{key:"strokeCap",value:function(O){return O!==h.ROUND&&O!==h.SQUARE&&O!==h.PROJECT||(this.drawingContext.lineCap=O),this}},{key:"strokeJoin",value:function(O){return O!==h.ROUND&&O!==h.BEVEL&&O!==h.MITER||(this.drawingContext.lineJoin=O),this}},{key:"strokeWeight",value:function(O){return this.drawingContext.lineWidth=O===void 0||O===0?1e-4:O,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(O){O!==this._cachedFillStyle&&(this.drawingContext.fillStyle=O,this._cachedFillStyle=O)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(O){O!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=O,this._cachedStrokeStyle=O)}},{key:"bezier",value:function(O,M,D,U,I,B,R,G){return this._pInst.beginShape(),this._pInst.vertex(O,M),this._pInst.bezierVertex(D,U,I,B,R,G),this._pInst.endShape(),this}},{key:"curve",value:function(O,M,D,U,I,B,R,G){return this._pInst.beginShape(),this._pInst.curveVertex(O,M),this._pInst.curveVertex(D,U),this._pInst.curveVertex(I,B),this._pInst.curveVertex(R,G),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(O){O&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(O,M,D,U,I,B){this.drawingContext.transform(O,M,D,U,I,B)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(O){this.drawingContext.rotate(O)}},{key:"scale",value:function(O,M){return this.drawingContext.scale(O,M),this}},{key:"translate",value:function(O,M){return O instanceof i.default.Vector&&(M=O.y,O=O.x),this.drawingContext.translate(O,M),this}},{key:"_renderText",value:function(O,M,D,U,I,B){if(!(U<B||I<=U))return O.push(),this._isOpenType()?this._textFont._renderPath(M,D,U,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(M,D,U),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(h._DEFAULT_TEXT_FILL),this.drawingContext.fillText(M,D,U))),O.pop(),O}},{key:"textWidth",value:function(O){return this._isOpenType()?this._textFont._textWidth(O,this._textSize):this.drawingContext.measureText(O).width}},{key:"_applyTextProperties",value:function(){var O=this._pInst,M=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),M=this._textFont,this._isOpenType()&&(M=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),M||"sans-serif");return/\s/.exec(M)&&(M='"'.concat(M,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(M),this.drawingContext.textAlign=this._textAlign,this._textBaseline===h.CENTER?this.drawingContext.textBaseline=h._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,O}},{key:"push",value:function(){return this.drawingContext.save(),s(g(P.prototype),"push",this).call(this)}},{key:"pop",value:function(O){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,s(g(P.prototype),"pop",this).call(this,O)}}])&&m(x.prototype,j),P})(i.default.Renderer),v=(y.prototype.text=function(j,x,E,D,O){D!==void 0&&this.drawingContext.textBaseline===h.BASELINE&&(M=!0,this.drawingContext.textBaseline=h.TOP);var M,D=i.default.Renderer.prototype.text.apply(this,arguments);return M&&(this.drawingContext.textBaseline=h.BASELINE),D},i.default.Renderer2D=y,i.default.Renderer2D);u.default=v},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(t,f,u){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var o=(t=t("./main"))&&t.__esModule?t:{default:t};o.default.prototype._promisePreloads=[];function l(){return{}}var i=!(o.default.prototype.registerPromisePreload=function(h){o.default.prototype._promisePreloads.push(h)});o.default.prototype._setupPromisePreloads=function(){var h=!0,_=!1,m=void 0;try{for(var s,c=this._promisePreloads[Symbol.iterator]();!(h=(s=c.next()).done);h=!0){var p=s.value,g=this,b=p.method,y=p.addCallbacks,v=p.legacyPreloadSetup,j=p.target||this,x=j[b].bind(j);if(j===o.default.prototype){if(i)continue;g=null,x=j[b]}j[b]=this._wrapPromisePreload(g,x,y),v&&(j[v.method]=this._legacyPreloadGenerator(g,v,j[b]))}}catch(E){_=!0,m=E}finally{try{h||c.return==null||c.return()}finally{if(_)throw m}}i=!0},o.default.prototype._wrapPromisePreload=function(h,_,m){var s=function(){for(var c=this,p=(this._incrementPreload(),null),g=null,b=arguments.length,y=new Array(b),v=0;v<b;v++)y[v]=arguments[v];if(m)for(var j=y.length-1;0<=j&&!g&&typeof y[j]=="function";j--)g=p,p=y.pop();var x=Promise.resolve(_.apply(this,y));return p&&x.then(p),g&&x.catch(g),x.then(function(){return c._decrementPreload()}),x};return s=h?s.bind(h):s},o.default.prototype._legacyPreloadGenerator=function(h,c,m){var s=c.createBaseObject||l,c=function(){var p=this;this._incrementPreload();for(var g=arguments.length,b=new Array(g),y=0;y<g;y++)b[y]=arguments[y];var v=s.apply(this,b);return m.apply(this,b).then(function(j){Object.assign(v,j),p._decrementPreload()}),v};return c=h?c.bind(h):c}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(t,f,u){function o(c){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var l=(s=t("./main"))&&s.__esModule?s:{default:s},i=(function(c){if(c&&c.__esModule)return c;if(c===null||_(c)!=="object"&&typeof c!="function")return{default:c};var p=h();if(p&&p.has(c))return p.get(c);var g,b={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in c){var v;Object.prototype.hasOwnProperty.call(c,g)&&((v=y?Object.getOwnPropertyDescriptor(c,g):null)&&(v.get||v.set)?Object.defineProperty(b,g,v):b[g]=c[g])}return b.default=c,p&&p.set(c,b),b})(t("./constants"));function h(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,h=function(){return c},c)}function _(c){return(_=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(p){return o(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":o(p)})(c)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var m="defaultCanvas0",s=(l.default.prototype.createCanvas=function(c,p,g,b){var y,v,j;if(l.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(g=i.P2D,b=arguments[2]):y=g||i.P2D,b)(j=document.getElementById(m))&&j.parentNode.removeChild(j),j=b,this._defaultGraphicsCreated=!1;else{if(y===i.WEBGL)(j=document.getElementById(m))&&(j.parentNode.removeChild(j),v=this._renderer,this._elements=this._elements.filter(function(E){return E!==v})),(j=document.createElement("canvas")).id=m,j.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)j=this.canvas;else{j=b||document.createElement("canvas");for(var x=0;document.getElementById("defaultCanvas".concat(x));)x++;m="defaultCanvas".concat(x),j.id=m,j.classList.add("p5Canvas")}this._setupDone||(j.dataset.hidden=!0,j.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(g=document.createElement("main"),document.body.appendChild(g)),document.getElementsByTagName("main")[0])).appendChild(j)}return y===i.WEBGL?(this._setProperty("_renderer",new l.default.RendererGL(j,this,!0)),this._elements.push(this._renderer),c=(b=this._renderer._adjustDimensions(c,p)).adjustedWidth,p=b.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new l.default.Renderer2D(j,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(c,p),this._renderer._applyDefaults(),this._renderer},l.default.prototype.resizeCanvas=function(c,p,g){if(l.default._validateParameters("resizeCanvas",arguments),this._renderer){var b,y,v,j={};for(b in this.drawingContext){var x=this.drawingContext[b];_(x)!=="object"&&typeof x!="function"&&(j[b]=x)}for(v in this._renderer instanceof l.default.RendererGL&&(c=(y=this._renderer._adjustDimensions(c,p)).adjustedWidth,p=y.adjustedHeight),this.width=c,this.height=p,this._renderer.resize(c,p),j)try{this.drawingContext[v]=j[v]}catch{}g||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},l.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},l.default.prototype.createGraphics=function(c,p){for(var g=arguments.length,b=new Array(2<g?g-2:0),y=2;y<g;y++)b[y-2]=arguments[y];return b[0]instanceof HTMLCanvasElement&&(b[1]=b[0],b[0]=i.P2D),l.default._validateParameters("createGraphics",arguments),new l.default.Graphics(c,p,b[0],this,b[1])},l.default.prototype.createFramebuffer=function(c){return new l.default.Framebuffer(this,c)},l.default.prototype.clearDepth=function(c){this._assert3d("clearDepth"),this._renderer.clearDepth(c)},l.default.prototype.blendMode=function(c){l.default._validateParameters("blendMode",arguments),c===i.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),c=i.BLEND),this._renderer.blendMode(c)},l.default);u.default=s},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(t,f,u){function o(p){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(p)}function l(p){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(g){return o(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":o(g)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var i=s(t("../main")),h=(function(p){if(p&&p.__esModule)return p;if(p===null||l(p)!=="object"&&typeof p!="function")return{default:p};var g=m();if(g&&g.has(p))return g.get(p);var b,y={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in p){var j;Object.prototype.hasOwnProperty.call(p,b)&&((j=v?Object.getOwnPropertyDescriptor(p,b):null)&&(j.get||j.set)?Object.defineProperty(y,b,j):y[b]=p[b])}return y.default=p,g&&g.set(p,y),y})(t("../constants")),_=s(t("../helpers"));function m(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,m=function(){return p},p)}function s(p){return p&&p.__esModule?p:{default:p}}function c(p){return(function(g){if(Array.isArray(g)){for(var b=0,y=new Array(g.length);b<g.length;b++)y[b]=g[b];return y}})(p)||(function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)})(p)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),i.default.prototype._normalizeArcAngles=function(p,g,b,y,v){var j;return p-=h.TWO_PI*Math.floor(p/h.TWO_PI),g-=h.TWO_PI*Math.floor(g/h.TWO_PI),j=Math.min(Math.abs(p-g),h.TWO_PI-Math.abs(p-g)),v&&(p=p<=h.HALF_PI?Math.atan(b/y*Math.tan(p)):p>h.HALF_PI&&p<=3*h.HALF_PI?Math.atan(b/y*Math.tan(p))+h.PI:Math.atan(b/y*Math.tan(p))+h.TWO_PI,g=g<=h.HALF_PI?Math.atan(b/y*Math.tan(g)):g>h.HALF_PI&&g<=3*h.HALF_PI?Math.atan(b/y*Math.tan(g))+h.PI:Math.atan(b/y*Math.tan(g))+h.TWO_PI),g<p&&(g+=h.TWO_PI),{start:p,stop:g,correspondToSamePoint:j<1e-5}},i.default.prototype.arc=function(p,g,b,y,v,j,x,E){return i.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&v!==j&&(v=this._toRadians(v),j=this._toRadians(j),p=_.default.modeAdjust(p,g,b,y,this._renderer._ellipseMode),(g=this._normalizeArcAngles(v,j,p.w,p.h,!0)).correspondToSamePoint?this._renderer.ellipse([p.x,p.y,p.w,p.h,E]):(this._renderer.arc(p.x,p.y,p.w,p.h,g.start,g.stop,x,E),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[p.x,p.y,p.w,p.h,g.start,g.stop,x]))),this},i.default.prototype.ellipse=function(p,g,b,y,v){return i.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},i.default.prototype.circle=function(){for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];i.default._validateParameters("circle",g);var y=g.slice(0,2);return y.push(g[2],g[2]),this._renderEllipse.apply(this,c(y))},i.default.prototype._renderEllipse=function(p,g,b,y,v){return(this._renderer._doStroke||this._renderer._doFill)&&(p=_.default.modeAdjust(p,g,b,y=y===void 0?b:y,this._renderer._ellipseMode),this._renderer.ellipse([p.x,p.y,p.w,p.h,v]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[p.x,p.y,p.w,p.h])),this},i.default.prototype.line=function(){for(var p,g=arguments.length,b=new Array(g),y=0;y<g;y++)b[y]=arguments[y];return i.default._validateParameters("line",b),this._renderer._doStroke&&(p=this._renderer).line.apply(p,b),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",b),this},i.default.prototype.point=function(){for(var p,g=arguments.length,b=new Array(g),y=0;y<g;y++)b[y]=arguments[y];return i.default._validateParameters("point",b),this._renderer._doStroke&&(b.length===1&&b[0]instanceof i.default.Vector?this._renderer.point.call(this._renderer,b[0].x,b[0].y,b[0].z):((p=this._renderer).point.apply(p,b),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",b))),this},i.default.prototype.quad=function(){for(var p,g=arguments.length,b=new Array(g),y=0;y<g;y++)b[y]=arguments[y];return i.default._validateParameters("quad",b),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&b.length<12?this._renderer.quad.call(this._renderer,b[0],b[1],0,b[2],b[3],0,b[4],b[5],0,b[6],b[7],0,b[8],b[9]):((p=this._renderer).quad.apply(p,b),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",b))),this},i.default.prototype.rect=function(){for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return i.default._validateParameters("rect",g),this._renderRect.apply(this,g)},i.default.prototype.square=function(p,g,b,y,v,j,x){return i.default._validateParameters("square",arguments),this._renderRect.call(this,p,g,b,b,y,v,j,x)},i.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var p=_.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),g=(this._renderer._rectMode===h.CORNER&&(p.w=arguments[2],p.h=arguments[3]),[p.x,p.y,p.w,p.h]),b=4;b<arguments.length;b++)g[b]=arguments[b];this._renderer.rect(g),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[p.x,p.y,p.w,p.h])}return this},i.default.prototype.triangle=function(){for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return i.default._validateParameters("triangle",g),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(g),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",g),this},t=i.default,u.default=t},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(t,f,u){function o(s){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(s)}function l(s){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(c){return o(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":o(c)})(s)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var i=(m=t("../main"))&&m.__esModule?m:{default:m},h=(function(s){if(s&&s.__esModule)return s;if(s===null||l(s)!=="object"&&typeof s!="function")return{default:s};var c=_();if(c&&c.has(s))return c.get(s);var p,g={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in s){var y;Object.prototype.hasOwnProperty.call(s,p)&&((y=b?Object.getOwnPropertyDescriptor(s,p):null)&&(y.get||y.set)?Object.defineProperty(g,p,y):g[p]=s[p])}return g.default=s,c&&c.set(s,g),g})(t("../constants"));function _(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,_=function(){return s},s)}i.default.prototype.ellipseMode=function(s){return i.default._validateParameters("ellipseMode",arguments),s!==h.CORNER&&s!==h.CORNERS&&s!==h.RADIUS&&s!==h.CENTER||(this._renderer._ellipseMode=s),this},i.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},i.default.prototype.rectMode=function(s){return i.default._validateParameters("rectMode",arguments),s!==h.CORNER&&s!==h.CORNERS&&s!==h.RADIUS&&s!==h.CENTER||(this._renderer._rectMode=s),this},i.default.prototype.smooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!0):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},i.default.prototype.strokeCap=function(s){return i.default._validateParameters("strokeCap",arguments),s!==h.ROUND&&s!==h.SQUARE&&s!==h.PROJECT||this._renderer.strokeCap(s),this},i.default.prototype.strokeJoin=function(s){return i.default._validateParameters("strokeJoin",arguments),s!==h.ROUND&&s!==h.BEVEL&&s!==h.MITER||this._renderer.strokeJoin(s),this},i.default.prototype.strokeWeight=function(s){return i.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(s),this};var m=i.default;u.default=m},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(t,f,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o=(l=t("../main"))&&l.__esModule?l:{default:l};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),o.default.prototype.bezier=function(){for(var i,h=arguments.length,_=new Array(h),m=0;m<h;m++)_[m]=arguments[m];return o.default._validateParameters("bezier",_),(this._renderer._doStroke||this._renderer._doFill)&&(i=this._renderer).bezier.apply(i,_),this},o.default.prototype.bezierDetail=function(i){return o.default._validateParameters("bezierDetail",arguments),this._bezierDetail=i,this},o.default.prototype.bezierPoint=function(i,h,_,m,s){o.default._validateParameters("bezierPoint",arguments);var c=1-s;return Math.pow(c,3)*i+3*Math.pow(c,2)*s*h+3*c*Math.pow(s,2)*_+Math.pow(s,3)*m},o.default.prototype.bezierTangent=function(i,h,_,m,s){o.default._validateParameters("bezierTangent",arguments);var c=1-s;return 3*m*Math.pow(s,2)-3*_*Math.pow(s,2)+6*_*c*s-6*h*c*s+3*h*Math.pow(c,2)-3*i*Math.pow(c,2)},o.default.prototype.curve=function(){for(var i,h=arguments.length,_=new Array(h),m=0;m<h;m++)_[m]=arguments[m];return o.default._validateParameters("curve",_),this._renderer._doStroke&&(i=this._renderer).curve.apply(i,_),this},o.default.prototype.curveDetail=function(i){return o.default._validateParameters("curveDetail",arguments),this._curveDetail=i<3?3:i,this},o.default.prototype.curveTightness=function(i){return o.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=i,this},o.default.prototype.curvePoint=function(i,h,_,m,s){o.default._validateParameters("curvePoint",arguments);var c=this._renderer._curveTightness,p=s*s*s,g=s*s;return i*((c-1)/2*p+(1-c)*g+(c-1)/2*s)+h*((c+3)/2*p+(-5-c)/2*g+1)+_*((-3-c)/2*p+(c+2)*g+(1-c)/2*s)+m*((1-c)/2*p+(c-1)/2*g)},o.default.prototype.curveTangent=function(i,h,_,m,g){o.default._validateParameters("curveTangent",arguments);var c=this._renderer._curveTightness,p=g*g*3,g=2*g;return i*((c-1)/2*p+(1-c)*g+(c-1)/2)+h*((c+3)/2*p+(-5-c)/2*g)+_*((-3-c)/2*p+(c+2)*g+(1-c)/2)+m*((1-c)/2*p+(c-1)/2*g)};var l=o.default;u.default=l},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(t,f,u){function o(x){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(x)}function l(x){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(E){return o(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":o(E)})(x)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var i=(j=t("../main"))&&j.__esModule?j:{default:j},h=(function(x){if(x&&x.__esModule)return x;if(x===null||l(x)!=="object"&&typeof x!="function")return{default:x};var E=_();if(E&&E.has(x))return E.get(x);var P,O={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(P in x){var D;Object.prototype.hasOwnProperty.call(x,P)&&((D=M?Object.getOwnPropertyDescriptor(x,P):null)&&(D.get||D.set)?Object.defineProperty(O,P,D):O[P]=x[P])}return O.default=x,E&&E.set(x,O),O})(t("../constants"));function _(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,_=function(){return x},x)}var m=null,s=[],c=[],p=!1,g=!1,b=!1,y=!1,v=!0,j=(i.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(c=[],y=!0),this},i.default.prototype.beginShape=function(x){var E;return i.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(E=this._renderer).beginShape.apply(E,arguments):(m=x===h.POINTS||x===h.LINES||x===h.TRIANGLES||x===h.TRIANGLE_FAN||x===h.TRIANGLE_STRIP||x===h.QUADS||x===h.QUAD_STRIP?x:null,s=[],c=[]),this},i.default.prototype.bezierVertex=function(){for(var x,E=arguments.length,P=new Array(E),O=0;O<E;O++)P[O]=arguments[O];if(i.default._validateParameters("bezierVertex",P),this._renderer.isP3D)(x=this._renderer).bezierVertex.apply(x,P);else if(s.length===0)i.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{p=!0;for(var M=[],D=0;D<P.length;D++)M[D]=P[D];M.isVert=!1,(y?c:s).push(M)}return this},i.default.prototype.curveVertex=function(){for(var x,E=arguments.length,P=new Array(E),O=0;O<E;O++)P[O]=arguments[O];return i.default._validateParameters("curveVertex",P),this._renderer.isP3D?(x=this._renderer).curveVertex.apply(x,P):(g=!0,this.vertex(P[0],P[1])),this},i.default.prototype.endContour=function(){if(!this._renderer.isP3D){var x=c[0].slice();x.isVert=c[0].isVert,x.moveTo=!1,c.push(x),v&&(s.push(s[0]),v=!1);for(var E=0;E<c.length;E++)s.push(c[E])}return this},i.default.prototype.endShape=function(x){var E=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(i.default._validateParameters("endShape",arguments),E<1&&(console.log(" p5.js says: You can not have less than one instance"),E=1),this._renderer.isP3D)this._renderer.endShape(x,g,p,b,y,m,E);else{if(E!==1&&console.log(" p5.js says: Instancing is only supported in WebGL2 mode"),s.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;E=x===h.CLOSE,E&&!y&&s.push(s[0]),this._renderer.endShape(x,s,g,p,b,y,m),v=!(y=b=p=g=!1),E&&s.pop()}return this},i.default.prototype.quadraticVertex=function(){for(var x,E=arguments.length,P=new Array(E),O=0;O<E;O++)P[O]=arguments[O];if(i.default._validateParameters("quadraticVertex",P),this._renderer.isP3D)(x=this._renderer).quadraticVertex.apply(x,P);else{if(this._contourInited)return(x={}).x=P[0],x.y=P[1],x.x3=P[2],x.y3=P[3],x.type=h.QUADRATIC,this._contourVertices.push(x),this;if(0<s.length){b=!0;for(var M=[],D=0;D<P.length;D++)M[D]=P[D];M.isVert=!1,(y?c:s).push(M)}else i.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},i.default.prototype.vertex=function(x,E,P,O,M){var D;return this._renderer.isP3D?(D=this._renderer).vertex.apply(D,arguments):((D=[]).isVert=!0,D[0]=x,D[1]=E,D[2]=0,D[3]=0,D[4]=0,D[5]=this._renderer._getFill(),D[6]=this._renderer._getStroke(),P&&(D.moveTo=P),(y?(c.length===0&&(D.moveTo=!0),c):s).push(D)),this},i.default.prototype.normal=function(x,E,P){var O;return this._assert3d("normal"),i.default._validateParameters("normal",arguments),(O=this._renderer).normal.apply(O,arguments),this},i.default);u.default=j},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(t,f,u){},{}],295:[function(t,f,u){t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.assign"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var o=this._styles.pop();o?(this._renderer.pop(o.renderer),Object.assign(this,o.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(o){if(!this._inUserDraw&&this._setupDone){var l=parseInt(o),i=((isNaN(l)||l<1)&&(l=1),this._isGlobal?window:this);if(typeof i.draw=="function"){i.setup===void 0&&i.scale(i._pixelDensity,i._pixelDensity);for(var h=0;h<l;h++){i.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),i._renderer.isP3D&&i._renderer._update(),i._setProperty("frameCount",i.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{i.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},t=t.default,u.default=t},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(t,f,u){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o=(t=t("./main"))&&t.__esModule?t:{default:t};function l(i){return(function(h){if(Array.isArray(h)){for(var _=0,m=new Array(h.length);_<h.length;_++)m[_]=h[_];return m}})(i)||(function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)})(i)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}o.default.prototype.applyMatrix=function(){var i=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||i?(i=this._renderer).applyMatrix.apply(i,l(arguments.length<=0?void 0:arguments[0])):(i=this._renderer).applyMatrix.apply(i,arguments),this},o.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},o.default.prototype.rotate=function(i,h){return o.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(i),h),this},o.default.prototype.rotateX=function(i){return this._assert3d("rotateX"),o.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(i)),this},o.default.prototype.rotateY=function(i){return this._assert3d("rotateY"),o.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(i)),this},o.default.prototype.rotateZ=function(i){return this._assert3d("rotateZ"),o.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(i)),this},o.default.prototype.scale=function(i,h,_){var m;return o.default._validateParameters("scale",arguments),i instanceof o.default.Vector?(i=(m=i).x,h=m.y,_=m.z):Array.isArray(i)&&(i=(m=i)[0],h=m[1],_=m[2]||1),isNaN(h)?h=_=i:isNaN(_)&&(_=1),this._renderer.scale(i,h,_),this},o.default.prototype.shearX=function(i){return o.default._validateParameters("shearX",arguments),i=this._toRadians(i),this._renderer.applyMatrix(1,0,Math.tan(i),1,0,0),this},o.default.prototype.shearY=function(i){return o.default._validateParameters("shearY",arguments),i=this._toRadians(i),this._renderer.applyMatrix(1,Math.tan(i),0,1,0,0),this},o.default.prototype.translate=function(i,h,_){return o.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(i,h,_):this._renderer.translate(i,h),this},t=o.default,u.default=t},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(t,f,u){function o(_){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator");var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function i(_){return(function(m){if(Array.isArray(m)){for(var s=0,c=new Array(m.length);s<m.length;s++)c[s]=m[s];return c}})(_)||(function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)})(_)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function h(_){return(h=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(m){return o(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":o(m)})(_)}l.default.prototype.storeItem=function(_,m){typeof _!="string"&&console.log("The argument that you passed to storeItem() - ".concat(_," is not a string.")),_.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(_," must not end with 'p5TypeID'.")),m===void 0&&console.log("You cannot store undefined variables using storeItem().");var s=h(m);switch(s){case"number":case"boolean":m=m.toString();break;case"object":m instanceof l.default.Color?s="p5.Color":m instanceof l.default.Vector&&(s="p5.Vector",m=[m.x,m.y,m.z]),m=JSON.stringify(m)}localStorage.setItem(_,m),_="".concat(_,"p5TypeID"),localStorage.setItem(_,s)},l.default.prototype.getItem=function(_){var m=localStorage.getItem(_),s=localStorage.getItem("".concat(_,"p5TypeID"));if(s===void 0)console.log("Unable to determine type of item stored under ".concat(_,"in local storage. Did you save the item with something other than setItem()?"));else if(m!==null)switch(s){case"number":m=parseFloat(m);break;case"boolean":m=m==="true";break;case"object":m=JSON.parse(m);break;case"p5.Color":m=JSON.parse(m),m=this.color.apply(this,i(m.levels));break;case"p5.Vector":m=JSON.parse(m),m=this.createVector.apply(this,i(m))}return m},l.default.prototype.clearStorage=function(){var _=this;Object.keys(localStorage).forEach(function(m){m.endsWith("p5TypeID")&&_.removeItem(m.replace("p5TypeID",""))})},l.default.prototype.removeItem=function(_){typeof _!="string"&&console.log("The argument that you passed to removeItem() - ".concat(_," is not a string.")),localStorage.removeItem(_),localStorage.removeItem("".concat(_,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(t,f,u){function o(b){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(b)}function l(b){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(y){return o(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":o(y)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};function h(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),y&&_(b,y)}function _(b,y){return(_=Object.setPrototypeOf||function(v,j){return v.__proto__=j,v})(b,y)}function m(b){return function(){var y,v=s(b),v=(y=(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?(y=s(this).constructor,Reflect.construct(v,arguments,y)):v.apply(this,arguments),this);if(!y||l(y)!=="object"&&typeof y!="function"){if(v!==void 0)return v;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return y}}function s(b){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(b)}function c(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function p(b,y){for(var v=0;v<y.length;v++){var j=y[v];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(b,j.key,j)}}function g(b,y,v){y&&p(b.prototype,y)}i.default.prototype.createStringDict=function(b,y){return i.default._validateParameters("createStringDict",arguments),new i.default.StringDict(b,y)},i.default.prototype.createNumberDict=function(b,y){return i.default._validateParameters("createNumberDict",arguments),new i.default.NumberDict(b,y)},i.default.TypedDict=(function(){function b(y,v){return c(this,b),y instanceof Object?this.data=y:(this.data={},this.data[y]=v),this}return g(b,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(y){return this.data.hasOwnProperty(y)}},{key:"get",value:function(y){if(this.data.hasOwnProperty(y))return this.data[y];console.log("".concat(y," does not exist in this Dictionary"))}},{key:"set",value:function(y,v){this._validate(v)?this.data[y]=v:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(y){for(var v in y)this.set(v,y[v])}},{key:"create",value:function(y,v){y instanceof Object&&v===void 0?this._addObj(y):y!==void 0?this.set(y,v):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(y){if(!this.data.hasOwnProperty(y))throw new Error("".concat(y," does not exist in this Dictionary"));delete this.data[y]}},{key:"print",value:function(){for(var y in this.data)console.log("key:".concat(y," value:").concat(this.data[y]))}},{key:"saveTable",value:function(y){var v,j="";for(v in this.data)j+="".concat(v,",").concat(this.data[v],`
`);var x=new Blob([j],{type:"text/csv"});i.default.prototype.downloadFile(x,y||"mycsv","csv")}},{key:"saveJSON",value:function(y,v){i.default.prototype.saveJSON(this.data,y,v)}},{key:"_validate",value:function(y){return!0}}]),b})(),i.default.StringDict=(function(){h(y,i.default.TypedDict);var b=m(y);function y(){c(this,y);for(var v=arguments.length,j=new Array(v),x=0;x<v;x++)j[x]=arguments[x];return b.call.apply(b,[this].concat(j))}return g(y,[{key:"_validate",value:function(v){return typeof v=="string"}}]),y})(),i.default.NumberDict=(function(){h(y,i.default.TypedDict);var b=m(y);function y(){c(this,y);for(var v=arguments.length,j=new Array(v),x=0;x<v;x++)j[x]=arguments[x];return b.call.apply(b,[this].concat(j))}return g(y,[{key:"_validate",value:function(v){return typeof v=="number"}},{key:"add",value:function(v,j){this.data.hasOwnProperty(v)?this.data[v]+=j:console.log("The key - ".concat(v," does not exist in this dictionary."))}},{key:"sub",value:function(v,j){this.add(v,-j)}},{key:"mult",value:function(v,j){this.data.hasOwnProperty(v)?this.data[v]*=j:console.log("The key - ".concat(v," does not exist in this dictionary."))}},{key:"div",value:function(v,j){this.data.hasOwnProperty(v)?this.data[v]/=j:console.log("The key - ".concat(v," does not exist in this dictionary."))}},{key:"_valueTest",value:function(v){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var j,x=this.data[Object.keys(this.data)[0]];for(j in this.data)this.data[j]*v<x*v&&(x=this.data[j]);return x}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(v){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var j=Object.keys(this.data)[0],x=1;x<Object.keys(this.data).length;x++)Object.keys(this.data)[x]*v<j*v&&(j=Object.keys(this.data)[x]);return j}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),y})(),t=i.default.TypedDict,u.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(t,f,u){function o(x){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(x)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function i(x,E){for(var P=0;P<E.length;P++){var O=E[P];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(x,O.key,O)}}function h(x,E,P){E&&i(x.prototype,E),P&&i(x,P)}function _(x,E){return(_=Object.setPrototypeOf||function(P,O){return P.__proto__=O,P})(x,E)}function m(x){return function(){var E,P,O=c(x);return E=(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?(E=c(this).constructor,Reflect.construct(O,arguments,E)):O.apply(this,arguments),O=this,!(P=E)||g(P)!=="object"&&typeof P!="function"?s(O):P}}function s(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function c(x){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)})(x)}function p(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")}function g(x){return(g=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(E){return o(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":o(E)})(x)}function b(x,E,P){return(E._userNode||document.body).appendChild(x),P=new(P?l.default.MediaElement:l.default.Element)(x,E),E._elements.push(P),P}l.default.prototype.select=function(x,E){return l.default._validateParameters("select",arguments),E=this._getContainer(E).querySelector(x),E?this._wrapElement(E):null},l.default.prototype.selectAll=function(x,E){l.default._validateParameters("selectAll",arguments);var P=[],O=this._getContainer(E).querySelectorAll(x);if(O)for(var M=0;M<O.length;M++){var D=this._wrapElement(O[M]);P.push(D)}return P},l.default.prototype._getContainer=function(x){var E=document;return typeof x=="string"?E=document.querySelector(x)||document:x instanceof l.default.Element?E=x.elt:x instanceof HTMLElement&&(E=x),E},l.default.prototype._wrapElement=function(x){var E,P=Array.prototype.slice.call(x.children);return x.tagName==="INPUT"&&x.type==="checkbox"?((E=new l.default.Element(x,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},E):x.tagName==="VIDEO"||x.tagName==="AUDIO"?new l.default.MediaElement(x,this):x.tagName==="SELECT"?this.createSelect(new l.default.Element(x,this)):0<P.length&&P.every(function(O){return O.tagName==="INPUT"||O.tagName==="LABEL"})&&(x.tagName==="DIV"||x.tagName==="SPAN")?this.createRadio(new l.default.Element(x,this)):new l.default.Element(x,this)},l.default.prototype.removeElements=function(x){l.default._validateParameters("removeElements",arguments),this._elements.filter(function(E){return!(E.elt instanceof HTMLCanvasElement)}).map(function(E){return E.remove()})},l.default.Element.prototype.changed=function(x){return l.default.Element._adjustListener("change",x,this),this},l.default.Element.prototype.input=function(x){return l.default.Element._adjustListener("input",x,this),this},l.default.prototype.createDiv=function(){var x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",E=document.createElement("div");return E.innerHTML=x,b(E,this)},l.default.prototype.createP=function(){var x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",E=document.createElement("p");return E.innerHTML=x,b(E,this)},l.default.prototype.createSpan=function(){var x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",E=document.createElement("span");return E.innerHTML=x,b(E,this)},l.default.prototype.createImg=function(){l.default._validateParameters("createImg",arguments);var x,E=document.createElement("img"),P=arguments;return 1<P.length&&typeof P[1]=="string"&&(E.alt=P[1]),2<P.length&&typeof P[2]=="string"&&(E.crossOrigin=P[2]),E.src=P[0],x=b(E,this),E.addEventListener("load",function(){x.width=E.offsetWidth||E.width,x.height=E.offsetHeight||E.height;var O=P[P.length-1];typeof O=="function"&&O(x)}),x},l.default.prototype.createA=function(x,E,P){l.default._validateParameters("createA",arguments);var O=document.createElement("a");return O.href=x,O.innerHTML=E,P&&(O.target=P),b(O,this)},l.default.prototype.createSlider=function(x,E,P,O){l.default._validateParameters("createSlider",arguments);var M=document.createElement("input");return M.type="range",M.min=x,M.max=E,O===0?M.step=1e-18:O&&(M.step=O),typeof P=="number"&&(M.value=P),b(M,this)},l.default.prototype.createButton=function(x,E){l.default._validateParameters("createButton",arguments);var P=document.createElement("button");return P.innerHTML=x,E&&(P.value=E),b(P,this)},l.default.prototype.createCheckbox=function(){for(var x=arguments.length,E=new Array(x),P=0;P<x;P++)E[P]=arguments[P];l.default._validateParameters("createCheckbox",E);var O=document.createElement("div"),M=document.createElement("input"),D=(M.type="checkbox",document.createElement("label")),U=(D.appendChild(M),O.appendChild(D),b(O,this));return U.checked=function(){var I=U.elt.firstElementChild.getElementsByTagName("input")[0];if(I){if(arguments.length===0)return I.checked;I.checked=!(arguments.length<=0||!arguments[0])}return U},this.value=function(I){return U.value=I,this},E[0]&&(U.value(E[0]),(O=document.createElement("span")).innerHTML=E[0],D.appendChild(O)),E[1]&&(M.checked=!0),U},l.default.prototype.createSelect=function(){for(var x,E=arguments.length,P=new Array(E),O=0;O<E;O++)P[O]=arguments[O];l.default._validateParameters("createSelect",P);var M,D=P[0];return D instanceof l.default.Element&&D.elt instanceof HTMLSelectElement?this.elt=(x=D).elt:D instanceof HTMLSelectElement?(x=b(D,this),this.elt=D):(M=document.createElement("select"),D&&typeof D=="boolean"&&M.setAttribute("multiple","true"),x=b(M,this),this.elt=M),x.option=function(U,I){var B;if(U!==void 0){for(var R,G=0;G<this.elt.length;G+=1)if(this.elt[G].textContent===U){B=G;break}B!==void 0?I===!1?this.elt.remove(B):this.elt[B].value=I:((R=document.createElement("option")).textContent=U,R.value=I===void 0?U:I,this.elt.appendChild(R),this._pInst._elements.push(R))}},x.selected=function(U){if(U!==void 0){for(var I=0;I<this.elt.length;I+=1)this.elt[I].value.toString()===U.toString()&&(this.elt.selectedIndex=I);return this}if(this.elt.getAttribute("multiple")){var B=[],R=!0,G=!1,z=void 0;try{for(var q,Y=this.elt.selectedOptions[Symbol.iterator]();!(R=(q=Y.next()).done);R=!0){var $=q.value;B.push($.value)}}catch(X){G=!0,z=X}finally{try{R||Y.return==null||Y.return()}finally{if(G)throw z}}return B}return this.elt.value},x.disable=function(U){if(typeof U=="string")for(var I=0;I<this.elt.length;I++)this.elt[I].value.toString()===U&&(this.elt[I].disabled=!0,this.elt[I].selected=!1);else this.elt.disabled=!0;return this},x.enable=function(U){if(typeof U=="string")for(var I=0;I<this.elt.length;I++)this.elt[I].value.toString()===U&&(this.elt[I].disabled=!1,this.elt[I].selected=!1);else{this.elt.disabled=!1;for(var B=0;B<this.elt.length;B++)this.elt[B].disabled=!1,this.elt[B].selected=!1}return this},x};var y=0;function v(x,U,P,O){var M=document.createElement(U),D=(typeof(P=P||"")=="string"&&(P=[P]),!0),U=!1,I=void 0;try{for(var B,R=P[Symbol.iterator]();!(D=(B=R.next()).done);D=!0){var G=B.value,z=document.createElement("source");z.setAttribute("src",G),M.appendChild(z)}}catch(Y){U=!0,I=Y}finally{try{D||R.return==null||R.return()}finally{if(U)throw I}}var q=b(M,x,!0);return q.loadedmetadata=!1,M.addEventListener("loadedmetadata",function(){q.width=M.videoWidth,q.height=M.videoHeight,q.elt.width===0&&(q.elt.width=M.videoWidth),q.elt.height===0&&(q.elt.height=M.videoHeight),q.presetPlaybackRate&&(q.elt.playbackRate=q.presetPlaybackRate,delete q.presetPlaybackRate),q.loadedmetadata=!0}),typeof O=="function"&&M.addEventListener("canplaythrough",function Y(){O(q),M.removeEventListener("canplaythrough",Y)}),q}l.default.prototype.createRadio=function(){function x(U){return U instanceof HTMLInputElement&&U.type==="radio"}function E(U){return U instanceof HTMLLabelElement}var P,O,M,D=arguments.length<=0?void 0:arguments[0];return D instanceof l.default.Element&&(D.elt instanceof HTMLDivElement||D.elt instanceof HTMLSpanElement)?(P=D,this.elt=D.elt):D instanceof HTMLDivElement||D instanceof HTMLSpanElement?(P=b(D,this),O=this.elt=D,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(M=arguments.length<=1?void 0:arguments[1])):(typeof D=="string"&&(M=D),O=document.createElement("div"),P=b(O,this),this.elt=O),P._name=M||"radioOption_".concat(y++),P._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(U){return x(U)||E(U)&&x(U.firstElementChild)}).map(function(U){return x(U)?U:U.firstElementChild})},P.option=function(U,I){var B,R,G,z=!0,q=!1,Y=void 0;try{for(var $,X=P._getOptionsArray()[Symbol.iterator]();!(z=($=X.next()).done);z=!0){var ee=$.value;if(ee.value===U){B=ee;break}}}catch(K){q=!0,Y=K}finally{try{z||X.return==null||X.return()}finally{if(q)throw Y}}return B===void 0&&((B=document.createElement("input")).setAttribute("type","radio"),B.setAttribute("value",U)),B.setAttribute("name",P._name),E(B.parentElement)?R=B.parentElement:(R=document.createElement("label")).insertAdjacentElement("afterbegin",B),R.lastElementChild instanceof HTMLSpanElement?G=R.lastElementChild:(G=document.createElement("span"),B.insertAdjacentElement("afterend",G)),G.innerHTML=I===void 0?U:I,this.elt.appendChild(R),B},P.remove=function(U){var I=!0,B=!1,R=void 0;try{for(var G,z=P._getOptionsArray()[Symbol.iterator]();!(I=(G=z.next()).done);I=!0){var q=G.value;if(q.value===U)return void(E(q.parentElement)?q.parentElement:q).remove()}}catch(Y){B=!0,R=Y}finally{try{I||z.return==null||z.return()}finally{if(B)throw R}}},P.value=function(){var U="",I=!0,B=!1,R=void 0;try{for(var G,z=P._getOptionsArray()[Symbol.iterator]();!(I=(G=z.next()).done);I=!0){var q=G.value;if(q.checked){U=q.value;break}}}catch(Y){B=!0,R=Y}finally{try{I||z.return==null||z.return()}finally{if(B)throw R}}return U},P.selected=function(U){var I=null;if(U===void 0){var B=!0,R=!1,G=void 0;try{for(var z,q=P._getOptionsArray()[Symbol.iterator]();!(B=(z=q.next()).done);B=!0){var Y=z.value;if(Y.checked){I=Y;break}}}catch(ne){R=!0,G=ne}finally{try{B||q.return==null||q.return()}finally{if(R)throw G}}}else{P._getOptionsArray().forEach(function(F){F.checked=!1,F.removeAttribute("checked")});var $=!0,R=!1,G=void 0;try{for(var X,ee=P._getOptionsArray()[Symbol.iterator]();!($=(X=ee.next()).done);$=!0){var K=X.value;K.value===U&&(K.setAttribute("checked",!0),K.checked=!0,I=K)}}catch(F){R=!0,G=F}finally{try{$||ee.return==null||ee.return()}finally{if(R)throw G}}}return I},P.disable=function(){var U=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],I=!0,B=!1,R=void 0;try{for(var G,z=P._getOptionsArray()[Symbol.iterator]();!(I=(G=z.next()).done);I=!0)G.value.setAttribute("disabled",U)}catch(q){B=!0,R=q}finally{try{I||z.return==null||z.return()}finally{if(B)throw R}}},P},l.default.prototype.createColorPicker=function(x){l.default._validateParameters("createColorPicker",arguments);var E=document.createElement("input");return E.type="color",x?x instanceof l.default.Color?E.value=x.toString("#rrggbb"):(l.default.prototype._colorMode="rgb",l.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},E.value=l.default.prototype.color(x).toString("#rrggbb")):E.value="#000000",(E=b(E,this)).color=function(){return x&&(x.mode&&(l.default.prototype._colorMode=x.mode),x.maxes&&(l.default.prototype._colorMaxes=x.maxes)),l.default.prototype.color(this.elt.value)},E},l.default.prototype.createInput=function(){var x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",E=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",P=(l.default._validateParameters("createInput",arguments),document.createElement("input"));return P.setAttribute("value",x),P.setAttribute("type",E),b(P,this)},l.default.prototype.createFileInput=function(x){var E,P=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(l.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(E=document.createElement("input")).setAttribute("type","file"),P&&E.setAttribute("multiple",!0),E.addEventListener("change",function(O){var M=!0,D=!1,U=void 0;try{for(var I,B=O.target.files[Symbol.iterator]();!(M=(I=B.next()).done);M=!0){var R=I.value;l.default.File._load(R,x)}}catch(G){D=!0,U=G}finally{try{M||B.return==null||B.return()}finally{if(D)throw U}}},!1),b(E,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},l.default.prototype.createVideo=function(x,E){return l.default._validateParameters("createVideo",arguments),v(this,"video",x,E)},l.default.prototype.createAudio=function(x,E){return l.default._validateParameters("createAudio",arguments),v(this,"audio",x,E)},l.default.prototype.VIDEO="video",l.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(x){var E=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return E?new Promise(function(P,O){E.call(navigator,x,P,O)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),l.default.prototype.createCapture=function(){for(var x=arguments.length,E=new Array(x),P=0;P<x;P++)E[P]=arguments[P];if(l.default._validateParameters("createCapture",E),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var O,M=!0,D=!0,U=!1,I=0,B=E;I<B.length;I++){var R=B[I];R===l.default.prototype.VIDEO?D=!1:R===l.default.prototype.AUDIO?M=!1:g(R)==="object"?(R.flipped!==void 0&&(U=R.flipped,delete R.flipped),G=Object.assign({},G,R)):typeof R=="function"&&(O=R)}var G=Object.assign({},{video:M,audio:D},G),z=document.createElement("video"),q=(z.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(G).then(function(Y){try{"srcObject"in z?z.srcObject=Y:z.src=window.URL.createObjectURL(Y)}catch{z.src=Y}}).catch(function(Y){Y.name==="NotFoundError"&&l.default._friendlyError("No webcam found on this device","createCapture"),Y.name==="NotAllowedError"&&l.default._friendlyError("Access to the camera was denied","createCapture"),console.error(Y)}),b(z,this,!0));return q.loadedmetadata=!1,z.addEventListener("loadedmetadata",function(){z.play(),z.width?(q.width=z.width,q.height=z.height,U&&(q.elt.style.transform="scaleX(-1)")):(q.width=q.elt.width=z.videoWidth,q.height=q.elt.height=z.videoHeight),q.loadedmetadata=!0,O&&O(z.srcObject)}),q.flipped=U,q},l.default.prototype.createElement=function(x,E){return l.default._validateParameters("createElement",arguments),x=document.createElement(x),E!==void 0&&(x.innerHTML=E),b(x,this)},l.default.Element.prototype.addClass=function(x){return this.elt.className?this.hasClass(x)||(this.elt.className=this.elt.className+" "+x):this.elt.className=x,this},l.default.Element.prototype.removeClass=function(x){return this.elt.classList.remove(x),this},l.default.Element.prototype.hasClass=function(x){return this.elt.classList.contains(x)},l.default.Element.prototype.toggleClass=function(x){return this.elt.classList.contains(x)?this.elt.classList.remove(x):this.elt.classList.add(x),this},l.default.Element.prototype.child=function(x){return x===void 0?this.elt.childNodes:(typeof x=="string"?(x[0]==="#"&&(x=x.substring(1)),x=document.getElementById(x)):x instanceof l.default.Element&&(x=x.elt),x instanceof HTMLElement&&this.elt.appendChild(x),this)},l.default.Element.prototype.center=function(x){var E=this.elt.style.display,P=this.elt.style.display==="none",O=this.parent().style.display==="none",M={x:this.elt.offsetLeft,y:this.elt.offsetTop},D=(P&&this.show(),O&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),U=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return x==="both"||x===void 0?this.position(D/2+this.parent().offsetLeft,U/2+this.parent().offsetTop):x==="horizontal"?this.position(D/2+this.parent().offsetLeft,M.y):x==="vertical"&&this.position(M.x,U/2+this.parent().offsetTop),this.style("display",E),P&&this.hide(),O&&this.parent().hide(),this},l.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},l.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},l.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var x="";return this.elt.style.transform&&(x=(x=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=x,this},l.default.Element.prototype._rotate=function(){var x="";return this.elt.style.transform&&(x=(x=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=x,this},l.default.Element.prototype.style=function(x,E){if((E=E instanceof l.default.Color?"rgba("+E.levels[0]+","+E.levels[1]+","+E.levels[2]+","+E.levels[3]/255+")":E)===void 0){if(x.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(x);for(var P=x.split(";"),O=0;O<P.length;O++){var M=P[O].split(":");M[0]&&M[1]&&(this.elt.style[M[0].trim()]=M[1].trim())}}else this.elt.style[x]=E,x!=="width"&&x!=="height"&&x!=="left"&&x!=="top"||(E=window.getComputedStyle(this.elt).getPropertyValue(x).replace(/[^\d.]/g,""),this[x]=Math.round(parseFloat(E,10)));return this},l.default.Element.prototype.attribute=function(x,E){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return E===void 0?this.elt.getAttribute(x):(this.elt.setAttribute(x,E),this);if(E===void 0)return this.elt.firstChild.getAttribute(x);for(var P=0;P<this.elt.childNodes.length;P++)this.elt.childNodes[P].setAttribute(x,E)},l.default.Element.prototype.removeAttribute=function(x){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var E=0;E<this.elt.childNodes.length;E++)this.elt.childNodes[E].removeAttribute(x);return this.elt.removeAttribute(x),this},l.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},l.default.Element.prototype.show=function(){return this.elt.style.display="block",this},l.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},l.default.Element.prototype.size=function(x,E){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var P=x,O=E,M=l.default.prototype.AUTO;if(P!==M||O!==M){if(P===M?P=E*this.width/this.height:O===M&&(O=x*this.height/this.width),this.elt instanceof HTMLCanvasElement){var D,U={},I=this.elt.getContext("2d");for(D in I)U[D]=I[D];for(D in this.elt.setAttribute("width",P*this._pInst._pixelDensity),this.elt.setAttribute("height",O*this._pInst._pixelDensity),this.elt.style.width=P+"px",this.elt.style.height=O+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),U)this.elt.getContext("2d")[D]=U[D]}else this.elt.style.width=P+"px",this.elt.style.height=O+"px",this.elt.width=P,this.elt.height=O;this.width=P,this.height=O,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",P),this._pInst._setProperty("height",O))}return this},l.default.Element.prototype.remove=function(){this instanceof l.default.MediaElement&&(this.stop(),(E=this.elt.srcObject)!==null&&E.getTracks().forEach(function(P){P.stop()}));var x,E=this._pInst._elements.indexOf(this);for(x in E!==-1&&this._pInst._elements.splice(E,1),this._events)this.elt.removeEventListener(x,this._events[x]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},l.default.Element.prototype.drop=function(x,E){var P;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",P=function(O){O.preventDefault()}),this.elt.addEventListener("dragleave",P)),l.default.Element._attachListener("drop",function(M){M.preventDefault(),typeof E=="function"&&E.call(this,M);var M=M.dataTransfer.files,D=!0,U=!1,I=void 0;try{for(var B,R=M[Symbol.iterator]();!(D=(B=R.next()).done);D=!0){var G=B.value;l.default.File._load(G,x)}}catch(z){U=!0,I=z}finally{try{D||R.return==null||R.return()}finally{if(U)throw I}}},this)):console.log("The File APIs are not fully supported in this browser."),this},l.default.Element.prototype.draggable=function(x){var E,P="ontouchstart"in window,O=0,M=0,D=0,U=0,I=P?"touchend":"mouseup",B=P?"touchmove":"mousemove";function R(z){var q;z=z||window.event,U=P?(q=z.changedTouches,O=D-parseInt(q[0].clientX),M=U-parseInt(q[0].clientY),D=parseInt(q[0].clientX),parseInt(q[0].clientY)):(O=D-parseInt(z.clientX),M=U-parseInt(z.clientY),D=parseInt(z.clientX),parseInt(z.clientY)),x.style.left=x.offsetLeft-O+"px",x.style.top=x.offsetTop-M+"px"}function G(){document.removeEventListener(I,G,!1),document.removeEventListener(B,R,!1)}return x===void 0?E=x=this.elt:x!==this.elt&&x.elt!==this.elt&&(x=x.elt,E=this.elt),E.addEventListener(P?"touchstart":"mousedown",function(z){{var q;z=z||window.event,U=P?(q=z.changedTouches,D=parseInt(q[0].clientX),parseInt(q[0].clientY)):(D=parseInt(z.clientX),parseInt(z.clientY))}return document.addEventListener(I,G,!1),document.addEventListener(B,R,!1),!1},!1),E.style.cursor="move",this};function j(x,E,P,O){p(this,j),this.callback=x,this.time=E,this.id=P,this.val=O}t=(function(x){var E=O;if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(x&&x.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),x&&_(E,x);var P=m(O);function O(M,D){p(this,O);var U=s(D=P.call(this,M,D));return D.elt.crossOrigin="anonymous",D._prevTime=0,D._cueIDCounter=0,D._cues=[],D.pixels=[],D._pixelsState=s(D),D._pixelDensity=1,D._modified=!1,D._frameOnCanvas=-1,Object.defineProperty(U,"src",{get:function(){var I=U.elt.children[0].src,B=U.elt.src===window.location.href?"":U.elt.src;return I===window.location.href?B:I},set:function(I){for(var B=0;B<U.elt.children.length;B++)U.elt.removeChild(U.elt.children[B]);var R=document.createElement("source");R.src=I,M.appendChild(R),U.elt.src=I,U.modified=!0}}),U._onended=function(){},U.elt.onended=function(){U._onended(U)},D}return h(O,[{key:"play",value:function(){var M;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(M=this.elt.play())&&M.catch&&M.catch(function(D){D.name==="NotAllowedError"?console.error(D):console.error("Media play method encountered an unexpected error",D)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var M=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(M)},{passive:!0,once:!0})}},{key:"autoplay",value:function(M){var D=this,U=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",M),M&&!U&&(M=function(){return D._setupAutoplayFailDetection()},this.elt.readyState===4?M():this.elt.addEventListener("canplay",M,{passive:!0,once:!0})),this}},{key:"volume",value:function(M){if(M===void 0)return this.elt.volume;this.elt.volume=M}},{key:"speed",value:function(M){if(M===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=M:this.presetPlaybackRate=M}},{key:"time",value:function(M){return M===void 0?this.elt.currentTime:(this.elt.currentTime=M,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var M=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&M&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var M=arguments.length,D=new Array(M),U=0;U<M;U++)D[U]=arguments[U];return l.default.Renderer2D.prototype.loadPixels.apply(this,D)}},{key:"updatePixels",value:function(M,D,U,I){return this.loadedmetadata&&(this._ensureCanvas(),l.default.Renderer2D.prototype.updatePixels.call(this,M,D,U,I)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var M=arguments.length,D=new Array(M),U=0;U<M;U++)D[U]=arguments[U];return l.default.Renderer2D.prototype.get.apply(this,D)}},{key:"_getPixel",value:function(){this.loadPixels();for(var M=arguments.length,D=new Array(M),U=0;U<M;U++)D[U]=arguments[U];return l.default.Renderer2D.prototype._getPixel.apply(this,D)}},{key:"set",value:function(M,D,U){this.loadedmetadata&&(this._ensureCanvas(),l.default.Renderer2D.prototype.set.call(this,M,D,U),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var M=arguments.length,D=new Array(M),U=0;U<M;U++)D[U]=arguments[U];l.default.prototype.copy.apply(this,D)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var M=arguments.length,D=new Array(M),U=0;U<M;U++)D[U]=arguments[U];l.default.Image.prototype.mask.apply(this,D)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(M){this._modified=M}},{key:"onended",value:function(M){return this._onended=M,this}},{key:"connect",value:function(M){var D,U;if(typeof l.default.prototype.getAudioContext=="function")D=l.default.prototype.getAudioContext(),U=l.default.soundOut.input;else try{U=(D=M.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=D.createMediaElementSource(this.elt),this.audioSourceNode.connect(U)),M?M.input?this.audioSourceNode.connect(M.input):this.audioSourceNode.connect(M):this.audioSourceNode.connect(U)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(M,B,U){var I=this._cueIDCounter++,B=new j(B,M,I,U);return this._cues.push(B),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),I}},{key:"removeCue",value:function(M){for(var D=0;D<this._cues.length;D++)this._cues[D].id===M&&(console.log(M),this._cues.splice(D,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var M=this.time(),D=0;D<this._cues.length;D++){var U=this._cues[D].time,I=this._cues[D].val;this._prevTime<U&&U<=M&&this._cues[D].callback(I)}this._prevTime=M}}]),O})(l.default.Element),l.default.MediaElement=t,t=(function(){function x(E,P){p(this,x),this.file=E,this._pInst=P,P=E.type.split("/"),this.type=P[0],this.subtype=P[1],this.name=E.name,this.size=E.size,this.data=void 0}return h(x,null,[{key:"_createLoader",value:function(E,P){var O=new FileReader;return O.onload=function(M){var D,U=new l.default.File(E);U.file.type==="application/json"?U.data=JSON.parse(M.target.result):U.file.type==="text/xml"?(D=new DOMParser().parseFromString(M.target.result,"text/xml"),U.data=new l.default.XML(D.documentElement)):U.data=M.target.result,P(U)},O}},{key:"_load",value:function(E,P){var O;/^text\//.test(E.type)||E.type==="application/json"?l.default.File._createLoader(E,P).readAsText(E):/^(video|audio)\//.test(E.type)?((O=new l.default.File(E)).data=URL.createObjectURL(E),P(O)):l.default.File._createLoader(E,P).readAsDataURL(E)}}]),x})(),l.default.File=t,t=l.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(g,f,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o=(g=g("../core/main"))&&g.__esModule?g:{default:g};o.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",o.default.prototype.accelerationX=0,o.default.prototype.accelerationY=0,o.default.prototype.accelerationZ=0,o.default.prototype.pAccelerationX=0,o.default.prototype.pAccelerationY=0,o.default.prototype.pAccelerationZ=0,o.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},o.default.prototype.rotationX=0,o.default.prototype.rotationY=0,o.default.prototype.rotationZ=0,o.default.prototype.pRotationX=0,o.default.prototype.pRotationY=0;var l=o.default.prototype.pRotationZ=0,i=0,h=0,_="clockwise",m="clockwise",s="clockwise",c=(o.default.prototype.pRotateDirectionX=void 0,o.default.prototype.pRotateDirectionY=void 0,o.default.prototype.pRotateDirectionZ=void 0,o.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},o.default.prototype.turnAxis=void 0,.5),p=30,g=(o.default.prototype.setMoveThreshold=function(b){o.default._validateParameters("setMoveThreshold",arguments),c=b},o.default.prototype.setShakeThreshold=function(b){o.default._validateParameters("setShakeThreshold",arguments),p=b},o.default.prototype._ondeviceorientation=function(b){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(b.beta)),this._setProperty("rotationY",this._fromDegrees(b.gamma)),this._setProperty("rotationZ",this._fromDegrees(b.alpha)),this._handleMotion()},o.default.prototype._ondevicemotion=function(b){this._updatePAccelerations(),this._setProperty("accelerationX",2*b.acceleration.x),this._setProperty("accelerationY",2*b.acceleration.y),this._setProperty("accelerationZ",2*b.acceleration.z),this._handleMotion()},o.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var b,y,v,j,x,E=this._isGlobal?window:this;typeof E.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>c||Math.abs(this.accelerationY-this.pAccelerationY)>c||Math.abs(this.accelerationZ-this.pAccelerationZ)>c)&&E.deviceMoved(),typeof E.deviceTurned=="function"&&(y=this._toDegrees(this.rotationX)+180,v=this._toDegrees(this.pRotationX)+180,b=l+180,0<y-v&&y-v<270||y-v<-270?_="clockwise":(y-v<0||270<y-v)&&(_="counter-clockwise"),_!==this.pRotateDirectionX&&(b=y),90<Math.abs(y-b)&&Math.abs(y-b)<270&&(b=y,this._setProperty("turnAxis","X"),E.deviceTurned()),this.pRotateDirectionX=_,l=b-180,v=this._toDegrees(this.rotationY)+180,y=this._toDegrees(this.pRotationY)+180,b=i+180,0<v-y&&v-y<270||v-y<-270?m="clockwise":(v-y<0||270<v-this.pRotationY)&&(m="counter-clockwise"),m!==this.pRotateDirectionY&&(b=v),90<Math.abs(v-b)&&Math.abs(v-b)<270&&(b=v,this._setProperty("turnAxis","Y"),E.deviceTurned()),this.pRotateDirectionY=m,i=b-180,0<(y=this._toDegrees(this.rotationZ))-(v=this._toDegrees(this.pRotationZ))&&y-v<270||y-v<-270?s="clockwise":(y-v<0||270<y-v)&&(s="counter-clockwise"),s!==this.pRotateDirectionZ&&(h=y),90<Math.abs(y-h)&&Math.abs(y-h)<270&&(h=y,this._setProperty("turnAxis","Z"),E.deviceTurned()),this.pRotateDirectionZ=s,this._setProperty("turnAxis",void 0)),typeof E.deviceShaken=="function"&&(this.pAccelerationX!==null&&(j=Math.abs(this.accelerationX-this.pAccelerationX),x=Math.abs(this.accelerationY-this.pAccelerationY)),p<j+x&&E.deviceShaken())},o.default);u.default=g},{"../core/main":283}],301:[function(t,f,u){t("core-js/modules/es.array.for-each"),t("core-js/modules/es.string.repeat"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.string.repeat"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};o.default.prototype.isKeyPressed=!1,o.default.prototype.keyIsPressed=!1,o.default.prototype.key="",o.default.prototype.keyCode=0,o.default.prototype._onkeydown=function(l){var i;l.repeat?this._setProperty("isKeyRepeated",!0):(this._setProperty("isKeyRepeated",!1),this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",l.which),this._downKeys[l.which]=!0,this._setProperty("key",l.key||String.fromCharCode(l.which)||l.which),l.metaKey&&(this._metaKeys||(this._metaKeys=[]),this._metaKeys.push(l.which)),typeof(i=this._isGlobal?window:this).keyPressed!="function"||l.charCode||i.keyPressed(l)===!1&&l.preventDefault())},o.default.prototype._onkeyup=function(l){var i=this,h=(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1),this._setProperty("_lastKeyCodePressed",this._keyCode),this._downKeys[l.which]=!1,l.key==="Meta"&&this._metaKeys&&(this._metaKeys.forEach(function(_){i._downKeys[_]=!1}),this._metaKeys=[]),this._isGlobal?window:this);typeof h.keyReleased=="function"&&h.keyReleased(l)===!1&&l.preventDefault()},o.default.prototype._onkeypress=function(l){var i;l.which===this._lastKeyCodeTyped&&this.isKeyRepeated||(this._setProperty("_lastKeyCodeTyped",l.which),this._setProperty("key",l.key||String.fromCharCode(l.which)||l.which),typeof(i=this._isGlobal?window:this).keyTyped=="function"&&i.keyTyped(l)===!1&&l.preventDefault())},o.default.prototype._onblur=function(l){this._downKeys={}},o.default.prototype.keyIsDown=function(l){return o.default._validateParameters("keyIsDown",arguments),this._downKeys[l]||!1},o.default.prototype._areDownKeys=function(){for(var l in this._downKeys)if(this._downKeys.hasOwnProperty(l)&&this._downKeys[l]===!0)return!0;return!1},t=o.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.string.repeat":203,"core-js/modules/web.dom-collections.for-each":245}],302:[function(t,f,u){function o(m){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(m)}function l(m){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(s){return o(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":o(s)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var i=(i=t("../core/main"))&&i.__esModule?i:{default:i},h=(function(m){if(m&&m.__esModule)return m;if(m===null||l(m)!=="object"&&typeof m!="function")return{default:m};var s=_();if(s&&s.has(m))return s.get(m);var c,p={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in m){var b;Object.prototype.hasOwnProperty.call(m,c)&&((b=g?Object.getOwnPropertyDescriptor(m,c):null)&&(b.get||b.set)?Object.defineProperty(p,c,b):p[c]=m[c])}return p.default=m,s&&s.set(m,p),p})(t("../core/constants"));function _(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,_=function(){return m},m)}i.default.prototype.movedX=0,i.default.prototype.movedY=0,i.default.prototype._hasMouseInteracted=!1,i.default.prototype.mouseX=0,i.default.prototype.mouseY=0,i.default.prototype.pmouseX=0,i.default.prototype.pmouseY=0,i.default.prototype.winMouseX=0,i.default.prototype.winMouseY=0,i.default.prototype.pwinMouseX=0,i.default.prototype.pwinMouseY=0,i.default.prototype.mouseButton=0,i.default.prototype.mouseIsPressed=!1,i.default.prototype._updateNextMouseCoords=function(m){var s,c,p,g;this._curElement!==null&&(!m.touches||0<m.touches.length)&&(s=this._curElement.elt,c=this.width,p=this.height,(m=m)&&!m.clientX&&(m.touches?m=m.touches[0]:m.changedTouches&&(m=m.changedTouches[0])),g=s.getBoundingClientRect(),c=s.scrollWidth/c||1,s=s.scrollHeight/p||1,p={x:(m.clientX-g.left)/c,y:(m.clientY-g.top)/s,winX:m.clientX,winY:m.clientY,id:m.identifier},this._setProperty("mouseX",p.x),this._setProperty("mouseY",p.y),this._setProperty("winMouseX",p.winX),this._setProperty("winMouseY",p.winY),c=this.mouseX-this.pmouseX,g=this.mouseY-this.pmouseY,this._setProperty("movedX",c),this._setProperty("movedY",g)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},i.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},i.default.prototype._setMouseButton=function(m){m.button===1?this._setProperty("mouseButton",h.CENTER):m.button===2?this._setProperty("mouseButton",h.RIGHT):this._setProperty("mouseButton",h.LEFT)},i.default.prototype._onmousemove=function(m){var s=this._isGlobal?window:this;this._updateNextMouseCoords(m),this.mouseIsPressed?typeof s.mouseDragged=="function"?s.mouseDragged(m)===!1&&m.preventDefault():typeof s.touchMoved=="function"&&s.touchMoved(m)===!1&&m.preventDefault():typeof s.mouseMoved=="function"&&s.mouseMoved(m)===!1&&m.preventDefault()},i.default.prototype._onmousedown=function(m){var s=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(m),this._updateNextMouseCoords(m),this.touchstart||(typeof s.mousePressed=="function"?s.mousePressed(m)===!1&&m.preventDefault():typeof s.touchStarted=="function"&&s.touchStarted(m)===!1&&m.preventDefault(),this.touchstart=!1)},i.default.prototype._onmouseup=function(m){var s=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||(typeof s.mouseReleased=="function"?s.mouseReleased(m)===!1&&m.preventDefault():typeof s.touchEnded=="function"&&s.touchEnded(m)===!1&&m.preventDefault(),this.touchend=!1)},i.default.prototype._ondragend=i.default.prototype._onmouseup,i.default.prototype._ondragover=i.default.prototype._onmousemove,i.default.prototype._onclick=function(m){var s=this._isGlobal?window:this;typeof s.mouseClicked=="function"&&s.mouseClicked(m)===!1&&m.preventDefault()},i.default.prototype._ondblclick=function(m){var s=this._isGlobal?window:this;typeof s.doubleClicked=="function"&&s.doubleClicked(m)===!1&&m.preventDefault()},i.default.prototype._mouseWheelDeltaY=0,i.default.prototype._pmouseWheelDeltaY=0,i.default.prototype._onwheel=function(m){var s=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",m.deltaY),typeof s.mouseWheel=="function"&&(m.delta=m.deltaY,s.mouseWheel(m)===!1&&m.preventDefault())},i.default.prototype.requestPointerLock=function(){var m=this._curElement.elt;return m.requestPointerLock=m.requestPointerLock||m.mozRequestPointerLock,m.requestPointerLock?(m.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},i.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=i.default,u.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(t,f,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(o){if(this._curElement!==null){for(var l=[],i=0;i<o.touches.length;i++)l[i]=(function(b,g,y,s){var c=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,p=b.getBoundingClientRect(),g=b.scrollWidth/g||1,b=b.scrollHeight/y||1,y=s.touches[c]||s.changedTouches[c];return{x:(y.clientX-p.left)/g,y:(y.clientY-p.top)/b,winX:y.clientX,winY:y.clientY,id:y.identifier}})(this._curElement.elt,this.width,this.height,o,i);this._setProperty("touches",l)}},t.default.prototype._ontouchstart=function(o){var l=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(o),this._updateNextMouseCoords(o),this._updateMouseCoords(),typeof l.touchStarted=="function"&&(l.touchStarted(o)===!1&&o.preventDefault(),this.touchstart=!0)},t.default.prototype._ontouchmove=function(o){var l=this._isGlobal?window:this;this._updateTouchCoords(o),this._updateNextMouseCoords(o),typeof l.touchMoved=="function"?l.touchMoved(o)===!1&&o.preventDefault():typeof l.mouseDragged=="function"&&l.mouseDragged(o)===!1&&o.preventDefault()},t.default.prototype._ontouchend=function(o){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(o),this._updateNextMouseCoords(o);var l=this._isGlobal?window:this;typeof l.touchEnded=="function"&&(l.touchEnded(o)===!1&&o.preventDefault(),this.touchend=!0)},t=t.default,u.default=t},{"../core/main":283}],304:[function(t,f,u){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o,l,i,h,_={_toPixels:function(m){var s,c;return m instanceof ImageData?m.data:m.getContext("2d")?m.getContext("2d").getImageData(0,0,m.width,m.height).data:m.getContext("webgl")?(c=(s=m.getContext("webgl")).drawingBufferWidth*s.drawingBufferHeight*4,c=new Uint8Array(c),s.readPixels(0,0,m.width,m.height,s.RGBA,s.UNSIGNED_BYTE,c),c):void 0},_getARGB:function(m,s){return s*=4,m[3+s]<<24&4278190080|m[s]<<16&16711680|m[1+s]<<8&65280|255&m[2+s]},_setPixels:function(m,s){for(var c,p=0,g=m.length;p<g;p++)m[0+(c=4*p)]=(16711680&s[p])>>>16,m[1+c]=(65280&s[p])>>>8,m[2+c]=255&s[p],m[3+c]=(4278190080&s[p])>>>24},_toImageData:function(m){return m instanceof ImageData?m:m.getContext("2d").getImageData(0,0,m.width,m.height)},_createImageData:function(m,s){return _._tmpCanvas=document.createElement("canvas"),_._tmpCtx=_._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(m,s)},apply:function(m,b,c){var p=m.getContext("2d"),g=p.getImageData(0,0,m.width,m.height),b=b(g,c);b instanceof ImageData?p.putImageData(b,0,0,0,0,m.width,m.height):p.putImageData(g,0,0,0,0,m.width,m.height)},threshold:function(m){for(var s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:.5,c=_._toPixels(m),p=Math.floor(255*s),g=0;g<c.length;g+=4){var b=void 0,b=p<=.2126*c[g]+.7152*c[g+1]+.0722*c[g+2]?255:0;c[g]=c[g+1]=c[g+2]=b}},gray:function(m){for(var s=_._toPixels(m),c=0;c<s.length;c+=4){var p=s[c],g=s[c+1],b=s[c+2];s[c]=s[c+1]=s[c+2]=.2126*p+.7152*g+.0722*b}},opaque:function(m){for(var s=_._toPixels(m),c=0;c<s.length;c+=4)s[c+3]=255;return s},invert:function(m){for(var s=_._toPixels(m),c=0;c<s.length;c+=4)s[c]=255-s[c],s[c+1]=255-s[c+1],s[c+2]=255-s[c+2]},posterize:function(m){var s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:4,c=_._toPixels(m);if(s<2||255<s)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var p=s-1,g=0;g<c.length;g+=4){var b=c[g],y=c[g+1],v=c[g+2];c[g]=255*(b*s>>8)/p,c[g+1]=255*(y*s>>8)/p,c[g+2]=255*(v*s>>8)/p}},dilate:function(m){for(var s,c,p,g,b,y,v,j,x,E=_._toPixels(m),P=0,O=E.length?E.length/4:0,M=new Int32Array(O);P<O;)for(c=(s=P)+m.width;P<c;)g=p=_._getARGB(E,P),(x=P-1)<s&&(x=P),c<=(j=P+1)&&(j=P),(b=P-m.width)<0&&(b=0),O<=(y=P+m.width)&&(y=P),b=_._getARGB(E,b),x=_._getARGB(E,x),y=_._getARGB(E,y),(g=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))<(v=77*(x>>16&255)+151*(x>>8&255)+28*(255&x))&&(p=x,g=v),g<(v=77*((x=_._getARGB(E,j))>>16&255)+151*(x>>8&255)+28*(255&x))&&(p=x,g=v),g<(j=77*(b>>16&255)+151*(b>>8&255)+28*(255&b))&&(p=b,g=j),g<(x=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))&&(p=y,g=x),M[P++]=p;_._setPixels(E,M)},erode:function(m){for(var s,c,p,g,b,y,v,j,x,E=_._toPixels(m),P=0,O=E.length?E.length/4:0,M=new Int32Array(O);P<O;)for(c=(s=P)+m.width;P<c;)g=p=_._getARGB(E,P),(x=P-1)<s&&(x=P),c<=(j=P+1)&&(j=P),(b=P-m.width)<0&&(b=0),O<=(y=P+m.width)&&(y=P),b=_._getARGB(E,b),x=_._getARGB(E,x),y=_._getARGB(E,y),(v=77*(x>>16&255)+151*(x>>8&255)+28*(255&x))<(g=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))&&(p=x,g=v),(v=77*((x=_._getARGB(E,j))>>16&255)+151*(x>>8&255)+28*(255&x))<g&&(p=x,g=v),(j=77*(b>>16&255)+151*(b>>8&255)+28*(255&b))<g&&(p=b,g=j),(x=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))<g&&(p=y,g=x),M[P++]=p;_._setPixels(E,M)},blur:function(m,s){for(var c,p,g,b,y,v,j,x,E,P,O=_._toPixels(m),M=m.width,D=m.height,U=M*D,I=new Int32Array(U),B=0;B<U;B++)I[B]=_._getARGB(O,B);var R,G,z,q,Y,$,X,ee,K=new Int32Array(U),ne=new Int32Array(U),T=new Int32Array(U),F=new Int32Array(U),W=0,J=3.5*s|0;if(o!==(J=J<1?1:J<248?J:248)){l=1+(o=J)<<1,i=new Int32Array(l),h=new Array(l);for(var oe=0;oe<l;oe++)h[oe]=new Int32Array(256);for(var se=1,fe=J-1;se<J;se++){i[J+se]=i[fe]=$=fe*fe,X=h[J+se],ee=h[fe--];for(var ve=0;ve<256;ve++)X[ve]=ee[ve]=$*ve}Y=i[J]=J*J,X=h[J];for(var de=0;de<256;de++)X[de]=Y*de}for(G=0;G<D;G++){for(R=0;R<M;R++){if(b=g=p=y=c=0,(v=R-o)<0)P=-v,v=0;else{if(M<=v)break;P=0}for(z=P;z<l&&!(M<=v);z++){var be=I[v+W];q=h[z],y+=q[(-16777216&be)>>>24],p+=q[(16711680&be)>>16],g+=q[(65280&be)>>8],b+=q[255&be],c+=i[z],v++}K[j=W+R]=y/c,ne[j]=p/c,T[j]=g/c,F[j]=b/c}W+=M}for(E=(x=-o)*M,G=W=0;G<D;G++){for(R=0;R<M;R++){if(b=g=p=y=c=0,x<0)P=j=-x,v=R;else{if(D<=x)break;P=0,j=x,v=R+E}for(z=P;z<l&&!(D<=j);z++)q=h[z],y+=q[K[v]],p+=q[ne[v]],g+=q[T[v]],b+=q[F[v]],c+=i[z],j++,v+=M;I[R+W]=y/c<<24|p/c<<16|g/c<<8|b/c}W+=M,E+=M,x++}_._setPixels(O,I)}};u.default=_},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(t,f,u){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o=i(t("../core/main")),l=i(t("omggif"));function i(_){return _&&_.__esModule?_:{default:_}}function h(_){return(function(m){if(Array.isArray(m)){for(var s=0,c=new Array(m.length);s<m.length;s++)c[s]=m[s];return c}})(_)||(function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)})(_)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}o.default.prototype.createImage=function(_,m){return o.default._validateParameters("createImage",arguments),new o.default.Image(_,m)},o.default.prototype.saveCanvas=function(){for(var _,m,s,c,p,g,b=arguments.length,y=new Array(b),v=0;v<b;v++)y[v]=arguments[v];switch(o.default._validateParameters("saveCanvas",y),y[0]instanceof HTMLCanvasElement?(_=y[0],y.shift()):y[0]instanceof o.default.Element?(_=y[0].elt,y.shift()):y[0]instanceof o.default.Framebuffer?(c=y[0],(p=this.createGraphics(c.width,c.height)).pixelDensity(pixelDensity()),c.loadPixels(),p.loadPixels(),p.pixels.set(c.pixels),p.updatePixels(),_=p.elt,y.shift()):_=this._curElement&&this._curElement.elt,1<=y.length&&(m=y[0]),s=(s=2<=y.length?y[1]:s)||o.default.prototype._checkFileExtension(m,s)[1]||"png"){default:g="image/png";break;case"webp":g="image/webp";break;case"jpeg":case"jpg":g="image/jpeg"}_.toBlob(function(j){o.default.prototype.downloadFile(j,m,s),p&&p.remove()},g)},o.default.prototype.encodeAndDownloadGif=function(_,m){for(var s=_.gifProperties,c=s.loopLimit,p=(c===1?c=null:c===null&&(c=0),new Uint8Array(_.width*_.height*s.numFrames)),g=[],b={},y=0;y<s.numFrames;y++){for(var v=new Set,j=s.frames[y].image.data,x=j.length,E=new Uint32Array(_.width*_.height),P=0,O=0;P<x;P+=4,O++){var M=j[P+0]<<16|j[P+1]<<8|j[P+2]<<0;v.add(M),E[O]=M}var D=h(v).sort().toString();b[D]===void 0?b[D]={freq:1,frames:[y]}:(b[D].freq+=1,b[D].frames.push(y)),g.push(E)}for(var B=[],U=Object.keys(b).sort(function(T,F){return b[F].freq-b[T].freq}),I=U[0].split(",").map(function(T){return parseInt(T)}),B=B.concat(b[I].frames),R=new Set(I),G=1;G<U.length;G++){var z=U[G].split(",").map(function(T){return parseInt(T)}).filter(function(T){return!R.has(T)});if(I.length+z.length<=256){for(var q=0;q<z.length;q++)I.push(z[q]),R.add(z[q]);B=B.concat(b[U[G]].frames)}}B=new Set(B);for(var Y={},$=0;$<I.length;$++)Y[I[$]]||(Y[I[$]]=$);for(var X=1;X<I.length;)X<<=1;I.length=X;for(var c={loop:c,palette:new Uint32Array(I)},ee=new l.default.GifWriter(p,_.width,_.height,c),K={},ne=0;ne<s.numFrames;ne++)(function(F){var W=!B.has(F),J=W?[]:I,oe=new Uint8Array(_.width*_.height),se={},fe=new Set,ve=(g[F].forEach(function(ye,_e){W?(se[ye]===void 0&&(se[ye]=J.length,J.push(ye)),oe[_e]=se[ye]):oe[_e]=Y[ye],0<F&&g[F-1][_e]!==ye&&fe.add(ye)}),{}),de=J.filter(function(ye){return!fe.has(ye)});if(0<de.length){var de=de[0],be=(W?se:Y)[de];if(0<F){for(var pe=0;pe<g[F].length;pe++)g[F-1][pe]===g[F][pe]&&(oe[pe]=be);ve.transparent=be,K.frameOpts.disposal=1}}if(ve.delay=s.frames[F].delay/10,W){for(var ie=1;ie<J.length;)ie<<=1;J.length=ie,ve.palette=new Uint32Array(J)}0<F&&ee.addFrame(0,0,_.width,_.height,K.pixelPaletteIndex,K.frameOpts),K={pixelPaletteIndex:oe,frameOpts:ve}})(ne);K.frameOpts.disposal=1,ee.addFrame(0,0,_.width,_.height,K.pixelPaletteIndex,K.frameOpts),c=new Blob([p.slice(0,ee.end())],{type:"image/gif"}),o.default.prototype.downloadFile(c,m,"gif")},o.default.prototype.saveFrames=function(_,m,s,g,p){o.default._validateParameters("saveFrames",arguments),s=o.default.prototype.constrain(s=s||3,0,15),s*=1e3;var g=o.default.prototype.constrain(g||15,0,22),b=0,y=o.default.prototype._makeFrame,v=this._curElement.elt,j=[],x=setInterval(function(){j.push(y(_+b,m,v)),b++},1e3/g);setTimeout(function(){if(clearInterval(x),p)p(j);else for(var E=0,P=j;E<P.length;E++){var O=P[E];o.default.prototype.downloadFile(O.imageData,O.filename,O.ext)}j=[]},.01+s)},o.default.prototype._makeFrame=function(_,m,p){var c,p=this?this._curElement.elt:p;if(m)switch(m.toLowerCase()){case"png":c="image/png";break;case"jpeg":case"jpg":c="image/jpeg";break;default:c="image/png"}else m="png",c="image/png";var p=(p=p.toDataURL(c)).replace(c,"image/octet-stream"),g={};return g.imageData=p,g.filename=_,g.ext=m,g},t=o.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(t,f,u){function o(v){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(v)}function l(v){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(j){return o(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":o(j)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t("regenerator-runtime/runtime");var i=p(t("../core/main")),h=p(t("../core/helpers")),_=(function(v){if(v&&v.__esModule)return v;if(v===null||l(v)!=="object"&&typeof v!="function")return{default:v};var j=c();if(j&&j.has(v))return j.get(v);var x,E={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in v){var O;Object.prototype.hasOwnProperty.call(v,x)&&((O=P?Object.getOwnPropertyDescriptor(v,x):null)&&(O.get||O.set)?Object.defineProperty(E,x,O):E[x]=v[x])}return E.default=v,j&&j.set(v,E),E})(t("../core/constants")),m=p(t("omggif")),s=t("gifenc");function c(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,c=function(){return v},v)}function p(v){return v&&v.__esModule?v:{default:v}}function g(v,j,x,E,P,O,M){try{var D=v[O](M),U=D.value}catch(I){return void x(I)}D.done?j(U):Promise.resolve(U).then(E,P)}function b(v,j,x,E,P,O,M,D,U,I,B){var R,G,z,q,Y,$,X,ee,K;return v===_.COVER&&(R=j,z=x,X=O,ee=M,$=D,K=U,G=I,q=B,Y=Math.max(X/G,ee/q),X/=Y,ee/=Y,Y=$,$=K,R===_.CENTER?Y+=(G-X)/2:R===_.RIGHT&&(Y+=G-X),z===_.CENTER?$+=(q-ee)/2:z===_.BOTTOM&&($+=q-ee),D=(K={x:Y,y:$,w:X,h:ee}).x,U=K.y,I=K.w,B=K.h),v===_.CONTAIN&&(R=j,G=x,z=E,q=P,Y=O,$=M,X=I,ee=B,K=Math.max(X/Y,ee/$),X/=K,ee/=K,K=z,z=q,R===_.CENTER?K+=(Y-X)/2:R===_.RIGHT&&(K+=Y-X),G===_.CENTER?z+=($-ee)/2:G===_.BOTTOM&&(z+=$-ee),E=(v={x:K,y:z,w:X,h:ee}).x,P=v.y,O=v.w,M=v.h),{sx:D,sy:U,sw:I,sh:B,dx:E,dy:P,dw:O,dh:M}}function y(v,j){return 0<v&&v<j?v:j}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),i.default.prototype.loadImage=function(v,j,x){i.default._validateParameters("loadImage",arguments);var E=new i.default.Image(1,1,this),P=this,O=new Request(v,{method:"GET",mode:"cors"});return fetch(v,O).then(function(M){var D,U=M.headers.get("content-type");U===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),U&&U.includes("image/gif")?M.arrayBuffer().then(function(I){if(I){for(var I=new Uint8Array(I),B=E,R=j,G=x,z=(function(W){P._decrementPreload()}).bind(P),q=new m.default.GifReader(I),Y=(B.width=B.canvas.width=q.width,B.height=B.canvas.height=q.height,[]),$=q.numFrames(),X=new Uint8ClampedArray(B.width*B.height*4),ee=0;ee<$;ee++){var K=q.frameInfo(ee),ne=B.drawingContext.getImageData(0,0,B.width,B.height),T=(X=ne.data.slice(),(function(W,J){try{J.decodeAndBlitFrameRGBA(W,X)}catch(oe){i.default._friendlyFileLoadError(8,B.src),typeof G=="function"?G(oe):console.error(oe)}})(ee,q),new ImageData(X,B.width,B.height)),T=(B.drawingContext.putImageData(T,0,0),K.delay);T===0&&(T=10),Y.push({image:B.drawingContext.getImageData(0,0,B.width,B.height),delay:10*T}),K.disposal===2?B.drawingContext.clearRect(K.x,K.y,K.width,K.height):K.disposal===3&&B.drawingContext.putImageData(ne,0,0,K.x,K.y,K.width,K.height)}(I=q.loopCount())===null?I=1:I===0&&(I=null),B.drawingContext.putImageData(Y[0].image,0,0),1<Y.length&&(B.gifProperties={displayIndex:0,loopLimit:I,loopCount:0,frames:Y,numFrames:$,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof R=="function"&&R(B),z()}},function(I){typeof x=="function"?(x(I),P._decrementPreload()):console.error(I)}):((D=new Image).onload=function(){E.width=E.canvas.width=D.width,E.height=E.canvas.height=D.height,E.drawingContext.drawImage(D,0,0),E.modified=!0,typeof j=="function"&&j(E),P._decrementPreload()},D.onerror=function(I){i.default._friendlyFileLoadError(0,D.src),typeof x=="function"?(x(I),P._decrementPreload()):console.error(I)},v.indexOf("data:image/")!==0&&(D.crossOrigin="Anonymous"),D.src=v),E.modified=!0}).catch(function(M){i.default._friendlyFileLoadError(0,v),typeof x=="function"?(x(M),P._decrementPreload()):console.error(M)}),E},i.default.prototype.saveGif=(function(){v=regeneratorRuntime.mark(function x(E,P){var O,M,D,U,I,B,R,G,z,q,Y,$,X,ee,K,ne,T,F,W,J,oe,se,fe,ve,de,be,pe=arguments;return regeneratorRuntime.wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(O=2<pe.length&&pe[2]!==void 0?pe[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof E!="string")throw TypeError("fileName parameter must be a string");ie.next=3;break;case 3:if(typeof P!="number")throw TypeError("Duration parameter must be a number");ie.next=5;break;case 5:if(M=O&&O.delay||0,D=O&&O.units||"seconds",U=O&&O.silent||!1,I=O&&O.notificationDuration||0,B=O&&O.notificationID||"progressBar",typeof M!="number")throw TypeError("Delay parameter must be a number");ie.next=12;break;case 12:if(D!=="seconds"&&D!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');ie.next=14;break;case 14:if(typeof U!="boolean")throw TypeError("Silent parameter must be a boolean");ie.next=16;break;case 16:if(typeof I!="number")throw TypeError("Notification duration parameter must be a number");ie.next=18;break;case 18:if(typeof B!="string")throw TypeError("Notification ID parameter must be a string");ie.next=20;break;case 20:return this._recording=!0,q=this._targetFrameRate,R=(R=1/(q=q!==1/0&&q!==void 0&&q!==0?q:60)*1e3)<20?20:R,z=(G=D==="seconds"?P*q:P)+(q=D==="seconds"?M*q:M),q=q,this.frameCount=q,Y=this._pixelDensity,this.pixelDensity(1),$=[],document.getElementById(B)!==null&&document.getElementById(B).remove(),U||((X=this.createP("")).id(B),X.style("font-size","16px"),X.style("font-family","Montserrat"),X.style("background-color","#ffffffa0"),X.style("padding","8px"),X.style("border-radius","10px"),X.position(0,0)),this._renderer instanceof i.default.RendererGL&&(K=this.drawingContext,ee=new Uint8Array(K.drawingBufferWidth*K.drawingBufferHeight*4)),this.noLoop(),ie.next=39,Promise.resolve();case 39:if(q<z)return this.redraw(),ve=void 0,ve=this._renderer instanceof i.default.RendererGL?(ee=new Uint8Array(K.drawingBufferWidth*K.drawingBufferHeight*4),K.readPixels(0,0,K.drawingBufferWidth,K.drawingBufferHeight,K.RGBA,K.UNSIGNED_BYTE,ee),(function(ye,_e,Te){for(var Ee=parseInt(Te/2),Se=4*_e,Oe=new Uint8Array(4*_e),Xe=0;Xe<Ee;++Xe){var Ne=Xe*Se,yt=(Te-Xe-1)*Se;Oe.set(ye.subarray(Ne,Ne+Se)),ye.copyWithin(Ne,yt,yt+Se),ye.set(Oe,yt)}return ye})(ee,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,$.push(ve),q++,U||X.html("Saved frame <b>"+$.length.toString()+"</b> out of "+G.toString()),ie.next=48,new Promise(function(ye){return setTimeout(ye,0)});ie.next=50;break;case 48:ie.next=39;break;case 50:U||X.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(Y),ne=(0,s.GIFEncoder)(),T=(function(ye){for(var _e=new Uint8Array(ye.length*ye[0].length),Te=0;Te<ye.length;Te++)_e.set(ye[Te],Te*ye[0].length);var Ee=(0,s.quantize)(_e,256,{format:"rgba4444",oneBitAlpha:!0});return Ee.length===256?Ee[Ee.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:Ee.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),Ee})($),F={},W=function(ye){for(var _e=ye.length/4,Te=new Uint8Array(_e),Ee=0;Ee<_e;Ee++){var Se=ye[4*Ee]<<24|ye[4*Ee+1]<<16|ye[4*Ee+2]<<8|ye[4*Ee+3];F[Se]===void 0&&(F[Se]=(0,s.nearestColorIndex)(T,ye.slice(4*Ee,4*(Ee+1)))),Te[Ee]=F[Se]}return Te},J=T.length-1,oe=[],se=0;case 60:if(!(se<$.length)){ie.next=71;break}if(fe=W($[se]),ve=fe.slice(),se===0)ne.writeFrame(fe,this.width,this.height,{palette:T,delay:R,dispose:1});else{for(de=0;de<fe.length;de++)fe[de]===oe[de]&&(fe[de]=J);ne.writeFrame(fe,this.width,this.height,{delay:R,transparent:!0,transparentIndex:J,dispose:1})}return oe=ve,U||X.html("Rendered frame <b>"+se.toString()+"</b> out of "+G.toString()),ie.next=68,new Promise(function(ye){return setTimeout(ye,0)});case 68:se++,ie.next=60;break;case 71:ne.finish(),be=ne.bytesView(),be=new Blob([be],{type:"image/gif"}),$=[],this._recording=!1,this.loop(),U||(X.html("Done. Downloading your gif!"),0<I&&setTimeout(function(){return X.remove()},1e3*I)),i.default.prototype.downloadFile(be,E,"gif");case 80:case"end":return ie.stop()}},x,this)});var v,j=function(){var x=this,E=arguments;return new Promise(function(P,O){var M=v.apply(x,E);function D(I){g(M,P,O,D,U,"next",I)}function U(I){g(M,P,O,D,U,"throw",I)}D(void 0)})};return function(x,E){return j.apply(this,arguments)}})(),i.default.prototype.image=function(v,j,x,E,q,Y,$,X,K,I,B,R){i.default._validateParameters("image",arguments);var ee=v.width,G=v.height,z=(R=R||_.CENTER,B=B||_.CENTER,v.elt&&(ee=ee!==void 0?ee:v.elt.width,G=G!==void 0?G:v.elt.height),v.elt&&v.elt.videoWidth&&!v.canvas&&(ee=ee!==void 0?ee:v.elt.videoWidth,G=G!==void 0?G:v.elt.videoHeight),E||ee),q=q||G,Y=Y||0,$=$||0,X=y(X!==void 0?X:ee,ee),ee=y(K!==void 0?K:G,G),K=1;v.elt&&!v.canvas&&v.elt.style.width&&(K=v.elt.videoWidth&&!E?v.elt.videoWidth:v.elt.width,K/=parseInt(v.elt.style.width,10)),Y*=K,$*=K,ee*=K,X*=K,G=b(I,B,R,(G=h.default.modeAdjust(j,x,z,q,this._renderer._imageMode)).x,G.y,G.w,G.h,Y,$,X,ee),this._renderer.image(v,G.sx,G.sy,G.sw,G.sh,G.dx,G.dy,G.dw,G.dh)},i.default.prototype.tint=function(){for(var v=arguments.length,j=new Array(v),x=0;x<v;x++)j[x]=arguments[x];i.default._validateParameters("tint",j);var E=this.color.apply(this,j);this._renderer._tint=E.levels},i.default.prototype.noTint=function(){this._renderer._tint=null},i.default.prototype._getTintedImageCanvas=i.default.Renderer2D.prototype._getTintedImageCanvas,i.default.prototype.imageMode=function(v){i.default._validateParameters("imageMode",arguments),v!==_.CORNER&&v!==_.CORNERS&&v!==_.CENTER||(this._renderer._imageMode=v)},t=i.default,u.default=t},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(t,f,u){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o=i(t("../core/main")),l=i(t("./filters"));function i(_){return _&&_.__esModule?_:{default:_}}function h(_,m){for(var s=0;s<m.length;s++){var c=m[s];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(_,c.key,c)}}o.default.Image=(function(){function _(c,p){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");this.width=c,this.height=p,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var m,s;return m=_,(s=[{key:"pixelDensity",value:function(c){return c!==void 0?(c<=0&&(o.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),c=1),this._pixelDensity=c,this.width/=c,this.height/=c,this):this._pixelDensity}},{key:"_animateGif",value:function(b){var p,g=this.gifProperties,b=b._lastRealFrameTime||window.performance.now();g.lastChangeTime===0&&(g.lastChangeTime=b),g.playing&&(g.timeDisplayed=b-g.lastChangeTime,p=g.frames[g.displayIndex].delay,g.timeDisplayed>=p&&(p=Math.floor(g.timeDisplayed/p),g.timeDisplayed=0,g.lastChangeTime=b,g.displayIndex+=p,g.loopCount=Math.floor(g.displayIndex/g.numFrames),g.loopLimit!==null&&g.loopCount>=g.loopLimit?g.playing=!1:(b=g.displayIndex%g.numFrames,this.drawingContext.putImageData(g.frames[b].image,0,0),g.displayIndex=b,this.setModified(!0))))}},{key:"_setProperty",value:function(c,p){this[c]=p,this.setModified(!0)}},{key:"loadPixels",value:function(){o.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(c,p,g,b){o.default.Renderer2D.prototype.updatePixels.call(this,c,p,g,b),this.setModified(!0)}},{key:"get",value:function(c,p,g,b){return o.default._validateParameters("p5.Image.get",arguments),o.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var c=arguments.length,p=new Array(c),g=0;g<c;g++)p[g]=arguments[g];return o.default.Renderer2D.prototype._getPixel.apply(this,p)}},{key:"set",value:function(c,p,g){o.default.Renderer2D.prototype.set.call(this,c,p,g),this.setModified(!0)}},{key:"resize",value:function(c,p){c===0&&p===0?(c=this.canvas.width,p=this.canvas.height):c===0?c=this.canvas.width*p/this.canvas.height:p===0&&(p=this.canvas.height*c/this.canvas.width),c=Math.floor(c),p=Math.floor(p);var g=document.createElement("canvas");if(g.width=c,g.height=p,this.gifProperties)for(var b=this.gifProperties,y=0;y<b.numFrames;y++){for(var v=this.drawingContext.createImageData(c,p),j=(M=M=O=P=E=void 0,b.frames[y].image),x=v,E=0,P=0;P<x.height;P++)for(var O=0;O<x.width;O++){var M=Math.floor(O*j.width/x.width),M=4*(Math.floor(P*j.height/x.height)*j.width+M);x.data[E++]=j.data[M++],x.data[E++]=j.data[M++],x.data[E++]=j.data[M++],x.data[E++]=j.data[+M]}b.frames[y].image=v}g.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,g.width,g.height),this.canvas.width=this.width=c,this.canvas.height=this.height=p,this.drawingContext.drawImage(g,0,0,c,p,0,0,c,p),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var c=arguments.length,p=new Array(c),g=0;g<c;g++)p[g]=arguments[g];o.default.prototype.copy.apply(this,p)}},{key:"mask",value:function(c){var p=this.drawingContext.globalCompositeOperation,g=this._pixelDensity,b=1,y=[c=c===void 0?this:c,0,0,(b=c instanceof o.default.Renderer?c._pInst._pixelDensity:b)*c.width,b*c.height,0,0,g*this.width,g*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var v=0;v<this.gifProperties.frames.length;v++)this.drawingContext.putImageData(this.gifProperties.frames[v].image,0,0),this.copy.apply(this,y),this.gifProperties.frames[v].image=this.drawingContext.getImageData(0,0,g*this.width,g*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,y);this.drawingContext.globalCompositeOperation=p,this.setModified(!0)}},{key:"filter",value:function(c,p){l.default.apply(this.canvas,l.default[c],p),this.setModified(!0)}},{key:"blend",value:function(){for(var c=arguments.length,p=new Array(c),g=0;g<c;g++)p[g]=arguments[g];o.default._validateParameters("p5.Image.blend",arguments),o.default.prototype.blend.apply(this,p),this.setModified(!0)}},{key:"setModified",value:function(c){this._modified=c}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(c,p){this.gifProperties?o.default.prototype.encodeAndDownloadGif(this,c):o.default.prototype.saveCanvas(this.canvas,c,p)}},{key:"reset",value:function(){var c;this.gifProperties&&((c=this.gifProperties).playing=!0,c.timeSinceStart=0,c.timeDisplayed=0,c.lastChangeTime=0,c.loopCount=0,c.displayIndex=0,this.drawingContext.putImageData(c.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var c;if(this.gifProperties)return(c=this.gifProperties).displayIndex%c.numFrames}},{key:"setFrame",value:function(c){var p;this.gifProperties&&(c<(p=this.gifProperties).numFrames&&0<=c?(p.timeDisplayed=0,p.lastChangeTime=0,p.displayIndex=c,this.drawingContext.putImageData(p.frames[c].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(c,p){if(this.gifProperties){var g=this.gifProperties;if(p<g.numFrames&&0<=p)g.frames[p].delay=c;else{var b=!0,p=!1,y=void 0;try{for(var v,j=g.frames[Symbol.iterator]();!(b=(v=j.next()).done);b=!0)v.value.delay=c}catch(E){p=!0,y=E}finally{try{b||j.return==null||j.return()}finally{if(p)throw y}}}}}}])&&h(m.prototype,s),_})(),t=o.default.Image,u.default=t},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(t,f,u){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o=i(t("../core/main")),l=i(t("./filters"));function i(h){return h&&h.__esModule?h:{default:h}}t("../color/p5.Color"),o.default.prototype.pixels=[],o.default.prototype.blend=function(){for(var h,_=arguments.length,m=new Array(_),s=0;s<_;s++)m[s]=arguments[s];o.default._validateParameters("blend",m),this._renderer?(h=this._renderer).blend.apply(h,m):o.default.Renderer2D.prototype.blend.apply(this,m)},o.default.prototype.copy=function(){for(var h,_,m,s,c,p,g,b,y,v=arguments.length,j=new Array(v),x=0;x<v;x++)j[x]=arguments[x];if(o.default._validateParameters("copy",j),j.length===9)h=j[0],_=j[1],m=j[2],s=j[3],c=j[4],p=j[5],g=j[6],b=j[7],y=j[8];else{if(j.length!==8)throw new Error("Signature not supported");h=this,_=j[0],m=j[1],s=j[2],c=j[3],p=j[4],g=j[5],b=j[6],y=j[7]}o.default.prototype._copyHelper(this,h,_,m,s,c,p,g,b,y)},o.default.prototype._copyHelper=function(h,_,m,s,c,p,g,b,y,v){var j=_.canvas.width/_.width,x=0,E=0;_._renderer&&_._renderer.isP3D&&(x=_.width/2,E=_.height/2),h._renderer&&h._renderer.isP3D?(h.push(),h.resetMatrix(),h.noLights(),h.blendMode(h.BLEND),h.imageMode(h.CORNER),o.default.RendererGL.prototype.image.call(h._renderer,_,m+x,s+E,c,p,g,b,y,v),h.pop()):h.drawingContext.drawImage(_.canvas,j*(m+x),j*(s+E),j*c,j*p,g,b,y,v)},o.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},o.default.prototype.filter=function(){for(var h=arguments.length,_=new Array(h),m=0;m<h;m++)_[m]=arguments[m];o.default._validateParameters("filter",_);var g=(function(){var b,y={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof o.default.Shader?y.shader=arguments.length<=0?void 0:arguments[0]:(y.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(y.value=arguments.length<=1?void 0:arguments[1]),((b=arguments.length-1)<0||arguments.length<=b?void 0:arguments[b])===!1&&(y.useWebGL=!1)),y}).apply(void 0,_),s=g.shader,c=g.operation,p=g.value,g=g.useWebGL;this._renderer.isP3D&&s?o.default.RendererGL.prototype.filter.call(this._renderer,s):g||this._renderer.isP3D?(!g&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?o.default.RendererGL.prototype.filter.call(this._renderer,c,p):((s=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),s.filter.apply(s,_),this.copy(s._renderer,0,0,this.width,this.height,0,0,this.width,this.height),s.clear())):this.canvas!==void 0?l.default.apply(this.canvas,l.default[c],p):l.default.apply(this.elt,l.default[c],p)},o.default.prototype.get=function(h,_,m,s){var c;return o.default._validateParameters("get",arguments),(c=this._renderer).get.apply(c,arguments)},o.default.prototype.loadPixels=function(){for(var h=arguments.length,_=new Array(h),m=0;m<h;m++)_[m]=arguments[m];o.default._validateParameters("loadPixels",_),this._renderer.loadPixels()},o.default.prototype.set=function(h,_,m){this._renderer.set(h,_,m)},o.default.prototype.updatePixels=function(h,_,m,s){o.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(h,_,m,s)},t=o.default,u.default=t},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(t,f,u){function o(p){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var l=_(t("../core/main")),i=(t("whatwg-fetch"),t("es6-promise/auto"),_(t("fetch-jsonp"))),h=_(t("file-saver"));function _(p){return p&&p.__esModule?p:{default:p}}function m(p){return(m=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(g){return o(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":o(g)})(p)}function s(p){return p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function c(p,g){g&&g!==!0&&g!=="true"||(g="");var b="";return(p=p||"untitled")&&p.includes(".")&&(b=p.split(".").pop()),g&&b!==g&&(b=g,p="".concat(p,".").concat(b)),[p,b]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),l.default.prototype.loadJSON=function(){for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];l.default._validateParameters("loadJSON",g);for(var y,v,j,x=g[0],E={},P="json",O=1;O<g.length;O++){var M=g[O];typeof M=="string"?M!=="jsonp"&&M!=="json"||(P=M):typeof M=="function"?y?v=M:y=M:m(M)==="object"&&(M.hasOwnProperty("jsonpCallback")||M.hasOwnProperty("jsonpCallbackFunction"))&&(P="jsonp",j=M)}var D=this;return this.httpDo(x,"GET",j,P,function(U){for(var I in U)E[I]=U[I];y!==void 0&&y(U),D._decrementPreload()},function(U){if(l.default._friendlyFileLoadError(5,x),!v)throw U;v(U)}),E},l.default.prototype.loadStrings=function(){for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];l.default._validateParameters("loadStrings",g);for(var y,v,j=[],x=1;x<g.length;x++){var E=g[x];typeof E=="function"&&(y===void 0?y=E:v===void 0&&(v=E))}var P=this;return l.default.prototype.httpDo.call(this,g[0],"GET","text",function(O){for(var M=O.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),D=0,U=M.length;D<U;D+=32768)Array.prototype.push.apply(j,M.slice(D,Math.min(D+32768,U)));y!==void 0&&y(j),P._decrementPreload()},function(O){if(l.default._friendlyFileLoadError(3,O),!v)throw O;v(O)}),j},l.default.prototype.loadTable=function(p){var g,b,y,v=!1,j=p.substring(p.lastIndexOf(".")+1,p.length);j==="csv"?y=",":j==="ssv"?y=";":j==="tsv"&&(y="	");for(var x=1;x<arguments.length;x++)typeof arguments[x]=="function"?g===void 0?g=arguments[x]:b===void 0&&(b=arguments[x]):typeof arguments[x]=="string"&&(arguments[x]==="header"&&(v=!0),arguments[x]==="csv"?y=",":arguments[x]==="ssv"?y=";":arguments[x]==="tsv"&&(y="	"));var E=new l.default.Table,P=this;return this.httpDo(p,"GET","table",function(O){for(var M,D,U={},I=0,B=[],R=0,G=null,z=function(){U.currentState=I,U.token=""},q=function(){G.push(U.token),z()},Y=function(){U.currentState=4,B.push(G),G=null};;){if((M=O[R++])==null){if(U.escaped)throw new Error("Unclosed quote in file.");if(G){q(),Y();break}}if(G===null&&(U.escaped=!1,G=[],z()),U.currentState===I){if(M==='"'){U.escaped=!0,U.currentState=1;continue}U.currentState=1}if(U.currentState===1&&U.escaped)if(M==='"')O[R]==='"'?(U.token+='"',R++):(U.escaped=!1,U.currentState=2);else{if(M==="\r")continue;U.token+=M}else M==="\r"?(O[R]===`
`&&R++,q(),Y()):M===`
`?(q(),Y()):M===y?q():U.currentState===1&&(U.token+=M)}if(v)E.columns=B.shift();else for(var $=0;$<B[0].length;$++)E.columns[$]="null";for(var X=0;X<B.length;X++)(B[X].length!==1||B[X][0]!=="undefined"&&B[X][0]!=="")&&((D=new l.default.TableRow).arr=B[X],D.obj=(function(ee,K){if((K=K||[])===void 0)for(var ne=0;ne<ee.length;ne++)K[ne.toString()]=ne;return Object.fromEntries(K.map(function(T,F){return[T,ee[F]]}))})(B[X],E.columns),E.addRow(D));typeof g=="function"&&g(E),P._decrementPreload()},function(O){l.default._friendlyFileLoadError(2,p),b?b(O):console.error(O)}),E},l.default.prototype.loadXML=function(){for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];for(var y,v,j=new l.default.XML,x=1;x<g.length;x++){var E=g[x];typeof E=="function"&&(y===void 0?y=E:v===void 0&&(v=E))}var P=this;return this.httpDo(g[0],"GET","xml",function(O){for(var M in O)j[M]=O[M];y!==void 0&&y(j),P._decrementPreload()},function(O){if(l.default._friendlyFileLoadError(1,O),!v)throw O;v(O)}),j},l.default.prototype.loadBytes=function(p,g,b){var y={},v=this;return this.httpDo(p,"GET","arrayBuffer",function(j){y.bytes=new Uint8Array(j),typeof g=="function"&&g(y),v._decrementPreload()},function(j){if(l.default._friendlyFileLoadError(6,p),!b)throw j;b(j)}),y},l.default.prototype.httpGet=function(){for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return l.default._validateParameters("httpGet",g),g.splice(1,0,"GET"),l.default.prototype.httpDo.apply(this,g)},l.default.prototype.httpPost=function(){for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return l.default._validateParameters("httpPost",g),g.splice(1,0,"POST"),l.default.prototype.httpDo.apply(this,g)},l.default.prototype.httpDo=function(){for(var p,g,b,y={},v=0,j="text/plain",x=arguments.length-1;0<x&&typeof(x<0||arguments.length<=x?void 0:arguments[x])=="function";x--)v++;var E=arguments.length-v,P=arguments.length<=0?void 0:arguments[0];if(E==2&&typeof P=="string"&&m(arguments.length<=1?void 0:arguments[1])==="object")B=new Request(P,arguments.length<=1?void 0:arguments[1]),g=arguments.length<=2?void 0:arguments[2],b=arguments.length<=3?void 0:arguments[3];else{for(var O,M="GET",D=1;D<arguments.length;D++){var U=D<0||arguments.length<=D?void 0:arguments[D];if(typeof U=="string")U==="GET"||U==="POST"||U==="PUT"||U==="DELETE"?M=U:U==="json"||U==="jsonp"||U==="binary"||U==="arrayBuffer"||U==="xml"||U==="text"||U==="table"?p=U:O=U;else if(typeof U=="number")O=U.toString();else if(m(U)==="object")if(U.hasOwnProperty("jsonpCallback")||U.hasOwnProperty("jsonpCallbackFunction"))for(var I in U)y[I]=U[I];else j=U instanceof l.default.XML?(O=U.serialize(),"application/xml"):(O=JSON.stringify(U),"application/json");else typeof U=="function"&&(g?b=U:g=U)}var E=M==="GET"?new Headers:new Headers({"Content-Type":j}),B=new Request(P,{method:M,mode:"cors",body:O,headers:E})}return(E=(E=(p=p||(P.includes("json")?"json":P.includes("xml")?"xml":"text"))==="jsonp"?(0,i.default)(P,y):fetch(B)).then(function(R){if(!R.ok)throw(G=new Error(R.body)).status=R.status,G.ok=!1,G;var G=0;switch((G=p!=="jsonp"?R.headers.get("content-length"):G)&&64e6<G&&l.default._friendlyFileLoadError(7,P),p){case"json":case"jsonp":return R.json();case"binary":return R.blob();case"arrayBuffer":return R.arrayBuffer();case"xml":return R.text().then(function(z){return z=new DOMParser().parseFromString(z,"text/xml"),new l.default.XML(z.documentElement)});default:return R.text()}})).then(g||function(){}),E.catch(b||console.error),E},window.URL=window.URL||window.webkitURL,l.default.prototype._pWriters=[],l.default.prototype.createWriter=function(p,g){var b,y;for(y in l.default.prototype._pWriters)if(l.default.prototype._pWriters[y].name===p)return b=new l.default.PrintWriter(p+this.millis(),g),l.default.prototype._pWriters.push(b),b;return b=new l.default.PrintWriter(p,g),l.default.prototype._pWriters.push(b),b},l.default.PrintWriter=function(p,g){var b=this;this.name=p,this.content="",this.write=function(y){this.content+=y},this.print=function(y){this.content+="".concat(y,`
`)},this.clear=function(){this.content=""},this.close=function(){var y,v=[];for(y in v.push(this.content),l.default.prototype.writeFile(v,p,g),l.default.prototype._pWriters)l.default.prototype._pWriters[y].name===this.name&&l.default.prototype._pWriters.splice(y,1);b.clear(),b={}}},l.default.prototype.save=function(p,g,b){var y=arguments,v=(this._curElement||this).elt;if(y.length===0)l.default.prototype.saveCanvas(v);else if(y[0]instanceof l.default.Renderer||y[0]instanceof l.default.Graphics)l.default.prototype.saveCanvas(y[0].elt,y[1],y[2]);else if(y.length===1&&typeof y[0]=="string")l.default.prototype.saveCanvas(v,y[0]);else switch(c(y[1],y[2])[1]){case"json":return void l.default.prototype.saveJSON(y[0],y[1],y[2]);case"txt":return void l.default.prototype.saveStrings(y[0],y[1],y[2]);default:y[0]instanceof Array?l.default.prototype.saveStrings(y[0],y[1],y[2]):y[0]instanceof l.default.Table?l.default.prototype.saveTable(y[0],y[1],y[2]):y[0]instanceof l.default.Image?l.default.prototype.saveCanvas(y[0].canvas,y[1]):y[0]instanceof l.default.SoundFile&&l.default.prototype.saveSound(y[0],y[1],y[2],y[3])}},l.default.prototype.saveJSON=function(p,g,b){l.default._validateParameters("saveJSON",arguments),b=b?JSON.stringify(p):JSON.stringify(p,void 0,2),this.saveStrings(b.split(`
`),g,"json")},l.default.prototype.saveJSONObject=l.default.prototype.saveJSON,l.default.prototype.saveJSONArray=l.default.prototype.saveJSON,l.default.prototype.saveStrings=function(p,g,b,y){l.default._validateParameters("saveStrings",arguments);for(var v=this.createWriter(g,b||"txt"),j=0;j<p.length;j++)y?v.write(p[j]+`\r
`):v.write(p[j]+`
`);v.close(),v.clear()},l.default.prototype.saveTable=function(p,g,b){l.default._validateParameters("saveTable",arguments),y=b===void 0?g.substring(g.lastIndexOf(".")+1,g.length):b;var y,v=this.createWriter(g,y),j=p.columns,x=y==="tsv"?"	":",";if(y!=="html"){if(j[0]!=="0"){for(var E=0;E<j.length;E++)E<j.length-1?v.write(j[E]+x):v.write(j[E]);v.write(`
`)}for(var P=0;P<p.rows.length;P++){for(var O=void 0,O=0;O<p.rows[P].arr.length;O++)O<p.rows[P].arr.length-1?y==="csv"&&String(p.rows[P].arr[O]).includes(",")?v.write('"'+p.rows[P].arr[O]+'"'+x):v.write(p.rows[P].arr[O]+x):y==="csv"&&String(p.rows[P].arr[O]).includes(",")?v.write('"'+p.rows[P].arr[O]+'"'):v.write(p.rows[P].arr[O]);v.write(`
`)}}else{if(v.print("<html>"),v.print("<head>"),v.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),v.print("</head>"),v.print("<body>"),v.print("  <table>"),j[0]!=="0"){v.print("    <tr>");for(var M=0;M<j.length;M++){var D=s(j[M]);v.print("      <td>".concat(D)),v.print("      </td>")}v.print("    </tr>")}for(var U=0;U<p.rows.length;U++){v.print("    <tr>");for(var I=0;I<p.columns.length;I++){var B=s(p.rows[U].getString(I));v.print("      <td>".concat(B)),v.print("      </td>")}v.print("    </tr>")}v.print("  </table>"),v.print("</body>"),v.print("</html>")}v.close(),v.clear()},l.default.prototype.writeFile=function(v,g,b){var y="application/octet-stream",v=(l.default.prototype._isSafari()&&(y="text/plain"),new Blob(v,{type:y}));l.default.prototype.downloadFile(v,g,b)},l.default.prototype.downloadFile=function(p,v,j){var y,v=c(v,j),j=v[0];p instanceof Blob?h.default.saveAs(p,j):((y=document.createElement("a")).href=p,y.download=j,y.onclick=function(x){document.body.removeChild(x.target),x.stopPropagation()},y.style.display="none",document.body.appendChild(y),l.default.prototype._isSafari()&&(p=(p=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(v[1],'"'),alert(p)),y.click())},l.default.prototype._checkFileExtension=c,l.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},t=l.default,u.default=t},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(t,f,u){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(i,h){for(var _=0;_<h.length;_++){var m=h[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(i,m.key,m)}}o.default.Table=(function(){function i(){var m=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],s=this,c=i;if(!(s instanceof c))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=m}var h,_;return h=i,(_=[{key:"addRow",value:function(m){if(m=m||new o.default.TableRow,m.arr===void 0||m.obj===void 0)throw new Error("invalid TableRow: ".concat(m));return(m.table=this).rows.push(m),m}},{key:"removeRow",value:function(m){this.rows[m].table=null,m=this.rows.splice(m+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(m)}},{key:"getRow",value:function(m){return this.rows[m]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(m,s){if(typeof s=="string"){for(var c=0;c<this.rows.length;c++)if(this.rows[c].obj[s]===m)return this.rows[c]}else for(var p=0;p<this.rows.length;p++)if(this.rows[p].arr[s]===m)return this.rows[p];return null}},{key:"findRows",value:function(m,s){var c=[];if(typeof s=="string")for(var p=0;p<this.rows.length;p++)this.rows[p].obj[s]===m&&c.push(this.rows[p]);else for(var g=0;g<this.rows.length;g++)this.rows[g].arr[s]===m&&c.push(this.rows[g]);return c}},{key:"matchRow",value:function(m,s){if(typeof s=="number"){for(var c=0;c<this.rows.length;c++)if(this.rows[c].arr[s].match(m))return this.rows[c]}else for(var p=0;p<this.rows.length;p++)if(this.rows[p].obj[s].match(m))return this.rows[p];return null}},{key:"matchRows",value:function(m,s){var c=[];if(typeof s=="number")for(var p=0;p<this.rows.length;p++)this.rows[p].arr[s].match(m)&&c.push(this.rows[p]);else for(var g=0;g<this.rows.length;g++)this.rows[g].obj[s].match(m)&&c.push(this.rows[g]);return c}},{key:"getColumn",value:function(m){var s=[];if(typeof m=="string")for(var c=0;c<this.rows.length;c++)s.push(this.rows[c].obj[m]);else for(var p=0;p<this.rows.length;p++)s.push(this.rows[p].arr[m]);return s}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(m){this.columns.push(m||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(m,s){for(var c=[],p=0;p<m.length;p++)c.push(m.charAt(p).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var g=new RegExp(c.join("|"),"g");if(s===void 0)for(var b=0;b<this.columns.length;b++)for(var y=0;y<this.rows.length;y++){var v=(v=this.rows[y].arr[b]).replace(g,"");this.rows[y].arr[b]=v,this.rows[y].obj[this.columns[b]]=v}else if(typeof s=="string")for(var j=0;j<this.rows.length;j++){var x=(x=this.rows[j].obj[s]).replace(g,""),E=(this.rows[j].obj[s]=x,this.columns.indexOf(s));this.rows[j].arr[E]=x}else for(var P=0;P<this.rows.length;P++){var O=(O=this.rows[P].arr[s]).replace(g,"");this.rows[P].arr[s]=O,this.rows[P].obj[this.columns[s]]=O}}},{key:"trim",value:function(m){var s=new RegExp(" ","g");if(m===void 0)for(var c=0;c<this.columns.length;c++)for(var p=0;p<this.rows.length;p++){var g=(g=this.rows[p].arr[c]).replace(s,"");this.rows[p].arr[c]=g,this.rows[p].obj[this.columns[c]]=g}else if(typeof m=="string")for(var b=0;b<this.rows.length;b++){var y=(y=this.rows[b].obj[m]).replace(s,""),v=(this.rows[b].obj[m]=y,this.columns.indexOf(m));this.rows[b].arr[v]=y}else for(var j=0;j<this.rows.length;j++){var x=(x=this.rows[j].arr[m]).replace(s,"");this.rows[j].arr[m]=x,this.rows[j].obj[this.columns[m]]=x}}},{key:"removeColumn",value:function(p){typeof p=="string"?c=this.columns.indexOf(s=p):s=this.columns[c=p];var s,c,p=this.columns.splice(c+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(p);for(var g=0;g<this.rows.length;g++){var b=this.rows[g].arr,y=b.splice(c+1,b.length);b.pop(),this.rows[g].arr=b.concat(y),delete this.rows[g].obj[s]}}},{key:"set",value:function(m,s,c){this.rows[m].set(s,c)}},{key:"setNum",value:function(m,s,c){this.rows[m].setNum(s,c)}},{key:"setString",value:function(m,s,c){this.rows[m].setString(s,c)}},{key:"get",value:function(m,s){return this.rows[m].get(s)}},{key:"getNum",value:function(m,s){return this.rows[m].getNum(s)}},{key:"getString",value:function(m,s){return this.rows[m].getString(s)}},{key:"getObject",value:function(m){for(var s,c={},p=0;p<this.rows.length;p++)if(s=this.rows[p].obj,typeof m=="string"){if(!(0<=this.columns.indexOf(m)))throw new Error('This table has no column named "'.concat(m,'"'));c[s[m]]=s}else c[p]=this.rows[p].obj;return c}},{key:"getArray",value:function(){for(var m=[],s=0;s<this.rows.length;s++)m.push(this.rows[s].arr);return m}}])&&l(h.prototype,_),i})(),t=o.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(t,f,u){t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(l,i){for(var h=0;h<i.length;h++){var _=i[h];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,_.key,_)}}t.default.TableRow=(function(){function l(_,m){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");var s=[];_&&(s=_.split(m=m||",")),this.arr=s,this.obj=Object.fromEntries(s.entries()),this.table=null}var i,h;return i=l,(h=[{key:"set",value:function(_,m){if(typeof _=="string"){var s=this.table.columns.indexOf(_);if(!(0<=s))throw new Error('This table has no column named "'.concat(_,'"'));this.obj[_]=m,this.arr[s]=m}else{if(!(_<this.table.columns.length))throw new Error("Column #".concat(_," is out of the range of this table"));this.arr[_]=m,s=this.table.columns[_],this.obj[s]=m}}},{key:"setNum",value:function(_,m){m=parseFloat(m),this.set(_,m)}},{key:"setString",value:function(_,m){m=m.toString(),this.set(_,m)}},{key:"get",value:function(_){return(typeof _=="string"?this.obj:this.arr)[_]}},{key:"getNum",value:function(_){var m=parseFloat(typeof _=="string"?this.obj[_]:this.arr[_]);if(m.toString()==="NaN")throw"Error: ".concat(this.obj[_]," is NaN (Not a Number)");return m}},{key:"getString",value:function(_){return(typeof _=="string"?this.obj:this.arr)[_].toString()}}])&&o(i.prototype,h),l})(),t=t.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(t,f,u){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(h,_){for(var m=0;m<_.length;m++){var s=_[m];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(h,s.key,s)}}function i(h){for(var _=[],m=0;m<h.length;m++)_.push(new o.default.XML(h[m]));return _}o.default.XML=(function(){function h(s){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");s?this.DOM=s:(s=document.implementation.createDocument(null,"doc"),this.DOM=s.createElement("root"))}var _,m;return _=h,(m=[{key:"getParent",value:function(){return new o.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(s){var c=this.DOM.innerHTML,p=this.DOM.attributes,g=document.implementation.createDocument(null,"default").createElement(s);g.innerHTML=c;for(var b=0;b<p.length;b++)g.setAttribute(p[b].nodeName,p[b].nodeValue);this.DOM=g}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var s=[],c=0;c<this.DOM.childNodes.length;c++)s.push(this.DOM.childNodes[c].nodeName);return s}},{key:"getChildren",value:function(s){return i(s?this.DOM.getElementsByTagName(s):this.DOM.children)}},{key:"getChild",value:function(s){if(typeof s!="string")return new o.default.XML(this.DOM.children[s]);var c=!0,p=!1,g=void 0;try{for(var b,y=this.DOM.children[Symbol.iterator]();!(c=(b=y.next()).done);c=!0){var v=b.value;if(v.tagName===s)return new o.default.XML(v)}}catch(j){p=!0,g=j}finally{try{c||y.return==null||y.return()}finally{if(p)throw g}}}},{key:"addChild",value:function(s){s instanceof o.default.XML&&this.DOM.appendChild(s.DOM)}},{key:"removeChild",value:function(s){var c=-1;if(typeof s=="string"){for(var p=0;p<this.DOM.children.length;p++)if(this.DOM.children[p].tagName===s){c=p;break}}else c=s;c!==-1&&this.DOM.removeChild(this.DOM.children[c])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var s=[],c=!0,p=!1,g=void 0;try{for(var b,y=this.DOM.attributes[Symbol.iterator]();!(c=(b=y.next()).done);c=!0){var v=b.value;s.push(v.nodeName)}}catch(j){p=!0,g=j}finally{try{c||y.return==null||y.return()}finally{if(p)throw g}}return s}},{key:"hasAttribute",value:function(s){var c={},p=!0,g=!1,b=void 0;try{for(var y,v=this.DOM.attributes[Symbol.iterator]();!(p=(y=v.next()).done);p=!0){var j=y.value;c[j.nodeName]=j.nodeValue}}catch(x){g=!0,b=x}finally{try{p||v.return==null||v.return()}finally{if(g)throw b}}return!!c[s]}},{key:"getNum",value:function(s,c){var p={},g=!0,b=!1,y=void 0;try{for(var v,j=this.DOM.attributes[Symbol.iterator]();!(g=(v=j.next()).done);g=!0){var x=v.value;p[x.nodeName]=x.nodeValue}}catch(E){b=!0,y=E}finally{try{g||j.return==null||j.return()}finally{if(b)throw y}}return Number(p[s])||c||0}},{key:"getString",value:function(s,c){var p={},g=!0,b=!1,y=void 0;try{for(var v,j=this.DOM.attributes[Symbol.iterator]();!(g=(v=j.next()).done);g=!0){var x=v.value;p[x.nodeName]=x.nodeValue}}catch(E){b=!0,y=E}finally{try{g||j.return==null||j.return()}finally{if(b)throw y}}return p[s]?String(p[s]):c||null}},{key:"setAttribute",value:function(s,c){this.DOM.setAttribute(s,c)}},{key:"getContent",value:function(s){var c=this.DOM.textContent;return(c=c.replace(/\s\s+/g,","))||s||null}},{key:"setContent",value:function(s){this.DOM.children.length||(this.DOM.textContent=s)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&l(_.prototype,m),h})(),t=o.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(t,f,u){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(i){return(function(h){if(Array.isArray(h)){for(var _=0,m=new Array(h.length);_<h.length;_++)m[_]=h[_];return m}})(i)||(function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)})(i)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}o.default.prototype.abs=Math.abs,o.default.prototype.ceil=Math.ceil,o.default.prototype.constrain=function(i,h,_){return o.default._validateParameters("constrain",arguments),Math.max(Math.min(i,_),h)},o.default.prototype.dist=function(){for(var i=arguments.length,h=new Array(i),_=0;_<i;_++)h[_]=arguments[_];return o.default._validateParameters("dist",h),h.length===4?Math.hypot(h[2]-h[0],h[3]-h[1]):h.length===6?Math.hypot(h[3]-h[0],h[4]-h[1],h[5]-h[2]):void 0},o.default.prototype.exp=Math.exp,o.default.prototype.floor=Math.floor,o.default.prototype.lerp=function(i,h,_){return o.default._validateParameters("lerp",arguments),_*(h-i)+i},o.default.prototype.log=Math.log,o.default.prototype.mag=function(i,h){return o.default._validateParameters("mag",arguments),Math.hypot(i,h)},o.default.prototype.map=function(i,h,_,m,s,c){return o.default._validateParameters("map",arguments),i=(i-h)/(_-h)*(s-m)+m,c?m<s?this.constrain(i,m,s):this.constrain(i,s,m):i},o.default.prototype.max=function(){for(var i=function(s){return Math.max.apply(Math,l(s))},h=arguments.length,_=new Array(h),m=0;m<h;m++)_[m]=arguments[m];return Array.isArray(_[0])?i(_[0]):i(_)},o.default.prototype.min=function(){for(var i=function(s){return Math.min.apply(Math,l(s))},h=arguments.length,_=new Array(h),m=0;m<h;m++)_[m]=arguments[m];return Array.isArray(_[0])?i(_[0]):i(_)},o.default.prototype.norm=function(i,h,_){return o.default._validateParameters("norm",arguments),this.map(i,h,_,0,1)},o.default.prototype.pow=Math.pow,o.default.prototype.round=function(i,h){return h?(h=Math.pow(10,h),Math.round(i*h)/h):Math.round(i)},o.default.prototype.sq=function(i){return i*i},o.default.prototype.sqrt=Math.sqrt,o.default.prototype.fract=function(m){o.default._validateParameters("fract",arguments);var h,_=0,m=Number(m);return isNaN(m)||Math.abs(m)===1/0?m:(m<0&&(m=-m,_=1),String(m).includes(".")&&!String(m).includes("e")?(h=String(m),h=+("0"+h.slice(h.indexOf("."))),Math.abs(_-h)):m<1?Math.abs(_-m):0)},t=o.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(t,f,u){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(h,_,m){return(l=(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?Reflect.construct:function(s,c,p){var g=[null];return g.push.apply(g,c),c=new(Function.bind.apply(s,g)),p&&i(c,p.prototype),c}).apply(null,arguments)}function i(h,_){return(i=Object.setPrototypeOf||function(m,s){return m.__proto__=s,m})(h,_)}o.default.prototype.createVector=function(h,_,m){return this instanceof o.default?l(o.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new o.default.Vector(h,_,m)},t=o.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(m,f,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,m=(m=m("../core/main"))&&m.__esModule?m:{default:m};function o(s){return .5*(1-Math.cos(s*Math.PI))}var l,i=4095,h=4,_=.5,m=(m.default.prototype.noise=function(s){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(l==null){l=new Array(4096);for(var g=0;g<4096;g++)l[g]=Math.random()}s<0&&(s=-s),c<0&&(c=-c),p<0&&(p=-p);for(var b,y,v=Math.floor(s),j=Math.floor(c),x=Math.floor(p),E=s-v,P=c-j,O=p-x,M=0,D=.5,U=0;U<h;U++){var I=v+(j<<4)+(x<<8),B=o(E),R=o(P),G=l[I&i];G+=B*(l[I+1&i]-G),b=l[I+16&i],G+=R*((b+=B*(l[I+16+1&i]-b))-G),b=l[(I+=256)&i],b+=B*(l[I+1&i]-b),y=l[I+16&i],b+=R*((y+=B*(l[I+16+1&i]-y))-b),M+=(G+=o(O)*(b-G))*D,D*=_,v<<=1,j<<=1,x<<=1,1<=(E*=2)&&(v++,E--),1<=(P*=2)&&(j++,P--),1<=(O*=2)&&(x++,O--)}return M},m.default.prototype.noiseDetail=function(s,c){0<s&&(h=s),0<c&&(_=c)},m.default.prototype.noiseSeed=function(s){g=4294967296;var c,p,g,b={setSeed:function(v){p=c=(v??Math.random()*g)>>>0},getSeed:function(){return c},rand:function(){return(p=(1664525*p+1013904223)%g)/g}};b.setSeed(s),l=new Array(4096);for(var y=0;y<4096;y++)l[y]=b.rand()},m.default);u.default=m},{"../core/main":283}],316:[function(t,f,u){function o(c){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(c)}function l(c){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(p){return o(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":o(p)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var i=(s=t("../core/main"))&&s.__esModule?s:{default:s},h=(function(c){if(c&&c.__esModule)return c;if(c===null||l(c)!=="object"&&typeof c!="function")return{default:c};var p=_();if(p&&p.has(c))return p.get(c);var g,b={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in c){var v;Object.prototype.hasOwnProperty.call(c,g)&&((v=y?Object.getOwnPropertyDescriptor(c,g):null)&&(v.get||v.set)?Object.defineProperty(b,g,v):b[g]=c[g])}return b.default=c,p&&p.set(c,b),b})(t("../core/constants"));function _(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,_=function(){return c},c)}function m(c,p){for(var g=0;g<p.length;g++){var b=p[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(c,b.key,b)}}i.default.Vector=(function(){function c(){var x=this,y=c;if(!(x instanceof y))throw new TypeError("Cannot call a class as a function");var v,j,x=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],v=(arguments.length<=2?void 0:arguments[2])||0,j=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(v=(arguments.length<=0?void 0:arguments[0])||0,j=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=v,this.y=j,this.z=x}var p,g,b;return p=c,b=[{key:"fromAngle",value:function(y){var v=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;return new i.default.Vector(v*Math.cos(y),v*Math.sin(y),0)}},{key:"fromAngles",value:function(O,E){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,x=Math.cos(E),E=Math.sin(E),P=Math.cos(O),O=Math.sin(O);return new i.default.Vector(j*O*E,-j*P,j*O*x)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*h.TWO_PI)}},{key:"random3D",value:function(){var y=Math.random()*h.TWO_PI,v=2*Math.random()-1,x=Math.sqrt(1-v*v),j=x*Math.cos(y),x=x*Math.sin(y);return new i.default.Vector(j,x,v)}},{key:"copy",value:function(y){return y.copy(y)}},{key:"add",value:function(){for(var y=arguments.length,v=new Array(y),j=0;j<y;j++)v[j]=arguments[j];var x=v[0],E=v[1],P=v[2];return P?P.set(x):(P=x.copy(),v.length===3&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),P.add(E),P}},{key:"rem",value:function(y,v){if(y instanceof i.default.Vector&&v instanceof i.default.Vector)return(y=y.copy()).rem(v),y}},{key:"sub",value:function(){for(var y=arguments.length,v=new Array(y),j=0;j<y;j++)v[j]=arguments[j];var x=v[0],E=v[1],P=v[2];return P?P.set(x):(P=x.copy(),v.length===3&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),P.sub(E),P}},{key:"mult",value:function(){for(var y=arguments.length,v=new Array(y),j=0;j<y;j++)v[j]=arguments[j];var x=v[0],E=v[1],P=v[2];return P?P.set(x):(P=x.copy(),v.length===3&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),P.mult(E),P}},{key:"rotate",value:function(){for(var y=arguments.length,v=new Array(y),j=0;j<y;j++)v[j]=arguments[j];var x=v[0],E=v[1],P=v[2];return v.length===2?P=x.copy():(P instanceof i.default.Vector||i.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),P.set(x)),P.rotate(E),P}},{key:"div",value:function(){for(var y=arguments.length,v=new Array(y),j=0;j<y;j++)v[j]=arguments[j];var x=v[0],E=v[1],P=v[2];return P?P.set(x):(P=x.copy(),v.length===3&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),P.div(E),P}},{key:"dot",value:function(y,v){return y.dot(v)}},{key:"cross",value:function(y,v){return y.cross(v)}},{key:"dist",value:function(y,v){return y.dist(v)}},{key:"lerp",value:function(){for(var y=arguments.length,v=new Array(y),j=0;j<y;j++)v[j]=arguments[j];var x=v[0],E=v[1],P=v[2],O=v[3];return O?O.set(x):(O=x.copy(),v.length===4&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),O.lerp(E,P),O}},{key:"slerp",value:function(){for(var y=arguments.length,v=new Array(y),j=0;j<y;j++)v[j]=arguments[j];var x=v[0],E=v[1],P=v[2],O=v[3];return O?O.set(x):(O=x.copy(),v.length===4&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),O.slerp(E,P),O}},{key:"mag",value:function(y){return y.mag()}},{key:"magSq",value:function(y){return y.magSq()}},{key:"normalize",value:function(){for(var y=arguments.length,v=new Array(y),j=0;j<y;j++)v[j]=arguments[j];var x=v[0],E=v[1];return v.length<2?E=x.copy():(E instanceof i.default.Vector||i.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),E.set(x)),E.normalize()}},{key:"limit",value:function(){for(var y=arguments.length,v=new Array(y),j=0;j<y;j++)v[j]=arguments[j];var x=v[0],E=v[1],P=v[2];return v.length<3?P=x.copy():(P instanceof i.default.Vector||i.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),P.set(x)),P.limit(E)}},{key:"setMag",value:function(){for(var y=arguments.length,v=new Array(y),j=0;j<y;j++)v[j]=arguments[j];var x=v[0],E=v[1],P=v[2];return v.length<3?P=x.copy():(P instanceof i.default.Vector||i.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),P.set(x)),P.setMag(E)}},{key:"heading",value:function(y){return y.heading()}},{key:"angleBetween",value:function(y,v){return y.angleBetween(v)}},{key:"reflect",value:function(){for(var y=arguments.length,v=new Array(y),j=0;j<y;j++)v[j]=arguments[j];var x=v[0],E=v[1],P=v[2];return v.length<3?P=x.copy():(P instanceof i.default.Vector||i.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),P.set(x)),P.reflect(E)}},{key:"array",value:function(y){return y.array()}},{key:"equals",value:function(y,v){var j;return y instanceof i.default.Vector?j=y:Array.isArray(y)?j=new i.default.Vector().set(y):i.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),j.equals(v)}}],(g=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(y,v,j){return y instanceof i.default.Vector?(this.x=y.x||0,this.y=y.y||0,this.z=y.z||0):Array.isArray(y)?(this.x=y[0]||0,this.y=y[1]||0,this.z=y[2]||0):(this.x=y||0,this.y=v||0,this.z=j||0),this}},{key:"copy",value:function(){return this.isPInst?new i.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new i.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(y,v,j){return y instanceof i.default.Vector?(this.x+=y.x||0,this.y+=y.y||0,this.z+=y.z||0):Array.isArray(y)?(this.x+=y[0]||0,this.y+=y[1]||0,this.z+=y[2]||0):(this.x+=y||0,this.y+=v||0,this.z+=j||0),this}},{key:"calculateRemainder2D",value:function(y,v){return y!==0&&(this.x=this.x%y),v!==0&&(this.y=this.y%v),this}},{key:"calculateRemainder3D",value:function(y,v,j){return y!==0&&(this.x=this.x%y),v!==0&&(this.y=this.y%v),j!==0&&(this.z=this.z%j),this}},{key:"rem",value:function(){for(var y=arguments.length,v=new Array(y),j=0;j<y;j++)v[j]=arguments[j];var x,E,P,O=v[0],M=v[1],D=v[2];if(O instanceof i.default.Vector){if([O.x,O.y,O.z].every(Number.isFinite))return x=parseFloat(O.x),E=parseFloat(O.y),P=parseFloat(O.z),this.calculateRemainder3D(x,E,P)}else if(Array.isArray(O)){if(O.every(Number.isFinite))return O.length===2?this.calculateRemainder2D(O[0],O[1]):O.length===3?this.calculateRemainder3D(O[0],O[1],O[2]):void 0}else if(v.length===1){if(Number.isFinite(O)&&O!==0)return this.x=this.x%O,this.y=this.y%O,this.z=this.z%O,this}else if(v.length===2){if(v.every(Number.isFinite))return this.calculateRemainder2D(O,M)}else if(v.length===3&&v.every(Number.isFinite))return this.calculateRemainder3D(O,M,D)}},{key:"sub",value:function(y,v,j){return y instanceof i.default.Vector?(this.x-=y.x||0,this.y-=y.y||0,this.z-=y.z||0):Array.isArray(y)?(this.x-=y[0]||0,this.y-=y[1]||0,this.z-=y[2]||0):(this.x-=y||0,this.y-=v||0,this.z-=j||0),this}},{key:"mult",value:function(){for(var y=arguments.length,v=new Array(y),j=0;j<y;j++)v[j]=arguments[j];var x,E=v[0],P=v[1],O=v[2];return E instanceof i.default.Vector?Number.isFinite(E.x)&&Number.isFinite(E.y)&&Number.isFinite(E.z)&&typeof E.x=="number"&&typeof E.y=="number"&&typeof E.z=="number"?(this.x*=E.x,this.y*=E.y,this.z*=E.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(E)?E.every(function(M){return Number.isFinite(M)})&&E.every(function(M){return typeof M=="number"})?E.length===1?(this.x*=E[0],this.y*=E[0],this.z*=E[0]):E.length===2?(this.x*=E[0],this.y*=E[1]):E.length===3&&(this.x*=E[0],this.y*=E[1],this.z*=E[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(x=v).every(function(M){return Number.isFinite(M)})&&x.every(function(M){return typeof M=="number"})?(v.length===1&&(this.x*=E,this.y*=E,this.z*=E),v.length===2&&(this.x*=E,this.y*=P),v.length===3&&(this.x*=E,this.y*=P,this.z*=O)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var y=arguments.length,v=new Array(y),j=0;j<y;j++)v[j]=arguments[j];var x=v[0],E=v[1],P=v[2];if(x instanceof i.default.Vector)if(Number.isFinite(x.x)&&Number.isFinite(x.y)&&Number.isFinite(x.z)&&typeof x.x=="number"&&typeof x.y=="number"&&typeof x.z=="number"){var O=x.z===0&&this.z===0;if(x.x===0||x.y===0||!O&&x.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=x.x,this.y/=x.y,O||(this.z/=x.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(x))if(x.every(Number.isFinite)&&x.every(function(M){return typeof M=="number"})){if(x.some(function(M){return M===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;x.length===1?(this.x/=x[0],this.y/=x[0],this.z/=x[0]):x.length===2?(this.x/=x[0],this.y/=x[1]):x.length===3&&(this.x/=x[0],this.y/=x[1],this.z/=x[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(v.every(Number.isFinite)&&v.every(function(M){return typeof M=="number"})){if(v.some(function(M){return M===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;v.length===1&&(this.x/=x,this.y/=x,this.z/=x),v.length===2&&(this.x/=x,this.y/=E),v.length===3&&(this.x/=x,this.y/=E,this.z/=P)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var y=this.x,v=this.y,j=this.z;return y*y+v*v+j*j}},{key:"dot",value:function(y,v,j){return y instanceof i.default.Vector?this.dot(y.x,y.y,y.z):this.x*(y||0)+this.y*(v||0)+this.z*(j||0)}},{key:"cross",value:function(x){var v=this.y*x.z-this.z*x.y,j=this.z*x.x-this.x*x.z,x=this.x*x.y-this.y*x.x;return this.isPInst?new i.default.Vector(this._fromRadians,this._toRadians,v,j,x):new i.default.Vector(v,j,x)}},{key:"dist",value:function(y){return y.copy().sub(this).mag()}},{key:"normalize",value:function(){var y=this.mag();return y!==0&&this.mult(1/y),this}},{key:"limit",value:function(y){var v=this.magSq();return y*y<v&&this.div(Math.sqrt(v)).mult(y),this}},{key:"setMag",value:function(y){return this.normalize().mult(y)}},{key:"heading",value:function(){var y=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(y):y}},{key:"setHeading",value:function(y){this.isPInst&&(y=this._toRadians(y));var v=this.mag();return this.x=v*Math.cos(y),this.y=v*Math.sin(y),this}},{key:"rotate",value:function(v){var v=this.heading()+v,j=(this.isPInst&&(v=this._toRadians(v)),this.mag());return this.x=Math.cos(v)*j,this.y=Math.sin(v)*j,this}},{key:"angleBetween",value:function(y){var v;return this.magSq()*y.magSq()==0?NaN:(v=this.cross(y),y=Math.atan2(v.mag(),this.dot(y))*Math.sign(v.z||1),this.isPInst?this._fromRadians(y):y)}},{key:"lerp",value:function(y,v,j,x){return y instanceof i.default.Vector?this.lerp(y.x,y.y,y.z,v):(this.x+=(y-this.x)*x||0,this.y+=(v-this.y)*x||0,this.z+=(j-this.z)*x||0,this)}},{key:"slerp",value:function(y,v){if(v!==0){if(v===1)return this.set(y);var j=this.mag(),x=y.mag();if(j*x==0)this.mult(1-v).add(y.x*v,y.y*v,y.z*v);else{var E=this.cross(y),P=E.mag(),O=Math.atan2(P,this.dot(y));if(0<P)E.x/=P,E.y/=P,E.z/=P;else{if(O<.5*Math.PI)return this.mult(1-v).add(y.x*v,y.y*v,y.z*v),this;this.z===0&&y.z===0?E.set(0,0,1):this.x!==0?E.set(this.y,-this.x,0).normalize():E.set(1,0,0)}P=E.cross(this),y=1-v+v*x/j,E=y*Math.cos(v*O),x=y*Math.sin(v*O),this.x=this.x*E+P.x*x,this.y=this.y*E+P.y*x,this.z=this.z*E+P.z*x}}return this}},{key:"reflect",value:function(y){return y=i.default.Vector.normalize(y),this.sub(y.mult(2*this.dot(y)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(P,v,j){var x,E,P=P instanceof i.default.Vector?(x=P.x||0,E=P.y||0,P.z||0):Array.isArray(P)?(x=P[0]||0,E=P[1]||0,P[2]||0):(x=P||0,E=v||0,j||0);return this.x===x&&this.y===E&&this.z===P}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(y){return Math.abs(+(y||0))<=Number.EPSILON?0:y}}])&&m(p.prototype,g),b&&m(p,b),c})();var s=i.default.Vector;u.default=s},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(_,f,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o=(_=_("../core/main"))&&_.__esModule?_:{default:_},l="_lcg_random_state",i=4294967296,h=0,_=(o.default.prototype._lcg=function(m){return this[m]=(1664525*this[m]+1013904223)%i,this[m]/i},o.default.prototype._lcgSetSeed=function(m,s){this[m]=(s??Math.random()*i)>>>0},o.default.prototype.randomSeed=function(m){this._lcgSetSeed(l,m),this._gaussian_previous=!1},o.default.prototype.random=function(m,s){var c,p;return o.default._validateParameters("random",arguments),c=this[l]!=null?this._lcg(l):Math.random(),m===void 0?c:s===void 0?Array.isArray(m)?m[Math.floor(c*m.length)]:c*m:(s<m&&(p=m,m=s,s=p),c*(s-m)+m)},o.default.prototype.randomGaussian=function(m){var s,c,p,g,b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)s=h,this._gaussian_previous=!1;else{for(;1<=(g=(c=this.random(2)-1)*c+(p=this.random(2)-1)*p););s=c*(g=Math.sqrt(-2*Math.log(g)/g)),h=p*g,this._gaussian_previous=!0}return s*b+(m||0)},o.default);u.default=_},{"../core/main":283}],318:[function(t,f,u){function o(s){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(s)}function l(s){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(c){return o(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":o(c)})(s)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var i=(m=t("../core/main"))&&m.__esModule?m:{default:m},h=(function(s){if(s&&s.__esModule)return s;if(s===null||l(s)!=="object"&&typeof s!="function")return{default:s};var c=_();if(c&&c.has(s))return c.get(s);var p,g={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in s){var y;Object.prototype.hasOwnProperty.call(s,p)&&((y=b?Object.getOwnPropertyDescriptor(s,p):null)&&(y.get||y.set)?Object.defineProperty(g,p,y):g[p]=s[p])}return g.default=s,c&&c.set(s,g),g})(t("../core/constants"));function _(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,_=function(){return s},s)}i.default.prototype._angleMode=h.RADIANS,i.default.prototype.acos=function(s){return this._fromRadians(Math.acos(s))},i.default.prototype.asin=function(s){return this._fromRadians(Math.asin(s))},i.default.prototype.atan=function(s){return this._fromRadians(Math.atan(s))},i.default.prototype.atan2=function(s,c){return this._fromRadians(Math.atan2(s,c))},i.default.prototype.cos=function(s){return Math.cos(this._toRadians(s))},i.default.prototype.sin=function(s){return Math.sin(this._toRadians(s))},i.default.prototype.tan=function(s){return Math.tan(this._toRadians(s))},i.default.prototype.degrees=function(s){return s*h.RAD_TO_DEG},i.default.prototype.radians=function(s){return s*h.DEG_TO_RAD},i.default.prototype.angleMode=function(s){if(i.default._validateParameters("angleMode",arguments),s===void 0)return this._angleMode;s!==h.DEGREES&&s!==h.RADIANS||s!==this._angleMode&&(s===h.RADIANS?(this._setProperty("pRotationX",this.pRotationX*h.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*h.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*h.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*h.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*h.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*h.RAD_TO_DEG)),this._angleMode=s)},i.default.prototype._toRadians=function(s){return this._angleMode===h.DEGREES?s*h.DEG_TO_RAD:s},i.default.prototype._toDegrees=function(s){return this._angleMode===h.RADIANS?s*h.RAD_TO_DEG:s},i.default.prototype._fromRadians=function(s){return this._angleMode===h.DEGREES?s*h.RAD_TO_DEG:s},i.default.prototype._fromDegrees=function(s){return this._angleMode===h.RADIANS?s*h.DEG_TO_RAD:s};var m=i.default;u.default=m},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(t,f,u){t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};o.default.prototype.textAlign=function(l,i){var h;return o.default._validateParameters("textAlign",arguments),(h=this._renderer).textAlign.apply(h,arguments)},o.default.prototype.textLeading=function(l){var i;return o.default._validateParameters("textLeading",arguments),(i=this._renderer).textLeading.apply(i,arguments)},o.default.prototype.textSize=function(l){var i;return o.default._validateParameters("textSize",arguments),(i=this._renderer).textSize.apply(i,arguments)},o.default.prototype.textStyle=function(l){var i;return o.default._validateParameters("textStyle",arguments),(i=this._renderer).textStyle.apply(i,arguments)},o.default.prototype.textWidth=function(){for(var l=arguments.length,i=new Array(l),h=0;h<l;h++)i[h]=arguments[h];if(i[0]+="",o.default._validateParameters("textWidth",i),i[0].length===0)return 0;for(var _=i[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),m=[],s=0;s<_.length;s++)m.push(this._renderer.textWidth(_[s]));return Math.max.apply(Math,m)},o.default.prototype.textAscent=function(){for(var l=arguments.length,i=new Array(l),h=0;h<l;h++)i[h]=arguments[h];return o.default._validateParameters("textAscent",i),this._renderer.textAscent()},o.default.prototype.textDescent=function(){for(var l=arguments.length,i=new Array(l),h=0;h<l;h++)i[h]=arguments[h];return o.default._validateParameters("textDescent",i),this._renderer.textDescent()},o.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},o.default.prototype.textWrap=function(l){return o.default._validateParameters("textWrap",[l]),this._renderer.textWrap(l)},t=o.default,u.default=t},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(t,f,u){function o(p){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(p)}function l(p){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(g){return o(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":o(g)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var i=(c=t("../core/main"))&&c.__esModule?c:{default:c},h=s(t("../core/constants")),_=s(t("opentype.js"));function m(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,m=function(){return p},p)}function s(p){if(p&&p.__esModule)return p;if(p===null||l(p)!=="object"&&typeof p!="function")return{default:p};var g=m();if(g&&g.has(p))return g.get(p);var b,y,v={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in p)Object.prototype.hasOwnProperty.call(p,b)&&((y=j?Object.getOwnPropertyDescriptor(p,b):null)&&(y.get||y.set)?Object.defineProperty(v,b,y):v[b]=p[b]);return v.default=p,g&&g.set(p,v),v}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),i.default.prototype.loadFont=function(p,g,b){i.default._validateParameters("loadFont",arguments);var y=new i.default.Font(this),v=this;return _.load(p,function(E,P){if(E)return i.default._friendlyFileLoadError(4,p),b!==void 0?b(E):void console.error(E,p);y.font=P,g!==void 0&&g(y),v._decrementPreload();var E=p.split("\\").pop().split("/").pop(),P=E.lastIndexOf("."),O=P<1?null:E.slice(P+1);["ttf","otf","woff","woff2"].includes(O)&&(O=E.slice(0,P!==-1?P:0),(E=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(O,`;
src: url(`).concat(p,`);
}
`))),document.head.appendChild(E))}),y},i.default.prototype.text=function(p,g,b,y,v){var j;return i.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(j=this._renderer).text.apply(j,arguments):this},i.default.prototype.textFont=function(p,g){if(i.default._validateParameters("textFont",arguments),arguments.length){if(p)return this._renderer._setProperty("_textFont",p),g&&(this._renderer._setProperty("_textSize",g),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",g*h._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var c=i.default;u.default=c},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(t,f,u){function o(M){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(M)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var l=(l=t("../core/main"))&&l.__esModule?l:{default:l},i=(function(M){if(M&&M.__esModule)return M;if(M===null||_(M)!=="object"&&typeof M!="function")return{default:M};var D=h();if(D&&D.has(M))return D.get(M);var U,I={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(U in M){var R;Object.prototype.hasOwnProperty.call(M,U)&&((R=B?Object.getOwnPropertyDescriptor(M,U):null)&&(R.get||R.set)?Object.defineProperty(I,U,R):I[U]=M[U])}return I.default=M,D&&D.set(M,I),I})(t("../core/constants"));function h(){var M;return typeof WeakMap!="function"?null:(M=new WeakMap,h=function(){return M},M)}function _(M){return(_=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(D){return o(D)}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":o(D)})(M)}function m(M,D){for(var U=0;U<D.length;U++){var I=D[U];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,I.key,I)}}function s(M,D){var U=M.length;return M[D<0?D%U+U:D%U]}function c(M,D,U,I){var B,R,G;return I?(c.tmpPoint1===void 0&&(c.tmpPoint1=[],c.tmpPoint2=[]),R=c.tmpPoint1,G=c.tmpPoint2,R.x=D.x-M.x,R.y=D.y-M.y,G.x=U.x-D.x,G.y=U.y-D.y,B=R.x*G.x+R.y*G.y,R=Math.sqrt(R.x*R.x+R.y*R.y),G=Math.sqrt(G.x*G.x+G.y*G.y),Math.acos(B/(R*G))<I):(D[0]-M[0])*(U[1]-M[1])-(U[0]-M[0])*(D[1]-M[1])==0}function p(F,J,W,oe,se,R,G,z,q){var Y=1-q,X=Math.pow(Y,3),ee=Math.pow(Y,2),T=q*q,K=T*q,$=X*F+3*ee*q*W+3*Y*q*q*se+K*G,X=X*J+3*ee*q*oe+3*Y*q*q*R+K*z,ee=F+2*q*(W-F)+T*(se-2*W+F),K=J+2*q*(oe-J)+T*(R-2*oe+J),ne=W+2*q*(se-W)+T*(G-2*se+W),T=oe+2*q*(R-oe)+T*(z-2*R+oe),F=Y*F+q*W,W=Y*J+q*oe,J=Y*se+q*G,oe=Y*R+q*z,se=90-180*Math.atan2(ee-ne,K-T)/Math.PI;return(ne<ee||K<T)&&(se+=180),{x:$,y:X,m:{x:ee,y:K},n:{x:ne,y:T},start:{x:F,y:W},end:{x:J,y:oe},alpha:se}}function g(M,D,U,I,B,R,G,z,q){return q==null?P(M,D,U,I,B,R,G,z):p(M,D,U,I,B,R,G,z,(function(Y,$,X,ee,K,ne,T,F,W){if(!(W<0||P(Y,$,X,ee,K,ne,T,F)<W)){var J,oe=.5,se=1-oe;for(J=P(Y,$,X,ee,K,ne,T,F,se);.01<Math.abs(J-W);)J=P(Y,$,X,ee,K,ne,T,F,se+=(J<W?1:-1)*(oe/=2));return se}})(M,D,U,I,B,R,G,z,q))}function b(M,D,U){for(var I,B,R,G,z,q=0,Y=0,$=(M=(function(X,ee){function K(Ee,Se,Oe){var Xe,Ne;if(!Ee)return["C",Se.x,Se.y,Se.x,Se.y,Se.x,Se.y];switch(Ee[0]in{T:1,Q:1}||(Se.qx=Se.qy=null),Ee[0]){case"M":Se.X=Ee[1],Se.Y=Ee[2];break;case"A":Ee=["C"].concat(v.apply(0,[Se.x,Se.y].concat(Ee.slice(1))));break;case"S":Ne=Oe==="C"||Oe==="S"?(Xe=2*Se.x-Se.bx,2*Se.y-Se.by):(Xe=Se.x,Se.y),Ee=["C",Xe,Ne].concat(Ee.slice(1));break;case"T":Oe==="Q"||Oe==="T"?(Se.qx=2*Se.x-Se.qx,Se.qy=2*Se.y-Se.qy):(Se.qx=Se.x,Se.qy=Se.y),Ee=["C"].concat(E(Se.x,Se.y,Se.qx,Se.qy,Ee[1],Ee[2]));break;case"Q":Se.qx=Ee[1],Se.qy=Ee[2],Ee=["C"].concat(E(Se.x,Se.y,Ee[1],Ee[2],Ee[3],Ee[4]));break;case"L":Ee=["C"].concat(x(Se.x,Se.y,Ee[1],Ee[2]));break;case"H":Ee=["C"].concat(x(Se.x,Se.y,Ee[1],Se.y));break;case"V":Ee=["C"].concat(x(Se.x,Se.y,Se.x,Ee[1]));break;case"Z":Ee=["C"].concat(x(Se.x,Se.y,Se.X,Se.Y))}return Ee}function ne(Ee,Se){if(7<Ee[Se].length){Ee[Se].shift();for(var Oe=Ee[Se];Oe.length;)fe[Se]="A",J&&(ve[Se]="A"),Ee.splice(Se++,0,["C"].concat(Oe.splice(0,6)));Ee.splice(Se,1),F=Math.max(W.length,J&&J.length||0)}}function T(Ee,Se,Oe,Xe,Ne){Ee&&Se&&Ee[Ne][0]==="M"&&Se[Ne][0]!=="M"&&(Se.splice(Ne,0,["M",Xe.x,Xe.y]),Oe.bx=0,Oe.by=0,Oe.x=Ee[Ne][1],Oe.y=Ee[Ne][2],F=Math.max(W.length,J&&J.length||0))}var F,W=y(X),J=ee&&y(ee),oe={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},se={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},fe=[],ve=[],de="",be="";F=Math.max(W.length,J&&J.length||0);for(var pe=0;pe<F;pe++){(de=W[pe]?W[pe][0]:de)!=="C"&&(fe[pe]=de,pe&&(be=fe[pe-1])),W[pe]=K(W[pe],oe,be),fe[pe]!=="A"&&de==="C"&&(fe[pe]="C"),ne(W,pe),J&&((de=J[pe]?J[pe][0]:de)!=="C"&&(ve[pe]=de,pe&&(be=ve[pe-1])),J[pe]=K(J[pe],se,be),ve[pe]!=="A"&&de==="C"&&(ve[pe]="C"),ne(J,pe)),T(W,J,oe,se,pe),T(J,W,se,oe,pe);var ie=W[pe],ye=J&&J[pe],_e=ie.length,Te=J&&ye.length;oe.x=ie[_e-2],oe.y=ie[_e-1],oe.bx=parseFloat(ie[_e-4])||oe.x,oe.by=parseFloat(ie[_e-3])||oe.y,se.bx=J&&(parseFloat(ye[Te-4])||se.x),se.by=J&&(parseFloat(ye[Te-3])||se.y),se.x=J&&ye[Te-2],se.y=J&&ye[Te-1]}return J?[W,J]:W})(M)).length;Y<$;Y++){if((R=M[Y])[0]==="M")I=+R[1],B=+R[2];else{if(D<q+(G=g(I,B,R[1],R[2],R[3],R[4],R[5],R[6]))&&!U)return{x:(z=g(I,B,R[1],R[2],R[3],R[4],R[5],R[6],D-q)).x,y:z.y,alpha:z.alpha};q+=G,I=+R[5],B=+R[6]}R.shift()}return z=(z=U?q:p(I,B,R[0],R[1],R[2],R[3],R[4],R[5],1)).alpha?{x:z.x,y:z.y,alpha:z.alpha}:z}function y(M){var D=[],U=0,I=0,B=0,R=0,G=0;if(M){M[0][0]==="M"&&(B=U=+M[0][1],R=I=+M[0][2],G++,D[0]=["M",U,I]);for(var z,q,Y=M.length===3&&M[0][0]==="M"&&M[1][0].toUpperCase()==="R"&&M[2][0].toUpperCase()==="Z",$=G,X=M.length;$<X;$++){if(D.push(z=[]),(q=M[$])[0]!==q[0].toUpperCase())switch(z[0]=q[0].toUpperCase(),z[0]){case"A":z[1]=q[1],z[2]=q[2],z[3]=q[3],z[4]=q[4],z[5]=q[5],z[6]=+(q[6]+U),z[7]=+(q[7]+I);break;case"V":z[1]=+q[1]+I;break;case"H":z[1]=+q[1]+U;break;case"R":for(var ee,K=2,ne=(ee=[U,I].concat(q.slice(1))).length;K<ne;K++)ee[K]=+ee[K]+U,ee[++K]=+ee[K]+I;D.pop(),D=D.concat(j(ee,Y));break;case"M":B=+q[1]+U,R=+q[2]+I;break;default:for(var T=1,F=q.length;T<F;T++)z[T]=+q[T]+(T%2?U:I)}else if(q[0]==="R")ee=[U,I].concat(q.slice(1)),D.pop(),D=D.concat(j(ee,Y)),z=["R"].concat(q.slice(-2));else for(var W=0,J=q.length;W<J;W++)z[W]=q[W];switch(z[0]){case"Z":U=B,I=R;break;case"H":U=z[1];break;case"V":I=z[1];break;case"M":B=z[z.length-2],R=z[z.length-1];break;default:U=z[z.length-2],I=z[z.length-1]}}}return D}function v(M,D,U,I,J,fe,oe,z,q,Y){function $(Te,Ee,Se){return{x:Te*Math.cos(Se)-Ee*Math.sin(Se),y:Te*Math.sin(Se)+Ee*Math.cos(Se)}}var X,F=Math.PI,W=120*F/180,ee=F/180*(+J||0),K=[],ne=(Y?(pe=Y[0],X=Y[1],de=Y[2],be=Y[3]):(M=(se=$(M,D,-ee)).x,D=se.y,1<(ne=(T=(M-(z=(se=$(z,q,-ee)).x))/2)*T/(U*U)+(se=(D-(q=se.y))/2)*se/(I*I))&&(U*=ne=Math.sqrt(ne),I*=ne),ne=U*U,ve=I*I,de=(fe=(fe===oe?-1:1)*Math.sqrt(Math.abs((ne*ve-ne*se*se-ve*T*T)/(ne*se*se+ve*T*T))))*U*se/I+(M+z)/2,be=fe*-I*T/U+(D+q)/2,pe=Math.asin(((D-be)/I).toFixed(9)),X=Math.asin(((q-be)/I).toFixed(9)),(pe=M<de?F-pe:pe)<0&&(pe=2*F+pe),(X=z<de?F-X:X)<0&&(X=2*F+X),oe&&X<pe&&(pe-=2*F),!oe&&pe<X&&(X-=2*F)),X-pe),T=(Math.abs(ne)>W&&(ve=X,se=z,fe=q,X=pe+W*(oe&&pe<X?1:-1),K=v(z=de+U*Math.cos(X),q=be+I*Math.sin(X),U,I,J,0,oe,se,fe,[X,ve,de,be])),ne=X-pe,Math.cos(pe)),F=Math.sin(pe),W=Math.cos(X),J=Math.sin(X),oe=Math.tan(ne/4),se=4/3*U*oe,fe=4/3*I*oe,ve=[M,D],de=[M+se*F,D-fe*T],be=[z+se*J,q-fe*W],pe=[z,q];if(de[0]=2*ve[0]-de[0],de[1]=2*ve[1]-de[1],Y)return[de,be,pe].concat(K);for(var ie=[],ye=0,_e=(K=[de,be,pe].concat(K).join().split(",")).length;ye<_e;ye++)ie[ye]=ye%2?$(K[ye-1],K[ye],ee).y:$(K[ye],K[ye+1],ee).x;return ie}function j(M,D){for(var U=[],I=0,B=M.length;I<B-2*!D;I+=2){var R=[{x:+M[I-2],y:+M[I-1]},{x:+M[I],y:+M[I+1]},{x:+M[I+2],y:+M[I+3]},{x:+M[I+4],y:+M[I+5]}];D?I?B-4===I?R[3]={x:+M[0],y:+M[1]}:B-2===I&&(R[2]={x:+M[0],y:+M[1]},R[3]={x:+M[2],y:+M[3]}):R[0]={x:+M[B-2],y:+M[B-1]}:B-4===I?R[3]=R[2]:I||(R[0]={x:+M[I],y:+M[I+1]}),U.push(["C",(-R[0].x+6*R[1].x+R[2].x)/6,(-R[0].y+6*R[1].y+R[2].y)/6,(R[1].x+6*R[2].x-R[3].x)/6,(R[1].y+6*R[2].y-R[3].y)/6,R[2].x,R[2].y])}return U}function x(M,D,U,I){return[M,D,U,I,U,I]}function E(M,D,U,I,B,R){return[1/3*M+2/3*U,1/3*D+2/3*I,1/3*B+2/3*U,1/3*R+2/3*I,B,R]}function P(M,D,U,I,B,R,G,z,q){for(var Y=(q=1<(q=q??1)?1:q<0?0:q)/2,$=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],X=0,ee=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],K=0;K<12;K++){var T=Y*$[K]+Y,ne=O(T,M,U,B,G),T=O(T,D,I,R,z);X+=ee[K]*Math.sqrt(ne*ne+T*T)}return Y*X}function O(M,D,U,I,B){return M*(M*(-3*D+9*U-9*I+3*B)+6*D-12*U+6*I)-3*D+3*U}l.default.Font=(function(){function M(I){if(!(this instanceof M))throw new TypeError("Cannot call a class as a function");this.parent=I,this.cache={},this.font=void 0}var D,U;return D=M,(U=[{key:"textBounds",value:function(I){var B=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,Y=3<arguments.length?arguments[3]:void 0,G=4<arguments.length?arguments[4]:void 0,z=G&&G.renderer&&G.renderer._pInst||this.parent,q=z._renderer.drawingContext,Y=(q.textAlign||i.LEFT,q.textBaseline||i.BASELINE,Y||z._renderer._textSize);if(!se){for(var $=[],X=[],ee=[],K=(ee[0]=[],[]),ne=this._scale(Y),T=z._renderer.textLeading(),F=0,W=(this.font.forEachGlyph(I,B,R,Y,G,function(de,be,pe,ie){var ye=de.getMetrics();de.index===0?ee[F+=1]=[]:(ee[F].push(be+ye.xMin*ne),ee[F].push(be+ye.xMax*ne),K.push(pe+F*T+-ye.yMin*ne),K.push(pe+F*T+-ye.yMax*ne))}),0<ee[F].length&&($[F]=Math.min.apply(null,ee[F]),X[F]=Math.max.apply(null,ee[F])),0),J=0;J<=F;J++){$[J]=Math.min.apply(null,ee[J]),X[J]=Math.max.apply(null,ee[J]);var oe=X[J]-$[J];W<oe&&(W=oe)}var q=Math.min.apply(null,$),se={x:q,y:R=Math.min.apply(null,K),h:Math.max.apply(null,K)-R,w:W,advance:q-B},Y=this._handleAlignment(z._renderer,I,se.x,se.y,se.w+se.advance);se.x=Y.x,se.y=Y.y}return se}},{key:"textToPoints",value:function(I,B,R,G,z){var q,Y=B,$=[],X=this.parent,ee=I.split(/\r?\n|\r|\n/g);G=G||this.parent._renderer._textSize;for(var K,ne,T,F=0;F<ee.length;F++){var W=0;B=Y;for(var J=(J=ee[F]).replace("	","  "),oe=this._getGlyphs(J),se=0;se<oe.length;se++){if(ne=J,!((T=oe)[K=se].name&&T[K].name==="space"||ne.length===T.length&&ne[K]===" "))for(var fe=(function(pe){for(var ie,ye=[],_e=0;_e<pe.length;_e++)pe[_e].type==="M"&&(ie&&ye.push(ie),ie=[]),ie.push((function(Te){var Ee=[Te.type];return Te.type==="M"||Te.type==="L"?Ee.push(Te.x,Te.y):Te.type==="C"?Ee.push(Te.x1,Te.y1,Te.x2,Te.y2,Te.x,Te.y):Te.type==="Q"&&Ee.push(Te.x1,Te.y1,Te.x,Te.y),Ee})(pe[_e]));return ye.push(ie),ye})(oe[se].getPath(B,R,G).commands),ve=0;ve<fe.length;ve++)for(var de=(function(pe,ie){for(var ie=(function(Oe,Xe){if(_(Oe)!=="object")Oe=Xe;else for(var Ne in Xe)Oe[Ne]===void 0&&(Oe[Ne]=Xe[Ne]);return Oe})(ie,{sampleFactor:.1,simplifyThreshold:0}),ye=b(pe,0,1),_e=ye/(ye*ie.sampleFactor),Te=[],Ee=0;Ee<ye;Ee+=_e)Te.push(b(pe,Ee));return ie.simplifyThreshold&&(function(Se){for(var Oe=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,Xe=0,Ne=Se.length-1;3<Se.length&&0<=Ne;--Ne)c(s(Se,Ne-1),s(Se,Ne),s(Se,Ne+1),Oe)&&(Se.splice(Ne%Se.length,1),Xe++)})(Te,ie.simplifyThreshold),Te})(fe[ve],z),be=0;be<de.length;be++)de[be].x+=W,q=this._handleAlignment(X._renderer,J,de[be].x,de[be].y),de[be].x=q.x,de[be].y=q.y,$.push(de[be]);W+=oe[se].advanceWidth*this._scale(G)}R+=this.parent._renderer._textLeading}return $}},{key:"_getGlyphs",value:function(I){return this.font.stringToGlyphs(I)}},{key:"_getPath",value:function(I,q,R,G){var z=(G&&G.renderer&&G.renderer._pInst||this.parent)._renderer,q=this._handleAlignment(z,I,q,R);return this.font.getPath(I,q.x,q.y,z._textSize,G)}},{key:"_getPathData",value:function(I,B,R,G){var z=3;return typeof I=="string"&&2<arguments.length?I=this._getPath(I,B,R,G):_(B)==="object"&&(G=B),G&&typeof G.decimals=="number"&&(z=G.decimals),I.toPathData(z)}},{key:"_getSVG",value:function(I,B,R,G){var z=3;return typeof I=="string"&&2<arguments.length?I=this._getPath(I,B,R,G):_(B)==="object"&&(G=B),G&&(typeof G.decimals=="number"&&(z=G.decimals),typeof G.strokeWidth=="number"&&(I.strokeWidth=G.strokeWidth),G.fill!==void 0&&(I.fill=G.fill),G.stroke!==void 0&&(I.stroke=G.stroke)),I.toSVG(z)}},{key:"_renderPath",value:function(Y,X,ee,G){var z=G&&G.renderer||this.parent._renderer,q=z.drawingContext,Y=(_(Y)==="object"&&Y.commands?Y:this._getPath(Y,X,ee,G)).commands,$=(z._clipping||q.beginPath(),!0),X=!1,ee=void 0;try{for(var K,ne=Y[Symbol.iterator]();!($=(K=ne.next()).done);$=!0){var T=K.value;T.type==="M"?q.moveTo(T.x,T.y):T.type==="L"?q.lineTo(T.x,T.y):T.type==="C"?q.bezierCurveTo(T.x1,T.y1,T.x2,T.y2,T.x,T.y):T.type==="Q"?q.quadraticCurveTo(T.x1,T.y1,T.x,T.y):T.type==="Z"&&q.closePath()}}catch(F){X=!0,ee=F}finally{try{$||ne.return==null||ne.return()}finally{if(X)throw ee}}return z._doStroke&&z._strokeSet&&!z._clipping&&q.stroke(),z._doFill&&!z._clipping&&(z._fillSet||z._setFill(i._DEFAULT_TEXT_FILL),q.fill()),this}},{key:"_textWidth",value:function(I,B){return this.font.getAdvanceWidth(I,B)}},{key:"_textAscent",value:function(I){return this.font.ascender*this._scale(I)}},{key:"_textDescent",value:function(I){return-this.font.descender*this._scale(I)}},{key:"_scale",value:function(I){return 1/this.font.unitsPerEm*(I||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(I,B,R,G,z){var q=I._textSize;switch(z===void 0&&(z=this._textWidth(B,q)),I._textAlign){case i.CENTER:R-=z/2;break;case i.RIGHT:R-=z}switch(I._textBaseline){case i.TOP:G+=this._textAscent(q);break;case i.CENTER:G+=this._textAscent(q)/2;break;case i.BOTTOM:G-=this._textDescent(q)}return{x:R,y:G}}}])&&m(D.prototype,U),M})(),t=l.default,u.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(t,f,u){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(o,l){return o.push(l),o},t.default.prototype.arrayCopy=function(o,l,i,h,_){var m,s;o=_!==void 0?(s=Math.min(_,o.length),m=h,o.slice(l,s+l)):(s=i!==void 0?(s=i,Math.min(s,o.length)):o.length,i=l,o.slice(m=0,s)),Array.prototype.splice.apply(i,[m,s].concat(o))},t.default.prototype.concat=function(o,l){return o.concat(l)},t.default.prototype.reverse=function(o){return o.reverse()},t.default.prototype.shorten=function(o){return o.pop(),o},t.default.prototype.shuffle=function(o,l){for(var i,h,_=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(o),m=(o=l||_?o:o.slice()).length;1<m;)i=this.random(0,1)*m|0,h=o[--m],o[m]=o[i],o[i]=h;return o},t.default.prototype.sort=function(o,h){var i=h?o.slice(0,Math.min(h,o.length)):o,h=h?o.slice(Math.min(h,o.length)):[];return(i=typeof i[0]=="string"?i.sort():i.sort(function(_,m){return _-m})).concat(h)},t.default.prototype.splice=function(o,l,i){return Array.prototype.splice.apply(o,[i,0].concat(l)),o},t.default.prototype.subset=function(o,l,i){return i!==void 0?o.slice(l,l+i):o.slice(l,o.length)},t=t.default,u.default=t},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(t,f,u){t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};o.default.prototype.float=function(l){return l instanceof Array?l.map(parseFloat):parseFloat(l)},o.default.prototype.int=function(l){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return l===1/0||l==="Infinity"?1/0:l===-1/0||l==="-Infinity"?-1/0:typeof l=="string"?parseInt(l,i):typeof l=="number"?0|l:typeof l=="boolean"?l?1:0:l instanceof Array?l.map(function(h){return o.default.prototype.int(h,i)}):void 0},o.default.prototype.str=function(l){return l instanceof Array?l.map(o.default.prototype.str):String(l)},o.default.prototype.boolean=function(l){return typeof l=="number"?l!==0:typeof l=="string"?l.toLowerCase()==="true":typeof l=="boolean"?l:l instanceof Array?l.map(o.default.prototype.boolean):void 0},o.default.prototype.byte=function(l){return l=o.default.prototype.int(l,10),typeof l=="number"?(l+128)%256-128:l instanceof Array?l.map(o.default.prototype.byte):void 0},o.default.prototype.char=function(l){return typeof l!="number"||isNaN(l)?l instanceof Array?l.map(o.default.prototype.char):typeof l=="string"?o.default.prototype.char(parseInt(l,10)):void 0:String.fromCharCode(l)},o.default.prototype.unchar=function(l){return typeof l=="string"&&l.length===1?l.charCodeAt(0):l instanceof Array?l.map(o.default.prototype.unchar):void 0},o.default.prototype.hex=function(l,i){if(i=i??8,l instanceof Array)return l.map(function(_){return o.default.prototype.hex(_,i)});if(l===1/0||l===-1/0)return(l===1/0?"F":"0").repeat(i);if(typeof l=="number"){l<0&&(l=4294967295+l+1);for(var h=Number(l).toString(16).toUpperCase();h.length<i;)h="0".concat(h);return h=h.length>=i?h.substring(h.length-i,h.length):h}},o.default.prototype.unhex=function(l){return l instanceof Array?l.map(o.default.prototype.unhex):parseInt("0x".concat(l),16)},t=o.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(t,f,u){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o=(s=t("../core/main"))&&s.__esModule?s:{default:s};function l(c,p){return(function(g){if(Array.isArray(g))return g})(c)||(function(g,b){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]"){var y=[],v=!0,j=!1,x=void 0;try{for(var E,P=g[Symbol.iterator]();!(v=(E=P.next()).done)&&(y.push(E.value),!b||y.length!==b);v=!0);}catch(O){j=!0,x=O}finally{try{v||P.return==null||P.return()}finally{if(j)throw x}}return y}})(c,p)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function i(c,p,g){var b,y=c<0,j=l((c=Math.abs(c)).toString().split("."),2),v=j[0],j=j[1];return g===void 0?(v=v.padStart(p,"0"),b=j?v+"."+j:v,y?"-"+b:b):(v=(b=l(c.toFixed(g).toString().split("."),2))[0],j=b[1],v=v.padStart(p,"0"),c=j===void 0?v:v+"."+j,y?"-"+c:c)}function h(y,p){var g=(y=y.toString()).indexOf("."),b=g!==-1?y.substring(g):"",y=(y=g!==-1?y.substring(0,g):y).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(p===0)b="";else if(p!==void 0)if(p>b.length)for(var v=p-(b+=g===-1?".":"").length+1,j=0;j<v;j++)b+="0";else b=b.substring(0,p+1);return y+b}function _(c){return 0<parseFloat(c)?"+".concat(c.toString()):c.toString()}function m(c){return 0<=parseFloat(c)?" ".concat(c.toString()):c.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),o.default.prototype.join=function(c,p){return o.default._validateParameters("join",arguments),c.join(p)},o.default.prototype.match=function(c,p){return o.default._validateParameters("match",arguments),c.match(p)},o.default.prototype.matchAll=function(c,p){o.default._validateParameters("matchAll",arguments);for(var g=new RegExp(p,"g"),b=g.exec(c),y=[];b!==null;)y.push(b),b=g.exec(c);return y},o.default.prototype.nf=function(c,p,g){return o.default._validateParameters("nf",arguments),c instanceof Array?c.map(function(b){return i(b,p,g)}):Object.prototype.toString.call(c)==="[object Arguments]"?c.length===3?this.nf(c[0],c[1],c[2]):c.length===2?this.nf(c[0],c[1]):this.nf(c[0]):i(c,p,g)},o.default.prototype.nfc=function(c,p){return o.default._validateParameters("nfc",arguments),c instanceof Array?c.map(function(g){return h(g,p)}):h(c,p)},o.default.prototype.nfp=function(){for(var c=arguments.length,p=new Array(c),g=0;g<c;g++)p[g]=arguments[g];o.default._validateParameters("nfp",p);var b=o.default.prototype.nf.apply(this,p);return b instanceof Array?b.map(_):_(b)},o.default.prototype.nfs=function(){for(var c=arguments.length,p=new Array(c),g=0;g<c;g++)p[g]=arguments[g];o.default._validateParameters("nfs",p);var b=o.default.prototype.nf.apply(this,p);return b instanceof Array?b.map(m):m(b)},o.default.prototype.split=function(c,p){return o.default._validateParameters("split",arguments),c.split(p)},o.default.prototype.splitTokens=function(c,p){var g,b;return o.default._validateParameters("splitTokens",arguments),b=p!==void 0?(b=/\]/g.exec(p=p),(g=/\[/g.exec(p))&&b?(p=p.slice(0,b.index)+p.slice(b.index+1),g=/\[/g.exec(p),p=p.slice(0,g.index)+p.slice(g.index+1),new RegExp("[\\[".concat(p,"\\]]"),"g")):b?(p=p.slice(0,b.index)+p.slice(b.index+1),new RegExp("[".concat(p,"\\]]"),"g")):g?(p=p.slice(0,g.index)+p.slice(g.index+1),new RegExp("[".concat(p,"\\[]"),"g")):new RegExp("[".concat(p,"]"),"g")):/\s/g,c.split(b).filter(function(y){return y})},o.default.prototype.trim=function(c){return o.default._validateParameters("trim",arguments),c instanceof Array?c.map(this.trim):c.trim()};var s=o.default;u.default=s},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(t,f,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,u.default=t},{"../core/main":283}],326:[function(t,f,u){function o(c){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(c)}function l(c){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(p){return o(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":o(p)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var i=(s=t("../core/main"))&&s.__esModule?s:{default:s},h=(t("./p5.Geometry"),(function(c){if(c&&c.__esModule)return c;if(c===null||l(c)!=="object"&&typeof c!="function")return{default:c};var p=_();if(p&&p.has(c))return p.get(c);var g,b={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in c){var v;Object.prototype.hasOwnProperty.call(c,g)&&((v=y?Object.getOwnPropertyDescriptor(c,g):null)&&(v.get||v.set)?Object.defineProperty(b,g,v):b[g]=c[g])}return b.default=c,p&&p.set(c,b),b})(t("../core/constants")));function _(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,_=function(){return c},c)}i.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},i.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},i.default.prototype.buildGeometry=function(c){return this._renderer.buildGeometry(c)},i.default.prototype.freeGeometry=function(c){this._renderer._freeBuffers(c.gid)},i.default.prototype.plane=function(){var c,p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:p,b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,v=(this._assert3d("plane"),i.default._validateParameters("plane",arguments),"plane|".concat(b,"|").concat(y));return this._renderer.geometryInHash(v)||((c=new i.default.Geometry(b,y,function(){for(var j,x,E=0;E<=this.detailY;E++)for(var P=E/this.detailY,O=0;O<=this.detailX;O++)j=O/this.detailX,x=new i.default.Vector(j-.5,P-.5,0),this.vertices.push(x),this.uvs.push(j,P)})).computeFaces().computeNormals(),b<=1&&y<=1?c._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(v,c)),this._renderer.drawBuffersScaled(v,p,g,1),this},i.default.prototype.box=function(c,p,g,b,y){this._assert3d("box"),i.default._validateParameters("box",arguments),c===void 0&&(c=50),p===void 0&&(p=c),g===void 0&&(g=p);var v,j=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,j=(y===void 0&&(y=j?1:4),"box|".concat(b=b===void 0?j?1:4:b,"|").concat(y));return this._renderer.geometryInHash(j)||((v=new i.default.Geometry(b,y,function(){var x=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(E,P){for(var P=4*P,O=0;O<4;O++){var M=E[O],M=new i.default.Vector((2*(1&M)-1)/2,((2&M)-1)/2,((4&M)/2-1)/2);x.vertices.push(M),x.uvs.push(1&O,(2&O)/2)}x.faces.push([P,1+P,2+P]),x.faces.push([2+P,1+P,3+P])})})).computeNormals(),b<=4&&y<=4?v._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(j,v)),this._renderer.drawBuffersScaled(j,c,p,g),this},i.default.prototype.sphere=function(){var c=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:24,g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:16;return this._assert3d("sphere"),i.default._validateParameters("sphere",arguments),this.ellipsoid(c,c,c,p,g),this};function m(c,p,g,b,y,v,j){c=c<=0?1:c,p=p<0?0:p,g=g<=0?c:g,b=b<3?3:b;for(var x,E,P=(v=v===void 0||v)?-2:0,O=(y=y<1?1:y)+((j=j===void 0?p!==0:j)?2:0),M=Math.atan2(c-p,g),D=Math.sin(M),U=Math.cos(M),I=P;I<=O;++I){var B=I/y,R=g*B,G=void 0,G=I<0?(B=R=0,c):y<I?(R=g,B=1,p):c+(p-c)*B;for(I!==-2&&I!==y+2||(G=0),R-=g/2,x=0;x<b;++x){var z=x/(b-1),Y=2*Math.PI*z,q=Math.sin(Y),Y=Math.cos(Y),$=(this.vertices.push(new i.default.Vector(q*G,R,Y*G)),void 0),$=I<0?new i.default.Vector(0,-1,0):y<I&&p?new i.default.Vector(0,1,0):new i.default.Vector(q*U,D,Y*U);this.vertexNormals.push($),this.uvs.push(z,B)}}var X=0;if(v){for(E=0;E<b;++E)this.faces.push([X+E,X+b+(E+1)%b,X+b+E]);X+=2*b}for(I=0;I<y;++I){for(x=0;x<b;++x){var ee=(x+1)%b;this.faces.push([X+x,X+ee,X+b+ee]),this.faces.push([X+x,X+b+ee,X+b+x])}X+=b}if(j)for(X+=b,x=0;x<b;++x)this.faces.push([X+x,X+(x+1)%b,X+b])}i.default.prototype.cylinder=function(){var c,p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:p,b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,v=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],j=!(5<arguments.length&&arguments[5]!==void 0)||arguments[5],x=(this._assert3d("cylinder"),i.default._validateParameters("cylinder",arguments),"cylinder|".concat(b,"|").concat(y,"|").concat(v,"|").concat(j));return this._renderer.geometryInHash(x)||(c=new i.default.Geometry(b,y),m.call(c,1,1,1,b,y,v,j),b<=24&&y<=16?c._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(x,c)),this._renderer.drawBuffersScaled(x,p,g,p),this},i.default.prototype.cone=function(){var c,p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:p,b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,v=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],j=(this._assert3d("cone"),i.default._validateParameters("cone",arguments),"cone|".concat(b,"|").concat(y,"|").concat(v));return this._renderer.geometryInHash(j)||(c=new i.default.Geometry(b,y),m.call(c,1,0,1,b,y,v,!1),b<=24&&y<=16?c._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(j,c)),this._renderer.drawBuffersScaled(j,p,g,p),this},i.default.prototype.ellipsoid=function(){var c,p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:p,b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:p,y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:24,v=4<arguments.length&&arguments[4]!==void 0?arguments[4]:16,j=(this._assert3d("ellipsoid"),i.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(y,"|").concat(v));return this._renderer.geometryInHash(j)||((c=new i.default.Geometry(y,v,function(){for(var x=0;x<=this.detailY;x++)for(var E=x/this.detailY,P=Math.PI*E-Math.PI/2,O=Math.cos(P),M=Math.sin(P),D=0;D<=this.detailX;D++){var U=D/this.detailX,B=2*Math.PI*U,I=Math.cos(B),B=Math.sin(B),B=new i.default.Vector(O*B,M,O*I);this.vertices.push(B),this.vertexNormals.push(B),this.uvs.push(U,E)}})).computeFaces(),y<=24&&v<=24?c._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(j,c)),this._renderer.drawBuffersScaled(j,p,g,b),this},i.default.prototype.torus=function(c,j,g,b){if(this._assert3d("torus"),i.default._validateParameters("torus",arguments),c===void 0)c=50;else if(!c)return;if(j===void 0)j=10;else if(!j)return;g===void 0&&(g=24),b===void 0&&(b=16);var y,v=(j/c).toPrecision(4),j="torus|".concat(v,"|").concat(g,"|").concat(b);return this._renderer.geometryInHash(j)||((y=new i.default.Geometry(g,b,function(){for(var x=0;x<=this.detailY;x++)for(var E=x/this.detailY,P=2*Math.PI*E,O=Math.cos(P),M=Math.sin(P),D=1+v*O,U=0;U<=this.detailX;U++){var I=U/this.detailX,B=2*Math.PI*I,G=Math.cos(B),B=Math.sin(B),R=new i.default.Vector(D*G,D*B,v*M),G=new i.default.Vector(O*G,O*B,M);this.vertices.push(R),this.vertexNormals.push(G),this.uvs.push(I,E)}})).computeFaces(),g<=24&&b<=16?y._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(j,y)),this._renderer.drawBuffersScaled(j,c,c,c),this},i.default.RendererGL.prototype.point=function(c,p){var g=[];return g.push(new i.default.Vector(c,p,2<arguments.length&&arguments[2]!==void 0?arguments[2]:0)),this._drawPoints(g,this.immediateMode.buffers.point),this},i.default.RendererGL.prototype.triangle=function(j){var p=j[0],g=j[1],b=j[2],y=j[3],v=j[4],j=j[5],x=(this.geometryInHash("tri")||((x=new i.default.Geometry(1,1,function(){var O=[];O.push(new i.default.Vector(0,0,0)),O.push(new i.default.Vector(1,0,0)),O.push(new i.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=O,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),x.computeNormals(),this.createBuffers("tri",x)),this.uModelMatrix.copy());try{var E=Math.sign(p*y-b*g+b*j-v*y+v*g-p*j),P=new i.default.Matrix([b-p,y-g,0,0,v-p,j-g,0,0,0,0,E,0,p,g,0,1]).mult(this.uModelMatrix);this.uModelMatrix=P,this.drawBuffers("tri")}finally{this.uModelMatrix=x}return this},i.default.RendererGL.prototype.ellipse=function(c){this.arc(c[0],c[1],c[2],c[3],0,h.TWO_PI,h.OPEN,c[4])},i.default.RendererGL.prototype.arc=function(){var c,p=arguments.length<=0?void 0:arguments[0],g=arguments.length<=1?void 0:arguments[1],b=arguments.length<=2?void 0:arguments[2],y=arguments.length<=3?void 0:arguments[3],v=arguments.length<=4?void 0:arguments[4],j=arguments.length<=5?void 0:arguments[5],x=arguments.length<=6?void 0:arguments[6],E=(arguments.length<=7?void 0:arguments[7])||25,P=(Math.abs(j-v)>=h.TWO_PI?"".concat(O="ellipse","|"):"".concat(O="arc","|").concat(v,"|").concat(j,"|").concat(x,"|")).concat(E,"|"),O=(this.geometryInHash(P)||((c=new i.default.Geometry(E,1,function(){if(v.toFixed(10)!==j.toFixed(10)){x!==h.PIE&&x!==void 0||(this.vertices.push(new i.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var M=0;M<=E;M++){var U=(j-v)*(M/E)+v,D=.5+Math.cos(U)/2,U=.5+Math.sin(U)/2;this.vertices.push(new i.default.Vector(D,U,0)),this.uvs.push([D,U]),M<E-1&&(this.faces.push([0,M+1,M+2]),this.edges.push([M+1,M+2]))}switch(x){case h.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case h.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case h.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),E<=50?c._edgesToVertices(c):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(O," with more than 50 detail")),this.createBuffers(P,c)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([p,g,0]),this.uModelMatrix.scale(b,y,1),this.drawBuffers(P)}finally{this.uModelMatrix=O}return this},i.default.RendererGL.prototype.rect=function(c){var p=c[0],g=c[1],b=c[2],y=c[3];if(c[4]===void 0){var x=this._pInst._glAttributes.perPixelLighting,v=c[4]||(x?1:24),j=c[5]||(x?1:16),x="rect|".concat(v,"|").concat(j),E=(this.geometryInHash(x)||((E=new i.default.Geometry(v,j,function(){for(var $=0;$<=this.detailY;$++)for(var X=$/this.detailY,ee=0;ee<=this.detailX;ee++){var K=ee/this.detailX,ne=new i.default.Vector(K,X,0);this.vertices.push(ne),this.uvs.push(K,X)}0<v&&0<j&&(this.edges=[[0,v],[v,(v+1)*(j+1)-1],[(v+1)*(j+1)-1,(v+1)*j],[(v+1)*j,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(x,E)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([p,g,0]),this.uModelMatrix.scale(b,y,1),this.drawBuffers(x)}finally{this.uModelMatrix=E}}else{var x=c[4],E=c[5]===void 0?x:c[5],P=c[6]===void 0?E:c[6],c=c[7]===void 0?P:c[7],B=b,O=y,U=((B+=p)<p&&(U=p,p=B,B=U),(O+=g)<g&&(U=g,g=O,O=U),Math.min((B-p)/2,(O-g)/2)),M=(U<x&&(x=U),U<E&&(E=U),U<P&&(P=U),U<c&&(c=U),p),D=g,U=B,p=O,I=(this.beginShape(),E!==0?(this.vertex(U-E,D),this.quadraticVertex(U,D,U,D+E)):this.vertex(U,D),P!==0?(this.vertex(U,p-P),this.quadraticVertex(U,p,U-P,p)):this.vertex(U,p),c!==0?(this.vertex(M+c,p),this.quadraticVertex(M,p,M,p-c)):this.vertex(M,p),x!==0?(this.vertex(M,D+x),this.quadraticVertex(M,D,M+x,D)):this.vertex(M,D),!(this.immediateMode.geometry.uvs.length=0)),g=!1,B=void 0;try{for(var R,G=this.immediateMode.geometry.vertices[Symbol.iterator]();!(I=(R=G.next()).done);I=!0){var z=R.value,q=(z.x-M)/b,Y=(z.y-D)/y;this.immediateMode.geometry.uvs.push(q,Y)}}catch(T){g=!0,B=T}finally{try{I||G.return==null||G.return()}finally{if(g)throw B}}this.endShape(h.CLOSE)}return this},i.default.RendererGL.prototype.quad=function(c,p,g,b,y,v,j,x,E,P,O,M){var D=12<arguments.length&&arguments[12]!==void 0?arguments[12]:2,U=13<arguments.length&&arguments[13]!==void 0?arguments[13]:2,I="quad|".concat(c,"|").concat(p,"|").concat(g,"|").concat(b,"|").concat(y,"|").concat(v,"|").concat(j,"|").concat(x,"|").concat(E,"|").concat(P,"|").concat(O,"|").concat(M,"|").concat(D,"|").concat(U);if(!this.geometryInHash(I)){var B=new i.default.Geometry(D,U,function(){for(var ee=1/(this.detailX-1),K=1/(this.detailY-1),ne=0;ne<this.detailY;ne++)for(var T=0;T<this.detailX;T++){var F=T*ee,W=ne*K;this.vertices.push(new i.default.Vector((1-F)*((1-W)*c+W*P)+F*((1-W)*b+W*j),(1-F)*((1-W)*p+W*O)+F*((1-W)*y+W*x),(1-F)*((1-W)*g+W*M)+F*((1-W)*v+W*E))),this.uvs.push([F,W])}});B.faces=[];for(var R=0;R<U-1;R++)for(var G=0;G<D-1;G++){var z=G+R*D,q=G+1+(R+1)*D,Y=G+(R+1)*D;B.faces.push([z,G+1+R*D,q]),B.faces.push([z,q,Y])}B.computeNormals();for(var $=[B.edges.length=0,2,3,1],X=0;X<$.length;X++)B.edges.push([$[X],$[(X+1)%$.length]]);B._edgesToVertices(),this.createBuffers(I,B)}return this.drawBuffers(I),this},i.default.RendererGL.prototype.bezier=function(c,p,g,b,y,v,j,x,E,P,O,M){arguments.length===8&&(O=x,P=j,x=v,j=y,y=b,b=g,g=v=E=M=0);var D=this._pInst._bezierDetail||20;this.beginShape();for(var U=0;U<=D;U++){var I=Math.pow(1-U/D,3),B=U/D*3*Math.pow(1-U/D,2),R=3*Math.pow(U/D,2)*(1-U/D),G=Math.pow(U/D,3);this.vertex(c*I+b*B+j*R+P*G,p*I+y*B+x*R+O*G,g*I+v*B+E*R+M*G)}return this.endShape(),this},i.default.RendererGL.prototype.curve=function(c,p,g,b,y,v,j,x,E,P,O,M){arguments.length===8&&(P=j,O=x,j=y,x=b,y=b=g,g=v=E=M=0);var D=this._pInst._curveDetail;this.beginShape();for(var U=0;U<=D;U++){var I=.5*Math.pow(U/D,3),B=.5*Math.pow(U/D,2),R=U/D*.5;this.vertex(I*(3*b-c-3*j+P)+B*(2*c-5*b+4*j-P)+R*(-c+j)+2*b*.5,I*(3*y-p-3*x+O)+B*(2*p-5*y+4*x-O)+R*(-p+x)+2*y*.5,I*(3*v-g-3*E+M)+B*(2*g-5*v+4*E-M)+R*(-g+E)+2*v*.5)}return this.endShape(),this},i.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(h.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(h.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},i.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var c,p,g,b,y,v,j=[],x=[],E=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var P=1/this._lutBezierDetail,O=P,M=1,D=0;O<1;){if(v=parseFloat(O.toFixed(6)),this._lookUpTableBezier[D]=this._bezierCoefficients(v),M.toFixed(6)===P.toFixed(6)){v=parseFloat(M.toFixed(6))+parseFloat(O.toFixed(6)),++D,this._lookUpTableBezier[D]=this._bezierCoefficients(v);break}O+=P,M-=P,++D}}for(var U=this._lookUpTableBezier.length,I=[],B=0;B<4;B++)I.push([]);I[0]=this.immediateMode.geometry.vertexColors.slice(-4),I[3]=this.curFillColor.slice();var R=[];for(B=0;B<4;B++)R.push([]);if(R[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),R[3]=this.curStrokeColor.slice(),E===6){this.isBezier=!0;var j=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],x=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],G=Math.hypot(j[0]-j[1],x[0]-x[1]),q=Math.hypot(j[1]-j[2],x[1]-x[2]),z=Math.hypot(j[2]-j[3],x[2]-x[3]),q=G+q+z;for(G/=q,z/=q,y=0;y<4;y++)I[1].push(I[0][y]*(1-G)+I[3][y]*G),I[2].push(I[0][y]*z+I[3][y]*(1-z)),R[1].push(R[0][y]*(1-G)+R[3][y]*G),R[2].push(R[0][y]*z+R[3][y]*(1-z));for(b=0;b<U;b++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],B=c=p=0;B<4;B++){for(y=0;y<4;y++)this.curFillColor[y]+=this._lookUpTableBezier[b][B]*I[B][y],this.curStrokeColor[y]+=this._lookUpTableBezier[b][B]*R[B][y];c+=j[B]*this._lookUpTableBezier[b][B],p+=x[B]*this._lookUpTableBezier[b][B]}this.vertex(c,p)}this.curFillColor=I[3],this.curStrokeColor=R[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(E===9){this.isBezier=!0,j=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],x=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var Y=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],$=Math.hypot(j[0]-j[1],x[0]-x[1],Y[0]-Y[1]),q=Math.hypot(j[1]-j[2],x[1]-x[2],Y[1]-Y[2]),X=Math.hypot(j[2]-j[3],x[2]-x[3],Y[2]-Y[3]),E=$+q+X;for($/=E,X/=E,y=0;y<4;y++)I[1].push(I[0][y]*(1-$)+I[3][y]*$),I[2].push(I[0][y]*X+I[3][y]*(1-X)),R[1].push(R[0][y]*(1-$)+R[3][y]*$),R[2].push(R[0][y]*X+R[3][y]*(1-X));for(b=0;b<U;b++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],B=c=p=g=0;B<4;B++){for(y=0;y<4;y++)this.curFillColor[y]+=this._lookUpTableBezier[b][B]*I[B][y],this.curStrokeColor[y]+=this._lookUpTableBezier[b][B]*R[B][y];c+=j[B]*this._lookUpTableBezier[b][B],p+=x[B]*this._lookUpTableBezier[b][B],g+=Y[B]*this._lookUpTableBezier[b][B]}this.vertex(c,p,g)}this.curFillColor=I[3],this.curStrokeColor=R[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},i.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var c,p,g,b,y,v,j=[],x=[],E=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var P=1/this._lutQuadraticDetail,O=P,M=1,D=0;O<1;){if(v=parseFloat(O.toFixed(6)),this._lookUpTableQuadratic[D]=this._quadraticCoefficients(v),M.toFixed(6)===P.toFixed(6)){v=parseFloat(M.toFixed(6))+parseFloat(O.toFixed(6)),++D,this._lookUpTableQuadratic[D]=this._quadraticCoefficients(v);break}O+=P,M-=P,++D}}for(var U=this._lookUpTableQuadratic.length,I=[],B=0;B<3;B++)I.push([]);I[0]=this.immediateMode.geometry.vertexColors.slice(-4),I[2]=this.curFillColor.slice();var R=[];for(B=0;B<3;B++)R.push([]);if(R[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),R[2]=this.curStrokeColor.slice(),E===4){this.isQuadratic=!0;var j=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],x=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],G=Math.hypot(j[0]-j[1],x[0]-x[1]);for(G/=G+Math.hypot(j[1]-j[2],x[1]-x[2]),y=0;y<4;y++)I[1].push(I[0][y]*(1-G)+I[2][y]*G),R[1].push(R[0][y]*(1-G)+R[2][y]*G);for(b=0;b<U;b++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],B=c=p=0;B<3;B++){for(y=0;y<4;y++)this.curFillColor[y]+=this._lookUpTableQuadratic[b][B]*I[B][y],this.curStrokeColor[y]+=this._lookUpTableQuadratic[b][B]*R[B][y];c+=j[B]*this._lookUpTableQuadratic[b][B],p+=x[B]*this._lookUpTableQuadratic[b][B]}this.vertex(c,p)}this.curFillColor=I[2],this.curStrokeColor=R[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(E===6){this.isQuadratic=!0,j=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],x=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var z=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],q=Math.hypot(j[0]-j[1],x[0]-x[1],z[0]-z[1]);for(q/=q+Math.hypot(j[1]-j[2],x[1]-x[2],z[1]-z[2]),y=0;y<4;y++)I[1].push(I[0][y]*(1-q)+I[2][y]*q),R[1].push(R[0][y]*(1-q)+R[2][y]*q);for(b=0;b<U;b++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],B=c=p=g=0;B<3;B++){for(y=0;y<4;y++)this.curFillColor[y]+=this._lookUpTableQuadratic[b][B]*I[B][y],this.curStrokeColor[y]+=this._lookUpTableQuadratic[b][B]*R[B][y];c+=j[B]*this._lookUpTableQuadratic[b][B],p+=x[B]*this._lookUpTableQuadratic[b][B],g+=z[B]*this._lookUpTableQuadratic[b][B]}this.vertex(c,p,g)}this.curFillColor=I[2],this.curStrokeColor=R[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},i.default.RendererGL.prototype.curveVertex=function(){var c,p,g,b,y,v,j=[],x=[],E=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var P=1/this._lutBezierDetail,O=P,M=1,D=0;O<1;){if(v=parseFloat(O.toFixed(6)),this._lookUpTableBezier[D]=this._bezierCoefficients(v),M.toFixed(6)===P.toFixed(6)){v=parseFloat(M.toFixed(6))+parseFloat(O.toFixed(6)),++D,this._lookUpTableBezier[D]=this._bezierCoefficients(v);break}O+=P,M-=P,++D}}var U=this._lookUpTableBezier.length;if(E===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,j=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),x=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),y=0;y<U;y++)p=j[0]*this._lookUpTableBezier[y][0]+j[1]*this._lookUpTableBezier[y][1]+j[2]*this._lookUpTableBezier[y][2]+j[3]*this._lookUpTableBezier[y][3],g=x[0]*this._lookUpTableBezier[y][0]+x[1]*this._lookUpTableBezier[y][1]+x[2]*this._lookUpTableBezier[y][2]+x[3]*this._lookUpTableBezier[y][3],this.vertex(p,g);for(y=0;y<E;y++)this.immediateMode._curveVertex.shift()}}else if(E===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,j=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),x=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),c=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),y=0;y<U;y++)p=j[0]*this._lookUpTableBezier[y][0]+j[1]*this._lookUpTableBezier[y][1]+j[2]*this._lookUpTableBezier[y][2]+j[3]*this._lookUpTableBezier[y][3],g=x[0]*this._lookUpTableBezier[y][0]+x[1]*this._lookUpTableBezier[y][1]+x[2]*this._lookUpTableBezier[y][2]+x[3]*this._lookUpTableBezier[y][3],b=c[0]*this._lookUpTableBezier[y][0]+c[1]*this._lookUpTableBezier[y][1]+c[2]*this._lookUpTableBezier[y][2]+c[3]*this._lookUpTableBezier[y][3],this.vertex(p,g,b);for(y=0;y<E;y++)this.immediateMode._curveVertex.shift()}},i.default.RendererGL.prototype.image=function(c,M,g,D,y,v,j,x,E){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(c),this._pInst.textureMode(h.NORMAL);var P=0,O=(M<=c.width&&(P=M/c.width),1),M=(M+D<=c.width&&(O=(M+D)/c.width),0),D=(g<=c.height&&(M=g/c.height),1);g+y<=c.height&&(D=(g+y)/c.height),this.beginShape(),this.vertex(v,j,0,P,M),this.vertex(v+x,j,0,O,M),this.vertex(v+x,j+E,0,O,D),this.vertex(v,j+E,0,P,D),this.endShape(h.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(h.REMOVE)};var s=i.default;u.default=s},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(t,f,u){function o(p){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(p)}function l(p){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(g){return o(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":o(g)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var i=(c=t("../core/main"))&&c.__esModule?c:{default:c},h=(function(p){if(p&&p.__esModule)return p;if(p===null||l(p)!=="object"&&typeof p!="function")return{default:p};var g=_();if(g&&g.has(p))return g.get(p);var b,y={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in p){var j;Object.prototype.hasOwnProperty.call(p,b)&&((j=v?Object.getOwnPropertyDescriptor(p,b):null)&&(j.get||j.set)?Object.defineProperty(y,b,j):y[b]=p[b])}return y.default=p,g&&g.set(p,y),y})(t("../core/constants"));function _(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,_=function(){return p},p)}function m(p){return(function(g){if(Array.isArray(g)){for(var b=0,y=new Array(g.length);b<g.length;b++)y[b]=g[b];return y}})(p)||(function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)})(p)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function s(p,g){for(var b=0;b<g.length;b++){var y=g[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}var c=(function(){function p(y){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");(this.renderer=y)._pInst.push(),this.identityMatrix=new i.default.Matrix,y.uModelMatrix=new i.default.Matrix,this.geometry=new i.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(p.nextGeometryId),p.nextGeometryId++,this.hasTransform=!1}var g,b;return g=p,(b=[{key:"transformVertices",value:function(y){var v=this;return this.hasTransform?y.map(function(j){return v.renderer.uModelMatrix.multiplyPoint(j)}):y}},{key:"transformNormals",value:function(y){var v=this;return this.hasTransform?y.map(function(j){return v.renderer.uNMatrix.multiplyVec3(j)}):y}},{key:"addGeometry",value:function(y){for(var v,j=this,x=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(P,O){return P===j.identityMatrix.mat4[O]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),E=((v=this.geometry.vertices).push.apply(v,m(this.transformVertices(y.vertices))),(v=this.geometry.vertexNormals).push.apply(v,m(this.transformNormals(y.vertexNormals))),(v=this.geometry.uvs).push.apply(v,m(y.uvs)),this.renderer._doFill&&(v=this.geometry.faces).push.apply(v,m(y.faces.map(function(P){return P.map(function(O){return O+x})}))),this.renderer._doStroke&&(v=this.geometry.edges).push.apply(v,m(y.edges.map(function(P){return P.map(function(O){return O+x})}))),m(y.vertexColors));E.length<4*y.vertices.length;)E.push.apply(E,m(this.renderer.curFillColor));(v=this.geometry.vertexColors).push.apply(v,m(E))}},{key:"addImmediate",value:function(){var y=this.renderer.immediateMode.geometry,v=this.renderer.immediateMode.shapeMode,j=[];if(this.renderer._doFill)if(v===h.TRIANGLE_STRIP||v===h.QUAD_STRIP)for(var x=2;x<y.vertices.length;x++)x%2==0?j.push([x,x-1,x-2]):j.push([x,x-2,x-1]);else if(v===h.TRIANGLE_FAN)for(var E=2;E<y.vertices.length;E++)j.push([0,E-1,E]);else for(var P=0;P<y.vertices.length;P+=3)j.push([P,P+1,P+2]);this.addGeometry(Object.assign({},y,{faces:j}))}},{key:"addRetained",value:function(y){this.addGeometry(y.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&s(g.prototype,b),p})();c.nextGeometryId=0,u.default=c},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(t,f,u){function o(s){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(s)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var l=(m=t("../core/main"))&&m.__esModule?m:{default:m},i=(function(s){if(s&&s.__esModule)return s;if(s===null||_(s)!=="object"&&typeof s!="function")return{default:s};var c=h();if(c&&c.has(s))return c.get(s);var p,g={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in s){var y;Object.prototype.hasOwnProperty.call(s,p)&&((y=b?Object.getOwnPropertyDescriptor(s,p):null)&&(y.get||y.set)?Object.defineProperty(g,p,y):g[p]=s[p])}return g.default=s,c&&c.set(s,g),g})(t("../core/constants"));function h(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,h=function(){return s},s)}function _(s){return(_=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(c){return o(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":o(c)})(s)}l.default.prototype.orbitControl=function(s,c,p,E){var b=this,y=(this._assert3d("orbitControl"),l.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);s===void 0&&(s=1),c===void 0&&(c=s),p===void 0&&(p=1),_(E)!=="object"&&(E={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var O=E.disableTouchActions;this.touchActionsDisabled===!0||O!==void 0&&!O||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var v,j,x,O=E.freeRotation,E=O!==void 0&&O,P=[],O=(this.touches.forEach(function(G){b._renderer.prevTouches.forEach(function(z){G.id===z.id&&(z={x:G.x,y:G.y,px:z.x,py:z.y},P.push(z))})}),this._renderer.prevTouches=this.touches,0),M=0,D=0,U=0,I=0,B=this.height<this.width?this.height:this.width,R=!1;return 0<P.length?(R=0<P[0].x&&P[0].x<this.width&&0<P[0].y&&P[0].y<this.height,P.length===1?(M=-s*((v=P[0]).x-v.px)/B,D=c*(v.y-v.py)/B):(v=P[0],j=P[1],O=-(Math.hypot(v.x-j.x,v.y-j.y)-Math.hypot(v.px-j.px,v.py-j.py))*p*4e-4,U=.5*(v.x+j.x)-.5*(v.px+j.px),I=.5*(v.y+j.y)-.5*(v.py+j.py)),0<this.touches.length?R&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(R=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(O=Math.sign(this._mouseWheelDeltaY)*p,O*=.01,this._mouseWheelDeltaY=0,R&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(M=-s*this.movedX/B,D=c*this.movedY/B):this.mouseButton===this.RIGHT&&(U=this.movedX,I=this.movedY*y.yScale),R&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),O!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=O),.001<Math.abs(this._renderer.zoomVelocity)?(E?y._orbitFree(0,0,this._renderer.zoomVelocity):y._orbit(0,0,this._renderer.zoomVelocity),y.projMatrix.mat4[15]!==0&&(y.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),y.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=y.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=y.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,M===0&&D===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*M,.6*D),1e-6<this._renderer.rotateVelocity.magSq()?(E?y._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):y._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),U===0&&I===0||!this._renderer.executeRotateAndMove||(v=2*U/this.width,j=2*-I/this.height,this._renderer.moveVelocity.add(.15*v,.15*j)),1e-6<this._renderer.moveVelocity.magSq()?(p=y._getLocalAxes(),s=y.eyeX-y.centerX,c=y.eyeY-y.centerY,B=y.eyeZ-y.centerZ,R=Math.sqrt(s*s+c*c+B*B),O=new l.default.Vector(y.centerX,y.centerY,y.centerZ),O=y.cameraMatrix.multiplyPoint(O),(O=this._renderer.uPMatrix.multiplyAndNormalizePoint(O)).x-=this._renderer.moveVelocity.x,O.y-=this._renderer.moveVelocity.y,D=(M=this._renderer.uPMatrix.mat4)[15]===0?(x=(M[8]+O.x)/M[0]*R,(M[9]+O.y)/M[5]*R):(x=(O.x-M[12])/M[0],(O.y-M[13])/M[5]),y.setPosition(y.eyeX+x*p.x[0]+D*p.y[0],y.eyeY+x*p.x[1]+D*p.y[1],y.eyeZ+x*p.x[2]+D*p.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},l.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var s=arguments.length,c=new Array(s),p=0;p<s;p++)c[p]=arguments[p];l.default._validateParameters("debugMode",c);for(var g=this._registeredMethods.post.length-1;0<=g;g--)this._registeredMethods.post[g].toString()!==this._grid().toString()&&this._registeredMethods.post[g].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(g,1);c[0]===i.GRID?this.registerMethod("post",this._grid(c[1],c[2],c[3],c[4],c[5])):c[0]===i.AXES?this.registerMethod("post",this._axesIcon(c[1],c[2],c[3],c[4])):(this.registerMethod("post",this._grid(c[0],c[1],c[2],c[3],c[4])),this.registerMethod("post",this._axesIcon(c[5],c[6],c[7],c[8])))},l.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var s=this._registeredMethods.post.length-1;0<=s;s--)this._registeredMethods.post[s].toString()!==this._grid().toString()&&this._registeredMethods.post[s].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(s,1)},l.default.prototype._grid=function(s,c,p,g,b){s===void 0&&(s=this.width/2),c===void 0&&(c=Math.round(s/30)<4?4:Math.round(s/30)),p===void 0&&(p=0),g===void 0&&(g=0),b===void 0&&(b=0);var y=s/c,v=s/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var j=0;j<=c;j++)this.beginShape(this.LINES),this.vertex(-v+p,g,j*y-v+b),this.vertex(v+p,g,j*y-v+b),this.endShape();for(var x=0;x<=c;x++)this.beginShape(this.LINES),this.vertex(x*y-v+p,g,-v+b),this.vertex(x*y-v+p,g,v+b),this.endShape();this.pop()}},l.default.prototype._axesIcon=function(s,c,p,g){return s===void 0&&(s=40<this.width/20?this.width/20:40),c===void 0&&(c=-this.width/4),p===void 0&&(p=c),g===void 0&&(g=c),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(c,p,g),this.vertex(c+s,p,g),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(c,p,g),this.vertex(c,p+s,g),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(c,p,g),this.vertex(c,p,g+s),this.endShape(),this.pop()}};var m=l.default;u.default=m},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(t,f,u){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};o.default.prototype.ambientLight=function(l,i,h,_){this._assert3d("ambientLight"),o.default._validateParameters("ambientLight",arguments);var m=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(m._array[0],m._array[1],m._array[2]),this._renderer._enableLighting=!0,this},o.default.prototype.specularColor=function(l,i,h){this._assert3d("specularColor"),o.default._validateParameters("specularColor",arguments);var _=this.color.apply(this,arguments);return this._renderer.specularColors=[_._array[0],_._array[1],_._array[2]],this},o.default.prototype.directionalLight=function(l,b,g,_,m,s){this._assert3d("directionalLight"),o.default._validateParameters("directionalLight",arguments),l=l instanceof o.default.Color?l:this.color(l,b,g);var c,p,b=arguments[arguments.length-1],g=typeof b=="number"?(c=arguments[arguments.length-3],p=arguments[arguments.length-2],arguments[arguments.length-1]):(c=b.x,p=b.y,b.z),b=Math.sqrt(c*c+p*p+g*g);return this._renderer.directionalLightDirections.push(c/b,p/b,g/b),this._renderer.directionalLightDiffuseColors.push(l._array[0],l._array[1],l._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},o.default.prototype.pointLight=function(l,g,b,_,m,s){this._assert3d("pointLight"),o.default._validateParameters("pointLight",arguments),l=l instanceof o.default.Color?l:this.color(l,g,b);var c,p,g=arguments[arguments.length-1],b=typeof g=="number"?(c=arguments[arguments.length-3],p=arguments[arguments.length-2],arguments[arguments.length-1]):(c=g.x,p=g.y,g.z);return this._renderer.pointLightPositions.push(c,p,b),this._renderer.pointLightDiffuseColors.push(l._array[0],l._array[1],l._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},o.default.prototype.imageLight=function(l){this._renderer.activeImageLight=l,this._renderer._enableLighting=!0},o.default.prototype.panorama=function(l){this.filter(this._renderer._getSphereMapping(l))},o.default.prototype.lights=function(){this._assert3d("lights");var l=this.color("rgb(128,128,128)");return this.ambientLight(l),this.directionalLight(l,0,0,-1),this},o.default.prototype.lightFalloff=function(l,i,h){return this._assert3d("lightFalloff"),o.default._validateParameters("lightFalloff",arguments),l<0&&(l=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),i<0&&(i=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),h<0&&(h=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),l===0&&i===0&&h===0&&(l=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=l,this._renderer.linearAttenuation=i,this._renderer.quadraticAttenuation=h,this},o.default.prototype.spotLight=function(l,i,h,_,m,s,c,p,g,b,y){this._assert3d("spotLight"),o.default._validateParameters("spotLight",arguments);var v,j,x,E=arguments.length;switch(E){case 11:case 10:v=this.color(l,i,h),j=new o.default.Vector(_,m,s),x=new o.default.Vector(c,p,g);break;case 9:l instanceof o.default.Color?(v=l,j=new o.default.Vector(i,h,_),x=new o.default.Vector(m,s,c),b=p,y=g):_ instanceof o.default.Vector?(v=this.color(l,i,h),j=_,x=new o.default.Vector(m,s,c),b=p,y=g):c instanceof o.default.Vector?(v=this.color(l,i,h),j=new o.default.Vector(_,m,s),x=c,b=p,y=g):(v=this.color(l,i,h),j=new o.default.Vector(_,m,s),x=new o.default.Vector(c,p,g));break;case 8:b=(x=l instanceof o.default.Color?(v=l,j=new o.default.Vector(i,h,_),new o.default.Vector(m,s,c)):_ instanceof o.default.Vector?(v=this.color(l,i,h),j=_,new o.default.Vector(m,s,c)):(v=this.color(l,i,h),j=new o.default.Vector(_,m,s),c),p);break;case 7:l instanceof o.default.Color&&i instanceof o.default.Vector?(v=l,j=i,x=new o.default.Vector(h,_,m),b=s,y=c):l instanceof o.default.Color&&m instanceof o.default.Vector?(v=l,j=new o.default.Vector(i,h,_),x=m,b=s,y=c):_ instanceof o.default.Vector&&m instanceof o.default.Vector?(v=this.color(l,i,h),j=_,x=m,b=s,y=c):x=l instanceof o.default.Color?(v=l,j=new o.default.Vector(i,h,_),new o.default.Vector(m,s,c)):_ instanceof o.default.Vector?(v=this.color(l,i,h),j=_,new o.default.Vector(m,s,c)):(v=this.color(l,i,h),j=new o.default.Vector(_,m,s),c);break;case 6:_ instanceof o.default.Vector&&m instanceof o.default.Vector?(v=this.color(l,i,h),j=_,x=m,b=s):l instanceof o.default.Color&&m instanceof o.default.Vector?(v=l,j=new o.default.Vector(i,h,_),x=m,b=s):l instanceof o.default.Color&&i instanceof o.default.Vector&&(v=l,j=i,x=new o.default.Vector(h,_,m),b=s);break;case 5:l instanceof o.default.Color&&i instanceof o.default.Vector&&h instanceof o.default.Vector?(v=l,j=i,x=h,b=_,y=m):_ instanceof o.default.Vector&&m instanceof o.default.Vector?(v=this.color(l,i,h),j=_,x=m):l instanceof o.default.Color&&m instanceof o.default.Vector?(v=l,j=new o.default.Vector(i,h,_),x=m):l instanceof o.default.Color&&i instanceof o.default.Vector&&(v=l,j=i,x=new o.default.Vector(h,_,m));break;case 4:v=l,j=i,x=h,b=_;break;case 3:v=l,j=i,x=h;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(E<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(v._array[0],v._array[1],v._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(j.x,j.y,j.z),x.normalize(),this._renderer.spotLightDirections.push(x.x,x.y,x.z),b===void 0&&(b=Math.PI/3),y!==void 0&&y<1?(y=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):y===void 0&&(y=100),b=this._renderer._pInst._toRadians(b),this._renderer.spotLightAngle.push(Math.cos(b)),this._renderer.spotLightConc.push(y),this._renderer._enableLighting=!0,this},o.default.prototype.noLights=function(){this._assert3d("noLights");for(var l=arguments.length,i=new Array(l),h=0;h<l;h++)i[h]=arguments[h];return o.default._validateParameters("noLights",i),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},t=o.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(t,f,u){function o(b){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t("regenerator-runtime/runtime");var l=(g=t("../core/main"))&&g.__esModule?g:{default:g};function i(b){return(function(y){if(Array.isArray(y)){for(var v=0,j=new Array(y.length);v<y.length;v++)j[v]=y[v];return j}})(b)||(function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)})(b)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function h(b,y,v,j,x,E,P){try{var O=b[E](P),M=O.value}catch(D){return void v(D)}O.done?y(M):Promise.resolve(M).then(j,x)}function _(b){return function(){var y=this,v=arguments;return new Promise(function(j,x){var E=b.apply(y,v);function P(M){h(E,j,x,P,O,"next",M)}function O(M){h(E,j,x,P,O,"throw",M)}P(void 0)})}}function m(b){return(m=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(y){return o(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":o(y)})(b)}function s(b,y,v){for(var j=2<arguments.length&&v!==void 0?v:{},x={v:[],vt:[],vn:[]},E={},P=null,O=new Set,M=!1,D=!1,U=0;U<y.length;++U){var I=y[U].trim().split(/\b\s+/);if(0<I.length){if(I[0]==="usemtl")P=I[1];else if(I[0]==="v"||I[0]==="vn"){var B=new l.default.Vector(parseFloat(I[1]),parseFloat(I[2]),parseFloat(I[3]));x[I[0]].push(B)}else if(I[0]==="vt")B=[parseFloat(I[1]),1-parseFloat(I[2])],x[I[0]].push(B);else if(I[0]==="f")for(var R=3;R<I.length;++R){for(var G=[],z=[1,R-1,R],q=0;q<z.length;++q){for(var Y,$=I[z[q]],X=$.split("/"),ee=0;ee<X.length;ee++)X[ee]=parseInt(X[ee])-1;E[$]||(E[$]={}),E[$][P]===void 0?(Y=b.vertices.length,b.vertices.push(x.v[X[0]].copy()),b.uvs.push(x.vt[X[1]]?x.vt[X[1]].slice():[0,0]),b.vertexNormals.push(x.vn[X[2]]?x.vn[X[2]].copy():new l.default.Vector),E[$][P]=Y,G.push(Y),P&&j[P]&&j[P].diffuseColor&&O.add(x.v[X[0]])):G.push(E[$][P])}if(G[0]!==G[1]&&G[0]!==G[2]&&G[1]!==G[2])if(b.faces.push(G),P&&j[P]&&j[P].diffuseColor)for(var M=M=!0,K=j[P].diffuseColor,ne=0;ne<G.length;ne++)b.vertexColors.push(K[0]),b.vertexColors.push(K[1]),b.vertexColors.push(K[2]);else D=!0}}}if(b.vertexNormals.length===0&&b.computeNormals(),M===D)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")}function c(b,y){if((function(pe){for(var ie=new DataView(pe),ye=[115,111,108,105,100],_e=0;_e<5;_e++)if((function(Te,Ee,Se){for(var Oe=0,Xe=Te.length;Oe<Xe;Oe++)if(Te[Oe]!==Ee.getUint8(Se+Oe,!1))return;return 1})(ye,ie,_e))return;return 1})(y)){for(var v,j,x,E,P,O,M,D=b,U=new DataView(y),I=U.getUint32(80,!0),B=!1,R=0;R<70;R++)U.getUint32(R,!1)===1129270351&&U.getUint8(R+4)===82&&U.getUint8(R+5)===61&&(B=!0,E=[],P=U.getUint8(R+6)/255,O=U.getUint8(R+7)/255,M=U.getUint8(R+8)/255);for(var G=0;G<I;G++){for(var z,q=84+50*G,Y=U.getFloat32(q,!0),$=U.getFloat32(4+q,!0),X=U.getFloat32(8+q,!0),ee=(B&&(z=U.getUint16(48+q,!0),x=(32768&z)==0?(v=(31&z)/31,j=(z>>5&31)/31,(z>>10&31)/31):(v=P,j=O,M)),new l.default.Vector(Y,$,X)),K=1;K<=3;K++){var ne=q+12*K,ne=new l.default.Vector(U.getFloat32(ne,!0),U.getFloat32(4+ne,!0),U.getFloat32(8+ne,!0));D.vertices.push(ne),D.vertexNormals.push(ee),B&&E.push(v,j,x)}D.faces.push([3*G,3*G+1,3*G+2]),D.uvs.push([0,0],[0,0],[0,0])}}else if(y=new DataView(y),"TextDecoder"in window)for(var T,F,W=b,J=new TextDecoder("utf-8").decode(y).split(`
`),oe="",se=[],fe=0;fe<J.length;++fe){for(var ve=J[fe].trim(),de=ve.split(" "),be=0;be<de.length;++be)de[be]===""&&de.splice(be,1);if(de.length!==0)switch(oe){case"":if(de[0]!=="solid")return console.error(ve),void console.error('Invalid state "'.concat(de[0],'", should be "solid"'));oe="solid";break;case"solid":if(de[0]!=="facet"||de[1]!=="normal")return console.error(ve),void console.error('Invalid state "'.concat(de[0],'", should be "facet normal"'));T=new l.default.Vector(parseFloat(de[2]),parseFloat(de[3]),parseFloat(de[4])),W.vertexNormals.push(T,T,T),oe="facet normal";break;case"facet normal":if(de[0]!=="outer"||de[1]!=="loop")return console.error(ve),void console.error('Invalid state "'.concat(de[0],'", should be "outer loop"'));oe="vertex";break;case"vertex":if(de[0]==="vertex")F=new l.default.Vector(parseFloat(de[1]),parseFloat(de[2]),parseFloat(de[3])),W.vertices.push(F),W.uvs.push([0,0]),se.push(W.vertices.indexOf(F));else{if(de[0]!=="endloop")return console.error(ve),void console.error('Invalid state "'.concat(de[0],'", should be "vertex" or "endloop"'));W.faces.push(se),se=[],oe="endloop"}break;case"endloop":if(de[0]!=="endfacet")return console.error(ve),void console.error('Invalid state "'.concat(de[0],'", should be "endfacet"'));oe="endfacet";break;case"endfacet":if(de[0]!=="endsolid"){if(de[0]!=="facet"||de[1]!=="normal")return console.error(ve),void console.error('Invalid state "'.concat(de[0],'", should be "endsolid" or "facet normal"'));T=new l.default.Vector(parseFloat(de[2]),parseFloat(de[3]),parseFloat(de[4])),W.vertexNormals.push(T,T,T),oe="facet normal"}break;default:console.error('Invalid state "'.concat(oe,'"'))}}else console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)")}t("./p5.Geometry"),l.default.prototype.loadModel=function(b,y){l.default._validateParameters("loadModel",arguments);var v,j,x=!1,E=!1,P=!1,O=b.slice(-4),M=(y&&m(y)==="object"?(x=y.normalize||!1,v=y.successCallback,j=y.failureCallback,O=y.fileType||O,E=y.flipU||!1,P=y.flipV||!1):typeof y=="boolean"?(x=y,v=arguments[2],j=arguments[3],arguments[4]!==void 0&&(O=arguments[4])):(v=typeof y=="function"?y:void 0,j=arguments[2],arguments[3]!==void 0&&(O=arguments[3])),new l.default.Geometry),D=(M.gid="".concat(b,"|").concat(x),this);function U(){return(U=_(regeneratorRuntime.mark(function B(R){var G,z,q,Y;return regeneratorRuntime.wrap(function($){for(;;)switch($.prev=$.next){case 0:for(G=[],z=0;z<R.length;z++)(q=R[z].match(/^mtllib (.+)/))&&(function(){var X="",ee=q[1],K=b.split("/");X=1<K.length?(K.pop(),K.join("/")+"/"+ee):ee,G.push((function(){return I.apply(this,arguments)})(X).then(function(ne){return ne?(T=D,F=X,new Promise(function(W,J){var oe=null,se={};T.loadStrings(F,function(fe){for(var ve=0;ve<fe.length;++ve){var de,be=fe[ve].trim().split(/\s+/);be[0]==="newmtl"?(de=be[1],se[oe=de]={}):be[0]==="Kd"?se[oe].diffuseColor=[parseFloat(be[1]),parseFloat(be[2]),parseFloat(be[3])]:be[0]==="Ka"?se[oe].ambientColor=[parseFloat(be[1]),parseFloat(be[2]),parseFloat(be[3])]:be[0]==="Ks"?se[oe].specularColor=[parseFloat(be[1]),parseFloat(be[2]),parseFloat(be[3])]:be[0]==="map_Kd"&&(se[oe].texturePath=be[1])}W(se)},J)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(X)),{});var T,F}).catch(function(ne){return console.warn("Error loading MTL file: ".concat(X),ne),{}}))})();return $.prev=2,$.next=5,Promise.all(G);case 5:return Y=$.sent,Y=Object.assign.apply(Object,[{}].concat(i(Y))),$.abrupt("return",Y);case 10:return $.prev=10,$.t0=$.catch(2),$.abrupt("return",{});case 13:case"end":return $.stop()}},B,null,[[2,10]])}))).apply(this,arguments)}function I(){return(I=_(regeneratorRuntime.mark(function B(R){var G;return regeneratorRuntime.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.prev=0,z.next=3,fetch(R,{method:"HEAD"});case 3:return G=z.sent,z.abrupt("return",G.ok);case 7:return z.prev=7,z.t0=z.catch(0),z.abrupt("return",!1);case 10:case"end":return z.stop()}},B,null,[[0,7]])}))).apply(this,arguments)}return O.match(/\.stl$/i)?this.httpDo(b,"GET","arrayBuffer",function(B){c(M,B),x&&M.normalize(),E&&M.flipU(),P&&M.flipV(),D._decrementPreload(),typeof v=="function"&&v(M)},j):O.match(/\.obj$/i)?this.loadStrings(b,(function(){var B=_(regeneratorRuntime.mark(function R(G){var z;return regeneratorRuntime.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.prev=0,q.next=3,(function(){return U.apply(this,arguments)})(G);case 3:z=q.sent,s(M,G,z),q.next=11;break;case 7:return q.prev=7,q.t0=q.catch(0),j?j(q.t0):l.default._friendlyError("Error during parsing: "+q.t0.message),q.abrupt("return");case 11:return q.prev=11,x&&M.normalize(),E&&M.flipU(),P&&M.flipV(),M._makeTriangleEdges(),D._decrementPreload(),typeof v=="function"&&v(M),q.finish(11);case 19:case"end":return q.stop()}},R,null,[[0,7,11,19]])}));return function(R){return B.apply(this,arguments)}})(),j):(l.default._friendlyFileLoadError(3,b),j?j():l.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),M},l.default.prototype.model=function(b){this._assert3d("model"),l.default._validateParameters("model",arguments),0<b.vertices.length&&(this._renderer.geometryInHash(b.gid)||(b._edgesToVertices(),this._renderer.createBuffers(b.gid,b)),this._renderer.drawBuffers(b.gid))};var p=0,g=(l.default.prototype.createModel=function(b){var y,v,j=1<arguments.length&&arguments[1]!==void 0?arguments[1]:" ",O=2<arguments.length?arguments[2]:void 0,x=(l.default._validateParameters("createModel",arguments),!1),E=!1,P=!1,O=(O&&m(O)==="object"?(x=O.normalize||!1,y=O.successCallback,v=O.failureCallback,E=O.flipU||!1,P=O.flipV||!1):v=typeof O=="boolean"?(x=O,y=arguments[3],arguments[4]):(y=typeof arguments[2]=="function"?arguments[2]:void 0,arguments[3]),new l.default.Geometry);if(O.gid="".concat(j,"|").concat(x,"|").concat(p++),j.match(/\.stl$/i))try{c(O,new TextEncoder().encode(b).buffer)}catch(M){return void(v?v(M):l.default._friendlyError("Error during parsing: "+M.message))}else if(j.match(/\.obj$/i))try{s(O,b.split(`
`))}catch(M){return void(v?v(M):l.default._friendlyError("Error during parsing: "+M.message))}else l.default._friendlyFileLoadError(3,b),v?v():l.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.");return x&&O.normalize(),E&&O.flipU(),P&&O.flipV(),O._makeTriangleEdges(),typeof y=="function"&&y(O),O},l.default);u.default=g},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(t,f,u){function o(s){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(s)}function l(s){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(c){return o(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":o(c)})(s)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var i=(m=t("../core/main"))&&m.__esModule?m:{default:m},h=(function(s){if(s&&s.__esModule)return s;if(s===null||l(s)!=="object"&&typeof s!="function")return{default:s};var c=_();if(c&&c.has(s))return c.get(s);var p,g={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in s){var y;Object.prototype.hasOwnProperty.call(s,p)&&((y=b?Object.getOwnPropertyDescriptor(s,p):null)&&(y.get||y.set)?Object.defineProperty(g,p,y):g[p]=s[p])}return g.default=s,c&&c.set(s,g),g})(t("../core/constants"));function _(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,_=function(){return s},s)}t("./p5.Texture"),i.default.prototype.loadShader=function(s,c,p,g){i.default._validateParameters("loadShader",arguments),g=g||console.error;function b(){v._decrementPreload(),p&&p(y)}var y=new i.default.Shader,v=this,j=!1,x=!1;return this.loadStrings(s,function(E){y._vertSrc=E.join(`
`),x=!0,j&&b()},g),this.loadStrings(c,function(E){y._fragSrc=E.join(`
`),j=!0,x&&b()},g),y},i.default.prototype.createShader=function(s,c,p){return i.default._validateParameters("createShader",arguments),new i.default.Shader(this._renderer,s,c,p)},i.default.prototype.createFilterShader=function(s){i.default._validateParameters("createFilterShader",arguments);var c=s.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,c=new i.default.Shader(this._renderer,c,s);return this._renderer.GL?c.ensureCompiledOnContext(this):c.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),c},i.default.prototype.shader=function(s){return this._assert3d("shader"),i.default._validateParameters("shader",arguments),s.ensureCompiledOnContext(this),s.isStrokeShader()?this._renderer.userStrokeShader=s:(this._renderer.userFillShader=s,this._renderer._useNormalMaterial=!1),s.setDefaultUniforms(),this},i.default.prototype.baseMaterialShader=function(){return this._assert3d("baseMaterialShader"),this._renderer.baseMaterialShader()},i.default.prototype.baseNormalShader=function(){return this._assert3d("baseNormalShader"),this._renderer.baseNormalShader()},i.default.prototype.baseColorShader=function(){return this._assert3d("baseColorShader"),this._renderer.baseColorShader()},i.default.prototype.baseStrokeShader=function(){return this._assert3d("baseStrokeShader"),this._renderer.baseStrokeShader()},i.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},i.default.prototype.texture=function(s){return this._assert3d("texture"),i.default._validateParameters("texture",arguments),s.gifProperties&&s._animateGif(this),this._renderer.drawMode=h.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=s,this._renderer._setProperty("_doFill",!0),this},i.default.prototype.textureMode=function(s){s!==h.IMAGE&&s!==h.NORMAL?console.warn("You tried to set ".concat(s," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=s},i.default.prototype.textureWrap=function(s){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:s,p=(this._renderer.textureWrapX=s,this._renderer.textureWrapY=c,!0),g=!1,b=void 0;try{for(var y,v=this._renderer.textures.values()[Symbol.iterator]();!(p=(y=v.next()).done);p=!0)y.value.setWrapMode(s,c)}catch(j){g=!0,b=j}finally{try{p||v.return==null||v.return()}finally{if(g)throw b}}},i.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var s=arguments.length,c=new Array(s),p=0;p<s;p++)c[p]=arguments[p];return i.default._validateParameters("normalMaterial",c),this._renderer.drawMode=h.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},i.default.prototype.ambientMaterial=function(s,c,p){this._assert3d("ambientMaterial"),i.default._validateParameters("ambientMaterial",arguments);var g=i.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=g._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},i.default.prototype.emissiveMaterial=function(s,c,p,g){this._assert3d("emissiveMaterial"),i.default._validateParameters("emissiveMaterial",arguments);var b=i.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=b._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},i.default.prototype.specularMaterial=function(s,c,p,g){this._assert3d("specularMaterial"),i.default._validateParameters("specularMaterial",arguments);var b=i.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=b._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},i.default.prototype.shininess=function(s){return this._assert3d("shininess"),i.default._validateParameters("shininess",arguments),this._renderer._useShininess=s=s<1?1:s,this},i.default.prototype.metalness=function(s){return this._assert3d("metalness"),s=1-Math.exp(-s/100),this._renderer._useMetalness=s,this},i.default.RendererGL.prototype._applyColorBlend=function(s,b){var p=this.GL,g=this.drawMode===h.TEXTURE,b=b||this.userFillShader||this.userStrokeShader||this.userPointShader||g||this.curBlendMode!==h.BLEND||s[s.length-1]<1||this._isErasing;return b!==this._isBlending&&(b||this.curBlendMode!==h.BLEND&&this.curBlendMode!==h.ADD?p.enable(p.BLEND):p.disable(p.BLEND),p.depthMask(!0),this._isBlending=b),this._applyBlendMode(),s},i.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var s=this.GL;switch(this.curBlendMode){case h.BLEND:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA);break;case h.ADD:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ONE,s.ONE);break;case h.REMOVE:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ZERO,s.ONE_MINUS_SRC_ALPHA);break;case h.MULTIPLY:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.DST_COLOR,s.ONE_MINUS_SRC_ALPHA);break;case h.SCREEN:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_COLOR);break;case h.EXCLUSION:s.blendEquationSeparate(s.FUNC_ADD,s.FUNC_ADD),s.blendFuncSeparate(s.ONE_MINUS_DST_COLOR,s.ONE_MINUS_SRC_COLOR,s.ONE,s.ONE);break;case h.REPLACE:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ONE,s.ZERO);break;case h.SUBTRACT:s.blendEquationSeparate(s.FUNC_REVERSE_SUBTRACT,s.FUNC_ADD),s.blendFuncSeparate(s.ONE,s.ONE,s.ONE,s.ONE_MINUS_SRC_ALPHA);break;case h.DARKEST:this.blendExt?(s.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,s.FUNC_ADD),s.blendFuncSeparate(s.ONE,s.ONE,s.ONE,s.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case h.LIGHTEST:this.blendExt?(s.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,s.FUNC_ADD),s.blendFuncSeparate(s.ONE,s.ONE,s.ONE,s.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var m=i.default;u.default=m},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(t,f,u){t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(i,h){for(var _=0;_<h.length;_++){var m=h[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(i,m.key,m)}}o.default.prototype.camera=function(){var i;this._assert3d("camera");for(var h=arguments.length,_=new Array(h),m=0;m<h;m++)_[m]=arguments[m];return o.default._validateParameters("camera",_),(i=this._renderer._curCamera).camera.apply(i,_),this},o.default.prototype.perspective=function(){var i;this._assert3d("perspective");for(var h=arguments.length,_=new Array(h),m=0;m<h;m++)_[m]=arguments[m];return o.default._validateParameters("perspective",_),(i=this._renderer._curCamera).perspective.apply(i,_),this},o.default.prototype.linePerspective=function(i){if(o.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof o.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(i===void 0)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=i},o.default.prototype.ortho=function(){var i;this._assert3d("ortho");for(var h=arguments.length,_=new Array(h),m=0;m<h;m++)_[m]=arguments[m];return o.default._validateParameters("ortho",_),(i=this._renderer._curCamera).ortho.apply(i,_),this},o.default.prototype.frustum=function(){var i;this._assert3d("frustum");for(var h=arguments.length,_=new Array(h),m=0;m<h;m++)_[m]=arguments[m];return o.default._validateParameters("frustum",_),(i=this._renderer._curCamera).frustum.apply(i,_),this},o.default.prototype.createCamera=function(){this._assert3d("createCamera");var i=new o.default.Camera(this._renderer);return i._computeCameraDefaultSettings(),i._setDefaultCamera(),this._renderer._curCamera=i},o.default.Camera=(function(){function i(m){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this._renderer=m,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new o.default.Matrix,this.projMatrix=new o.default.Matrix,this.yScale=1}var h,_;return h=i,(_=[{key:"perspective",value:function(g,s,c,p){this.cameraType=0<arguments.length?"custom":"default",g===void 0?(g=this.defaultCameraFOV,this.cameraFOV=g):this.cameraFOV=this._renderer._pInst._toRadians(g),s===void 0&&(s=this.defaultAspectRatio),c===void 0&&(c=this.defaultCameraNear),p===void 0&&(p=this.defaultCameraFar),c<=1e-4&&(c=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),p<c&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=s,this.cameraNear=c,this.cameraFar=p,this.projMatrix=o.default.Matrix.identity();var g=1/Math.tan(this.cameraFOV/2),b=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(g/s,0,0,0,0,-g*this.yScale,0,0,0,0,(p+c)*b,-1,0,0,2*p*c*b,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(O,P,c,p,g,b){var M=this.fbo||this._renderer,M=(O===void 0&&(O=-M.width/2),P===void 0&&(P=+M.width/2),c===void 0&&(c=-M.height/2),p===void 0&&(p=+M.height/2),g===void 0&&(g=0),b===void 0&&(b=Math.max(M.width,M.height)+800),this.cameraNear=g,P-O),y=p-c,v=(this.cameraFar=b)-g,j=2/M,x=2/y*this.yScale,E=-2/v,P=-(P+O)/M,O=-(p+c)/y,M=-(b+g)/v;this.projMatrix=o.default.Matrix.identity(),this.projMatrix.set(j,0,0,0,0,-x,0,0,0,0,E,0,P,O,M,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(O,P,c,p,g,b){O===void 0&&(O=.05*-this._renderer.width),P===void 0&&(P=.05*+this._renderer.width),c===void 0&&(c=.05*+this._renderer.height),p===void 0&&(p=.05*-this._renderer.height),g===void 0&&(g=this.defaultCameraNear),b===void 0&&(b=this.defaultCameraFar),this.cameraNear=g;var M=P-O,y=p-c,v=(this.cameraFar=b)-g,j=2*g/M,x=2*g/y*this.yScale,E=-2*b*g/v,P=(P+O)/M,O=(p+c)/y,M=-(b+g)/v;this.projMatrix=o.default.Matrix.identity(),this.projMatrix.set(j,0,0,0,0,-x,0,0,P,O,M,-1,0,0,E,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(j,x,E,P){var g=this.centerX,b=this.centerY,y=this.centerZ,v=(g-=this.eyeX,b-=this.eyeY,y-=this.eyeZ,o.default.Matrix.identity(this._renderer._pInst)),j=(v.rotate(this._renderer._pInst._toRadians(j),x,E,P),[g*v.mat4[0]+b*v.mat4[4]+y*v.mat4[8],g*v.mat4[1]+b*v.mat4[5]+y*v.mat4[9],g*v.mat4[2]+b*v.mat4[6]+y*v.mat4[10]]),x=(j[0]+=this.eyeX,j[1]+=this.eyeY,j[2]+=this.eyeZ,this.upX*v.mat4[0]+this.upY*v.mat4[4]+this.upZ*v.mat4[8]),E=this.upX*v.mat4[1]+this.upY*v.mat4[5]+this.upZ*v.mat4[9],P=this.upX*v.mat4[2]+this.upY*v.mat4[6]+this.upZ*v.mat4[10];this.camera(this.eyeX,this.eyeY,this.eyeZ,j[0],j[1],j[2],x,E,P)}},{key:"roll",value:function(c){var s=this._getLocalAxes(),c=o.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(c),s.z[0],s.z[1],s.z[2]).rotateVector(new o.default.Vector(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,c.x,c.y,c.z)}},{key:"pan",value:function(m){var s=this._getLocalAxes();this._rotateView(m,s.y[0],s.y[1],s.y[2])}},{key:"tilt",value:function(m){var s=this._getLocalAxes();this._rotateView(m,s.x[0],s.x[1],s.x[2])}},{key:"lookAt",value:function(m,s,c){this.camera(this.eyeX,this.eyeY,this.eyeZ,m,s,c,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(m,s,c,p,g,b,y,v,j){return m===void 0&&(m=this.defaultEyeX,s=this.defaultEyeY,c=this.defaultEyeZ,p=m,g=s,v=1,j=y=b=0),this.eyeX=m,this.eyeY=s,this.eyeZ=c,p!==void 0&&(this.centerX=p,this.centerY=g,this.centerZ=b),y!==void 0&&(this.upX=y,this.upY=v,this.upZ=j),p=this._getLocalAxes(),this.cameraMatrix.set(p.x[0],p.y[0],p.z[0],0,p.x[1],p.y[1],p.z[1],0,p.x[2],p.y[2],p.z[2],0,0,0,0,1),g=-m,this.cameraMatrix.translate([g,-s,-c]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(p,g,c){var b=this._getLocalAxes(),p=[b.x[0]*p,b.x[1]*p,b.x[2]*p],g=[b.y[0]*g,b.y[1]*g,b.y[2]*g],b=[b.z[0]*c,b.z[1]*c,b.z[2]*c];this.camera(this.eyeX+p[0]+g[0]+b[0],this.eyeY+p[1]+g[1]+b[1],this.eyeZ+p[2]+g[2]+b[2],this.centerX+p[0]+g[0]+b[0],this.centerY+p[1]+g[1]+b[1],this.centerZ+p[2]+g[2]+b[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(m,s,c){var p=m-this.eyeX,g=s-this.eyeY,b=c-this.eyeZ;this.camera(m,s,c,this.centerX+p,this.centerY+g,this.centerZ+b,this.upX,this.upY,this.upZ)}},{key:"set",value:function(m){for(var s=0,c=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale","useLinePerspective"];s<c.length;s++){var p=c[s];this[p]=m[p]}this.cameraMatrix=m.cameraMatrix.copy(),this.projMatrix=m.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(m,s,c){var p,g,b,y,v,j,x,E,P,O,M,D,U,I,B,R,G,z;c===0?this.set(m):c===1?this.set(s):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=m.projMatrix.mat4[0]*Math.pow(s.projMatrix.mat4[0]/m.projMatrix.mat4[0],c),this.projMatrix.mat4[5]=m.projMatrix.mat4[5]*Math.pow(s.projMatrix.mat4[5]/m.projMatrix.mat4[5],c),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),y=new o.default.Vector(m.eyeX,m.eyeY,m.eyeZ),v=new o.default.Vector(s.eyeX,s.eyeY,s.eyeZ),R=new o.default.Vector(m.centerX,m.centerY,m.centerZ),z=new o.default.Vector(s.centerX,s.centerY,s.centerZ),b=o.default.Vector.dist(y,R),p=o.default.Vector.dist(v,z),p=b*Math.pow(p/b,c),b=o.default.Vector.sub(y,v),g=1,1e-6<(G=(I=y.copy().sub(v).sub(R).add(z)).magSq())&&(g=o.default.Vector.dot(b,I)/G,g=Math.max(0,Math.min(g,1))),b=o.default.Vector.lerp(o.default.Vector.lerp(y,R,g),o.default.Vector.lerp(v,z,g),c),I=m.cameraMatrix.createSubMatrix3x3(),G=s.cameraMatrix.createSubMatrix3x3(),y=I.row(2),R=G.row(2),v=I.row(1),z=G.row(1),m=new o.default.Vector,s=new o.default.Vector,j=new o.default.Vector,x=new o.default.Vector,1-(E=.5*((I=(G=G.mult3x3(I.copy().transpose3x3())).diagonal())[0]+I[1]+I[2]-1))<1e-7?(m.set(o.default.Vector.lerp(y,R,c)).normalize(),j.set(m).mult(g*p).add(b),x.set(m).mult((g-1)*p).add(b),s.set(o.default.Vector.lerp(v,z,c)).normalize()):(R=1/(1-E),z=Math.max(I[0],I[1],I[2]),D=G.mat3[1]+G.mat3[3],U=G.mat3[2]+G.mat3[6],B=G.mat3[5]+G.mat3[7],z=z===I[0]?(O=.5*D*(R/=P=Math.sqrt((I[0]-E)*R)),M=.5*U*R,.5*(G.mat3[7]-G.mat3[5])/P):z===I[1]?(M=.5*B*(R/=O=Math.sqrt((I[1]-E)*R)),P=.5*D*R,.5*(G.mat3[2]-G.mat3[6])/O):(P=.5*U*(R/=M=Math.sqrt((I[2]-E)*R)),O=.5*B*R,.5*(G.mat3[3]-G.mat3[1])/M),D=c*Math.atan2(z,E),U=Math.cos(D),I=Math.sin(D),(z=new o.default.Matrix("mat3",[U+(B=1-U)*P*P,B*(R=P*O)+I*M,B*(G=M*P)-I*O,B*R-I*M,U+B*O*O,B*(c=O*M)+I*P,B*G+I*O,B*c-I*P,U+B*M*M])).multiplyVec3(y,m),j.set(m).mult(g*p).add(b),x.set(m).mult((g-1)*p).add(b),z.multiplyVec3(v,s)),this.camera(j.x,j.y,j.z,x.x,x.y,x.z,s.x,s.y,s.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var m=new o.default.Camera(this._renderer);return m.cameraFOV=this.cameraFOV,m.aspectRatio=this.aspectRatio,m.eyeX=this.eyeX,m.eyeY=this.eyeY,m.eyeZ=this.eyeZ,m.centerX=this.centerX,m.centerY=this.centerY,m.centerZ=this.centerZ,m.upX=this.upX,m.upY=this.upY,m.upZ=this.upZ,m.cameraNear=this.cameraNear,m.cameraFar=this.cameraFar,m.cameraType=this.cameraType,m.useLinePerspective=this.useLinePerspective,m.cameraMatrix=this.cameraMatrix.copy(),m.projMatrix=this.projMatrix.copy(),m.yScale=this.yScale,m}},{key:"_getLocalAxes",value:function(){var m=this.eyeX-this.centerX,s=this.eyeY-this.centerY,c=this.eyeZ-this.centerZ,y=Math.sqrt(m*m+s*s+c*c),y=(y!==0&&(m/=y,s/=y,c/=y),this.upX),p=(v=this.upY)*c-(j=this.upZ)*s,g=-y*c+j*m,b=y*s-v*m,y=s*b-c*g,v=-m*b+c*p,j=m*g-s*p,x=Math.sqrt(p*p+g*g+b*b),x=(x!==0&&(p/=x,g/=x,b/=x),Math.sqrt(y*y+v*v+j*j));return x!==0&&(y/=x,v/=x,j/=x),{x:[p,g,b],y:[y,v,j],z:[m,s,c]}}},{key:"_orbit",value:function(m,x,j){var g=this.eyeX-this.centerX,b=this.eyeY-this.centerY,y=this.eyeZ-this.centerZ,p=Math.hypot(g,b,y),g=new o.default.Vector(g,b,y).normalize(),b=new o.default.Vector(this.upX,this.upY,this.upZ).normalize(),y=o.default.Vector.cross(b,g).normalize(),v=o.default.Vector.cross(y,b),j=((p=(p*=Math.pow(10,j))<this.cameraNear?this.cameraNear:p)>this.cameraFar&&(p=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,o.default.Vector.dot(g,b))))+x),x=m;(j<=0||j>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),b.mult(Math.cos(j)),v.mult(Math.cos(x)*Math.sin(j)),y.mult(Math.sin(x)*Math.sin(j)),g.set(b).add(v).add(y),this.eyeX=p*g.x+this.centerX,this.eyeY=p*g.y+this.centerY,this.eyeZ=p*g.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(j,x,P){var g=this.eyeX-this.centerX,b=this.eyeY-this.centerY,y=this.eyeZ-this.centerZ,p=Math.hypot(g,b,y),g=new o.default.Vector(g,b,y).normalize(),b=new o.default.Vector(this.upX,this.upY,this.upZ),y=o.default.Vector.cross(b,g).normalize(),v=o.default.Vector.cross(g,y),O=Math.atan2(x,j),O=(v.mult(Math.sin(O)),y.mult(Math.cos(O)).add(v),Math.sqrt(j*j+x*x)),v=o.default.Vector.cross(g,y),j=((p=(p*=Math.pow(10,P))<this.cameraNear?this.cameraNear:p)>this.cameraFar&&(p=this.cameraFar),Math.cos(O)),x=Math.sin(O),P=b.dot(g),O=b.dot(y),E=P*j+O*x,P=-P*x+O*j,O=b.dot(v);b.x=E*g.x+P*y.x+O*v.x,b.y=E*g.y+P*y.y+O*v.y,b.z=E*g.z+P*y.z+O*v.z,y.mult(-x),g.mult(j).add(y).mult(p),this.camera(g.x+this.centerX,g.y+this.centerY,g.z+this.centerZ,this.centerX,this.centerY,this.centerZ,b.x,b.y,b.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&l(h.prototype,_),i})(),o.default.prototype.setCamera=function(i){this._renderer._curCamera=i,this._renderer.uPMatrix.set(i.projMatrix),this._renderer.uViewMatrix.set(i.cameraMatrix)},t=o.default.Camera,u.default=t},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(t,f,u){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(l,i){for(var h=0;h<i.length;h++){var _=i[h];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,_.key,_)}}t.default.DataArray=(function(){function l(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,m=this,s=l;if(!(m instanceof s))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(_),this.initialLength=_}var i,h;return i=l,(h=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var _;this.length<this.data.length/2&&(_=1<<Math.ceil(Math.log2(this.length)),(_=new Float32Array(_)).set(this.data.subarray(0,this.length),0),this.data=_)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var _=arguments.length,m=new Array(_),s=0;s<_;s++)m[s]=arguments[s];this.ensureLength(this.length+m.length),this.data.set(m,this.length),this.length+=m.length}},{key:"slice",value:function(_,m){return this.data.slice(_,Math.min(m,this.length))}},{key:"subArray",value:function(_,m){return this.data.subarray(_,Math.min(m,this.length))}},{key:"ensureLength",value:function(_){for(;this.data.length<_;){var m=new Float32Array(2*this.data.length);m.set(this.data,0),this.data=m}}}])&&o(i.prototype,h),l})(),t=t.default.DataArray,u.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(D,f,u){function o(U){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(U)}function l(U){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(I){return o(I)}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":o(I)})(U)}D("core-js/modules/es.symbol"),D("core-js/modules/es.symbol.description"),D("core-js/modules/es.symbol.iterator"),D("core-js/modules/es.array.fill"),D("core-js/modules/es.array.includes"),D("core-js/modules/es.array.iterator"),D("core-js/modules/es.object.get-own-property-descriptor"),D("core-js/modules/es.object.get-prototype-of"),D("core-js/modules/es.object.to-string"),D("core-js/modules/es.reflect.construct"),D("core-js/modules/es.reflect.get"),D("core-js/modules/es.regexp.to-string"),D("core-js/modules/es.string.includes"),D("core-js/modules/es.string.iterator"),D("core-js/modules/es.typed-array.float32-array"),D("core-js/modules/es.typed-array.uint8-array"),D("core-js/modules/es.typed-array.uint8-clamped-array"),D("core-js/modules/es.typed-array.copy-within"),D("core-js/modules/es.typed-array.every"),D("core-js/modules/es.typed-array.fill"),D("core-js/modules/es.typed-array.filter"),D("core-js/modules/es.typed-array.find"),D("core-js/modules/es.typed-array.find-index"),D("core-js/modules/es.typed-array.for-each"),D("core-js/modules/es.typed-array.includes"),D("core-js/modules/es.typed-array.index-of"),D("core-js/modules/es.typed-array.iterator"),D("core-js/modules/es.typed-array.join"),D("core-js/modules/es.typed-array.last-index-of"),D("core-js/modules/es.typed-array.map"),D("core-js/modules/es.typed-array.reduce"),D("core-js/modules/es.typed-array.reduce-right"),D("core-js/modules/es.typed-array.reverse"),D("core-js/modules/es.typed-array.set"),D("core-js/modules/es.typed-array.slice"),D("core-js/modules/es.typed-array.some"),D("core-js/modules/es.typed-array.sort"),D("core-js/modules/es.typed-array.subarray"),D("core-js/modules/es.typed-array.to-locale-string"),D("core-js/modules/es.typed-array.to-string"),D("core-js/modules/es.weak-map"),D("core-js/modules/web.dom-collections.iterator"),D("core-js/modules/es.array.fill"),D("core-js/modules/es.array.includes"),D("core-js/modules/es.array.iterator"),D("core-js/modules/es.object.get-prototype-of"),D("core-js/modules/es.object.to-string"),D("core-js/modules/es.string.includes"),D("core-js/modules/es.typed-array.float32-array"),D("core-js/modules/es.typed-array.uint8-array"),D("core-js/modules/es.typed-array.uint8-clamped-array"),D("core-js/modules/es.typed-array.copy-within"),D("core-js/modules/es.typed-array.every"),D("core-js/modules/es.typed-array.fill"),D("core-js/modules/es.typed-array.filter"),D("core-js/modules/es.typed-array.find"),D("core-js/modules/es.typed-array.find-index"),D("core-js/modules/es.typed-array.for-each"),D("core-js/modules/es.typed-array.includes"),D("core-js/modules/es.typed-array.index-of"),D("core-js/modules/es.typed-array.iterator"),D("core-js/modules/es.typed-array.join"),D("core-js/modules/es.typed-array.last-index-of"),D("core-js/modules/es.typed-array.map"),D("core-js/modules/es.typed-array.reduce"),D("core-js/modules/es.typed-array.reduce-right"),D("core-js/modules/es.typed-array.reverse"),D("core-js/modules/es.typed-array.set"),D("core-js/modules/es.typed-array.slice"),D("core-js/modules/es.typed-array.some"),D("core-js/modules/es.typed-array.sort"),D("core-js/modules/es.typed-array.subarray"),D("core-js/modules/es.typed-array.to-locale-string"),D("core-js/modules/es.typed-array.to-string"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var i=(M=D("../core/main"))&&M.__esModule?M:{default:M},h=(function(U){if(U&&U.__esModule)return U;if(U===null||l(U)!=="object"&&typeof U!="function")return{default:U};var I=s();if(I&&I.has(U))return I.get(U);var B,R={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(B in U){var z;Object.prototype.hasOwnProperty.call(U,B)&&((z=G?Object.getOwnPropertyDescriptor(U,B):null)&&(z.get||z.set)?Object.defineProperty(R,B,z):R[B]=U[B])}return R.default=U,I&&I.set(U,R),R})(D("../core/constants")),_=D("./p5.Texture"),m=D("./p5.RendererGL");function s(){var U;return typeof WeakMap!="function"?null:(U=new WeakMap,s=function(){return U},U)}function c(U,I){return(function(B){if(Array.isArray(B))return B})(U)||(function(B,R){if(Symbol.iterator in Object(B)||Object.prototype.toString.call(B)==="[object Arguments]"){var G=[],z=!0,q=!1,Y=void 0;try{for(var $,X=B[Symbol.iterator]();!(z=($=X.next()).done)&&(G.push($.value),!R||G.length!==R);z=!0);}catch(ee){q=!0,Y=ee}finally{try{z||X.return==null||X.return()}finally{if(q)throw Y}}return G}})(U,I)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function p(U,I,B){return I in U?Object.defineProperty(U,I,{value:B,enumerable:!0,configurable:!0,writable:!0}):U[I]=B,U}function g(U,I){if(!(U instanceof I))throw new TypeError("Cannot call a class as a function")}function b(U,I){for(var B=0;B<I.length;B++){var R=I[B];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(U,R.key,R)}}function y(U,I,B){I&&b(U.prototype,I)}function v(U,I,B){return(v=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(q,G,z){var q=(function(Y,$){for(;!Object.prototype.hasOwnProperty.call(Y,$)&&(Y=E(Y))!==null;);return Y})(q,G);if(q)return(q=Object.getOwnPropertyDescriptor(q,G)).get?q.get.call(z):q.value})(U,I,B||U)}function j(U,I){return(j=Object.setPrototypeOf||function(B,R){return B.__proto__=R,B})(U,I)}function x(U){return function(){var I,B=E(U),B=(I=(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?(I=E(this).constructor,Reflect.construct(B,arguments,I)):B.apply(this,arguments),this);if(!I||l(I)!=="object"&&typeof I!="function"){if(B!==void 0)return B;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return I}}function E(U){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)})(U)}var P=(function(U){var I=R;if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(U&&U.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),U&&j(I,U);var B=x(R);function R(G){var z;return g(this,R),(z=B.call(this,G.target._renderer)).fbo=G,z.yScale=-1,z}return y(R,[{key:"_computeCameraDefaultSettings",value:function(){v(E(R.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),R})(i.default.Camera),O=(i.default.FramebufferCamera=P,(function(){function U(I,B){g(this,U),this.framebuffer=I,this.property=B}return y(U,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),U})()),M=(i.default.FramebufferTexture=O,(function(){function U(I){var B=this,R=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},G=(g(this,U),this.target=I,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=R.format||h.UNSIGNED_BYTE,this.channels=R.channels||(I._renderer._pInst._glAttributes.alpha?h.RGBA:h.RGB),this.useDepth=R.depth===void 0||R.depth,this.depthFormat=R.depthFormat||h.FLOAT,this.textureFiltering=R.textureFiltering||h.LINEAR,R.antialias===void 0?this.antialiasSamples=I._renderer._pInst._glAttributes.antialias?2:0:typeof R.antialias=="number"?this.antialiasSamples=R.antialias:this.antialiasSamples=R.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&I.webglVersion!==h.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=R.density||I.pixelDensity(),I._renderer.GL);if(this.gl=G,R.width&&R.height?(z=I._renderer._adjustDimensions(R.width,R.height),this.width=z.adjustedWidth,this.height=z.adjustedHeight,this._autoSized=!1):(R.width===void 0!=(R.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=I.width,this.height=I.height,this._autoSized=!0),this._checkIfFormatsAvailable(),R.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(R.stencil===void 0||R.stencil),this.framebuffer=G.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=G.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var z=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=z,this.draw(function(){return B.target.clear()})}return y(U,[{key:"resize",value:function(I,B){this._autoSized=!1;var R=this.target._renderer._adjustDimensions(I,B);I=R.adjustedWidth,B=R.adjustedHeight,this.width=I,this.height=B,this._handleResize()}},{key:"pixelDensity",value:function(I){if(!I)return this.density;this._autoSized=!1,this.density=I,this._handleResize()}},{key:"autoSized",value:function(I){if(I===void 0)return this._autoSized;this._autoSized=I,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var I=this.gl,I=(this.useDepth&&this.target.webglVersion===h.WEBGL&&!I.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===h.WEBGL&&this.depthFormat===h.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=h.UNSIGNED_INT),[h.UNSIGNED_BYTE,h.FLOAT,h.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=h.UNSIGNED_BYTE),this.useDepth&&![h.UNSIGNED_INT,h.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=h.FLOAT),(0,_.checkWebGLCapabilities)(this.target._renderer));I.float||this.format!==h.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=h.UNSIGNED_BYTE),this.useDepth&&!I.float&&this.depthFormat===h.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=h.UNSIGNED_INT),I.halfFloat||this.format!==h.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=h.UNSIGNED_BYTE),this.channels===h.RGB&&[h.FLOAT,h.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=h.RGBA)}},{key:"_recreateTextures",value:function(){var I=this.gl,B=(this._updateSize(),I.getParameter(I.TEXTURE_BINDING_2D)),R=I.getParameter(I.FRAMEBUFFER_BINDING),G=I.createTexture();if(!G)throw new Error("Unable to create color texture");I.bindTexture(I.TEXTURE_2D,G);var z=this._glColorFormat();if(I.texImage2D(I.TEXTURE_2D,0,z.internalFormat,this.width*this.density,this.height*this.density,0,z.format,z.type,null),this.colorTexture=G,I.bindFramebuffer(I.FRAMEBUFFER,this.framebuffer),I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,G,0),this.useDepth){var G=I.createTexture();if(!G)throw new Error("Unable to create depth texture");var q=this._glDepthFormat();I.bindTexture(I.TEXTURE_2D,G),I.texImage2D(I.TEXTURE_2D,0,q.internalFormat,this.width*this.density,this.height*this.density,0,q.format,q.type,null),I.framebufferTexture2D(I.FRAMEBUFFER,this.useStencil?I.DEPTH_STENCIL_ATTACHMENT:I.DEPTH_ATTACHMENT,I.TEXTURE_2D,G,0),this.depthTexture=G}this.antialias&&(this.colorRenderbuffer=I.createRenderbuffer(),I.bindRenderbuffer(I.RENDERBUFFER,this.colorRenderbuffer),I.renderbufferStorageMultisample(I.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,I.getParameter(I.MAX_SAMPLES))),z.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(q=this._glDepthFormat(),this.depthRenderbuffer=I.createRenderbuffer(),I.bindRenderbuffer(I.RENDERBUFFER,this.depthRenderbuffer),I.renderbufferStorageMultisample(I.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,I.getParameter(I.MAX_SAMPLES))),q.internalFormat,this.width*this.density,this.height*this.density)),I.bindFramebuffer(I.FRAMEBUFFER,this.aaFramebuffer),I.framebufferRenderbuffer(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&I.framebufferRenderbuffer(I.FRAMEBUFFER,this.useStencil?I.DEPTH_STENCIL_ATTACHMENT:I.DEPTH_ATTACHMENT,I.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new O(this,"depthTexture"),G=I.NEAREST,this.depthP5Texture=new i.default.Texture(this.target._renderer,this.depth,{minFilter:G,magFilter:G}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new O(this,"colorTexture"),z=this.textureFiltering===h.LINEAR?I.LINEAR:I.NEAREST,this.colorP5Texture=new i.default.Texture(this.target._renderer,this.color,{minFilter:z,magFilter:z}),this.target._renderer.textures.set(this.color,this.colorP5Texture),I.bindTexture(I.TEXTURE_2D,B),I.bindFramebuffer(I.FRAMEBUFFER,R)}},{key:"_glColorFormat",value:function(){var I,B,R=this.gl,G=this.format===h.FLOAT?R.FLOAT:this.format===h.HALF_FLOAT?this.target.webglVersion===h.WEBGL2?R.HALF_FLOAT:R.getExtension("OES_texture_half_float").HALF_FLOAT_OES:R.UNSIGNED_BYTE,z=this.channels===h.RGBA?R.RGBA:R.RGB;return{internalFormat:this.target.webglVersion===h.WEBGL2?(p(B={},R.FLOAT,p({},R.RGBA,R.RGBA32F)),p(B,R.HALF_FLOAT,p({},R.RGBA,R.RGBA16F)),p(B,R.UNSIGNED_BYTE,(p(I={},R.RGBA,R.RGBA8),p(I,R.RGB,R.RGB8),I)),B[G][z]):this.format===h.HALF_FLOAT?R.RGBA:z,format:z,type:G}}},{key:"_glDepthFormat",value:function(){var R=this.gl,I=this.useStencil?this.depthFormat===h.FLOAT?R.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===h.WEBGL2?R.UNSIGNED_INT_24_8:R.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===h.FLOAT?R.FLOAT:R.UNSIGNED_INT,B=this.useStencil?R.DEPTH_STENCIL:R.DEPTH_COMPONENT,R=this.useStencil?this.depthFormat===h.FLOAT?R.DEPTH32F_STENCIL8:this.target.webglVersion===h.WEBGL2?R.DEPTH24_STENCIL8:R.DEPTH_STENCIL:this.target.webglVersion===h.WEBGL2?this.depthFormat===h.FLOAT?R.DEPTH_COMPONENT32F:R.DEPTH_COMPONENT24:R.DEPTH_COMPONENT;return{internalFormat:R,format:B,type:I}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var G=this.color,I=this.depth,B=this.colorRenderbuffer,R=this.depthRenderbuffer,G=(this._deleteTexture(G),I&&this._deleteTexture(I),this.gl);B&&G.deleteRenderbuffer(B),R&&G.deleteRenderbuffer(R),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var I=new P(this);return I._computeCameraDefaultSettings(),I._setDefaultCamera(),this.target._renderer._curCamera=I}},{key:"_deleteTexture",value:function(I){this.gl.deleteTexture(I.rawTexture()),this.target._renderer.textures.delete(I)}},{key:"remove",value:function(){var I=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),I.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&I.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&I.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&I.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var I=this.gl;I.bindFramebuffer(I.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var I=this.gl,B=(I.bindFramebuffer(I.READ_FRAMEBUFFER,this.aaFramebuffer),I.bindFramebuffer(I.DRAW_FRAMEBUFFER,this.framebuffer),[[I.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&B.push([I.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var R=0,G=B;R<G.length;R++){var q=c(G[R],2),z=q[0],q=q[1];I.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,z,q)}}}},{key:"end",value:function(){var I=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(I.bindFramebuffer(I.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(I){this.begin(),I(),this.end()}},{key:"loadPixels",value:function(){var I=this.gl,B=this.target._renderer.activeFramebuffer(),R=(I.bindFramebuffer(I.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,m.readPixelsWebGL)(this.pixels,I,this.framebuffer,0,0,this.width*this.density,this.height*this.density,R.format,R.type),B?I.bindFramebuffer(I.FRAMEBUFFER,B._framebufferToBind()):I.bindFramebuffer(I.FRAMEBUFFER,null)}},{key:"get",value:function(I,B,R,G){i.default._validateParameters("p5.Framebuffer.get",arguments);var z=this._glColorFormat();if(I===void 0&&B===void 0)B=I=0,R=this.width,G=this.height;else if(R===void 0&&G===void 0)return(I<0||B<0||I>=this.width||B>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),I=this.target.constrain(I,0,this.width-1),B=this.target.constrain(B,0,this.height-1)),(0,m.readPixelWebGL)(this.gl,this.framebuffer,I*this.density,B*this.density,z.format,z.type);I=this.target.constrain(I,0,this.width-1),B=this.target.constrain(B,0,this.height-1),R=this.target.constrain(R,1,this.width-I),G=this.target.constrain(G,1,this.height-B);for(var q=(0,m.readPixelsWebGL)(void 0,this.gl,this.framebuffer,I*this.density,B*this.density,R*this.density,G*this.density,z.format,z.type),Y=new Uint8ClampedArray(R*G*this.density*this.density*4),$=(Y.fill(255),z.type===this.gl.RGB?3:4),X=0;X<G*this.density;X++)for(var ee=0;ee<R*this.density;ee++)for(var K=0;K<4;K++){var ne,T=4*(X*R*this.density+ee)+K;K<$&&(ne=$==4?T:(X*R*this.density+ee)*$+K,Y[T]=q[ne])}return I=new i.default.Image(R*this.density,G*this.density),I.imageData=I.canvas.getContext("2d").createImageData(I.width,I.height),I.imageData.data.set(Y),I.pixels=I.imageData.data,I.updatePixels(),this.density!==1&&I.resize(R,G),I}},{key:"updatePixels",value:function(){var I=this.gl,B=(this.colorP5Texture.bindTexture(),this._glColorFormat()),R=B.format===I.RGBA?4:3,R=this.width*this.height*this.density*this.density*R,G=B.type===I.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof G)||this.pixels.length!==R)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");I.texImage2D(I.TEXTURE_2D,0,B.internalFormat,this.width*this.density,this.height*this.density,0,B.format,B.type,this.pixels),this.colorP5Texture.unbindTexture(),G=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(I.clearDepth(1),I.clear(I.DEPTH_BUFFER_BIT)),this.end()):(I.bindFramebuffer(I.FRAMEBUFFER,this.framebuffer),this.useDepth&&(I.clearDepth(1),I.clear(I.DEPTH_BUFFER_BIT)),G?I.bindFramebuffer(I.FRAMEBUFFER,G._framebufferToBind()):I.bindFramebuffer(I.FRAMEBUFFER,null))}}]),U})()),D=i.default.Framebuffer=M;u.default=D},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(t,f,u){function o(g){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(g)}function l(g){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(b){return o(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":o(b)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var i=(p=t("../core/main"))&&p.__esModule?p:{default:p},h=(function(g){if(g&&g.__esModule)return g;if(g===null||l(g)!=="object"&&typeof g!="function")return{default:g};var b=_();if(b&&b.has(g))return b.get(g);var y,v={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in g){var x;Object.prototype.hasOwnProperty.call(g,y)&&((x=j?Object.getOwnPropertyDescriptor(g,y):null)&&(x.get||x.set)?Object.defineProperty(v,y,x):v[y]=g[y])}return v.default=g,b&&b.set(g,v),v})(t("../core/constants"));function _(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,_=function(){return g},g)}function m(g){return(function(b){if(Array.isArray(b)){for(var y=0,v=new Array(b.length);y<b.length;y++)v[y]=b[y];return v}})(g)||(function(b){if(Symbol.iterator in Object(b)||Object.prototype.toString.call(b)==="[object Arguments]")return Array.from(b)})(g)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function s(g,b){return(function(y){if(Array.isArray(y))return y})(g)||(function(y,v){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]"){var j=[],x=!0,E=!1,P=void 0;try{for(var O,M=y[Symbol.iterator]();!(x=(O=M.next()).done)&&(j.push(O.value),!v||j.length!==v);x=!0);}catch(D){E=!0,P=D}finally{try{x||M.return==null||M.return()}finally{if(E)throw P}}return j}})(g,b)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function c(g,b){for(var y=0;y<b.length;y++){var v=b[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}i.default.Geometry=(function(){function g(v,j,x){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new i.default.DataArray,this.lineTangentsIn=new i.default.DataArray,this.lineTangentsOut=new i.default.DataArray,this.lineSides=new i.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new i.default.DataArray,this.detailX=v!==void 0?v:1,this.detailY=j!==void 0?j:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,x instanceof Function&&x.call(this)}var b,y;return b=g,(y=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var v=new i.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),j=new i.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),x=0;x<this.vertices.length;x++){var E=this.vertices[x];v.x=Math.min(v.x,E.x),v.y=Math.min(v.y,E.y),v.z=Math.min(v.z,E.z),j.x=Math.max(j.x,E.x),j.y=Math.max(j.y,E.y),j.z=Math.max(j.z,E.z)}var P=new i.default.Vector(j.x-v.x,j.y-v.y,j.z-v.z),O=new i.default.Vector((v.x+j.x)/2,(v.y+j.y)/2,(v.z+j.z)/2);this.boundingBoxCache={min:v,max:j,size:P,offset:O}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(var v=0;v<this.vertexColors.length;v+=4)if(this.vertexColors[v+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(var v=0;v<this.lineVertexColors.length;v+=4)if(this.lineVertexColors[v+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var v=this,j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.obj",x="";if(this.vertices.forEach(function(O){x+="v ".concat(O.x," ").concat(O.y," ").concat(O.z,`
`)}),this.uvs&&0<this.uvs.length)for(var E=0;E<this.uvs.length;E+=2)x+="vt ".concat(this.uvs[E]," ").concat(this.uvs[E+1],`
`);this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(O){x+="vn ".concat(O.x," ").concat(O.y," ").concat(O.z,`
`)}),this.faces.forEach(function(O){var M="f";O.forEach(function(D){M=M+" "+(D+1),(0<v.vertexNormals.length||0<v.uvs.length)&&(M+="/",0<v.uvs.length&&(M+=D+1),M+="/",0<v.vertexNormals.length&&(M+=D+1))}),x+=M+`
`});var P=new Blob([x],{type:"text/plain"});i.default.prototype.downloadFile(P,j,"obj")}},{key:"saveStl",value:function(){var v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.stl",j=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).binary,j=j!==void 0&&j,x=v.substring(0,v.lastIndexOf(".")),E=[],P=!0,O=!1,M=void 0;try{for(var D,U=this.faces[Symbol.iterator]();!(P=(D=U.next()).done);P=!0){var I=D.value,B=i.default.Vector.sub(this.vertices[I[1]],this.vertices[I[0]]),R=i.default.Vector.sub(this.vertices[I[2]],this.vertices[I[0]]),G=B.y*R.z-B.z*R.y,z=B.z*R.x-B.x*R.z,q=B.x*R.y-B.y*R.x;E.push(new i.default.Vector(G,z,q).normalize())}}catch(Se){O=!0,M=Se}finally{try{P||U.return==null||U.return()}finally{if(O)throw M}}if(j){var Y,$=80,O=2*this.faces.length+3*this.faces.length*4*4+80+4,M=new ArrayBuffer(O);(Y=new DataView(M)).setUint32($,this.faces.length,!0),$+=4;for(var X=0,ee=Object.entries(this.faces);X<ee.length;X++){var K=s(ee[X],2),T=K[0],K=K[1],T=E[T],ne=(Y.setFloat32($,T.x,!0),$+=4,Y.setFloat32($,T.y,!0),$+=4,Y.setFloat32($,T.z,!0),$+=4,!0),T=!1,F=void 0;try{for(var W,J=K[Symbol.iterator]();!(ne=(W=J.next()).done);ne=!0){var oe=W.value,se=this.vertices[oe];Y.setFloat32($,se.x,!0),$+=4,Y.setFloat32($,se.y,!0),$+=4,Y.setFloat32($,se.z,!0),$+=4}}catch(Xe){T=!0,F=Xe}finally{try{ne||J.return==null||J.return()}finally{if(T)throw F}}Y.setUint16($,0,!0),$+=2}}else{Y="solid "+x+`
`;for(var fe=0,ve=Object.entries(this.faces);fe<ve.length;fe++){var de=s(ve[fe],2),pe=de[0],de=de[1],pe=E[pe],be=(Y=Y+(" facet norm "+pe.x+" "+pe.y+" "+pe.z+`
`)+`  outer loop
`,!0),pe=!1,ie=void 0;try{for(var ye,_e=de[Symbol.iterator]();!(be=(ye=_e.next()).done);be=!0){var Te=ye.value,Ee=this.vertices[Te];Y+="   vertex "+Ee.x+" "+Ee.y+" "+Ee.z+`
`}}catch(Se){pe=!0,ie=Se}finally{try{be||_e.return==null||_e.return()}finally{if(pe)throw ie}}Y=Y+`  endloop
 endfacet
`}Y+="endsolid "+x+`
`}j=new Blob([Y],{type:"text/plain"}),i.default.prototype.downloadFile(j,v,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(v,j){return j%2==0?1-v:v})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(v,j){return j%2==0?v:1-v})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var v,j,x,E=this.detailX+1,P=0;P<this.detailY;P++)for(var O=0;O<this.detailX;O++)j=(P+1)*E+O+1,this.faces.push([P*E+O,v=P*E+O+1,x=(P+1)*E+O]),this.faces.push([x,v,j]);return this}},{key:"_getFaceNormal",value:function(j){var j=this.faces[j],x=this.vertices[j[0]],P=this.vertices[j[1]],j=this.vertices[j[2]],P=i.default.Vector.sub(P,x),j=i.default.Vector.sub(j,x),x=i.default.Vector.cross(P,j),E=i.default.Vector.mag(x),P=E/(i.default.Vector.mag(P)*i.default.Vector.mag(j));return P===0||isNaN(P)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),x):(1<P&&(P=1),x.mult(Math.asin(P)/E))}},{key:"computeNormals",value:function(){var v,j=this,x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:h.FLAT,E=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,P=this.vertexNormals,O=this.vertices,M=this.faces;if(x===h.SMOOTH){for(var D={},U=[],I=Math.pow(10,E===void 0?3:E),B=function(Y){return Math.round(Y*I)/I},R=function(Y){return"".concat(B(Y.x),",").concat(B(Y.y),",").concat(B(Y.z))},G=0;G<O.length;G++){var z=O[G],q=R(z);D[q]===void 0&&(D[q]=U.length,U.push(z))}M.forEach(function(Y){for(var $=0;$<3;++$){var X=Y[$],X=O[X],X=R(X);Y[$]=D[X]}}),this.edges.forEach(function(Y){for(var $=0;$<2;++$){var X=Y[$],X=O[X],X=R(X);Y[$]=D[X]}}),this.vertices=O=U}for(v=P.length=0;v<O.length;++v)P.push(new i.default.Vector);for(M.forEach(function(Y,$){for(var X=j._getFaceNormal($),ee=0;ee<3;++ee){var K=Y[ee];P[K].add(X)}}),v=0;v<O.length;++v)P[v].normalize();return this}},{key:"averageNormals",value:function(){for(var v=0;v<=this.detailY;v++){var j=this.detailX+1,x=i.default.Vector.add(this.vertexNormals[v*j],this.vertexNormals[v*j+this.detailX]),x=i.default.Vector.div(x,2);this.vertexNormals[v*j]=x,this.vertexNormals[v*j+this.detailX]=x}return this}},{key:"averagePoleNormals",value:function(){for(var v=new i.default.Vector(0,0,0),j=0;j<this.detailX;j++)v.add(this.vertexNormals[j]);for(var v=i.default.Vector.div(v,this.detailX),x=0;x<this.detailX;x++)this.vertexNormals[x]=v;v=new i.default.Vector(0,0,0);for(var E=this.vertices.length-1;E>this.vertices.length-1-this.detailX;E--)v.add(this.vertexNormals[E]);v=i.default.Vector.div(v,this.detailX);for(var P=this.vertices.length-1;P>this.vertices.length-1-this.detailX;P--)this.vertexNormals[P]=v;return this}},{key:"_makeTriangleEdges",value:function(){for(var v=this.edges.length=0;v<this.faces.length;v++)this.edges.push([this.faces[v][0],this.faces[v][1]]),this.edges.push([this.faces[v][1],this.faces[v][2]]),this.edges.push([this.faces[v][2],this.faces[v][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var v,j=new Map,x=new Set,E=0;E<this.edges.length;E++){var P,O=this.edges[E-1],M=this.edges[E],D=this.vertices[M[0]],U=this.vertices[M[1]],I=0<this.vertexStrokeColors.length&&O?this.vertexStrokeColors.slice(4*O[1],4*(O[1]+1)):[0,0,0,0],B=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*M[0],4*(M[0]+1)):[0,0,0,0],R=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*M[1],4*(M[1]+1)):[0,0,0,0],G=U.copy().sub(D).normalize(),z=0<G.magSq();z&&this._addSegment(D,U,B,R,G),0<E&&O[1]===M[0]?x.has(M[0])||(x.add(M[0]),j.delete(M[0]),v&&z&&G.dot(v)<1-1e-8&&this._addJoin(D,v,G,B)):(z&&!x.has(M[0])&&((P=j.get(M[0]))?(this._addJoin(D,P.dir,G,B),j.delete(M[0]),x.add(M[0])):j.set(M[0],{point:D,dir:G.copy().mult(-1),color:B})),v&&!x.has(O[1])&&((P=j.get(O[1]))?(this._addJoin(this.vertices[O[1]],v,P.dir.copy().mult(-1),I),j.delete(O[1]),x.add(O[1])):j.set(O[1],{point:this.vertices[O[1]],dir:v,color:I}),v=void 0)),E!==this.edges.length-1||x.has(M[1])||((D=j.get(M[1]))?(this._addJoin(U,G,D.dir.copy().mult(-1),R),j.delete(M[1]),x.add(M[1])):j.set(M[1],{point:U,dir:G,color:R})),z&&(v=G)}var q=!0,Y=!1,$=void 0;try{for(var X,ee=j.values()[Symbol.iterator]();!(q=(X=ee.next()).done);q=!0){var K=X.value,ne=K.point,T=K.dir,F=K.color;this._addCap(ne,T,F)}}catch(W){Y=!0,$=W}finally{try{q||ee.return==null||ee.return()}finally{if(Y)throw $}}return this}},{key:"_addSegment",value:function(O,M,x,E,P){var O=O.array(),M=M.array(),D=P.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var U=0,I=[this.lineTangentsIn,this.lineTangentsOut];U<I.length;U++)for(var B=I[U],R=0;R<6;R++)B.push.apply(B,m(D));return(P=this.lineVertices).push.apply(P,m(O).concat(m(M),m(O),m(M),m(M),m(O))),(P=this.lineVertexColors).push.apply(P,m(x).concat(m(E),m(x),m(E),m(E),m(x))),this}},{key:"_addCap",value:function(v,j,x){for(var E,P=v.array(),O=j.array(),M=[0,0,0],D=0;D<6;D++)(E=this.lineVertices).push.apply(E,m(P)),(E=this.lineTangentsIn).push.apply(E,m(O)),(E=this.lineTangentsOut).push.apply(E,M),(E=this.lineVertexColors).push.apply(E,m(x));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(v,j,x,E){for(var P,O=v.array(),M=j.array(),D=x.array(),U=0;U<12;U++)(P=this.lineVertices).push.apply(P,m(O)),(P=this.lineTangentsIn).push.apply(P,m(M)),(P=this.lineTangentsOut).push.apply(P,m(D)),(P=this.lineVertexColors).push.apply(P,m(E));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var v=this.vertices[0].copy(),j=this.vertices[0].copy(),x=0;x<this.vertices.length;x++)v.x=Math.max(v.x,this.vertices[x].x),j.x=Math.min(j.x,this.vertices[x].x),v.y=Math.max(v.y,this.vertices[x].y),j.y=Math.min(j.y,this.vertices[x].y),v.z=Math.max(v.z,this.vertices[x].z),j.z=Math.min(j.z,this.vertices[x].z);for(var E=i.default.Vector.lerp(v,j,.5),P=i.default.Vector.sub(v,j),O=200/Math.max(Math.max(P.x,P.y),P.z),M=0;M<this.vertices.length;M++)this.vertices[M].sub(E),this.vertices[M].mult(O)}return this}}])&&c(b.prototype,y),g})();var p=i.default.Geometry;u.default=p},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(_,f,u){_("core-js/modules/es.array.iterator"),_("core-js/modules/es.object.to-string"),_("core-js/modules/es.typed-array.float32-array"),_("core-js/modules/es.typed-array.copy-within"),_("core-js/modules/es.typed-array.every"),_("core-js/modules/es.typed-array.fill"),_("core-js/modules/es.typed-array.filter"),_("core-js/modules/es.typed-array.find"),_("core-js/modules/es.typed-array.find-index"),_("core-js/modules/es.typed-array.for-each"),_("core-js/modules/es.typed-array.includes"),_("core-js/modules/es.typed-array.index-of"),_("core-js/modules/es.typed-array.iterator"),_("core-js/modules/es.typed-array.join"),_("core-js/modules/es.typed-array.last-index-of"),_("core-js/modules/es.typed-array.map"),_("core-js/modules/es.typed-array.reduce"),_("core-js/modules/es.typed-array.reduce-right"),_("core-js/modules/es.typed-array.reverse"),_("core-js/modules/es.typed-array.set"),_("core-js/modules/es.typed-array.slice"),_("core-js/modules/es.typed-array.some"),_("core-js/modules/es.typed-array.sort"),_("core-js/modules/es.typed-array.subarray"),_("core-js/modules/es.typed-array.to-locale-string"),_("core-js/modules/es.typed-array.to-string"),_("core-js/modules/es.array.iterator"),_("core-js/modules/es.object.to-string"),_("core-js/modules/es.typed-array.float32-array"),_("core-js/modules/es.typed-array.copy-within"),_("core-js/modules/es.typed-array.every"),_("core-js/modules/es.typed-array.fill"),_("core-js/modules/es.typed-array.filter"),_("core-js/modules/es.typed-array.find"),_("core-js/modules/es.typed-array.find-index"),_("core-js/modules/es.typed-array.for-each"),_("core-js/modules/es.typed-array.includes"),_("core-js/modules/es.typed-array.index-of"),_("core-js/modules/es.typed-array.iterator"),_("core-js/modules/es.typed-array.join"),_("core-js/modules/es.typed-array.last-index-of"),_("core-js/modules/es.typed-array.map"),_("core-js/modules/es.typed-array.reduce"),_("core-js/modules/es.typed-array.reduce-right"),_("core-js/modules/es.typed-array.reverse"),_("core-js/modules/es.typed-array.set"),_("core-js/modules/es.typed-array.slice"),_("core-js/modules/es.typed-array.some"),_("core-js/modules/es.typed-array.sort"),_("core-js/modules/es.typed-array.subarray"),_("core-js/modules/es.typed-array.to-locale-string"),_("core-js/modules/es.typed-array.to-string"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o=(_=_("../core/main"))&&_.__esModule?_:{default:_};function l(m,s){for(var c=0;c<s.length;c++){var p=s[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}var i=Array,h=function(m){return Array.isArray(m)},_=(typeof Float32Array<"u"&&(i=Float32Array,h=function(m){return Array.isArray(m)||m instanceof Float32Array}),o.default.Matrix=(function(){function m(){var g=this,b=m;if(g instanceof b)return arguments.length&&((g=arguments.length-1)<0||arguments.length<=g?void 0:arguments[g])instanceof o.default&&(this.p5=(b=arguments.length-1)<0||arguments.length<=b?void 0:arguments[b]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new i([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new i([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var s,c,p;return s=m,p=[{key:"identity",value:function(g){return new o.default.Matrix(g)}}],(c=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(g){var b=arguments;if(g instanceof o.default.Matrix?b=g.mat4:h(g)&&(b=g),b.length!==16)o.default._friendlyError("Expected 16 values but received ".concat(b.length,"."),"p5.Matrix.set");else for(var y=0;y<16;y++)this.mat4[y]=b[y];return this}},{key:"get",value:function(){return new o.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var g;return this.mat3!==void 0?((g=new o.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],g.mat3[1]=this.mat3[1],g.mat3[2]=this.mat3[2],g.mat3[3]=this.mat3[3],g.mat3[4]=this.mat3[4],g.mat3[5]=this.mat3[5],g.mat3[6]=this.mat3[6],g.mat3[7]=this.mat3[7],g.mat3[8]=this.mat3[8]):((g=new o.default.Matrix(this.p5)).mat4[0]=this.mat4[0],g.mat4[1]=this.mat4[1],g.mat4[2]=this.mat4[2],g.mat4[3]=this.mat4[3],g.mat4[4]=this.mat4[4],g.mat4[5]=this.mat4[5],g.mat4[6]=this.mat4[6],g.mat4[7]=this.mat4[7],g.mat4[8]=this.mat4[8],g.mat4[9]=this.mat4[9],g.mat4[10]=this.mat4[10],g.mat4[11]=this.mat4[11],g.mat4[12]=this.mat4[12],g.mat4[13]=this.mat4[13],g.mat4[14]=this.mat4[14],g.mat4[15]=this.mat4[15]),g}},{key:"transpose",value:function(g){var b,y,v,j,x,E;return g instanceof o.default.Matrix?(b=g.mat4[1],y=g.mat4[2],v=g.mat4[3],j=g.mat4[6],x=g.mat4[7],E=g.mat4[11],this.mat4[0]=g.mat4[0],this.mat4[1]=g.mat4[4],this.mat4[2]=g.mat4[8],this.mat4[3]=g.mat4[12],this.mat4[4]=b,this.mat4[5]=g.mat4[5],this.mat4[6]=g.mat4[9],this.mat4[7]=g.mat4[13],this.mat4[8]=y,this.mat4[9]=j,this.mat4[10]=g.mat4[10],this.mat4[11]=g.mat4[14],this.mat4[12]=v,this.mat4[13]=x,this.mat4[14]=E,this.mat4[15]=g.mat4[15]):h(g)&&(b=g[1],y=g[2],v=g[3],j=g[6],x=g[7],E=g[11],this.mat4[0]=g[0],this.mat4[1]=g[4],this.mat4[2]=g[8],this.mat4[3]=g[12],this.mat4[4]=b,this.mat4[5]=g[5],this.mat4[6]=g[9],this.mat4[7]=g[13],this.mat4[8]=y,this.mat4[9]=j,this.mat4[10]=g[10],this.mat4[11]=g[14],this.mat4[12]=v,this.mat4[13]=x,this.mat4[14]=E,this.mat4[15]=g[15]),this}},{key:"invert",value:function(q){q instanceof o.default.Matrix?(b=q.mat4[0],y=q.mat4[1],v=q.mat4[2],j=q.mat4[3],x=q.mat4[4],E=q.mat4[5],P=q.mat4[6],O=q.mat4[7],M=q.mat4[8],D=q.mat4[9],U=q.mat4[10],I=q.mat4[11],B=q.mat4[12],R=q.mat4[13],G=q.mat4[14],z=q.mat4[15]):h(q)&&(b=q[0],y=q[1],v=q[2],j=q[3],x=q[4],E=q[5],P=q[6],O=q[7],M=q[8],D=q[9],U=q[10],I=q[11],B=q[12],R=q[13],G=q[14],z=q[15]);var b,y,v,j,x,E,P,O,M,D,U,I,B,R,G,z,q=b*E-y*x,Y=b*P-v*x,$=b*O-j*x,X=y*P-v*E,ee=y*O-j*E,K=v*O-j*P,ne=M*R-D*B,T=M*G-U*B,F=M*z-I*B,W=D*G-U*R,J=D*z-I*R,oe=U*z-I*G,se=q*oe-Y*J+$*W+X*F-ee*T+K*ne;return se?(this.mat4[0]=(E*oe-P*J+O*W)*(se=1/se),this.mat4[1]=(v*J-y*oe-j*W)*se,this.mat4[2]=(R*K-G*ee+z*X)*se,this.mat4[3]=(U*ee-D*K-I*X)*se,this.mat4[4]=(P*F-x*oe-O*T)*se,this.mat4[5]=(b*oe-v*F+j*T)*se,this.mat4[6]=(G*$-B*K-z*Y)*se,this.mat4[7]=(M*K-U*$+I*Y)*se,this.mat4[8]=(x*J-E*F+O*ne)*se,this.mat4[9]=(y*F-b*J-j*ne)*se,this.mat4[10]=(B*ee-R*$+z*q)*se,this.mat4[11]=(D*$-M*ee-I*q)*se,this.mat4[12]=(E*T-x*W-P*ne)*se,this.mat4[13]=(b*W-y*T+v*ne)*se,this.mat4[14]=(R*Y-B*X-G*q)*se,this.mat4[15]=(M*X-D*Y+U*q)*se,this):null}},{key:"invert3x3",value:function(){var g=this.mat3[0],b=this.mat3[1],y=this.mat3[2],v=this.mat3[3],j=this.mat3[4],x=this.mat3[5],E=this.mat3[6],P=this.mat3[7],O=this.mat3[8],M=O*j-x*P,D=-O*v+x*E,U=P*v-j*E,I=g*M+b*D+y*U;return I?(this.mat3[0]=M*(I=1/I),this.mat3[1]=(-O*b+y*P)*I,this.mat3[2]=(x*b-y*j)*I,this.mat3[3]=D*I,this.mat3[4]=(O*g-y*E)*I,this.mat3[5]=(-x*g+y*v)*I,this.mat3[6]=U*I,this.mat3[7]=(-P*g+b*E)*I,this.mat3[8]=(j*g-b*v)*I,this):null}},{key:"transpose3x3",value:function(g){var b=(g=g===void 0?this.mat3:g)[1],y=g[2],v=g[5];return this.mat3[0]=g[0],this.mat3[1]=g[3],this.mat3[2]=g[6],this.mat3[3]=b,this.mat3[4]=g[4],this.mat3[5]=g[7],this.mat3[6]=y,this.mat3[7]=v,this.mat3[8]=g[8],this}},{key:"inverseTranspose",value:function(g){if(g=g.mat4,this.mat3===void 0?o.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=g[0],this.mat3[1]=g[1],this.mat3[2]=g[2],this.mat3[3]=g[4],this.mat3[4]=g[5],this.mat3[5]=g[6],this.mat3[6]=g[8],this.mat3[7]=g[9],this.mat3[8]=g[10]),g=this.invert3x3(),g)g.transpose3x3(this.mat3);else for(var b=0;b<9;b++)this.mat3[b]=0;return this}},{key:"determinant",value:function(){var g=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],b=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],y=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],v=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],j=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],x=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],E=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],P=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],O=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],M=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],D=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return g*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-b*D+y*M+v*O-j*P+x*E}},{key:"mult",value:function(y){var b;if(y===this||y===this.mat4)b=this.copy().mat4;else if(y instanceof o.default.Matrix)b=y.mat4;else if(h(y))b=y;else{if(arguments.length!==16)return;b=arguments}var y=this.mat4[0],v=this.mat4[1],j=this.mat4[2],x=this.mat4[3];return this.mat4[0]=y*b[0]+v*b[4]+j*b[8]+x*b[12],this.mat4[1]=y*b[1]+v*b[5]+j*b[9]+x*b[13],this.mat4[2]=y*b[2]+v*b[6]+j*b[10]+x*b[14],this.mat4[3]=y*b[3]+v*b[7]+j*b[11]+x*b[15],y=this.mat4[4],v=this.mat4[5],j=this.mat4[6],x=this.mat4[7],this.mat4[4]=y*b[0]+v*b[4]+j*b[8]+x*b[12],this.mat4[5]=y*b[1]+v*b[5]+j*b[9]+x*b[13],this.mat4[6]=y*b[2]+v*b[6]+j*b[10]+x*b[14],this.mat4[7]=y*b[3]+v*b[7]+j*b[11]+x*b[15],y=this.mat4[8],v=this.mat4[9],j=this.mat4[10],x=this.mat4[11],this.mat4[8]=y*b[0]+v*b[4]+j*b[8]+x*b[12],this.mat4[9]=y*b[1]+v*b[5]+j*b[9]+x*b[13],this.mat4[10]=y*b[2]+v*b[6]+j*b[10]+x*b[14],this.mat4[11]=y*b[3]+v*b[7]+j*b[11]+x*b[15],y=this.mat4[12],v=this.mat4[13],j=this.mat4[14],x=this.mat4[15],this.mat4[12]=y*b[0]+v*b[4]+j*b[8]+x*b[12],this.mat4[13]=y*b[1]+v*b[5]+j*b[9]+x*b[13],this.mat4[14]=y*b[2]+v*b[6]+j*b[10]+x*b[14],this.mat4[15]=y*b[3]+v*b[7]+j*b[11]+x*b[15],this}},{key:"apply",value:function(y){var b;if(y===this||y===this.mat4)b=this.copy().mat4;else if(y instanceof o.default.Matrix)b=y.mat4;else if(h(y))b=y;else{if(arguments.length!==16)return;b=arguments}var y=this.mat4,v=y[0],j=y[4],x=y[8],E=y[12],v=(y[0]=b[0]*v+b[1]*j+b[2]*x+b[3]*E,y[4]=b[4]*v+b[5]*j+b[6]*x+b[7]*E,y[8]=b[8]*v+b[9]*j+b[10]*x+b[11]*E,y[12]=b[12]*v+b[13]*j+b[14]*x+b[15]*E,y[1]),j=y[5],x=y[9],E=y[13],v=(y[1]=b[0]*v+b[1]*j+b[2]*x+b[3]*E,y[5]=b[4]*v+b[5]*j+b[6]*x+b[7]*E,y[9]=b[8]*v+b[9]*j+b[10]*x+b[11]*E,y[13]=b[12]*v+b[13]*j+b[14]*x+b[15]*E,y[2]),j=y[6],x=y[10],E=y[14],v=(y[2]=b[0]*v+b[1]*j+b[2]*x+b[3]*E,y[6]=b[4]*v+b[5]*j+b[6]*x+b[7]*E,y[10]=b[8]*v+b[9]*j+b[10]*x+b[11]*E,y[14]=b[12]*v+b[13]*j+b[14]*x+b[15]*E,y[3]),j=y[7],x=y[11],E=y[15];return y[3]=b[0]*v+b[1]*j+b[2]*x+b[3]*E,y[7]=b[4]*v+b[5]*j+b[6]*x+b[7]*E,y[11]=b[8]*v+b[9]*j+b[10]*x+b[11]*E,y[15]=b[12]*v+b[13]*j+b[14]*x+b[15]*E,this}},{key:"scale",value:function(g,b,y){return g instanceof o.default.Vector?(b=g.y,y=g.z,g=g.x):g instanceof Array&&(b=g[1],y=g[2],g=g[0]),this.mat4[0]*=g,this.mat4[1]*=g,this.mat4[2]*=g,this.mat4[3]*=g,this.mat4[4]*=b,this.mat4[5]*=b,this.mat4[6]*=b,this.mat4[7]*=b,this.mat4[8]*=y,this.mat4[9]*=y,this.mat4[10]*=y,this.mat4[11]*=y,this}},{key:"rotate",value:function(q,J,W,v){J instanceof o.default.Vector?(W=J.y,v=J.z,J=J.x):J instanceof Array&&(W=J[1],v=J[2],J=J[0]);var j=Math.sqrt(J*J+W*W+v*v),j=(J*=1/j,W*=1/j,v*=1/j,this.mat4[0]),x=this.mat4[1],E=this.mat4[2],P=this.mat4[3],O=this.mat4[4],M=this.mat4[5],D=this.mat4[6],U=this.mat4[7],I=this.mat4[8],B=this.mat4[9],R=this.mat4[10],G=this.mat4[11],z=Math.sin(q),q=Math.cos(q),Y=1-q,$=J*J*Y+q,X=W*J*Y+v*z,ee=v*J*Y-W*z,K=J*W*Y-v*z,ne=W*W*Y+q,T=v*W*Y+J*z,F=J*v*Y+W*z,W=W*v*Y-J*z,J=v*v*Y+q;return this.mat4[0]=j*$+O*X+I*ee,this.mat4[1]=x*$+M*X+B*ee,this.mat4[2]=E*$+D*X+R*ee,this.mat4[3]=P*$+U*X+G*ee,this.mat4[4]=j*K+O*ne+I*T,this.mat4[5]=x*K+M*ne+B*T,this.mat4[6]=E*K+D*ne+R*T,this.mat4[7]=P*K+U*ne+G*T,this.mat4[8]=j*F+O*W+I*J,this.mat4[9]=x*F+M*W+B*J,this.mat4[10]=E*F+D*W+R*J,this.mat4[11]=P*F+U*W+G*J,this}},{key:"translate",value:function(v){var b=v[0],y=v[1],v=v[2]||0;this.mat4[12]+=this.mat4[0]*b+this.mat4[4]*y+this.mat4[8]*v,this.mat4[13]+=this.mat4[1]*b+this.mat4[5]*y+this.mat4[9]*v,this.mat4[14]+=this.mat4[2]*b+this.mat4[6]*y+this.mat4[10]*v,this.mat4[15]+=this.mat4[3]*b+this.mat4[7]*y+this.mat4[11]*v}},{key:"rotateX",value:function(g){this.rotate(g,1,0,0)}},{key:"rotateY",value:function(g){this.rotate(g,0,1,0)}},{key:"rotateZ",value:function(g){this.rotate(g,0,0,1)}},{key:"perspective",value:function(j,b,y,v){var j=1/Math.tan(j/2),x=1/(y-v);return this.mat4[0]=j/b,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=j,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(v+y)*x,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*v*y*x,this.mat4[15]=0,this}},{key:"ortho",value:function(g,b,y,v,j,x){var E=1/(g-b),P=1/(y-v),O=1/(j-x);return this.mat4[0]=-2*E,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*P,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*O,this.mat4[11]=0,this.mat4[12]=(g+b)*E,this.mat4[13]=(v+y)*P,this.mat4[14]=(x+j)*O,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(g,b,y,v){var j=new Array(4),x=this.mat4;return j[0]=x[0]*g+x[4]*b+x[8]*y+x[12]*v,j[1]=x[1]*g+x[5]*b+x[9]*y+x[13]*v,j[2]=x[2]*g+x[6]*b+x[10]*y+x[14]*v,j[3]=x[3]*g+x[7]*b+x[11]*y+x[15]*v,j}},{key:"multiplyPoint",value:function(y){var v=y.x,b=y.y,y=y.z,v=this.multiplyVec4(v,b,y,1);return new o.default.Vector(v[0],v[1],v[2])}},{key:"multiplyAndNormalizePoint",value:function(y){var v=y.x,b=y.y,y=y.z,v=this.multiplyVec4(v,b,y,1);return v[0]/=v[3],v[1]/=v[3],v[2]/=v[3],new o.default.Vector(v[0],v[1],v[2])}},{key:"multiplyDirection",value:function(y){var v=y.x,b=y.y,y=y.z,v=this.multiplyVec4(v,b,y,0);return new o.default.Vector(v[0],v[1],v[2])}},{key:"mult3x3",value:function(y){var b;if(y===this||y===this.mat3)b=this.copy().mat3;else if(y instanceof o.default.Matrix)b=y.mat3;else if(h(y))b=y;else{if(arguments.length!==9)return;b=arguments}var y=this.mat3[0],v=this.mat3[1],j=this.mat3[2];return this.mat3[0]=y*b[0]+v*b[3]+j*b[6],this.mat3[1]=y*b[1]+v*b[4]+j*b[7],this.mat3[2]=y*b[2]+v*b[5]+j*b[8],y=this.mat3[3],v=this.mat3[4],j=this.mat3[5],this.mat3[3]=y*b[0]+v*b[3]+j*b[6],this.mat3[4]=y*b[1]+v*b[4]+j*b[7],this.mat3[5]=y*b[2]+v*b[5]+j*b[8],y=this.mat3[6],v=this.mat3[7],j=this.mat3[8],this.mat3[6]=y*b[0]+v*b[3]+j*b[6],this.mat3[7]=y*b[1]+v*b[4]+j*b[7],this.mat3[8]=y*b[2]+v*b[5]+j*b[8],this}},{key:"column",value:function(g){return new o.default.Vector(this.mat3[3*g],this.mat3[3*g+1],this.mat3[3*g+2])}},{key:"row",value:function(g){return new o.default.Vector(this.mat3[g],this.mat3[g+3],this.mat3[g+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(g,b){return(b=b===void 0?g.copy():b).x=this.row(0).dot(g),b.y=this.row(1).dot(g),b.z=this.row(2).dot(g),b}},{key:"createSubMatrix3x3",value:function(){var g=new o.default.Matrix("mat3");return g.mat3[0]=this.mat4[0],g.mat3[1]=this.mat4[1],g.mat3[2]=this.mat4[2],g.mat3[3]=this.mat4[4],g.mat3[4]=this.mat4[5],g.mat3[5]=this.mat4[6],g.mat3[6]=this.mat4[8],g.mat3[7]=this.mat4[9],g.mat3[8]=this.mat4[10],g}}])&&l(s.prototype,c),p&&l(s,p),m})(),o.default.Matrix);u.default=_},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(t,f,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(i,h){for(var _=0;_<h.length;_++){var m=h[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(i,m.key,m)}}o.default.Quat=(function(){function i(s,c,p,g){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.w=s,this.vec=new o.default.Vector(c,p,g)}var h,_,m;return h=i,m=[{key:"fromAxisAngle",value:function(s,y,p,g){var b=Math.cos(s/2),y=new o.default.Vector(y,p,g).normalize().mult(Math.sin(s/2));return new o.default.Quat(b,y.x,y.y,y.z)}}],(_=[{key:"conjugate",value:function(){return new o.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(s){return new o.default.Quat(this.w*s.w-this.vec.x*s.vec.x-this.vec.y*s.vec.y-this.vec.z-s.vec.z,this.w*s.vec.x+this.vec.x*s.w+this.vec.y*s.vec.z-this.vec.z*s.vec.y,this.w*s.vec.y-this.vec.x*s.vec.z+this.vec.y*s.w+this.vec.z*s.vec.x,this.w*s.vec.z+this.vec.x*s.vec.y-this.vec.y*s.vec.x+this.vec.z*s.w)}},{key:"rotateVector",value:function(s){return new o.default.Vector.mult(s,this.w*this.w-this.vec.dot(this.vec)).add(o.default.Vector.mult(this.vec,2*s.dot(this.vec))).add(o.default.Vector.mult(this.vec,2*this.w).cross(s)).clampToZero()}},{key:"rotateBy",value:function(s){return s.multiply(this).multiply(s.conjugate()).vec.clampToZero()}}])&&l(h.prototype,_),m&&l(h,m),i})(),t=o.default.Quat,u.default=t},{"../core/main":283}],338:[function(t,f,u){t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(l,i){for(var h=0;h<i.length;h++){var _=i[h];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,_.key,_)}}t.default.RenderBuffer=(function(){function l(_,m,s,c,p,g){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.size=_,this.src=m,this.dst=s,this.attr=c,this._renderer=p,this.map=g}var i,h;return i=l,(h=[{key:"_prepareBuffer",value:function(_,m){var s,c,p,y=m.attributes,g=this._renderer.GL,b=_.model||_,y=y[this.attr];y&&(s=_[this.dst],0<(c=b[this.src]).length?((p=!s)&&(_[this.dst]=s=g.createBuffer()),g.bindBuffer(g.ARRAY_BUFFER,s),!p&&b.dirtyFlags[this.src]===!1||(p=(_=this.map)?_(c):c,this._renderer._bindBuffer(s,g.ARRAY_BUFFER,p),b.dirtyFlags[this.src]=!1),m.enableAttrib(y,this.size)):(_=y.location)!==-1&&this._renderer.registerEnabled.has(_)&&(g.disableVertexAttribArray(_),this._renderer.registerEnabled.delete(_)))}}])&&o(i.prototype,h),l})(),t=t.default.RenderBuffer,u.default=t},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(t,f,u){function o(p){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(p)}function l(p){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(g){return o(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":o(g)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var i=(c=t("../core/main"))&&c.__esModule?c:{default:c},h=(function(p){if(p&&p.__esModule)return p;if(p===null||l(p)!=="object"&&typeof p!="function")return{default:p};var g=_();if(g&&g.has(p))return g.get(p);var b,y={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in p){var j;Object.prototype.hasOwnProperty.call(p,b)&&((j=v?Object.getOwnPropertyDescriptor(p,b):null)&&(j.get||j.set)?Object.defineProperty(y,b,j):y[b]=p[b])}return y.default=p,g&&g.set(p,y),y})(t("../core/constants"));function _(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,_=function(){return p},p)}function m(p){return(function(g){if(Array.isArray(g)){for(var b=0,y=new Array(g.length);b<g.length;b++)y[b]=g[b];return y}})(p)||(function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)})(p)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}t("./p5.RenderBuffer"),i.default.RendererGL.prototype.beginShape=function(p){return this.immediateMode.shapeMode=p!==void 0?p:h.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var s={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},c=(i.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==h.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},i.default.RendererGL.prototype.vertex=function(p,g){if(this.immediateMode.shapeMode===h.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var b in s){var y=s[b],b=this.immediateMode.geometry[b];b.push.apply(b,m(b.slice(b.length-3*y,b.length-2*y)).concat(m(b.slice(b.length-y,b.length))))}var v,j,x=v=j=0,E=(arguments.length===3?x=arguments[2]:arguments.length===4?(v=arguments[2],j=arguments[3]):arguments.length===5&&(x=arguments[2],v=arguments[3],j=arguments[4]),new i.default.Vector(p,g,x)),E=(this.immediateMode.geometry.vertices.push(E),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),E=(this.immediateMode.geometry.vertexColors.push(E[0],E[1],E[2],E[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(E[0],E[1],E[2],E[3]),this.textureMode!==h.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(v/=this._tex.width,j/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(v,j),this.immediateMode._bezierVertex[0]=p,this.immediateMode._bezierVertex[1]=g,this.immediateMode._bezierVertex[2]=x,this.immediateMode._quadraticVertex[0]=p,this.immediateMode._quadraticVertex[1]=g,this.immediateMode._quadraticVertex[2]=x,this},i.default.RendererGL.prototype.normal=function(p,g,b){return p instanceof i.default.Vector?this._currentNormal=p:this._currentNormal=new i.default.Vector(p,g,b),this},i.default.RendererGL.prototype.endShape=function(p,g,b,y,v,j){var x,E=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===h.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===h.TESS&&(this.immediateMode.shapeMode=h.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),x=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==h.LINE_STRIP&&this.immediateMode.shapeMode!==h.LINES||(this.immediateMode.shapeMode=h.TRIANGLE_FAN,x=!0),this.immediateMode.shapeMode===h.QUADS?this.immediateMode.shapeMode=h.TRIANGLES:this.immediateMode.shapeMode===h.QUAD_STRIP&&(this.immediateMode.shapeMode=h.TRIANGLE_STRIP),this._doFill&&!x&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(E),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},i.default.RendererGL.prototype._processVertices=function(p){var g;this.immediateMode.geometry.vertices.length!==0&&(g=this._doStroke,p=p===h.CLOSE,g&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,p),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),g=this.immediateMode.shapeMode===h.TESS,p=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||g||p)&&this.immediateMode.shapeMode!==h.LINES&&this._tesselateShape())},i.default.RendererGL.prototype._calculateEdges=function(p,g,b){var y=[],v=0,j=this.immediateMode.contourIndices.slice(),x=0;switch(p){case h.TRIANGLE_STRIP:for(v=0;v<g.length-2;v++)y.push([v,v+1]),y.push([v,v+2]);y.push([v,v+1]);break;case h.TRIANGLE_FAN:for(v=1;v<g.length-1;v++)y.push([0,v]),y.push([v,v+1]);y.push([0,g.length-1]);break;case h.TRIANGLES:for(v=0;v<g.length-2;v+=3)y.push([v,v+1]),y.push([v+1,v+2]),y.push([v+2,v]);break;case h.LINES:for(v=0;v<g.length-1;v+=2)y.push([v,v+1]);break;case h.QUADS:for(v=0;v<g.length-5;v+=6)y.push([v,v+1]),y.push([v+1,v+2]),y.push([v+3,v+5]),y.push([v+4,v+5]);break;case h.QUAD_STRIP:for(v=0;v<g.length-2;v+=2)y.push([v,v+1]),y.push([v,v+2]),y.push([v+1,v+3]);y.push([v,v+1]);break;default:for(v=0;v<g.length;v++)v+1<g.length&&v+1!==j[0]?y.push([v,v+1]):((b||x)&&y.push([v,x]),0<j.length&&(x=j.shift()))}return p!==h.TESS&&b&&y.push([g.length-1,0]),y},i.default.RendererGL.prototype._tesselateShape=function(){for(var p=this,g=(this.immediateMode.shapeMode=h.TRIANGLES,[[]]),b=0;b<this.immediateMode.geometry.vertices.length;b++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===b&&(this.immediateMode.contourIndices.shift(),g.push([])),g[g.length-1].push(this.immediateMode.geometry.vertices[b].x,this.immediateMode.geometry.vertices[b].y,this.immediateMode.geometry.vertices[b].z,this.immediateMode.geometry.uvs[2*b],this.immediateMode.geometry.uvs[2*b+1],this.immediateMode.geometry.vertexColors[4*b],this.immediateMode.geometry.vertexColors[4*b+1],this.immediateMode.geometry.vertexColors[4*b+2],this.immediateMode.geometry.vertexColors[4*b+3],this.immediateMode.geometry.vertexNormals[b].x,this.immediateMode.geometry.vertexNormals[b].y,this.immediateMode.geometry.vertexNormals[b].z);for(var y,v=this._triangulate(g),j=this.immediateMode.geometry.vertices,x=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),E=0,P=v.length;E<P;E+=i.default.RendererGL.prototype.tessyVertexSize)x.push.apply(x,m(v.slice(E+5,E+9))),this.normal.apply(this,m(v.slice(E+9,E+12))),this.vertex.apply(this,m(v.slice(E,E+5)));this.geometryBuilder&&(y=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(O){return O.map(function(M){if(!y.has(M)){var D=j[M],U=p.immediateMode.geometry.vertices.findIndex(function(Y){return D.x===Y.x&&D.y===Y.y&&D.z===Y.z});if(U===-1){for(var I=1/0,B=0,R=0;R<p.immediateMode.geometry.vertices.length;R++){var z=p.immediateMode.geometry.vertices[R],q=D.x-z.x,G=D.y-z.y,z=D.z-z.z,q=q*q+G*G+z*z;q<I&&(I=q,B=R)}U=B}y.set(M,U)}return y.get(M)})})),this.immediateMode.geometry.vertexColors=x},i.default.RendererGL.prototype._drawImmediateFill=function(){var p,g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,b=this.GL,y=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,p=this._getImmediateFillShader(),this._setFillUniforms(p),!0),v=!1,j=void 0;try{for(var x,E=this.immediateMode.buffers.fill[Symbol.iterator]();!(y=(x=E.next()).done);y=!0)x.value._prepareBuffer(this.immediateMode.geometry,p)}catch(P){v=!0,j=P}finally{try{y||E.return==null||E.return()}finally{if(v)throw j}}if(p.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),g===1)b.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{b.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,g)}catch{console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}p.unbindShader()},i.default.RendererGL.prototype._drawImmediateStroke=function(){var p=this.GL,g=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),b=(this._setStrokeUniforms(g),!0),y=!1,v=void 0;try{for(var j,x=this.immediateMode.buffers.stroke[Symbol.iterator]();!(b=(j=x.next()).done);b=!0)j.value._prepareBuffer(this.immediateMode.geometry,g)}catch(E){y=!0,v=E}finally{try{b||x.return==null||x.return()}finally{if(y)throw v}}g.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),p.drawArrays(p.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),g.unbindShader()},i.default.RendererGL);u.default=c},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(t,f,u){function o(s){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(s)}function l(s){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(c){return o(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":o(c)})(s)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var i=(m=t("../core/main"))&&m.__esModule?m:{default:m},h=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),(function(s){if(s&&s.__esModule)return s;if(s===null||l(s)!=="object"&&typeof s!="function")return{default:s};var c=_();if(c&&c.has(s))return c.get(s);var p,g={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in s){var y;Object.prototype.hasOwnProperty.call(s,p)&&((y=b?Object.getOwnPropertyDescriptor(s,p):null)&&(y.get||y.set)?Object.defineProperty(g,p,y):g[p]=s[p])}return g.default=s,c&&c.set(s,g),g})(t("../core/constants")));function _(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,_=function(){return s},s)}i.default.RendererGL.prototype.freeGeometry=function(s){s.gid?this._freeBuffers(s.gid):console.warn("The model you passed to freeGeometry does not have an id!")},i.default.RendererGL.prototype._initBufferDefaults=function(s){var c;return this._freeBuffers(s),1e3<Object.keys(this.retainedMode.geometry).length&&(c=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(c)),this.retainedMode.geometry[s]={}},i.default.RendererGL.prototype._freeBuffers=function(s){var c,p=this.retainedMode.geometry[s];function g(b){var y=!0,v=!1,j=void 0;try{for(var x,E=b[Symbol.iterator]();!(y=(x=E.next()).done);y=!0){var P=x.value;p[P.dst]&&(c.deleteBuffer(p[P.dst]),p[P.dst]=null)}}catch(O){v=!0,j=O}finally{try{y||E.return==null||E.return()}finally{if(v)throw j}}}p&&(delete this.retainedMode.geometry[s],c=this.GL,p.indexBuffer&&c.deleteBuffer(p.indexBuffer),g(this.retainedMode.buffers.stroke),g(this.retainedMode.buffers.fill))},i.default.RendererGL.prototype.createBuffers=function(v,c){var p,g,b,y=this.GL,v=this._initBufferDefaults(v),j=(v.model=c,v.indexBuffer);return c.faces.length?(j=j||(v.indexBuffer=y.createBuffer()),b=(g=(p=i.default.RendererGL.prototype._flatten(c.faces)).some(function(x){return 65535<x}))?Uint32Array:Uint16Array,this._bindBuffer(j,y.ELEMENT_ARRAY_BUFFER,p,b),v.indexBufferType=g?y.UNSIGNED_INT:y.UNSIGNED_SHORT,v.vertexCount=3*c.faces.length):(j&&(y.deleteBuffer(j),v.indexBuffer=null),v.vertexCount=c.vertices?c.vertices.length:0),v.lineVertexCount=c.lineVertices?c.lineVertices.length/3:0,v},i.default.RendererGL.prototype.drawBuffers=function(s){var c=this.GL,p=this.retainedMode.geometry[s];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[s].vertexCount){this._useVertexColor=0<p.model.vertexColors.length;var g=this._getRetainedFillShader(),b=(this._setFillUniforms(g),!0),y=!1,v=void 0;try{for(var j,x=this.retainedMode.buffers.fill[Symbol.iterator]();!(b=(j=x.next()).done);b=!0)j.value._prepareBuffer(p,g)}catch(D){y=!0,v=D}finally{try{b||x.return==null||x.return()}finally{if(y)throw v}}g.disableRemainingAttributes(),p.indexBuffer&&this._bindBuffer(p.indexBuffer,c.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,p.model.hasFillTransparency()),this._drawElements(c.TRIANGLES,s),g.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<p.lineVertexCount){this._useLineColor=0<p.model.vertexStrokeColors.length;var E=this._getRetainedStrokeShader(),P=(this._setStrokeUniforms(E),!0),y=!1,v=void 0;try{for(var O,M=this.retainedMode.buffers.stroke[Symbol.iterator]();!(P=(O=M.next()).done);P=!0)O.value._prepareBuffer(p,E)}catch(I){y=!0,v=I}finally{try{P||M.return==null||M.return()}finally{if(y)throw v}}E.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,p.model.hasStrokeTransparency()),this._drawArrays(c.TRIANGLES,s),E.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(p),this},i.default.RendererGL.prototype.drawBuffersScaled=function(s,c,p,g){var b=this.uModelMatrix.copy();try{this.uModelMatrix.scale(c,p,g),this.drawBuffers(s)}finally{this.uModelMatrix=b}},i.default.RendererGL.prototype._drawArrays=function(s,c){return this.GL.drawArrays(s,0,this.retainedMode.geometry[c].lineVertexCount),this},i.default.RendererGL.prototype._drawElements=function(s,p){var p=this.retainedMode.geometry[p],g=this.GL;if(p.indexBuffer){if(this._pInst.webglVersion!==h.WEBGL2&&p.indexBufferType===g.UNSIGNED_INT&&!g.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");g.drawElements(g.TRIANGLES,p.vertexCount,p.indexBufferType,0)}else g.drawArrays(s||g.TRIANGLES,0,p.vertexCount)},i.default.RendererGL.prototype._drawPoints=function(s,c){var p=this.GL,g=this._getImmediatePointShader();this._setPointUniforms(g),this._bindBuffer(c,p.ARRAY_BUFFER,this._vToNArray(s),Float32Array,p.STATIC_DRAW),g.enableAttrib(g.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),p.drawArrays(p.Points,0,s.length),g.unbindShader()};var m=i.default.RendererGL;u.default=m},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(R,f,u){function o(X){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee})(X)}function l(X){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(ee){return o(ee)}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":o(ee)})(X)}R("core-js/modules/es.symbol"),R("core-js/modules/es.symbol.description"),R("core-js/modules/es.symbol.iterator"),R("core-js/modules/es.array.concat"),R("core-js/modules/es.array.copy-within"),R("core-js/modules/es.array.every"),R("core-js/modules/es.array.fill"),R("core-js/modules/es.array.flat"),R("core-js/modules/es.array.flat-map"),R("core-js/modules/es.array.from"),R("core-js/modules/es.array.includes"),R("core-js/modules/es.array.iterator"),R("core-js/modules/es.array.map"),R("core-js/modules/es.array.slice"),R("core-js/modules/es.array.some"),R("core-js/modules/es.array.unscopables.flat"),R("core-js/modules/es.array.unscopables.flat-map"),R("core-js/modules/es.map"),R("core-js/modules/es.object.assign"),R("core-js/modules/es.object.get-own-property-descriptor"),R("core-js/modules/es.object.get-prototype-of"),R("core-js/modules/es.object.to-string"),R("core-js/modules/es.reflect.construct"),R("core-js/modules/es.reflect.get"),R("core-js/modules/es.regexp.to-string"),R("core-js/modules/es.set"),R("core-js/modules/es.string.includes"),R("core-js/modules/es.string.iterator"),R("core-js/modules/es.typed-array.float32-array"),R("core-js/modules/es.typed-array.float64-array"),R("core-js/modules/es.typed-array.int16-array"),R("core-js/modules/es.typed-array.uint8-array"),R("core-js/modules/es.typed-array.uint16-array"),R("core-js/modules/es.typed-array.uint32-array"),R("core-js/modules/es.typed-array.copy-within"),R("core-js/modules/es.typed-array.every"),R("core-js/modules/es.typed-array.fill"),R("core-js/modules/es.typed-array.filter"),R("core-js/modules/es.typed-array.find"),R("core-js/modules/es.typed-array.find-index"),R("core-js/modules/es.typed-array.for-each"),R("core-js/modules/es.typed-array.includes"),R("core-js/modules/es.typed-array.index-of"),R("core-js/modules/es.typed-array.iterator"),R("core-js/modules/es.typed-array.join"),R("core-js/modules/es.typed-array.last-index-of"),R("core-js/modules/es.typed-array.map"),R("core-js/modules/es.typed-array.reduce"),R("core-js/modules/es.typed-array.reduce-right"),R("core-js/modules/es.typed-array.reverse"),R("core-js/modules/es.typed-array.set"),R("core-js/modules/es.typed-array.slice"),R("core-js/modules/es.typed-array.some"),R("core-js/modules/es.typed-array.sort"),R("core-js/modules/es.typed-array.subarray"),R("core-js/modules/es.typed-array.to-locale-string"),R("core-js/modules/es.typed-array.to-string"),R("core-js/modules/es.weak-map"),R("core-js/modules/web.dom-collections.iterator"),R("core-js/modules/es.symbol"),R("core-js/modules/es.symbol.description"),R("core-js/modules/es.symbol.iterator"),R("core-js/modules/es.array.concat"),R("core-js/modules/es.array.copy-within"),R("core-js/modules/es.array.every"),R("core-js/modules/es.array.fill"),R("core-js/modules/es.array.flat"),R("core-js/modules/es.array.flat-map"),R("core-js/modules/es.array.from"),R("core-js/modules/es.array.includes"),R("core-js/modules/es.array.iterator"),R("core-js/modules/es.array.map"),R("core-js/modules/es.array.slice"),R("core-js/modules/es.array.some"),R("core-js/modules/es.array.unscopables.flat"),R("core-js/modules/es.array.unscopables.flat-map"),R("core-js/modules/es.map"),R("core-js/modules/es.object.assign"),R("core-js/modules/es.object.to-string"),R("core-js/modules/es.set"),R("core-js/modules/es.string.includes"),R("core-js/modules/es.string.iterator"),R("core-js/modules/es.typed-array.float32-array"),R("core-js/modules/es.typed-array.float64-array"),R("core-js/modules/es.typed-array.int16-array"),R("core-js/modules/es.typed-array.uint8-array"),R("core-js/modules/es.typed-array.uint16-array"),R("core-js/modules/es.typed-array.uint32-array"),R("core-js/modules/es.typed-array.copy-within"),R("core-js/modules/es.typed-array.every"),R("core-js/modules/es.typed-array.fill"),R("core-js/modules/es.typed-array.filter"),R("core-js/modules/es.typed-array.find"),R("core-js/modules/es.typed-array.find-index"),R("core-js/modules/es.typed-array.for-each"),R("core-js/modules/es.typed-array.includes"),R("core-js/modules/es.typed-array.index-of"),R("core-js/modules/es.typed-array.iterator"),R("core-js/modules/es.typed-array.join"),R("core-js/modules/es.typed-array.last-index-of"),R("core-js/modules/es.typed-array.map"),R("core-js/modules/es.typed-array.reduce"),R("core-js/modules/es.typed-array.reduce-right"),R("core-js/modules/es.typed-array.reverse"),R("core-js/modules/es.typed-array.set"),R("core-js/modules/es.typed-array.slice"),R("core-js/modules/es.typed-array.some"),R("core-js/modules/es.typed-array.sort"),R("core-js/modules/es.typed-array.subarray"),R("core-js/modules/es.typed-array.to-locale-string"),R("core-js/modules/es.typed-array.to-string"),R("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.readPixelsWebGL=Y,u.readPixelWebGL=$,u.default=void 0;var i=p(R("../core/main")),h=(function(X){if(X&&X.__esModule)return X;if(X===null||l(X)!=="object"&&typeof X!="function")return{default:X};var ee=c();if(ee&&ee.has(X))return ee.get(X);var K,ne={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(K in X){var F;Object.prototype.hasOwnProperty.call(X,K)&&((F=T?Object.getOwnPropertyDescriptor(X,K):null)&&(F.get||F.set)?Object.defineProperty(ne,K,F):ne[K]=X[K])}return ne.default=X,ee&&ee.set(X,ne),ne})(R("../core/constants")),_=p(R("./GeometryBuilder")),m=p(R("libtess")),s=(R("./p5.Shader"),R("./p5.Camera"),R("../core/p5.Renderer"),R("./p5.Matrix"),R("./p5.Framebuffer"),R("path"),R("./p5.Texture"));function c(){var X;return typeof WeakMap!="function"?null:(X=new WeakMap,c=function(){return X},X)}function p(X){return X&&X.__esModule?X:{default:X}}function g(X){return(function(ee){if(Array.isArray(ee)){for(var K=0,ne=new Array(ee.length);K<ee.length;K++)ne[K]=ee[K];return ne}})(X)||(function(ee){if(Symbol.iterator in Object(ee)||Object.prototype.toString.call(ee)==="[object Arguments]")return Array.from(ee)})(X)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function b(X,ee){for(var K=0;K<ee.length;K++){var ne=ee[K];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(X,ne.key,ne)}}function y(X,ee,K){return(y=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(W,T,F){var W=(function(J,oe){for(;!Object.prototype.hasOwnProperty.call(J,oe)&&(J=E(J))!==null;);return J})(W,T);if(W)return(W=Object.getOwnPropertyDescriptor(W,T)).get?W.get.call(F):W.value})(X,ee,K||X)}function v(X,ee){return(v=Object.setPrototypeOf||function(K,ne){return K.__proto__=ne,K})(X,ee)}function j(X){return function(){var ee,K,ne=E(X);return ee=(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?(ee=E(this).constructor,Reflect.construct(ne,arguments,ee)):ne.apply(this,arguments),ne=this,!(K=ee)||l(K)!=="object"&&typeof K!="function"?x(ne):K}}function x(X){if(X===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X}function E(X){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(ee){return ee.__proto__||Object.getPrototypeOf(ee)})(X)}function P(X,ee,K){ee in X?Object.defineProperty(X,ee,{value:K,enumerable:!0,configurable:!0,writable:!0}):X[ee]=K}function O(X,ee){B+="#define STROKE_CAP_".concat(X," ").concat(ee,`
`),U[h[X]]=ee}function M(X,ee){B+="#define STROKE_JOIN_".concat(X," ").concat(ee,`
`),I[h[X]]=ee}var D,U={},I={},B="",R=(O("ROUND",0),O("PROJECT",1),O("SQUARE",2),M("ROUND",0),M("MITER",1),M("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float uMetallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector, float shininess, float metallic) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, shininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse(vec3 vNormal, vec3 vViewPosition, float metallic){
  // make 2 separate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular(vec3 vNormal, vec3 vViewPosition, float shininess, float metallic){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  // In p5js the range of shininess is >= 1,
  // Therefore roughness range will be ([0,1]*8)*20 or [0, 160]
  // The factor of 8 is because currently the getSpecularTexture
  // only calculated 8 different levels of roughness
  // The factor of 20 is just to spread up this range so that,
  // [1, max] of shininess is converted to [0,160] of roughness
  float roughness = 20. / shininess;
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, roughness * 8.);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  float shininess,
  float metallic,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition, metallic);
    totalSpecular += calculateImageSpecular(normal, modelPosition, shininess, metallic);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),G={sphereMappingFrag:`#define PI 3.141592

precision highp float;
  
uniform sampler2D uSampler;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    vec4 newTexColor = texture2D(uSampler, vTexCoord);
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    float temp = rotatedNormal.z;
    rotatedNormal.z = rotatedNormal.x;
    rotatedNormal.x = -temp;
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    newTexColor = texture2D(uSampler, suv.xy);
    gl_FragColor = newTexColor;
}
`,immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 positionVec4 = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  gl_Position = uProjectionMatrix * positionVec4;

  vVertexNormal = HOOK_getWorldNormal(normalize(uNormalMatrix * HOOK_getLocalNormal(aNormal)));
  vVertTexCoord = HOOK_getUV(aTexCoord);
  vColor = HOOK_getVertexColor(uUseVertexColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vVertexNormal, 1.0));
  HOOK_afterFragment();
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vColor.rgb, 1.) * vColor.a);
  HOOK_afterFragment();
}
`,lightVert:R+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = HOOK_getWorldNormal(uNormalMatrix * HOOK_getLocalNormal(aNormal));
  vTexCoord = HOOK_getUV(aTexCoord);

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = HOOK_getVertexColor((uUseVertexColor ? aVertexColor : uMaterialColor));
  HOOK_afterVertex();
}
`,phongFrag:R+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

struct ColorComponents {
  vec3 baseColor;
  float opacity;
  vec3 ambientColor;
  vec3 specularColor;
  vec3 diffuse;
  vec3 ambient;
  vec3 specular;
  vec3 emissive;
};

struct Inputs {
  vec3 normal;
  vec2 texCoord;
  vec3 ambientLight;
  vec3 ambientMaterial;
  vec3 specularMaterial;
  vec3 emissiveMaterial;
  vec4 color;
  float shininess;
  float metalness;
};

void main(void) {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.normal = normalize(vNormal);
  inputs.texCoord = vTexCoord;
  inputs.ambientLight = vAmbientColor;
  inputs.color = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
  inputs.shininess = uShininess;
  inputs.metalness = uMetallic;
  inputs.ambientMaterial = uHasSetAmbient ? uAmbientMatColor.rgb : inputs.color.rgb;
  inputs.specularMaterial = uSpecularMatColor.rgb;
  inputs.emissiveMaterial = uEmissiveMatColor.rgb;
  inputs = HOOK_getPixelInputs(inputs);

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, inputs.normal, inputs.shininess, inputs.metalness, diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec2 texCoord = inputs.texCoord;
  vec4 baseColor = inputs.color;
  ColorComponents c;
  c.opacity = baseColor.a;
  c.baseColor = baseColor.rgb;
  c.ambientColor = inputs.ambientMaterial;
  c.specularColor = inputs.specularMaterial;
  c.diffuse = diffuse;
  c.ambient = inputs.ambientLight;
  c.specular = specular;
  c.emissive = inputs.emissiveMaterial;
  OUT_COLOR = HOOK_getFinalColor(HOOK_combineColors(c));
  HOOK_afterFragment();
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:B+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;
OUT float vStrokeWeight;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  HOOK_beforeVertex();
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 localPosition = vec4(HOOK_getLocalPosition(aPosition.xyz), 1.);
  vec4 posp = vec4(HOOK_getWorldPosition((uModelViewMatrix * localPosition).xyz), 1.);
  vec4 posqIn = posp + uModelViewMatrix * vec4(aTangentIn, 0);
  vec4 posqOut = posp + uModelViewMatrix * vec4(aTangentOut, 0);
  float strokeWeight = HOOK_getStrokeWeight(uStrokeWeight);
  vStrokeWeight = strokeWeight;

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // A mix of scaling and offsetting is used based on distance
  // Discussion here:
  // https://github.com/processing/p5.js/issues/7200 

  // using a scale <1 moves the lines towards nearby camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float zDistance = -posp.z; 
  float distanceFactor = smoothstep(0.0, 800.0, zDistance); 
  
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  float scale = mix(1., 0.995, facingCamera);
  float dynamicScale = mix(scale, 1.0, distanceFactor); // Closer = more scale, farther = less

  posp.xyz = posp.xyz * dynamicScale;
  posqIn.xyz = posqIn.xyz * dynamicScale;
  posqOut.xyz = posqOut.xyz * dynamicScale;

  // Moving vertices slightly toward camera when far away 
  // https://github.com/processing/p5.js/issues/6956 
  float zOffset = mix(-0.00045, -1., facingCamera);
  float dynamicZAdjustment = mix(0.0, zOffset, distanceFactor); // Closer = less zAdjustment, farther = more

  posp.z -= dynamicZAdjustment;
  posqIn.z -= dynamicZAdjustment;
  posqOut.z -= dynamicZAdjustment;
  
  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = HOOK_getLineCenter(p.xy);

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * strokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * strokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * strokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * strokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * strokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * strokeWeight / 2.));
    } else {
      vMaxDist = strokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      strokeWeight * 0.5;
    vMaxDist = strokeWeight / 2.;
  }
  vPosition = HOOK_getLinePosition(vCenter + offset);

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = HOOK_getVertexColor(uUseLineColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,lineFrag:B+`precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vStrokeWeight;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

struct Inputs {
  vec4 color;
  vec2 tangent;
  vec2 center;
  vec2 position;
  float strokeWeight;
};

void main() {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.color = vColor;
  inputs.tangent = vTangent;
  inputs.center = vCenter;
  inputs.position = vPosition;
  inputs.strokeWeight = vStrokeWeight;
  inputs = HOOK_getPixelInputs(inputs);

  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      HOOK_shouldDiscard(dot(inputs.position - inputs.center, inputs.tangent) > 0.)
    ) {
      discard;
    // Use full area for PROJECT
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-inputs.tangent.y, inputs.tangent.x);
      if (HOOK_shouldDiscard(abs(dot(inputs.position - inputs.center, normal)) > vMaxDist)) {
        discard;
      }
    // Use full area for MITER
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  }
  OUT_COLOR = HOOK_getFinalColor(vec4(inputs.color.rgb, 1.) * inputs.color.a);
  HOOK_afterFragment();
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

void main() {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);
  gl_Position = uProjectionMatrix * viewModelPosition;  

  float pointSize = HOOK_getPointSize(uPointSize);

	gl_PointSize = pointSize;
	vStrokeWeight = pointSize;
  HOOK_afterVertex();
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  HOOK_beforeFragment();
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(HOOK_shouldDiscard(mask > 0.98)){
    discard;
  }

  OUT_COLOR = HOOK_getFinalColor(vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a);
  HOOK_afterFragment();
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`},z=G.sphereMappingFrag;for(D in G)G[D]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+G[D];P(R={},h.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),P(R,h.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),P(R,h.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),P(R,h.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),P(R,h.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),P(R,h.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),P(R,h.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),P(R,h.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var q=R;function Y(X,ee,ve,ne,T,F,W,J,oe,se){var fe=ee.getParameter(ee.FRAMEBUFFER_BINDING),ve=(ee.bindFramebuffer(ee.FRAMEBUFFER,ve),J===ee.RGBA?4:3),de=F*W*ve,be=oe===ee.UNSIGNED_BYTE?Uint8Array:Float32Array;if(X instanceof be&&X.length===de||(X=new be(de)),ee.readPixels(ne,se?se-T-W:T,F,W,J,oe,X),ee.bindFramebuffer(ee.FRAMEBUFFER,fe),se)for(var pe=Math.floor(W/2),ie=new be(F*ve),ye=0;ye<pe;ye++){var _e=ye*F*4,Te=(W-ye-1)*F*4;ie.set(X.subarray(_e,_e+4*F)),X.copyWithin(_e,Te,Te+4*F),X.set(ie,Te)}return X}function $(X,oe,K,ne,T,F,W){var J=X.getParameter(X.FRAMEBUFFER_BINDING),oe=(X.bindFramebuffer(X.FRAMEBUFFER,oe),T===X.RGBA?4:3),oe=new(F===X.UNSIGNED_BYTE?Uint8Array:Float32Array)(oe);return X.readPixels(K,W?W-ne-1:ne,1,1,T,F,oe),X.bindFramebuffer(X.FRAMEBUFFER,J),Array.from(oe)}i.default.prototype.setAttributes=function(X,ee){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var K=!0;if(ee!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[X]!==ee&&(this._glAttributes[X]=ee,K=!1)):X instanceof Object&&this._glAttributes!==X&&(this._glAttributes=X,K=!1),this._renderer.isP3D&&!K){if(!this._setupDone){for(var ne in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(ne))return void i.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},i.default.RendererGL=(function(X){var ee=ne;if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(X&&X.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),X&&v(ee,X);var K=j(ne);function ne(T,F,W,J){if(this instanceof ne)return(T=K.call(this,T,F,W))._setAttributeDefaults(F),T._initContext(),T.isP3D=!0,T.geometryBuilder=void 0,T.GL=T.drawingContext,T._pInst._setProperty("drawingContext",T.drawingContext),T._isErasing=!1,T._clipDepths=[],T._isClipApplied=!1,T._stencilTestOn=!1,T._enableLighting=!1,T.ambientLightColors=[],T.mixedAmbientLight=[],T.mixedSpecularColor=[],T.specularColors=[1,1,1],T.directionalLightDirections=[],T.directionalLightDiffuseColors=[],T.directionalLightSpecularColors=[],T.pointLightPositions=[],T.pointLightDiffuseColors=[],T.pointLightSpecularColors=[],T.spotLightPositions=[],T.spotLightDirections=[],T.spotLightDiffuseColors=[],T.spotLightSpecularColors=[],T.spotLightAngle=[],T.spotLightConc=[],T.activeImageLight=null,T.diffusedTextures=new Map,T.specularTextures=new Map,T.drawMode=h.FILL,T.curFillColor=T._cachedFillStyle=[1,1,1,1],T.curAmbientColor=T._cachedFillStyle=[1,1,1,1],T.curSpecularColor=T._cachedFillStyle=[0,0,0,0],T.curEmissiveColor=T._cachedFillStyle=[0,0,0,0],T.curStrokeColor=T._cachedStrokeStyle=[0,0,0,1],T.curBlendMode=h.BLEND,T.preEraseBlend=void 0,T._cachedBlendMode=void 0,T.webglVersion===h.WEBGL2?T.blendExt=T.GL:T.blendExt=T.GL.getExtension("EXT_blend_minmax"),T._isBlending=!1,T._hasSetAmbient=!1,T._useSpecularMaterial=!1,T._useEmissiveMaterial=!1,T._useNormalMaterial=!1,T._useShininess=1,T._useMetalness=0,T._useLineColor=!1,T._useVertexColor=!1,T.registerEnabled=new Set,T._tint=[255,255,255,255],T.constantAttenuation=1,T.linearAttenuation=0,T.quadraticAttenuation=0,T.uModelMatrix=new i.default.Matrix,T.uViewMatrix=new i.default.Matrix,T.uMVMatrix=new i.default.Matrix,T.uPMatrix=new i.default.Matrix,T.uNMatrix=new i.default.Matrix("mat3"),T.curMatrix=new i.default.Matrix("mat3"),T._currentNormal=new i.default.Vector(0,0,1),T._curCamera=new i.default.Camera(x(T)),T._curCamera._computeCameraDefaultSettings(),T._curCamera._setDefaultCamera(),T.filterCamera=new i.default.Camera(x(T)),T.filterCamera._computeCameraDefaultSettings(),T.filterCamera._setDefaultCamera(),T.prevTouches=[],T.zoomVelocity=0,T.rotateVelocity=new i.default.Vector(0,0),T.moveVelocity=new i.default.Vector(0,0),T.executeZoom=!1,T.executeRotateAndMove=!1,T.specularShader=void 0,T.sphereMapping=void 0,T.diffusedShader=void 0,T._defaultLightShader=void 0,T._defaultImmediateModeShader=void 0,T._defaultNormalShader=void 0,T._defaultColorShader=void 0,T._defaultPointShader=void 0,T.userFillShader=void 0,T.userStrokeShader=void 0,T.userPointShader=void 0,T.retainedMode={geometry:{},buffers:{stroke:[new i.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",x(T)),new i.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",x(T)),new i.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",x(T)),new i.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",x(T)),new i.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",x(T))],fill:[new i.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",x(T),T._vToNArray),new i.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",x(T),T._vToNArray),new i.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",x(T)),new i.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",x(T)),new i.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",x(T),T._flatten)],text:[new i.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",x(T),T._vToNArray),new i.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",x(T),T._flatten)]}},T.immediateMode={geometry:new i.default.Geometry,shapeMode:h.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new i.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",x(T),T._vToNArray),new i.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",x(T),T._vToNArray),new i.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",x(T)),new i.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",x(T)),new i.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",x(T),T._flatten)],stroke:[new i.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",x(T)),new i.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",x(T)),new i.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",x(T)),new i.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",x(T)),new i.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",x(T))],point:T.GL.createBuffer()}},T.pointSize=5,T.curStrokeWeight=1,T.curStrokeCap=h.ROUND,T.curStrokeJoin=h.ROUND,T.textures=new Map,T.framebuffers=new Set,T.activeFramebuffers=[],T.filterShader=void 0,T.filterLayer=void 0,T.filterLayerTemp=void 0,T.defaultFilterShaders={},T.textureMode=h.IMAGE,T.textureWrapX=h.CLAMP,T.textureWrapY=h.CLAMP,T._tex=null,T._curveTightness=6,T._lookUpTableBezier=[],T._lookUpTableQuadratic=[],T._lutBezierDetail=0,T._lutQuadraticDetail=0,T.isProcessingVertices=!1,T._tessy=T._initTessy(),T.fontInfos={},T._curShader=void 0,T;throw new TypeError("Cannot call a class as a function")}return ee=ne,(X=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new _.default(this)}},{key:"endGeometry",value:function(){var T;if(this.geometryBuilder)return T=this.geometryBuilder.finish(),this.geometryBuilder=void 0,T;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(T){return this.beginGeometry(),T(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(T){var F={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};T._glAttributes===null?T._glAttributes=F:T._glAttributes=Object.assign(F,T._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?h.WEBGL2:h.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var T=this.drawingContext;T.enable(T.DEPTH_TEST),T.depthFunc(T.LEQUAL),T.viewport(0,0,T.drawingBufferWidth,T.drawingBufferHeight),T.pixelStorei(T.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var T=this.drawingContext;return T.getParameter(T.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(T,F){this._maxTextureSize||(this._maxTextureSize=this._getParam());var J=this._maxTextureSize,J=(i.default.prototype._maxAllowedPixelDimensions,Math.floor(J/this.pixelDensity())),W=Math.min(T,J),J=Math.min(F,J);return W===T&&J===F||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(W,", height: ").concat(J,".")),{adjustedWidth:W,adjustedHeight:J}}},{key:"_resetContext",value:function(T,F){var W,J=this.width,oe=this.height,fe=this.canvas.id,se=this._pInst instanceof i.default.Graphics,fe=(se?((W=this._pInst).canvas.parentNode.removeChild(W.canvas),W.canvas=document.createElement("canvas"),(W._pInst._userNode||document.body).appendChild(W.canvas),i.default.Element.call(W,W.canvas,W._pInst),W.width=J,W.height=oe):((W=this.canvas)&&W.parentNode.removeChild(W),(W=document.createElement("canvas")).id=fe,(this._pInst._userNode||document.body).appendChild(W),this._pInst.canvas=W,this.canvas=W),new i.default.RendererGL(this._pInst.canvas,this._pInst,!se));this._pInst._setProperty("_renderer",fe),fe.resize(J,oe),fe._applyDefaults(),se||this._pInst._elements.push(fe),typeof F=="function"&&setTimeout(function(){F.apply(window._renderer,T)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var J=(J=this._pInst).color.apply(J,arguments),T=J.levels[0]/255,F=J.levels[1]/255,W=J.levels[2]/255,J=J.levels[3]/255;this.clear(T,F,W,J)}},{key:"fill",value:function(T,F,W,J){var oe=i.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=oe._array,this.drawMode=h.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(T,F,W,J){var oe=i.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=oe._array}},{key:"strokeCap",value:function(T){this.curStrokeCap=T}},{key:"strokeJoin",value:function(T){this.curStrokeJoin=T}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(T,F){T.width===F.width&&T.height===F.height||T.resize(F.width,F.height),T.pixelDensity()!==F.pixelDensity()&&T.pixelDensity(F.pixelDensity())}},{key:"filter",value:function(){var T,F,W=this,J=this.getFilterLayer(),oe=void 0,se=void 0,fe=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(se=arguments.length<=0?void 0:arguments[0],P(T={},h.BLUR,3),P(T,h.POSTERIZE,4),P(T,h.THRESHOLD,.5),oe=se in(T=T)&&(arguments.length<=1?void 0:arguments[1])===void 0?T[se]:arguments.length<=1?void 0:arguments[1],se in this.defaultFilterShaders||(this.defaultFilterShaders[se]=new i.default.Shader(J._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,q[se])),this.filterShader=this.defaultFilterShaders[se]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),ve=(this.matchSize(J,fe),J.draw(function(){return W._pInst.clear()}),[1/(fe.width*fe.pixelDensity()),1/(fe.height*fe.pixelDensity())]);se===h.BLUR?(F=this.getFilterLayerTemp(),this.matchSize(F,fe),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(h.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",ve),this.filterShader.setUniform("canvasSize",[fe.width,fe.height]),this.filterShader.setUniform("radius",Math.max(1,oe)),F.draw(function(){W.filterShader.setUniform("direction",[1,0]),W.filterShader.setUniform("tex0",fe),W._pInst.clear(),W._pInst.shader(W.filterShader),W._pInst.noLights(),W._pInst.plane(fe.width,fe.height)}),J.draw(function(){W.filterShader.setUniform("direction",[0,1]),W.filterShader.setUniform("tex0",F),W._pInst.clear(),W._pInst.shader(W.filterShader),W._pInst.noLights(),W._pInst.plane(fe.width,fe.height)}),this._pInst.pop()):J.draw(function(){W._pInst.noStroke(),W._pInst.blendMode(h.BLEND),W._pInst.shader(W.filterShader),W.filterShader.setUniform("tex0",fe),W.filterShader.setUniform("texelSize",ve),W.filterShader.setUniform("canvasSize",[fe.width,fe.height]),W.filterShader.setUniform("filterParameter",oe),W._pInst.noLights(),W._pInst.plane(fe.width,fe.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(h.CORNER),this._pInst.blendMode(h.BLEND),fe.filterCamera._resize(),this._pInst.setCamera(fe.filterCamera),this._pInst.resetMatrix(),this._pInst.image(J,-fe.width/2,-fe.height/2,fe.width,fe.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(T){return T?this._pInst.pixelDensity(T):this._pInst.pixelDensity()}},{key:"blendMode",value:function(T){T===h.DARKEST||T===h.LIGHTEST||T===h.ADD||T===h.BLEND||T===h.SUBTRACT||T===h.SCREEN||T===h.EXCLUSION||T===h.REPLACE||T===h.MULTIPLY||T===h.REMOVE?this.curBlendMode=T:T!==h.BURN&&T!==h.OVERLAY&&T!==h.HARD_LIGHT&&T!==h.SOFT_LIGHT&&T!==h.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(T,F){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(h.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,T/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,F/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var T=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},T=(y(E(ne.prototype),"beginClip",this).call(this,T),this.drawTarget()._isClipApplied=!0,this.GL);T.clearStencil(0),T.clear(T.STENCIL_BUFFER_BIT),T.enable(T.STENCIL_TEST),this._stencilTestOn=!0,T.stencilFunc(T.ALWAYS,1,255),T.stencilOp(T.KEEP,T.KEEP,T.REPLACE),T.disable(T.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var T=this.GL;T.stencilOp(T.KEEP,T.KEEP,T.KEEP),T.stencilFunc(this._clipInvert?T.EQUAL:T.NOTEQUAL,0,255),T.enable(T.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),y(E(ne.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(T){this.curStrokeWeight!==T&&(this.pointSize=T,this.curStrokeWeight=T)}},{key:"_getPixel",value:function(T,F){var W=this.GL;return $(W,null,T,F,W.RGBA,W.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var T,F,W=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(T=this._pInst._pixelDensity,F=this.GL,W._setProperty("pixels",Y(W.pixels,F,null,0,0,this.width*T,this.height*T,F.RGBA,F.UNSIGNED_BYTE,this.height*T)))}},{key:"updatePixels",value:function(){var T=this._getTempFramebuffer();T.pixels=this._pixelsState.pixels,T.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(h.CENTER),this._pInst.image(T,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:h.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:h.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(T){return this.retainedMode.geometry[T]!==void 0}},{key:"viewport",value:function(T,F){this._viewport=[0,0,T,F],this.GL.viewport(0,0,T,F)}},{key:"resize",value:function(oe,J){i.default.Renderer.prototype.resize.call(this,oe,J),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var oe=this._pixelsState,W=(oe.pixels!==void 0&&oe._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),J=!1,oe=void 0;try{for(var se,fe=this.framebuffers[Symbol.iterator]();!(W=(se=fe.next()).done);W=!0)se.value._canvasSizeChanged()}catch(ve){J=!0,oe=ve}finally{try{W||fe.return==null||fe.return()}finally{if(J)throw oe}}}},{key:"clear",value:function(){var T=(arguments.length<=0?void 0:arguments[0])||0,F=(arguments.length<=1?void 0:arguments[1])||0,W=(arguments.length<=2?void 0:arguments[2])||0,J=(arguments.length<=3?void 0:arguments[3])||0,oe=this.activeFramebuffer();oe&&oe.format===h.UNSIGNED_BYTE&&!oe.antialias&&J===0&&(J=1e-10),this.GL.clearColor(T*J,F*J,W*J,J),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&arguments[0]!==void 0?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(T,F,W,J,oe,se){arguments.length===16?i.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([T,F,0,0,W,J,0,0,0,0,1,0,oe,se,0,1])}},{key:"translate",value:function(T,F,W){return T instanceof i.default.Vector&&(W=T.z,F=T.y,T=T.x),this.uModelMatrix.translate([T,F,W]),this}},{key:"scale",value:function(T,F,W){return this.uModelMatrix.scale(T,F,W),this}},{key:"rotate",value:function(T,F){return F===void 0?this.rotateZ(T):(i.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(T){return this.rotate(T,1,0,0),this}},{key:"rotateY",value:function(T){return this.rotate(T,0,1,0),this}},{key:"rotateZ",value:function(T){return this.rotate(T,0,0,1),this}},{key:"push",value:function(){var T=i.default.Renderer.prototype.push.apply(this),F=T.properties;return F.uModelMatrix=this.uModelMatrix.copy(),F.uViewMatrix=this.uViewMatrix.copy(),F.uPMatrix=this.uPMatrix.copy(),F._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),F.ambientLightColors=this.ambientLightColors.slice(),F.specularColors=this.specularColors.slice(),F.directionalLightDirections=this.directionalLightDirections.slice(),F.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),F.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),F.pointLightPositions=this.pointLightPositions.slice(),F.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),F.pointLightSpecularColors=this.pointLightSpecularColors.slice(),F.spotLightPositions=this.spotLightPositions.slice(),F.spotLightDirections=this.spotLightDirections.slice(),F.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),F.spotLightSpecularColors=this.spotLightSpecularColors.slice(),F.spotLightAngle=this.spotLightAngle.slice(),F.spotLightConc=this.spotLightConc.slice(),F.userFillShader=this.userFillShader,F.userStrokeShader=this.userStrokeShader,F.userPointShader=this.userPointShader,F.pointSize=this.pointSize,F.curStrokeWeight=this.curStrokeWeight,F.curStrokeColor=this.curStrokeColor,F.curFillColor=this.curFillColor,F.curAmbientColor=this.curAmbientColor,F.curSpecularColor=this.curSpecularColor,F.curEmissiveColor=this.curEmissiveColor,F._hasSetAmbient=this._hasSetAmbient,F._useSpecularMaterial=this._useSpecularMaterial,F._useEmissiveMaterial=this._useEmissiveMaterial,F._useShininess=this._useShininess,F._useMetalness=this._useMetalness,F.constantAttenuation=this.constantAttenuation,F.linearAttenuation=this.linearAttenuation,F.quadraticAttenuation=this.quadraticAttenuation,F._enableLighting=this._enableLighting,F._useNormalMaterial=this._useNormalMaterial,F._tex=this._tex,F.drawMode=this.drawMode,F._currentNormal=this._currentNormal,F.curBlendMode=this.curBlendMode,F.activeImageLight=this.activeImageLight,F.textureMode=this.textureMode,T}},{key:"pop",value:function(){var T;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var F=arguments.length,W=new Array(F),J=0;J<F;J++)W[J]=arguments[J];(T=y(E(ne.prototype),"pop",this)).call.apply(T,[this].concat(W)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var T=this.drawTarget();T._isClipApplied!==this._stencilTestOn&&(T._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var T=this.userStrokeShader;return T&&T.isStrokeShader()?T:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(T){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(z)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",T),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var T=this.userFillShader;if(this._useNormalMaterial&&(!T||!T.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!T||!T.isLightShader())return this._getLightShader()}else if(this._tex){if(!T||!T.isTextureShader())return this._getLightShader()}else if(!T)return this._getImmediateModeShader();return T}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var T=this.userFillShader;if(this._enableLighting){if(!T||!T.isLightShader())return this._getLightShader()}else if(this._tex){if(!T||!T.isTextureShader())return this._getLightShader()}else if(!T)return this._getColorShader();return T}},{key:"_getImmediatePointShader",value:function(){var T=this.userPointShader;return T&&T.isPointShader()?T:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"baseMaterialShader",value:function(){if(this._pInst._glAttributes.perPixelLighting)return this._getLightShader();throw new Error("The material shader does not support hooks without perPixelLighting. Try turning it back on.")}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new i.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+G.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+G.phongFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 combineColors":`(ColorComponents components) {
                vec4 color = vec4(0.);
                color.rgb += components.diffuse * components.baseColor;
                color.rgb += components.ambient * components.ambientColor;
                color.rgb += components.specular * components.specularColor;
                color.rgb += components.emissive;
                color.a = components.opacity;
                return color;
              }`,"vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}}):this._defaultLightShader=new i.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+G.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+G.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new i.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+G.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+G.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"baseNormalShader",value:function(){return this._getNormalShader()}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new i.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+G.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+G.normalFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultNormalShader}},{key:"baseColorShader",value:function(){return this._getColorShader()}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new i.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+G.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+G.basicFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultColorShader}},{key:"pointShader",value:function(){return this._getPointShader()}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new i.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+G.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+G.pointFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getPointSize":"(float size) { return size; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultPointShader}},{key:"baseStrokeShader",value:function(){return this._getLineShader()}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new i.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+G.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+G.lineFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getStrokeWeight":"(float weight) { return weight; }","vec2 getLineCenter":"(vec2 center) { return center; }","vec2 getLinePosition":"(vec2 position) { return position; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===h.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new i.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+G.fontVert,this._webGL2CompatibilityPrefix("frag","highp")+G.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(T,F){var W="";return this.webglVersion===h.WEBGL2&&(W+=`#version 300 es
#define WEBGL2
`),T==="vert"?W+=`#define VERTEX_SHADER
`:T==="frag"&&(W+=`#define FRAGMENT_SHADER
`),F&&(W+="precision ".concat(F,` float;
`)),W}},{key:"_getEmptyTexture",value:function(){var T;return this._emptyTexture||((T=new i.default.Image(1,1)).set(0,0,255),this._emptyTexture=new i.default.Texture(this,T)),this._emptyTexture}},{key:"getTexture",value:function(T){T instanceof i.default.Framebuffer&&(T=T.color);var F=this.textures.get(T);return F||(F=new i.default.Texture(this,T),this.textures.set(T,F),F)}},{key:"getDiffusedTexture",value:function(T){var F,W,J=this;return this.diffusedTextures.get(T)!=null?this.diffusedTextures.get(T):(F=Math.floor(T.height/T.width*200),W=this._pInst.createFramebuffer({width:200,height:F,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(G.imageLightVert,G.imageLightDiffusedFrag)),W.draw(function(){J._pInst.shader(J.diffusedShader),J.diffusedShader.setUniform("environmentMap",T),J._pInst.noStroke(),J._pInst.rectMode(h.CENTER),J._pInst.noLights(),J._pInst.rect(0,0,200,F)}),this.diffusedTextures.set(T,W),W)}},{key:"getSpecularTexture",value:function(T){var F=this;if(this.specularTextures.get(T)!=null)return this.specularTextures.get(T);for(var W,J=[],oe=this._pInst.createFramebuffer({width:512,height:512,density:1}),se=Math.log(512)/Math.log(2),fe=(this.specularShader||(this.specularShader=this._pInst.createShader(G.imageLightVert,G.imageLightSpecularFrag)),512);1<=fe;fe/=2)(function(ve){oe.resize(ve,ve);var de=1-Math.log(ve)/Math.log(2)/se;oe.draw(function(){F._pInst.shader(F.specularShader),F._pInst.clear(),F.specularShader.setUniform("environmentMap",T),F.specularShader.setUniform("roughness",de),F._pInst.noStroke(),F._pInst.noLights(),F._pInst.plane(ve,ve)}),J.push(oe.get().drawingContext.getImageData(0,0,ve,ve))})(fe);return oe.remove(),W=new s.MipmapTexture(this,J,{}),this.specularTextures.set(T,W),W}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(T){return new i.default.Framebuffer(this,T)}},{key:"_setStrokeUniforms",value:function(T){T.bindShader(),T.setUniform("uUseLineColor",this._useLineColor),T.setUniform("uMaterialColor",this.curStrokeColor),T.setUniform("uStrokeWeight",this.curStrokeWeight),T.setUniform("uStrokeCap",U[this.curStrokeCap]),T.setUniform("uStrokeJoin",I[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(T){var F=this,W=(T.bindShader(),this.mixedSpecularColor=g(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(J,oe){return F.curFillColor[oe]*F._useMetalness+J*(1-F._useMetalness)})),T.setUniform("uUseVertexColor",this._useVertexColor),T.setUniform("uMaterialColor",this.curFillColor),T.setUniform("isTexture",!!this._tex),this._tex&&T.setUniform("uSampler",this._tex),T.setUniform("uTint",this._tint),T.setUniform("uHasSetAmbient",this._hasSetAmbient),T.setUniform("uAmbientMatColor",this.curAmbientColor),T.setUniform("uSpecularMatColor",this.mixedSpecularColor),T.setUniform("uEmissiveMatColor",this.curEmissiveColor),T.setUniform("uSpecular",this._useSpecularMaterial),T.setUniform("uEmissive",this._useEmissiveMaterial),T.setUniform("uShininess",this._useShininess),T.setUniform("uMetallic",this._useMetalness),this._setImageLightUniforms(T),T.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3),W=(T.setUniform("uPointLightCount",W),T.setUniform("uPointLightLocation",this.pointLightPositions),T.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),T.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),W=(T.setUniform("uDirectionalLightCount",W),T.setUniform("uLightingDirection",this.directionalLightDirections),T.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),T.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),W=(this.mixedAmbientLight=g(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(J){return J-=F._useMetalness,Math.max(0,J)})),T.setUniform("uAmbientLightCount",W),T.setUniform("uAmbientColor",this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);T.setUniform("uSpotLightCount",W),T.setUniform("uSpotLightAngle",this.spotLightAngle),T.setUniform("uSpotLightConc",this.spotLightConc),T.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),T.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),T.setUniform("uSpotLightLocation",this.spotLightPositions),T.setUniform("uSpotLightDirection",this.spotLightDirections),T.setUniform("uConstantAttenuation",this.constantAttenuation),T.setUniform("uLinearAttenuation",this.linearAttenuation),T.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),T.bindTextures()}},{key:"_setImageLightUniforms",value:function(T){var F;T.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(F=this.getDiffusedTexture(this.activeImageLight),T.setUniform("environmentMapDiffused",F),F=this.getSpecularTexture(this.activeImageLight),T.setUniform("environmentMapSpecular",F))}},{key:"_setPointUniforms",value:function(T){T.bindShader(),T.setUniform("uMaterialColor",this.curStrokeColor),T.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(T,F,W,J,oe){F=F||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(F,T),W!==void 0&&((T=W)instanceof i.default.DataArray?T=W.dataArray():T instanceof(J||Float32Array)||(T=new(J||Float32Array)(T)),this.GL.bufferData(F,T,oe||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(T,F){return T.length===F.length&&T.every(function(W,J){return W===F[J]})}},{key:"_isTypedArray",value:function(T){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(F){return T instanceof F})}},{key:"_flatten",value:function(T){return T.flat()}},{key:"_vToNArray",value:function(T){return T.flatMap(function(F){return[F.x,F.y,F.z]})}},{key:"_bezierCoefficients",value:function(T){var F=T*T,W=1-T,J=W*W;return[J*W,3*J*T,3*W*F,F*T]}},{key:"_quadraticCoefficients",value:function(T){var F=1-T;return[F*F,2*F*T,T*T]}},{key:"_bezierToCatmull",value:function(T){return[T[1],T[1]+(T[2]-T[0])/this._curveTightness,T[2]-(T[3]-T[1])/this._curveTightness,T[2]]}},{key:"_initTessy",value:function(){var T=new m.default.GluTesselator;return T.gluTessCallback(m.default.gluEnum.GLU_TESS_VERTEX_DATA,function(F,W){var J=!0,oe=!1,se=void 0;try{for(var fe,ve=F[Symbol.iterator]();!(J=(fe=ve.next()).done);J=!0){var de=fe.value;W.push(de)}}catch(be){oe=!0,se=be}finally{try{J||ve.return==null||ve.return()}finally{if(oe)throw se}}}),T.gluTessCallback(m.default.gluEnum.GLU_TESS_BEGIN,function(F){F!==m.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(F))}),T.gluTessCallback(m.default.gluEnum.GLU_TESS_ERROR,function(F){console.log("error callback"),console.log("error number: ".concat(F))}),T.gluTessCallback(m.default.gluEnum.GLU_TESS_COMBINE,function(F,W,J){for(var oe=new Array(i.default.RendererGL.prototype.tessyVertexSize).fill(0),se=0;se<J.length;se++)for(var fe=0;fe<oe.length;fe++)J[se]!==0&&W[se]&&(oe[fe]+=W[se][fe]*J[se]);return oe}),T.gluTessCallback(m.default.gluEnum.GLU_TESS_EDGE_FLAG,function(F){}),T.gluTessProperty(m.default.gluEnum.GLU_TESS_WINDING_RULE,m.default.windingRule.GLU_TESS_WINDING_NONZERO),T}},{key:"_triangulate",value:function(T){var F=T[0]?T[0][2]:void 0,W=!0,J=!0,de=!1,pe=void 0;try{for(var oe,se=T[Symbol.iterator]();!(J=(oe=se.next()).done);J=!0)for(var fe=oe.value,ve=0;ve<fe.length;ve+=i.default.RendererGL.prototype.tessyVertexSize)if(fe[ve+2]!==F){W=!1;break}}catch(Oe){de=!0,pe=Oe}finally{try{J||se.return==null||se.return()}finally{if(de)throw pe}}W?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var de=[],be=(this._tessy.gluTessBeginPolygon(de),!0),pe=!1,ie=void 0;try{for(var ye,_e=T[Symbol.iterator]();!(be=(ye=_e.next()).done);be=!0){var Te=ye.value;this._tessy.gluTessBeginContour();for(var Ee=0;Ee<Te.length;Ee+=i.default.RendererGL.prototype.tessyVertexSize){var Se=Te.slice(Ee,Ee+i.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(Se,Se)}this._tessy.gluTessEndContour()}}catch(Oe){pe=!0,ie=Oe}finally{try{be||_e.return==null||_e.return()}finally{if(pe)throw ie}}return this._tessy.gluTessEndPolygon(),de}}])&&b(ee.prototype,X),ne})(i.default.Renderer),i.default.prototype._assert3d=function(X){if(!this._renderer.isP3D)throw new Error("".concat(X,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},i.default.RendererGL.prototype.tessyVertexSize=12,R=i.default.RendererGL,u.default=R},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(t,f,u){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(h,_){return(function(m){if(Array.isArray(m))return m})(h)||(function(m,s){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]"){var c=[],p=!0,g=!1,b=void 0;try{for(var y,v=m[Symbol.iterator]();!(p=(y=v.next()).done)&&(c.push(y.value),!s||c.length!==s);p=!0);}catch(j){g=!0,b=j}finally{try{p||v.return==null||v.return()}finally{if(g)throw b}}return c}})(h,_)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function i(h,_){for(var m=0;m<_.length;m++){var s=_[m];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(h,s.key,s)}}o.default.Shader=(function(){function h(s,c,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},b=this,y=h;if(!(b instanceof y))throw new TypeError("Cannot call a class as a function");this._renderer=s,this._vertSrc=c,this._fragSrc=p,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[],this.hooks={uniforms:g.uniforms||{},declarations:g.declarations,helpers:g.helpers||{},vertex:g.vertex||{},fragment:g.fragment||{},modified:{vertex:g.modified&&g.modified.vertex||{},fragment:g.modified&&g.modified.fragment||{}}}}var _,m;return _=h,(m=[{key:"shaderSrc",value:function(x,c){var p,g,b,y,v,x=l(x.split("void main"),2),j=x[0],x=x[1],E="";for(p in this.hooks.uniforms)E+="uniform ".concat(p,`;
`);for(g in this.hooks.declarations&&(E+=this.hooks.declarations+`
`),this.hooks[c].declarations&&(E+=this.hooks[c].declarations+`
`),this.hooks.helpers)E+="".concat(g).concat(this.hooks.helpers[g],`
`);for(b in this.hooks[c])b!=="declarations"&&(y=(v=l(b.split(" "),2))[0],v=v[1],this.hooks.modified[c][b]&&(E+="#define AUGMENTED_HOOK_"+v+`
`),E+=y+" HOOK_"+v+this.hooks[c][b]+`
`);return j+E+"void main"+x}},{key:"version",value:function(){var s=/#version (.+)$/.exec(this.vertSrc());return s?s[1]:"100 es"}},{key:"vertSrc",value:function(){return this.shaderSrc(this._vertSrc,"vertex")}},{key:"fragSrc",value:function(){return this.shaderSrc(this._fragSrc,"fragment")}},{key:"inspectHooks",value:function(){for(var s in console.log("==== Vertex shader hooks: ===="),this.hooks.vertex)console.log((this.hooks.modified.vertex[s]?"[MODIFIED] ":"")+s+this.hooks.vertex[s]);for(var c in console.log(""),console.log("==== Fragment shader hooks: ===="),this.hooks.fragment)console.log((this.hooks.modified.fragment[c]?"[MODIFIED] ":"")+c+this.hooks.fragment[c]);for(var p in console.log(""),console.log("==== Helper functions: ===="),this.hooks.helpers)console.log(p+this.hooks.helpers[p])}},{key:"modify",value:function(s){o.default._validateParameters("p5.Shader.modify",arguments);var c,p={vertex:{},fragment:{},helpers:{}};for(c in s)c!=="declarations"&&c!=="uniforms"&&(c==="vertexDeclarations"?p.vertex.declarations=(p.vertex.declarations||"")+`
`+s[c]:c==="fragmentDeclarations"?p.fragment.declarations=(p.fragment.declarations||"")+`
`+s[c]:this.hooks.vertex[c]?p.vertex[c]=s[c]:this.hooks.fragment[c]?p.fragment[c]=s[c]:p.helpers[c]=s[c]);var g,b,y=Object.assign({},this.hooks.modified.vertex),v=Object.assign({},this.hooks.modified.fragment);for(g in p.vertex||{})g!=="declarations"&&(y[g]=!0);for(b in p.fragment||{})b!=="declarations"&&(v[b]=!0);return new o.default.Shader(this._renderer,this._vertSrc,this._fragSrc,{declarations:(this.hooks.declarations||"")+`
`+(s.declarations||""),uniforms:Object.assign({},this.hooks.uniforms,s.uniforms||{}),fragment:Object.assign({},this.hooks.fragment,p.fragment||{}),vertex:Object.assign({},this.hooks.vertex,p.vertex||{}),helpers:Object.assign({},this.hooks.helpers,p.helpers||{}),modified:{vertex:y,fragment:v}})}},{key:"init",value:function(){if(this._glProgram===0){var s,c=this._renderer.GL;if(this._vertShader=c.createShader(c.VERTEX_SHADER),c.shaderSource(this._vertShader,this.vertSrc()),c.compileShader(this._vertShader),!c.getShaderParameter(this._vertShader,c.COMPILE_STATUS))return s=c.getShaderInfoLog(this._vertShader),console.error(s),null;if(this._fragShader=c.createShader(c.FRAGMENT_SHADER),c.shaderSource(this._fragShader,this.fragSrc()),c.compileShader(this._fragShader),!c.getShaderParameter(this._fragShader,c.COMPILE_STATUS))return s=c.getShaderInfoLog(this._fragShader),console.error(s),null;this._glProgram=c.createProgram(),c.attachShader(this._glProgram,this._vertShader),c.attachShader(this._glProgram,this._fragShader),c.linkProgram(this._glProgram),c.getProgramParameter(this._glProgram,c.LINK_STATUS)||o.default._friendlyError("Snap! Error linking shader program: ".concat(c.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"setDefaultUniforms",value:function(){for(var s in this.hooks.uniforms){var c=l(s.split(" "),2)[1],s=this.hooks.uniforms[s],p=void 0;(p=s instanceof Function?s():s)!=null&&this.setUniform(c,p)}}},{key:"copyToContext",value:function(s){var c=new o.default.Shader(s._renderer,this._vertSrc,this._fragSrc);return c.ensureCompiledOnContext(s),c}},{key:"ensureCompiledOnContext",value:function(s){if(this._glProgram!==0&&this._renderer!==s._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=s._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var s=this._renderer.GL,c=s.getProgramParameter(this._glProgram,s.ACTIVE_ATTRIBUTES),p=0;p<c;++p){var g=s.getActiveAttrib(this._glProgram,p),b=g.name,y=s.getAttribLocation(this._glProgram,b),v={};v.name=b,v.location=y,v.index=p,v.type=g.type,v.size=g.size,this.attributes[b]=v}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var s=this._renderer.GL,c=s.getProgramParameter(this._glProgram,s.ACTIVE_UNIFORMS),p=0,g=0;g<c;++g){var b=s.getActiveUniform(this._glProgram,g),y={},v=(y.location=s.getUniformLocation(this._glProgram,b.name),y.size=b.size,b.name);1<b.size&&(v=v.substring(0,v.indexOf("[0]"))),y.name=v,y.type=b.type,y._cachedData=void 0,y.type===s.SAMPLER_2D&&(y.samplerIndex=p,p++,this.samplers.push(y)),y.isArray=1<b.size||y.type===s.FLOAT_MAT3||y.type===s.FLOAT_MAT4||y.type===s.FLOAT_VEC2||y.type===s.FLOAT_VEC3||y.type===s.FLOAT_VEC4||y.type===s.INT_VEC2||y.type===s.INT_VEC4||y.type===s.INT_VEC3,this.uniforms[v]=y}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var s=this._renderer.GL,c=!0,p=!1,g=void 0;try{for(var b,y=this.samplers[Symbol.iterator]();!(c=(b=y.next()).done);c=!0){var v=b.value,j=v.texture;j===void 0&&(j=this._renderer._getEmptyTexture()),s.activeTexture(s.TEXTURE0+v.samplerIndex),j.bindTexture(),j.update(),s.uniform1i(v.location,v.samplerIndex)}}catch(x){p=!0,g=x}finally{try{c||y.return==null||y.return()}finally{if(p)throw g}}}},{key:"updateTextures",value:function(){var s=!0,c=!1,p=void 0;try{for(var g,b=this.samplers[Symbol.iterator]();!(s=(g=b.next()).done);s=!0){var y=g.value.texture;y&&y.update()}}catch(v){c=!0,p=v}finally{try{s||b.return==null||b.return()}finally{if(c)throw p}}}},{key:"unbindTextures",value:function(){var s=!0,c=!1,p=void 0;try{for(var g,b=this.samplers[Symbol.iterator]();!(s=(g=b.next()).done);s=!0){var y=g.value;this.setUniform(y.name,this._renderer._getEmptyTexture())}}catch(v){c=!0,p=v}finally{try{s||b.return==null||b.return()}finally{if(c)throw p}}}},{key:"_setMatrixUniforms",value:function(){var s=this._renderer.uModelMatrix,c=this._renderer.uViewMatrix,p=this._renderer.uPMatrix,g=s.copy().mult(c),b=(this._renderer.uMVMatrix=g).copy();b.mult(p),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",c.mat4),this.setUniform("uProjectionMatrix",p.mat4),this.setUniform("uModelMatrix",s.mat4),this.setUniform("uModelViewMatrix",g.mat4),this.setUniform("uModelViewProjectionMatrix",b.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var s=this._renderer.GL;return this._renderer._curShader!==this&&(s.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(s,c){var p=this.uniforms[s];if(p){var g=this._renderer.GL;if(p.isArray){if(p._cachedData&&this._renderer._arraysEqual(p._cachedData,c))return;p._cachedData=c.slice(0)}else{if(p._cachedData&&p._cachedData===c)return;Array.isArray(c)?p._cachedData=c.slice(0):p._cachedData=c}var b=p.location;switch(this.useProgram(),p.type){case g.BOOL:c===!0?g.uniform1i(b,1):g.uniform1i(b,0);break;case g.INT:1<p.size?c.length&&g.uniform1iv(b,c):g.uniform1i(b,c);break;case g.FLOAT:1<p.size?c.length&&g.uniform1fv(b,c):g.uniform1f(b,c);break;case g.FLOAT_MAT3:g.uniformMatrix3fv(b,!1,c);break;case g.FLOAT_MAT4:g.uniformMatrix4fv(b,!1,c);break;case g.FLOAT_VEC2:1<p.size?c.length&&g.uniform2fv(b,c):g.uniform2f(b,c[0],c[1]);break;case g.FLOAT_VEC3:1<p.size?c.length&&g.uniform3fv(b,c):g.uniform3f(b,c[0],c[1],c[2]);break;case g.FLOAT_VEC4:1<p.size?c.length&&g.uniform4fv(b,c):g.uniform4f(b,c[0],c[1],c[2],c[3]);break;case g.INT_VEC2:1<p.size?c.length&&g.uniform2iv(b,c):g.uniform2i(b,c[0],c[1]);break;case g.INT_VEC3:1<p.size?c.length&&g.uniform3iv(b,c):g.uniform3i(b,c[0],c[1],c[2]);break;case g.INT_VEC4:1<p.size?c.length&&g.uniform4iv(b,c):g.uniform4i(b,c[0],c[1],c[2],c[3]);break;case g.SAMPLER_2D:if(typeof c=="number"){if(c<g.TEXTURE0||c>g.TEXTURE31||c!==Math.ceil(c))return console.log(" p5.js says: You're trying to use a number as the data for a texture.Please use a texture."),this;g.activeTexture(c),g.uniform1i(b,c)}else g.activeTexture(g.TEXTURE0+p.samplerIndex),p.texture=c instanceof o.default.Texture?c:this._renderer.getTexture(c),g.uniform1i(b,p.samplerIndex),p.texture.src.gifProperties&&p.texture.src._animateGif(this._renderer._pInst);break;case g.SAMPLER_CUBE:case g.SAMPLER_3D:case g.SAMPLER_2D_SHADOW:case g.SAMPLER_2D_ARRAY:case g.SAMPLER_2D_ARRAY_SHADOW:case g.SAMPLER_CUBE_SHADOW:case g.INT_SAMPLER_2D:case g.INT_SAMPLER_3D:case g.INT_SAMPLER_CUBE:case g.INT_SAMPLER_2D_ARRAY:case g.UNSIGNED_INT_SAMPLER_2D:case g.UNSIGNED_INT_SAMPLER_3D:case g.UNSIGNED_INT_SAMPLER_CUBE:case g.UNSIGNED_INT_SAMPLER_2D_ARRAY:typeof c=="number"&&(c<g.TEXTURE0||c>g.TEXTURE31||c!==Math.ceil(c)?console.log(" p5.js says: You're trying to use a number as the data for a texture.Please use a texture."):(g.activeTexture(c),g.uniform1i(b,c)))}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(s){return s!==void 0})}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(s,c,p,g,b,y){var v;return s&&(s=s.location)!==-1&&(v=this._renderer.GL,this._renderer.registerEnabled.has(s)||(v.enableVertexAttribArray(s),this._renderer.registerEnabled.add(s)),this._renderer.GL.vertexAttribPointer(s,c,p||v.FLOAT,g||!1,b||0,y||0)),this}},{key:"disableRemainingAttributes",value:function(){var s=this,c=!0,p=!1,g=void 0;try{for(var b,y=this._renderer.registerEnabled.values()[Symbol.iterator]();!(c=(b=y.next()).done);c=!0)(function(){var v=b.value;Object.keys(s.attributes).some(function(j){return s.attributes[j].location===v})||(s._renderer.GL.disableVertexAttribArray(v),s._renderer.registerEnabled.delete(v))})()}catch(v){p=!0,g=v}finally{try{c||y.return==null||y.return()}finally{if(p)throw g}}}}])&&i(_.prototype,m),h})(),t=o.default.Shader,u.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(t,f,u){function o(j){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(j)}function l(j){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(x){return o(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":o(x)})(j)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(u,"__esModule",{value:!0}),u.checkWebGLCapabilities=v,u.default=u.MipmapTexture=void 0;var i=(y=t("../core/main"))&&y.__esModule?y:{default:y},h=(function(j){if(j&&j.__esModule)return j;if(j===null||l(j)!=="object"&&typeof j!="function")return{default:j};var x=_();if(x&&x.has(j))return x.get(j);var E,P={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(E in j){var M;Object.prototype.hasOwnProperty.call(j,E)&&((M=O?Object.getOwnPropertyDescriptor(j,E):null)&&(M.get||M.set)?Object.defineProperty(P,E,M):P[E]=j[E])}return P.default=j,x&&x.set(j,P),P})(t("../core/constants"));function _(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,_=function(){return j},j)}function m(j,x){return(m=Object.setPrototypeOf||function(E,P){return E.__proto__=P,E})(j,x)}function s(j){return function(){var x,E=c(j),E=(x=(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?(x=c(this).constructor,Reflect.construct(E,arguments,x)):E.apply(this,arguments),this);if(!x||l(x)!=="object"&&typeof x!="function"){if(E!==void 0)return E;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return x}}function c(j){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(j)}function p(j,x){if(!(j instanceof x))throw new TypeError("Cannot call a class as a function")}function g(j,x){for(var E=0;E<x.length;E++){var P=x[E];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(j,P.key,P)}}function b(j,x,E){x&&g(j.prototype,x)}i.default.Texture=(function(){function j(D,E,M){p(this,j),this._renderer=D;var O=this._renderer.GL,M=(M=M||{},this.src=E,this.glTex=void 0,this.glTarget=O.TEXTURE_2D,this.glFormat=M.format||O.RGBA,this.mipmaps=!1,this.glMinFilter=M.minFilter||O.LINEAR,this.glMagFilter=M.magFilter||O.LINEAR,this.glWrapS=M.wrapS||O.CLAMP_TO_EDGE,this.glWrapT=M.wrapT||O.CLAMP_TO_EDGE,this.glDataType=M.dataType||O.UNSIGNED_BYTE,v(D)),D=(this.glFormat!==O.HALF_FLOAT||M.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=O.FLOAT),this.glFormat!==O.HALF_FLOAT||this.glMinFilter!==O.LINEAR&&this.glMagFilter!==O.LINEAR||M.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===O.LINEAR&&(this.glMinFilter=O.NEAREST),this.glMagFilter===O.LINEAR&&(this.glMagFilter=O.NEAREST)),this.glFormat!==O.FLOAT||M.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=O.UNSIGNED_BYTE),this.glFormat!==O.FLOAT||this.glMinFilter!==O.LINEAR&&this.glMagFilter!==O.LINEAR||M.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===O.LINEAR&&(this.glMinFilter=O.NEAREST),this.glMagFilter===O.LINEAR&&(this.glMagFilter=O.NEAREST)),this.isSrcMediaElement=i.default.MediaElement!==void 0&&E instanceof i.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=i.default.Element!==void 0&&E instanceof i.default.Element&&!(E instanceof i.default.Graphics)&&!(E instanceof i.default.Renderer),this.isSrcP5Image=E instanceof i.default.Image,this.isSrcP5Graphics=E instanceof i.default.Graphics,this.isSrcP5Renderer=E instanceof i.default.Renderer,this.isImageData=typeof ImageData<"u"&&E instanceof ImageData,this.isFramebufferTexture=E instanceof i.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=D.width,this.height=D.height,this.init(D),this}return b(j,[{key:"_getTextureDataFromSource",value:function(){var x;return this.isFramebufferTexture?x=this.src.rawTexture():this.isSrcP5Image?x=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?(this.src._ensureCanvas&&this.src._ensureCanvas(),x=this.src.canvas||this.src.elt):this.isImageData&&(x=this.src),x}},{key:"init",value:function(x){var E,P=this._renderer.GL;this.isFramebufferTexture||(this.glTex=P.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,this.glMagFilter),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(E=new Uint8Array([1,1,1,1]),P.texImage2D(this.glTarget,0,P.RGBA,1,1,0,this.glFormat,this.glDataType,E)):P.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,x))}},{key:"update",value:function(){var x,E,P,O=this.src;return O.width!==0&&O.height!==0&&!this.isFramebufferTexture&&(x=this._getTextureDataFromSource(),E=!1,P=this._renderer.GL,x.width!==this.width||x.height!==this.height?(E=!0,this.width=x.width||O.width,this.height=x.height||O.height,this.isSrcP5Image?O.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&O.setModified(!0)):this.isSrcP5Image?O.isModified()&&O.setModified(!(E=!0)):this.isSrcMediaElement?O.isModified()?O.setModified(!(E=!0)):O.loadedmetadata&&this._videoPrevUpdateTime!==O.time()&&(this._videoPrevUpdateTime=O.time(),E=!0):this.isImageData?O._dirty&&(E=!(O._dirty=!1)):E=!0,E&&(this.bindTexture(),P.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,x)),E)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(x,E){var P=this._renderer.GL;this.glMinFilter=this.glFilter(x),this.glMagFilter=this.glFilter(E),this.bindTexture(),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,this.glMinFilter),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(x){var E=this._renderer.GL;return x===h.NEAREST?E.NEAREST:E.LINEAR}},{key:"setWrapMode",value:function(x,E){function P(U){return(U&U-1)==0}var O=this._renderer.GL,D=this._getTextureDataFromSource(),D=D.naturalWidth&&D.naturalHeight?(M=D.naturalWidth,D.naturalHeight):(M=this.width,this.height),M=P(M),D=P(D);x===h.REPEAT?this._renderer.webglVersion===h.WEBGL2||M&&D?this.glWrapS=O.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=O.CLAMP_TO_EDGE):x===h.MIRROR?this._renderer.webglVersion===h.WEBGL2||M&&D?this.glWrapS=O.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=O.CLAMP_TO_EDGE):this.glWrapS=O.CLAMP_TO_EDGE,E===h.REPEAT?this._renderer.webglVersion===h.WEBGL2||M&&D?this.glWrapT=O.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=O.CLAMP_TO_EDGE):E===h.MIRROR?this._renderer.webglVersion===h.WEBGL2||M&&D?this.glWrapT=O.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=O.CLAMP_TO_EDGE):this.glWrapT=O.CLAMP_TO_EDGE,this.bindTexture(),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_S,this.glWrapS),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),j})();var y=(function(j){var x=P;if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(j&&j.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),j&&m(x,j);var E=s(P);function P(O,M,D){return p(this,P),M=(O=E.call(this,O,M,D))._renderer.GL,O.glMinFilter===M.LINEAR&&(O.glMinFilter=M.LINEAR_MIPMAP_LINEAR),O}return b(P,[{key:"glFilter",value:function(O){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(O){var M=this._renderer.GL;this.glTex=M.createTexture(),this.bindTexture();for(var D=0;D<O.length;D++)M.texImage2D(this.glTarget,D,this.glFormat,this.glFormat,this.glDataType,O[D]);this.glMinFilter=M.LINEAR_MIPMAP_LINEAR,M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,this.glMagFilter),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),P})(i.default.Texture);function v(O){var x=O.GL,O=O.webglVersion,E=O===h.WEBGL2?x.getExtension("EXT_color_buffer_float")&&x.getExtension("EXT_float_blend"):x.getExtension("OES_texture_float"),P=E&&x.getExtension("OES_texture_float_linear"),O=O===h.WEBGL2?x.getExtension("EXT_color_buffer_float"):x.getExtension("OES_texture_half_float");return{float:E,floatLinear:P,halfFloat:O,halfFloatLinear:O&&x.getExtension("OES_texture_half_float_linear")}}u.MipmapTexture=y,t=i.default.Texture,u.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(t,f,u){function o(j){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(j)}function l(j){return(l=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(x){return o(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":o(x)})(j)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var i,h=(i=t("../core/main"))&&i.__esModule?i:{default:i},_=(function(j){if(j&&j.__esModule)return j;if(j===null||l(j)!=="object"&&typeof j!="function")return{default:j};var x=m();if(x&&x.has(j))return x.get(j);var E,P={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(E in j){var M;Object.prototype.hasOwnProperty.call(j,E)&&((M=O?Object.getOwnPropertyDescriptor(j,E):null)&&(M.get||M.set)?Object.defineProperty(P,E,M):P[E]=j[E])}return P.default=j,x&&x.set(j,P),P})(t("../core/constants"));function m(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,m=function(){return j},j)}function s(j,x){if(!(j instanceof x))throw new TypeError("Cannot call a class as a function")}function c(j,x){for(var E=0;E<x.length;E++){var P=x[E];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(j,P.key,P)}}function p(j,x,E){x&&c(j.prototype,x)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),h.default.RendererGL.prototype._applyTextProperties=function(){this._setProperty("_textAscent",null),this._setProperty("_textDescent",null)},h.default.RendererGL.prototype.textWidth=function(j){return this._isOpenType()?this._textFont._textWidth(j,this._textSize):0};var g=(function(){function j(x,E){s(this,j),this.width=x,this.height=E,this.infos=[]}return p(j,[{key:"findImage",value:function(x){var E,P,O=this.width*this.height;if(O<x)throw new Error("font is too complex to render in 3D");for(var M=this.infos.length-1;0<=M;--M){var D=this.infos[M];if(D.index+x<O){P=(E=D).imageData;break}}if(!E){try{P=new ImageData(this.width,this.height)}catch{var U=document.getElementsByTagName("canvas")[0],I=!U,B=(U||((U=document.createElement("canvas")).style.display="none",document.body.appendChild(U)),U.getContext("2d"));B&&(P=B.createImageData(this.width,this.height)),I&&document.body.removeChild(U)}this.infos.push(E={index:0,imageData:P})}return B=E.index,E.index+=x,P._dirty=!0,{imageData:P,index:B}}}]),j})();function b(D,x,E,P,O){var M=D.imageData.data,D=4*D.index++;M[D++]=x,M[D++]=E,M[D++]=P,M[+D]=O}var y=Math.sqrt(3),v=(function(){function j(x){s(this,j),this.font=x,this.strokeImageInfos=new g(64,64),this.colDimImageInfos=new g(64,64),this.rowDimImageInfos=new g(64,64),this.colCellImageInfos=new g(64,64),this.rowCellImageInfos=new g(64,64),this.glyphInfos={}}return p(j,[{key:"getGlyphInfo",value:function(x){var E=this.glyphInfos[x.index];if(!E){var P=x.getBoundingBox(),O=P.x1,M=P.y1,D=P.x2-O,U=P.y2-M,I=x.path.commands;if(D==0||U==0||!I.length)return this.glyphInfos[x.index]={};for(var B=[],R=[],G=[],z=8;0<=z;--z)G.push([]);for(z=8;0<=z;--z)R.push([]);var q,Y,$,X,ee=(function(){function lt(rt,ut,ct,Me){s(this,lt),this.p0=rt,this.c0=ut,this.c1=ct,this.p1=Me}return p(lt,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return h.default.Vector.sub(h.default.Vector.sub(this.p1,this.p0),h.default.Vector.mult(h.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(Ye){var ut=h.default.Vector.lerp(this.p0,this.c0,Ye),Me=h.default.Vector.lerp(this.c0,this.c1,Ye),ct=h.default.Vector.lerp(ut,Me,Ye),Me=(this.c1=h.default.Vector.lerp(this.c1,this.p1,Ye),this.c0=h.default.Vector.lerp(Me,this.c1,Ye),h.default.Vector.lerp(ct,this.c0,Ye)),Ye=new lt(this.p0,ut,ct,Me);return this.p0=Me,Ye}},{key:"splitInflections",value:function(){var rt=h.default.Vector.sub(this.c0,this.p0),ut=h.default.Vector.sub(h.default.Vector.sub(this.c1,this.c0),rt),ct=h.default.Vector.sub(h.default.Vector.sub(h.default.Vector.sub(this.p1,this.c1),rt),h.default.Vector.mult(ut,2)),Me=[],Ye=ut.x*ct.y-ut.y*ct.x;return Ye!==0&&0<=(rt=(ct=rt.x*ct.y-rt.y*ct.x)*ct-4*Ye*(rt.x*ut.y-rt.y*ut.x))&&(Ye<0&&(Ye=-Ye,ct=-ct),rt=(-ct+(ut=Math.sqrt(rt)))/(2*Ye),0<(ct=(-ct-ut)/(2*Ye))&&ct<1&&(Me.push(this.split(ct)),rt=1-(1-rt)/(1-ct)),0<rt&&rt<1&&Me.push(this.split(rt))),Me.push(this),Me}}]),lt})(),K=!0,ne=!1,T=void 0;try{for(var F,W=I[Symbol.iterator]();!(K=(F=W.next()).done);K=!0){var J=F.value,oe=(J.x-O)/D,se=(J.y-M)/U;if(!Ne(q,Y,oe,se)){switch(J.type){case"M":$=oe,X=se;break;case"L":Xe(q,Y,oe,se);break;case"Q":var fe=(J.x1-O)/D,ve=(J.y1-M)/U;Se([q,oe,fe],[Y,se,ve],{x:q,y:Y,cx:fe,cy:ve});break;case"Z":Ne(q,Y,$,X)?B.push({x:q,y:Y}):(Xe(q,Y,$,X),B.push({x:$,y:X}));break;case"C":for(var de=(function(ce,Re,He,ct,Me,Ye,Le,ae){var ce=new ee(new h.default.Vector(ce,Re),new h.default.Vector(He,ct),new h.default.Vector(Me,Ye),new h.default.Vector(Le,ae)).splitInflections(),re=[],he=30/y,ke=!0,Re=!1,He=void 0;try{for(var Qe,it=ce[Symbol.iterator]();!(ke=(Qe=it.next()).done);ke=!0){for(var at=Qe.value,ft=[],It=void 0;!(.125<=(It=he/at.quadError()));){var Ot=Math.pow(It,.3333333333333333),bt=at.split(Ot),At=at.split(1-Ot/(1-Ot));re.push(bt),ft.push(at),at=At}It<1&&re.push(at.split(.5)),re.push(at),Array.prototype.push.apply(re,ft.reverse())}}catch(Tt){Re=!0,He=Tt}finally{try{ke||it.return==null||it.return()}finally{if(Re)throw He}}return re})(q,Y,(J.x1-O)/D,(J.y1-M)/U,(J.x2-O)/D,(J.y2-M)/U,oe,se),be=0;be<de.length;be++){var pe=de[be].toQuadratic();Se([pe.x,pe.x1,pe.cx],[pe.y,pe.y1,pe.cy],pe)}break;default:throw new Error("unknown command type: ".concat(J.type))}q=oe,Y=se}}}catch(lt){ne=!0,T=lt}finally{try{K||W.return==null||W.return()}finally{if(ne)throw T}}for(var ie=B.length,ye=this.strokeImageInfos.findImage(ie),_e=ye.index,Te=0;Te<ie;++Te){var Ee=B[Te];b(ye,Oe(Ee.x),Oe(Ee.y),Oe(Ee.cx),Oe(Ee.cy))}(E=this.glyphInfos[x.index]={glyph:x,uGlyphRect:[P.x1,-P.y1,P.x2,-P.y2],strokeImageInfo:ye,strokes:B,colInfo:yt(G,this.colDimImageInfos,this.colCellImageInfos),rowInfo:yt(R,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[E.colInfo.dimOffset,E.rowInfo.dimOffset]}return E;function Se(lt,rt,ut){var ct=B.length;function Me(re,he,ke){for(var Re=re.length;0<Re--;){var He=re[Re];He<he&&(he=He),ke<He&&(ke=He)}return{min:he,max:ke}}B.push(ut);for(var ut=Me(lt,1,0),lt=Math.max(Math.floor(9*ut.min-.5),0),Ye=Math.min(Math.ceil(9*ut.max+.5),9),Le=lt;Le<Ye;++Le)G[Le].push(ct);for(var ut=Me(rt,1,0),lt=Math.max(Math.floor(9*ut.min-.5),0),ae=Math.min(Math.ceil(9*ut.max+.5),9),ce=lt;ce<ae;++ce)R[ce].push(ct)}function Oe(lt){return(lt=(ut=255)*lt)<(rt=0)?rt:ut<lt?ut:lt;var rt,ut}function Xe(lt,rt,ut,ct){Se([lt,ut],[rt,ct],{x:lt,y:rt,cx:(lt+ut)/2,cy:(rt+ct)/2})}function Ne(lt,rt,ut,ct){return Math.abs(ut-lt)<1e-5&&Math.abs(ct-rt)<1e-5}function yt(lt,rt,ut){for(var ct=lt.length,Me=rt.findImage(ct),rt=Me.index,Ye=0,Le=0;Le<ct;++Le)Ye+=lt[Le].length;for(var ae=ut.findImage(Ye),ce=0;ce<ct;++ce){var re=lt[ce],he=re.length,ke=ae.index;b(Me,ke>>7,127&ke,he>>7,127&he);for(var Re=0;Re<he;++Re){var He=re[Re]+_e;b(ae,He>>7,127&He,0,0)}}return{cellImageInfo:ae,dimOffset:rt,dimImageInfo:Me}}}}]),j})();h.default.RendererGL.prototype._renderText=function(j,x,E,P,O){if(this._textFont&&typeof this._textFont!="string"){if(!(O<=P)&&this._doFill){if(this._isOpenType()){j.push();var O=this._doStroke,M=this.drawMode,D=(this._doStroke=!1,this.drawMode=_.TEXTURE,this._textFont.font),U=(U=this._textFont._fontInfo)||(this._textFont._fontInfo=new v(D)),E=this._textFont._handleAlignment(this,x,E,P),P=this._textSize/D.unitsPerEm,I=(this.translate(E.x,E.y,0),this.scale(P,P,1),this.GL),E=!this._defaultFontShader,B=this._getFontShader(),R=(B.init(),B.bindShader(),E&&(B.setUniform("uGridImageSize",[64,64]),B.setUniform("uCellsImageSize",[64,64]),B.setUniform("uStrokeImageSize",[64,64]),B.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),G=(R||((P=this._textGeom=new h.default.Geometry(1,1,function(){for(var be=0;be<=1;be++)for(var pe=0;pe<=1;pe++)this.vertices.push(new h.default.Vector(pe,be,0)),this.uvs.push(pe,be)})).computeFaces().computeNormals(),R=this.createBuffers("glyph",P)),!0),E=!1,P=void 0;try{for(var z,q=this.retainedMode.buffers.text[Symbol.iterator]();!(G=(z=q.next()).done);G=!0)z.value._prepareBuffer(R,B)}catch(be){E=!0,P=be}finally{try{G||q.return==null||q.return()}finally{if(E)throw P}}this._bindBuffer(R.indexBuffer,I.ELEMENT_ARRAY_BUFFER),B.setUniform("uMaterialColor",this.curFillColor),I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var Y=0,$=null,X=D.stringToGlyphs(x),ee=!0,K=!1,ne=void 0;try{for(var T,F=X[Symbol.iterator]();!(ee=(T=F.next()).done);ee=!0){var W,J,oe=T.value,se=($&&(Y+=D.getKerningValue($,oe)),U.getGlyphInfo(oe));se.uGlyphRect&&(W=se.rowInfo,J=se.colInfo,B.setUniform("uSamplerStrokes",se.strokeImageInfo.imageData),B.setUniform("uSamplerRowStrokes",W.cellImageInfo.imageData),B.setUniform("uSamplerRows",W.dimImageInfo.imageData),B.setUniform("uSamplerColStrokes",J.cellImageInfo.imageData),B.setUniform("uSamplerCols",J.dimImageInfo.imageData),B.setUniform("uGridOffset",se.uGridOffset),B.setUniform("uGlyphRect",se.uGlyphRect),B.setUniform("uGlyphOffset",Y),B.bindTextures(),I.drawElements(I.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),Y+=oe.advanceWidth,$=oe}}catch(be){K=!0,ne=be}finally{try{ee||F.return==null||F.return()}finally{if(K)throw ne}}}finally{B.unbindShader(),this._doStroke=O,this.drawMode=M,I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),j.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return j}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)})})(Kf)),Kf.exports}var _O=wO();const xO=da(_O),jO=_l("https://zahrotkjbhfegvwsevjy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InphaHJvdGtqYmhmZWd2d3Nldmp5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1MzcwNDksImV4cCI6MjA3MTExMzA0OX0.PJHE_2uvVuixA1velpE-KPmD4o2W-UENiegcZl1wFI8");function SO(){const n=De.useRef(),[r,d]=De.useState(0),[t,f]=De.useState(!1);return De.useEffect(()=>{const u=l=>{let i,h=[],_=[];l.setup=()=>{l.createCanvas(400,400),i={x:200,y:360,w:40,h:20};for(let m=0;m<5;m++)_.push({x:50+m*60,y:50,w:40,h:20})},l.draw=()=>{l.background(0),l.fill(255),l.rect(i.x,i.y,i.w,i.h),_.forEach(m=>l.rect(m.x,m.y,m.w,m.h)),h.forEach(m=>{l.rect(m.x,m.y,5,10),m.y-=5,_=_.filter(s=>m.x>s.x&&m.x<s.x+s.w&&m.y>s.y&&m.y<s.y+s.h?(d(c=>c+10),!1):!0)}),h=h.filter(m=>m.y>0),l.frameCount%60===0&&(_.forEach(m=>m.y+=10),_.some(m=>m.y>350)&&f(!0)),t&&(l.noLoop(),l.textSize(32),l.textAlign(l.CENTER),l.text("Game Over",200,200),l.text(`Score: ${r}`,200,250))},l.keyPressed=()=>{l.keyCode===l.LEFT_ARROW&&(i.x=Math.max(0,i.x-10)),l.keyCode===l.RIGHT_ARROW&&(i.x=Math.min(400-i.w,i.x+10)),l.key===" "&&!t&&h.push({x:i.x+i.w/2,y:i.y})}},o=new xO(u,n.current);return()=>o.remove()},[t,r]),De.useEffect(()=>{t&&r>0&&jO.from("game_scores").insert({user_id:window.Clerk?.user?.id,game:"Space Invaders",score:r}).then(({error:u})=>{u&&console.error("Error saving score:",u)})},[t,r]),ot.jsxs("div",{className:"p-4",children:[ot.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Space Invaders"}),ot.jsx("div",{ref:n}),ot.jsxs("p",{className:"mt-4",children:["Score: ",r]}),t&&ot.jsx("p",{className:"text-red-500",children:"Game Over! Your score has been saved."})]})}const EO=_l("https://zahrotkjbhfegvwsevjy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InphaHJvdGtqYmhmZWd2d3Nldmp5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1MzcwNDksImV4cCI6MjA3MTExMzA0OX0.PJHE_2uvVuixA1velpE-KPmD4o2W-UENiegcZl1wFI8");function kO({user:n}){const[r,d]=De.useState(0),[t,f]=De.useState(!0);return De.useEffect(()=>{async function u(){console.log("Fetching progress for user_id:",n.id);const{data:o,error:l}=await EO.from("user_progress").select("points").eq("user_id",n.id);if(l)console.error("Error fetching progress:",l);else{const i=o.reduce((h,_)=>h+_.points,0);d(i)}f(!1)}u()},[n.id]),t?ot.jsx("div",{className:"p-4 text-center","aria-live":"polite",children:"Loading..."}):ot.jsxs("div",{className:"p-4 max-w-4xl mx-auto",children:[ot.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Your Dashboard"}),ot.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[ot.jsxs("h2",{className:"text-xl font-semibold",children:["Welcome, ",n.age,"-year-old Grade ",n.grade," Student!"]}),ot.jsxs("p",{className:"mt-2",children:["LearnCoins: ",ot.jsx("span",{className:"font-bold text-blue-600",children:r})]}),ot.jsx("p",{className:"mt-2",children:"Keep completing quizzes and games to earn more LearnCoins!"})]})]})}class CO extends De.Component{state={hasError:!1,error:null};static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,d){console.error("ErrorBoundary caught an error:",r,d)}render(){return this.state.hasError?ot.jsxs("div",{className:"p-4 max-w-4xl mx-auto text-center",children:[ot.jsx("h1",{className:"text-2xl font-bold text-red-600",children:"Something went wrong"}),ot.jsxs("p",{className:"mt-2",children:["An error occurred: ",this.state.error?.message||"Unknown error"]}),ot.jsx("button",{className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>window.location.reload(),children:"Reload Page"})]}):this.props.children}}function TO({user:n}){const[r,d]=De.useState(localStorage.getItem("theme")||n.unsafeMetadata?.theme||"light");De.useEffect(()=>{document.documentElement.classList.toggle("dark",r==="dark"),localStorage.setItem("theme",r),n&&n.update({unsafeMetadata:{...n.unsafeMetadata,theme:r}}).catch(f=>console.error("Error updating theme:",f))},[r,n]);const t=()=>{d(r==="light"?"dark":"light")};return ot.jsx("button",{className:"p-2 rounded hover:bg-blue-700",onClick:t,"aria-label":`Switch to ${r==="light"?"dark":"light"} mode`,children:r==="light"?" Dark":" Light"})}console.log("VITE_SUPABASE_URL:","https://zahrotkjbhfegvwsevjy.supabase.co");console.log("VITE_SUPABASE_ANON_KEY:","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InphaHJvdGtqYmhmZWd2d3Nldmp5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1MzcwNDksImV4cCI6MjA3MTExMzA0OX0.PJHE_2uvVuixA1velpE-KPmD4o2W-UENiegcZl1wFI8");console.log("VITE_CLERK_PUBLISHABLE_KEY:","pk_test_ZGVzdGluZWQtc2F0eXItMzEuY2xlcmsuYWNjb3VudHMuZGV2JA");const PO=_l("https://zahrotkjbhfegvwsevjy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InphaHJvdGtqYmhmZWd2d3Nldmp5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1MzcwNDksImV4cCI6MjA3MTExMzA0OX0.PJHE_2uvVuixA1velpE-KPmD4o2W-UENiegcZl1wFI8");function OO(){const{user:n,isLoaded:r}=RS(),[d,t]=De.useState(null),[f,u]=De.useState(!0);return De.useEffect(()=>{if(r&&n){const o={id:n.id,age:n.unsafeMetadata?.age||6,grade:n.unsafeMetadata?.grade||1,ageGroup:(n.unsafeMetadata?.age||6)<=8?"6-8":"9-12",theme:n.unsafeMetadata?.theme||"light"};t(o),PO.from("users").upsert({id:o.id,age:o.age,grade:o.grade}).then(({error:l})=>{l&&console.error("Error upserting user:",l)})}u(!1)},[n,r]),f||!r?ot.jsx("div",{className:"p-4 text-center","aria-live":"polite",children:"Loading..."}):ot.jsx($0,{publishableKey:"pk_test_ZGVzdGluZWQtc2F0eXItMzEuY2xlcmsuYWNjb3VudHMuZGV2JA",children:ot.jsx(CO,{children:ot.jsx(n_,{children:ot.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-white",children:[ot.jsxs("nav",{className:"p-4 bg-blue-600 text-white flex justify-between items-center",children:[ot.jsxs("div",{children:[ot.jsx(ta,{to:"/",className:"mr-4 hover:underline",children:"Home"}),ot.jsx(ta,{to:"/feed",className:"mr-4 hover:underline",children:"Feed"}),ot.jsx(ta,{to:"/grading",className:"mr-4 hover:underline",children:"Grading"}),ot.jsx(ta,{to:"/game",className:"mr-4 hover:underline",children:"Game"}),ot.jsx(ta,{to:"/dashboard",className:"mr-4 hover:underline",children:"Dashboard"})]}),ot.jsx("div",{className:"flex items-center",children:n&&ot.jsxs(ot.Fragment,{children:[ot.jsx(TO,{user:n}),ot.jsx("button",{onClick:()=>window.Clerk.signOut(),className:"ml-4 hover:underline",children:"Sign Out"})]})})]}),ot.jsx(p2,{children:ot.jsxs(kg,{children:[ot.jsx(No,{path:"/",element:ot.jsx("h1",{className:"p-4 text-3xl",children:"Welcome to SA Homeschool"})}),ot.jsx(No,{path:"/feed",element:d?ot.jsx(vO,{user:d}):ot.jsx(zi,{to:"/sign-in"})}),ot.jsx(No,{path:"/grading",element:d?ot.jsx(bO,{user:d,setUser:t}):ot.jsx(zi,{to:"/sign-in"})}),ot.jsx(No,{path:"/game",element:d?ot.jsx(SO,{}):ot.jsx(zi,{to:"/sign-in"})}),ot.jsx(No,{path:"/dashboard",element:d?ot.jsx(kO,{user:d}):ot.jsx(zi,{to:"/sign-in"})}),ot.jsx(No,{path:"/sign-in",element:ot.jsx(zi,{to:"/"})})]})}),ot.jsx(m2,{children:ot.jsxs(kg,{children:[ot.jsx(No,{path:"/sign-in",element:ot.jsx(x2,{routing:"path",path:"/sign-in"})}),ot.jsx(No,{path:"*",element:ot.jsx(zi,{to:"/sign-in"})})]})})]})})})})}sw.createRoot(document.getElementById("root")).render(ot.jsx(Ve.StrictMode,{children:ot.jsx(OO,{})}));
