<!-- Filename: math_activity.html.j2 -->
<!-- New: Extracted math activity section. Includes question, speaker icon, input field, and check button. -->
<!-- Fix: Updated classes to use grok-theme consistency (e.g., text-grok-text, border-grok-border, focus:ring-grok-accent, bg-grok-surface). Adjusted speaker hover to grok-accent/80. Changed completed state to use text-grok-success for theme alignment. Removed blue-specific classes for neutral grok styling. -->
{% if not post.completed %}
<div class="activity-section p-3" data-type="math">
    <div class="flex items-center mb-2">
        <h4 class="text-grok-text font-medium flex-grow">{{ post.lesson.math_question }}</h4>
        <button type="button" onclick="window.speakQuestion('{{ post.lesson.math_question }}', this)" class="ml-2 text-grok-accent hover:text-grok-accent/80 transition" aria-label="Read question aloud">
            <i class="fas fa-volume-up text-sm"></i>
        </button>
    </div>
    <input id="math-{{ post.lesson.id | default(post.id) }}" type="text" class="w-full p-2 border border-grok-border rounded focus:ring-2 focus:ring-grok-accent mt-2 bg-grok-surface text-grok-text" placeholder="Type your answer here">
    <button type="button" onclick="window.submitActivity(event, {{ post.lesson.id | default(post.id) }}, 'math')" data-type="math" class="bg-grok-accent text-grok-text px-4 py-2 rounded-md hover:bg-grok-accent/90 mt-2 transition">Check</button>
</div>
{% else %}
<div class="activity-section p-3" data-type="math">
    <h4 class="text-grok-success font-medium">{{ post.lesson.math_question }} (Completed)</h4>
</div>
{% endif %}