<!-- post_form.html.j2 -->
<div id="post-form-backdrop" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden"></div>
<div id="post-form" class="fixed top-0 left-0 w-full h-full flex items-center justify-center z-50 hidden scale-95 transition-transform duration-200">
    <div class="bg-gray-900 p-6 rounded-lg max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto border border-gray-700 shadow-xl">
        <h2 class="text-xl font-bold mb-4 text-white">Create a Post</h2>
        <form id="postForm" method="POST" action="{{ url_for('create_post') }}" enctype="multipart/form-data" class="space-y-4">
            <textarea 
                name="content" 
                id="post-content" 
                placeholder="What's happening? (max 280 chars)" 
                rows="3" 
                maxlength="280"
                class="w-full p-3 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"
                required
            ></textarea>
            <div id="char-count" class="text-right text-sm text-gray-400">0/280</div>
            <input 
                type="file" 
                name="media" 
                id="media-upload" 
                accept="image/*,video/mp4" 
                class="w-full p-2 bg-gray-800 border border-gray-600 rounded-lg text-gray-300"
            >
            <div id="media-preview" class="p-2 bg-gray-800 rounded-lg min-h-[100px]"></div>
            <select name="subject" class="w-full p-3 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                <option value="General">General</option>
                <option value="Math">Math</option>
                <option value="Language">Language</option>
                <option value="Science">Science</option>
            </select>
            <div class="flex justify-end space-x-2 pt-4 border-t border-gray-700">
                <button type="button" id="cancel-post" class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors">Cancel</button>
                <button type="submit" class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors">Post</button>
            </div>
        </form>
    </div>
</div>