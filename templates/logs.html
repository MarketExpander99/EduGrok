@app.route('/logs')
def view_logs():
    if 'user_id' not in session:
        return redirect(url_for('login'))
    try:
        with open('app.log', 'r') as f:
            logs = f.read()
        return render_template('logs.html', logs=logs, theme=session.get('theme', 'astronaut'))
    except Exception as e:
        logger.error(f"Failed to read logs: {e}")
        return render_template('error.html', error="Cannot read logs", theme=session.get('theme', 'astronaut')), 500